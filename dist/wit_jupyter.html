<!doctype html><script>define=undefined</script><!--
@license
Copyright 2018 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><script>// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){var c={},d={},e={},f=null;!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=w}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==u.indexOf(b[c]))return;if("direction"==c&&-1==v.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||a>1||0>c||c>1?w:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0==e||1==e)return e;for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<1e-4)return f(b,d,i);e>j?g=i:h=i}}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function k(a){B||(B=document.createElement("div").style),B.animationTimingFunction="",B.animationTimingFunction=a;var b=B.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");var c=D.exec(b);if(c)return i.apply(this,c.slice(1).map(Number));var d=E.exec(b);if(d)return j(Number(d[1]),{start:x,middle:y,end:z}[d[2]]);var f=A[b];return f?f:w}function l(a){return Math.abs(m(a)/a.playbackRate)}function m(a){return a.duration*a.iterations}function n(a,b,c){return null==b?F:b<c.delay?G:b>=c.delay+a?H:I}function o(a,b,c,d,e){switch(d){case G:return"backwards"==b||"both"==b?0:null;case I:return c-e;case H:return"forwards"==b||"both"==b?a:null;case F:return null}}function p(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function q(a,b,c,d,e){return c===1/0||c===-(1/0)||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function r(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function s(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d._easingFunction(h)}function t(a,b,c){var d=n(a,b,c),e=o(a,c.fill,b,d,c.delay);if(null===e)return null;if(0===a)return d===G?0:1;var f=c.iterationStart*c.duration,g=p(a,e,f,c),h=q(c.duration,m(c),g,f,c),i=r(c.duration,h,g,c);return s(i,c.duration,h,c)/c.duration}var u="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|"),w=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=k(a),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var x=1,y=.5,z=0,A={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,x),"step-middle":j(1,y),"step-end":j(1,z)},B=null,C="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",D=new RegExp("cubic-bezier\\("+C+","+C+","+C+","+C+"\\)"),E=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,F=0,G=1,H=2,I=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=l,a.calculateTimeFraction=t,a.calculatePhase=n,a.toTimingFunction=k}(c,f),function(a,b){function c(a,b){return a in j?j[a][b]||b:b}function d(a,b,d){var e=g[a];if(e){h.style[a]=b;for(var f in e){var i=e[f],j=h.style[i];d[i]=c(i,j)}}else d[a]=c(a,b)}function e(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;f>g;g++)e={},"offset"in a?e.offset=a.offset:1==f?e.offset=1:e.offset=g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function f(a){function b(){var a=c.length;null==c[a-1].offset&&(c[a-1].offset=1),a>1&&null==c[0].offset&&(c[0].offset=0);for(var b=0,d=c[0].offset,e=1;a>e;e++){var f=c[e].offset;if(null!=f){for(var g=1;e-b>g;g++)c[b+g].offset=d+(f-d)*g/(e-b);b=e,d=f}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a)),Array.isArray(a)||(a=e(a));for(var c=a.map(function(a){var b={};for(var c in a){var e=a[c];if("offset"==c){if(null!=e&&(e=Number(e),!isFinite(e)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==c)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};e=""+e}d(c,e,b)}return void 0==b.offset&&(b.offset=null),b}),f=!0,g=-(1/0),h=0;h<c.length;h++){var i=c[h].offset;if(null!=i){if(g>i)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};g=i}else f=!1}return c=c.filter(function(a){return a.offset>=0&&a.offset<=1}),f||b(),c}var g={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i={thin:"1px",medium:"3px",thick:"5px"},j={borderBottomWidth:i,borderLeftWidth:i,borderRightWidth:i,borderTopWidth:i,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:i,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=e,a.normalizeKeyframes=f}(c,f),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),h>g?(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,!1):!0},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=f[g].offset,i=f[g+1].offset,j=f[g].value,k=f[g+1].value,l=f[g].easing;h==i&&(1==i?j=k:k=j),d.push({startTime:h,endTime:i,easing:a.toTimingFunction(l?l:"linear"),property:e,interpolation:b.propertyInterpolation(e,j,k)})}return d.sort(function(a,b){return a.startTime-b.startTime}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return 0>=c&&0==a.startTime||c>=1&&1==a.endTime||c>=a.startTime&&c<=a.endTime}).forEach(function(d){var e=c-d.startTime,f=d.endTime-d.startTime,g=0==f?0:d.easing(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d,f),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){var g=c[f];e(a,b,d(g))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d,f),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateTimeFraction(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d._isCurrent=function(d){var e=a.calculatePhase(c,d,b);return e===PhaseActive||e===PhaseBefore},d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return h=i(a),null!==h},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._isCurrent=i._isCurrent,k._totalDuration=i._totalDuration,k._id=g,k},b.NullEffect=function(a){var b=function(){a&&(a(),a=null)};return b._update=function(){return null},b._totalDuration=0,b._isCurrent=function(){return!1},b._hasSameTarget=function(){return!1},b}}(c,d,f),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d,f),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d,f),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._tickCurrentTime(a,!0),b.invalidateEffects()))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var b=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=b&&(this.currentTime=b)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.invalidateEffects()},pause:function(){this._isFinished||this._paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.invalidateEffects())},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._finishedFlag=!0,this.currentTime=0,this._startTime=null,this._effect._update(null),b.invalidateEffects())},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag}}}(c,d,f),function(a,b,c){function d(a){var b=j;j=[],a<p.currentTime&&(a=p.currentTime),h(a,!0),b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c){n=!1;var d=b.timeline;d.currentTime=a,d._animations.sort(e),m=!1;var f=d._animations;d._animations=[];var g=[],h=[];f=f.filter(function(b){b._tick(a,c),b._inEffect?h.push(b._effect):g.push(b._effect),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;return b._inTimeline=d,d}),o.push.apply(o,g),o.push.apply(o,h),d._animations.push.apply(d._animations,f),m&&requestAnimationFrame(function(){})}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.invalidateEffects(),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.invalidateEffects=function(){h(b.timeline.currentTime,!1),g()};var o=[],p=new f;b.timeline=p}(c,d,f),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],g=b(d,e),!g||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){var d=a(c);return d?d:[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(".000","")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function f(a,b){return[a,b,c]}function g(a,b){return 0!=a?i(0,1/0)(a,b):void 0}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,j,["z-index"]),a.parseNumber=e,a.mergeNumbers=f,a.numberToString=c}(d,f),function(a,b){function c(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(a){var b=l(a);return b&&""==b[1]?b[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);return d&&4==d[0].length?d[0]:void 0}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d,f),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r],void 0===p)return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]),g=a.composeMatrix(b[0],b[1],b[2],c,b[4]),h=g.map(f).join(",");return h}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"])}(d,f),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b)})}var d={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a}}(d,f)}(),!function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(g){}finally{c&&c.cancel()}if(!d){var h=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),h.call(this,b,c)}}}(c),!function(a,b,c){function d(a){var b=window.document.timeline;b.currentTime=a,b._discardAnimations(),0==b._animations.length?f=!1:requestAnimationFrame(d);
}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(b){window.document.timeline._updateAnimationsPromises(),a(b),window.document.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return g}})}catch(h){}try{window.document.timeline=g}catch(h){}}(c,e,f),function(a,b,c){b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++)this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=window.document.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){"function"==typeof a?this._animation.onfinish=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.onfinish=a},get oncancel(){return this._animation.oncancel},set oncancel(a){"function"==typeof a?this._animation.oncancel=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.oncancel=a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==b&&(this.currentTime=b),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),this.effect instanceof window.SequenceEffect&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateTimeFraction(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e,f),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;){var b=i.shift();b._updateChildren(),a=!0}return a}var f=function(a){if(a._animation=void 0,a instanceof window.SequenceEffect||a instanceof window.GroupEffect)for(var b=0;b<a.children.length;b++)f(a.children[b])};b.removeMulti=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++)b[c]._rebuild()},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){window.document.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),window.document.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e,f),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateTimeFraction(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e,f),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function(){for(var a=this;a;)"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(a){b.removeMulti(a);for(var c=0;c<a.length;c++)a[c]._parent=this},_putChild:function(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++)if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(var d=0;d<a.length;d++)b?this.children.push(a[d]):this.children.unshift(a[d]);this._reparent(a),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++)c.push(this.children[d].clone());return this instanceof GroupEffect?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a+=d(b)}),Math.max(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a=Math.max(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function(b){var c=d._wrapper;return c&&"pending"!=c.playState&&c.effect?null==b?void c._removeChildAnimations():0==b&&c.playbackRate<0&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateTimeFraction(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0:void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e,f),b["true"]=a}({},function(){return this}());
</script><script>// https://d3js.org v5.7.0 Copyright 2018 Mike Bostock
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){var e;return 1===t.length&&(e=t,t=function(t,r){return n(e(t),r)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}var r=e(n),i=r.right,o=r.left;function a(t,n){return[t,n]}function u(t){return null===t?NaN:+t}function f(t,n){var e,r,i=t.length,o=0,a=-1,f=0,c=0;if(null==n)for(;++a<i;)isNaN(e=u(t[a]))||(c+=(r=e-f)*(e-(f+=r/++o)));else for(;++a<i;)isNaN(e=u(n(t[a],a,t)))||(c+=(r=e-f)*(e-(f+=r/++o)));if(o>1)return c/(o-1)}function c(t,n){var e=f(t,n);return e?Math.sqrt(e):e}function s(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var l=Array.prototype,h=l.slice,d=l.map;function p(t){return function(){return t}}function v(t){return t}function g(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var y=Math.sqrt(50),_=Math.sqrt(10),b=Math.sqrt(2);function m(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=x(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function x(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=y?10:o>=_?5:o>=b?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=y?10:o>=_?5:o>=b?2:1)}function w(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=y?i*=10:o>=_?i*=5:o>=b&&(i*=2),n<t?-i:i}function M(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function A(t,n,e){if(null==e&&(e=u),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}function T(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function N(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function S(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function E(t){if(!(i=t.length))return[];for(var n=-1,e=S(t,k),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function k(t){return t.length}var C=Array.prototype.slice;function P(t){return t}var z=1,R=2,L=3,D=4,U=1e-6;function q(t){return"translate("+(t+.5)+",0)"}function O(t){return"translate(0,"+(t+.5)+")"}function Y(){return!this.__axis}function B(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,f=t===z||t===D?-1:1,c=t===D||t===R?"x":"y",s=t===z||t===L?q:O;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):P:i,p=Math.max(o,0)+u,v=n.range(),g=+v[0]+.5,y=+v[v.length-1]+.5,_=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),b=l.selection?l.selection():l,m=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),A=x.select("line"),T=x.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",f*o)),T=T.merge(M.append("text").attr("fill","currentColor").attr(c,f*p).attr("dy",t===z?"0em":t===L?"0.71em":"0.32em")),l!==b&&(m=m.transition(l),x=x.transition(l),A=A.transition(l),T=T.transition(l),w=w.transition(l).attr("opacity",U).attr("transform",function(t){return isFinite(t=_(t))?s(t):this.getAttribute("transform")}),M.attr("opacity",U).attr("transform",function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:_(t))})),w.remove(),m.attr("d",t===D||t==R?a?"M"+f*a+","+g+"H0.5V"+y+"H"+f*a:"M0.5,"+g+"V"+y:a?"M"+g+","+f*a+"V0.5H"+y+"V"+f*a:"M"+g+",0.5H"+y),x.attr("opacity",1).attr("transform",function(t){return s(_(t))}),A.attr(c+"2",f*o),T.attr(c,f*p).text(d),b.filter(Y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===R?"start":t===D?"end":"middle"),b.each(function(){this.__axis=_})}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=C.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:C.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:C.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=a=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(a=+t,l):a},l.tickPadding=function(t){return arguments.length?(u=+t,l):u},l}var F={value:function(){}};function I(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new H(r)}function H(t){this._=t}function j(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function X(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=F,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}H.prototype=I.prototype={constructor:H,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=X(i[e],t.name,n);else if(null==n)for(e in i)i[e]=X(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=j(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var G="http://www.w3.org/1999/xhtml",V={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),V.hasOwnProperty(n)?{space:V[n],local:t}:t}function W(t){var n=$(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===G&&n.documentElement.namespaceURI===G?n.createElement(t):n.createElementNS(e,t)}})(n)}function Z(){}function Q(t){return null==t?Z:function(){return this.querySelector(t)}}function J(){return[]}function K(t){return null==t?J:function(){return this.querySelectorAll(t)}}var tt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var nt=document.documentElement;if(!nt.matches){var et=nt.webkitMatchesSelector||nt.msMatchesSelector||nt.mozMatchesSelector||nt.oMatchesSelector;tt=function(t){return function(){return et.call(this,t)}}}}var rt=tt;function it(t){return new Array(t.length)}function ot(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ot.prototype={constructor:ot,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var at="$";function ut(t,n,e,r,i,o){for(var a,u=0,f=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new ot(t,o[u]);for(;u<f;++u)(a=n[u])&&(i[u]=a)}function ft(t,n,e,r,i,o,a){var u,f,c,s={},l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(f=n[u])&&(d[u]=c=at+a.call(f,f.__data__,u,n),c in s?i[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c=at+a.call(t,o[u],u,o)])?(r[u]=f,f.__data__=o[u],s[c]=null):e[u]=new ot(t,o[u]);for(u=0;u<l;++u)(f=n[u])&&s[d[u]]===f&&(i[u]=f)}function ct(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function st(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lt(t,n){return t.style.getPropertyValue(n)||st(t).getComputedStyle(t,null).getPropertyValue(n)}function ht(t){return t.trim().split(/^|\s+/)}function dt(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ht(t.getAttribute("class")||"")}function vt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function gt(t,n){for(var e=dt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function yt(){this.textContent=""}function _t(){this.innerHTML=""}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function mt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xt(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function At(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Tt={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(Tt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Nt(t,n,e){return t=St(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function St(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function Et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function kt(t,n,e){var r=Tt.hasOwnProperty(t.type)?Nt:St;return function(i,o,a){var u,f=this.__on,c=r(n,o,a);if(f)for(var s=0,l=f.length;s<l;++s)if((u=f[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},f?f.push(u):this.__on=[u]}}function Ct(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function Pt(t,n,e){var r=st(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var zt=[null];function Rt(t,n){this._groups=t,this._parents=n}function Lt(){return new Rt([[document.documentElement]],zt)}function Dt(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],zt)}Rt.prototype=Lt.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=Q(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],f=u.length,c=r[i]=new Array(f),s=0;s<f;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new Rt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=K(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],f=u.length,c=0;c<f;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Rt(r,i)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new Rt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e,r=n?ft:ut,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),f=new Array(a),c=new Array(a),s=0;s<a;++s){var l=i[s],h=o[s],d=h.length,p=t.call(l,l&&l.__data__,s,i),v=p.length,g=f[s]=new Array(v),y=u[s]=new Array(v);r(l,h,g,y,c[s]=new Array(d),p,n);for(var _,b,m=0,x=0;m<v;++m)if(_=g[m]){for(m>=x&&(x=m+1);!(b=y[x])&&++x<v;);_._next=b||null}}return(u=new Rt(u,i))._enter=f,u._exit=c,u},enter:function(){return new Rt(this._enter||this._groups.map(it),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(it),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new Rt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ct);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],f=u.length,c=i[o]=new Array(f),s=0;s<f;++s)(a=u[s])&&(c[s]=a);c.sort(n)}return new Rt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=$(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):lt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=ht(t+"");if(arguments.length<2){for(var r=dt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?vt:gt)(this,t)}}:n?function(t){return function(){vt(this,t)}}:function(t){return function(){gt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(bt)},lower:function(){return this.each(mt)},append:function(t){var n="function"==typeof t?t:W(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:W(t),r=null==n?xt:"function"==typeof n?n:Q(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?At:Mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?kt:Et,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var f,c=0,s=u.length;c<s;++c)for(r=0,f=u[c];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Pt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Pt(this,t,n)}})(t,n))}};var Ut=0;function qt(){return new Ot}function Ot(){this._="@"+(++Ut).toString(36)}function Yt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function Bt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Ft(t){var n=Yt();return n.changedTouches&&(n=n.changedTouches[0]),Bt(t,n)}function It(t,n,e){arguments.length<3&&(e=n,n=Yt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Bt(t,r);return null}function Ht(){t.event.stopImmediatePropagation()}function jt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Xt(t){var n=t.document.documentElement,e=Dt(t).on("dragstart.drag",jt,!0);"onselectstart"in n?e.on("selectstart.drag",jt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Gt(t,n){var e=t.document.documentElement,r=Dt(t).on("dragstart.drag",null);n&&(r.on("click.drag",jt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Vt(t){return function(){return t}}function $t(t,n,e,r,i,o,a,u,f,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=f,this._=c}function Wt(){return!t.event.button}function Zt(){return this.parentNode}function Qt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Jt(){return"ontouchstart"in this}function Kt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function tn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function nn(){}Ot.prototype=qt.prototype={constructor:Ot,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},$t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var en="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",an=/^#([0-9a-f]{3})$/,un=/^#([0-9a-f]{6})$/,fn=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),cn=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),sn=new RegExp("^rgba\\("+[en,en,en,rn]+"\\)$"),ln=new RegExp("^rgba\\("+[on,on,on,rn]+"\\)$"),hn=new RegExp("^hsl\\("+[rn,on,on]+"\\)$"),dn=new RegExp("^hsla\\("+[rn,on,on,rn]+"\\)$"),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vn(t){var n;return t=(t+"").trim().toLowerCase(),(n=an.exec(t))?new mn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=un.exec(t))?gn(parseInt(n[1],16)):(n=fn.exec(t))?new mn(n[1],n[2],n[3],1):(n=cn.exec(t))?new mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=sn.exec(t))?yn(n[1],n[2],n[3],n[4]):(n=ln.exec(t))?yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=hn.exec(t))?wn(n[1],n[2]/100,n[3]/100,1):(n=dn.exec(t))?wn(n[1],n[2]/100,n[3]/100,n[4]):pn.hasOwnProperty(t)?gn(pn[t]):"transparent"===t?new mn(NaN,NaN,NaN,0):null}function gn(t){return new mn(t>>16&255,t>>8&255,255&t,1)}function yn(t,n,e,r){return r<=0&&(t=n=e=NaN),new mn(t,n,e,r)}function _n(t){return t instanceof nn||(t=vn(t)),t?new mn((t=t.rgb()).r,t.g,t.b,t.opacity):new mn}function bn(t,n,e,r){return 1===arguments.length?_n(t):new mn(t,n,e,null==r?1:r)}function mn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new An(t,n,e,r)}function Mn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=vn(t)),!t)return new An;if(t instanceof An)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,f=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=f<.5?o+i:2-o-i,a*=60):u=f>0&&f<1?0:a,new An(a,u,f,t.opacity)}(t):new An(t,n,e,null==r?1:r)}function An(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Tn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Kt(nn,vn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Kt(mn,bn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Kt(An,Mn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new An(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mn(Tn(t>=240?t-240:t+120,i,r),Tn(t,i,r),Tn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Nn=Math.PI/180,Sn=180/Math.PI,En=.96422,kn=1,Cn=.82521,Pn=4/29,zn=6/29,Rn=3*zn*zn,Ln=zn*zn*zn;function Dn(t){if(t instanceof qn)return new qn(t.l,t.a,t.b,t.opacity);if(t instanceof jn){if(isNaN(t.h))return new qn(t.l,0,0,t.opacity);var n=t.h*Nn;return new qn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof mn||(t=_n(t));var e,r,i=Fn(t.r),o=Fn(t.g),a=Fn(t.b),u=On((.2225045*i+.7168786*o+.0606169*a)/kn);return i===o&&o===a?e=r=u:(e=On((.4360747*i+.3850649*o+.1430804*a)/En),r=On((.0139322*i+.0971045*o+.7141733*a)/Cn)),new qn(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Un(t,n,e,r){return 1===arguments.length?Dn(t):new qn(t,n,e,null==r?1:r)}function qn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function On(t){return t>Ln?Math.pow(t,1/3):t/Rn+Pn}function Yn(t){return t>zn?t*t*t:Rn*(t-Pn)}function Bn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function In(t){if(t instanceof jn)return new jn(t.h,t.c,t.l,t.opacity);if(t instanceof qn||(t=Dn(t)),0===t.a&&0===t.b)return new jn(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Sn;return new jn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Hn(t,n,e,r){return 1===arguments.length?In(t):new jn(t,n,e,null==r?1:r)}function jn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Kt(qn,Un,tn(nn,{brighter:function(t){return new qn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new qn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new mn(Bn(3.1338561*(n=En*Yn(n))-1.6168667*(t=kn*Yn(t))-.4906146*(e=Cn*Yn(e))),Bn(-.9787684*n+1.9161415*t+.033454*e),Bn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Kt(jn,Hn,tn(nn,{brighter:function(t){return new jn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new jn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dn(this).rgb()}}));var Xn=-.14861,Gn=1.78277,Vn=-.29227,$n=-.90649,Wn=1.97294,Zn=Wn*$n,Qn=Wn*Gn,Jn=Gn*Vn-$n*Xn;function Kn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof te)return new te(t.h,t.s,t.l,t.opacity);t instanceof mn||(t=_n(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Jn*r+Zn*n-Qn*e)/(Jn+Zn-Qn),o=r-i,a=(Wn*(e-i)-Vn*o)/$n,u=Math.sqrt(a*a+o*o)/(Wn*i*(1-i)),f=u?Math.atan2(a,o)*Sn-120:NaN;return new te(f<0?f+360:f,u,i,t.opacity)}(t):new te(t,n,e,null==r?1:r)}function te(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ne(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function ee(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return ne((e-r/n)*n,a,i,o,u)}}function re(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return ne((e-r/n)*n,i,o,a,u)}}function ie(t){return function(){return t}}function oe(t,n){return function(e){return t+e*n}}function ae(t,n){var e=n-t;return e?oe(t,e>180||e<-180?e-360*Math.round(e/360):e):ie(isNaN(t)?n:t)}function ue(t){return 1==(t=+t)?fe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ie(isNaN(n)?e:n)}}function fe(t,n){var e=n-t;return e?oe(t,e):ie(isNaN(t)?n:t)}Kt(te,Kn,tn(nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new te(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new te(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Nn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mn(255*(n+e*(Xn*r+Gn*i)),255*(n+e*(Vn*r+$n*i)),255*(n+e*(Wn*r)),this.opacity)}}));var ce=function t(n){var e=ue(n);function r(t,n){var r=e((t=bn(t)).r,(n=bn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=fe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function se(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=bn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var le=se(ee),he=se(re);function de(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=me(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function pe(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}function ve(t,n){return n-=t=+t,function(e){return t+n*e}}function ge(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=me(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_e=new RegExp(ye.source,"g");function be(t,n){var e,r,i,o=ye.lastIndex=_e.lastIndex=0,a=-1,u=[],f=[];for(t+="",n+="";(e=ye.exec(t))&&(r=_e.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,f.push({i:a,x:ve(e,r)})),o=_e.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)u[(e=f[r]).i]=e.x(t);return u.join("")})}function me(t,n){var e,r=typeof n;return null==n||"boolean"===r?ie(n):("number"===r?ve:"string"===r?(e=vn(n))?(n=e,ce):be:n instanceof vn?ce:n instanceof Date?pe:Array.isArray(n)?de:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ge:ve)(t,n)}function xe(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}}var we,Me,Ae,Te,Ne=180/Math.PI,Se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ee(t,n,e,r,i,o){var a,u,f;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,f/=u),t*r<n*e&&(t=-t,n=-n,f=-f,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ne,skewX:Math.atan(f)*Ne,scaleX:a,scaleY:u}}function ke(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],f=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var f=a.push("translate(",null,n,null,e);u.push({i:f-4,x:ve(t,i)},{i:f-2,x:ve(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,f),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ve(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,f),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ve(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,f),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:ve(t,e)},{i:u-2,x:ve(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)u[(n=f[e]).i]=n.x(t);return u.join("")}}}var Ce=ke(function(t){return"none"===t?Se:(we||(we=document.createElement("DIV"),Me=document.documentElement,Ae=document.defaultView),we.style.transform=t,t=Ae.getComputedStyle(Me.appendChild(we),null).getPropertyValue("transform"),Me.removeChild(we),Ee(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Pe=ke(function(t){return null==t?Se:(Te||(Te=document.createElementNS("http://www.w3.org/2000/svg","g")),Te.setAttribute("transform",t),(t=Te.transform.baseVal.consolidate())?Ee((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Se)},", ",")",")"),ze=Math.SQRT2,Re=2,Le=4,De=1e-12;function Ue(t){return((t=Math.exp(t))+1/t)/2}function qe(t,n){var e,r,i=t[0],o=t[1],a=t[2],u=n[0],f=n[1],c=n[2],s=u-i,l=f-o,h=s*s+l*l;if(h<De)r=Math.log(c/a)/ze,e=function(t){return[i+t*s,o+t*l,a*Math.exp(ze*t*r)]};else{var d=Math.sqrt(h),p=(c*c-a*a+Le*h)/(2*a*Re*d),v=(c*c-a*a-Le*h)/(2*c*Re*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/ze,e=function(t){var n,e=t*r,u=Ue(g),f=a/(Re*d)*(u*(n=ze*e+g,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+f*s,o+f*l,a*u/Ue(ze*e+g)]}}return e.duration=1e3*r,e}function Oe(t){return function(n,e){var r=t((n=Mn(n)).h,(e=Mn(e)).h),i=fe(n.s,e.s),o=fe(n.l,e.l),a=fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var Ye=Oe(ae),Be=Oe(fe);function Fe(t){return function(n,e){var r=t((n=Hn(n)).h,(e=Hn(e)).h),i=fe(n.c,e.c),o=fe(n.l,e.l),a=fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var Ie=Fe(ae),He=Fe(fe);function je(t){return function n(e){function r(n,r){var i=t((n=Kn(n)).h,(r=Kn(r)).h),o=fe(n.s,r.s),a=fe(n.l,r.l),u=fe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var Xe=je(ae),Ge=je(fe);var Ve,$e,We=0,Ze=0,Qe=0,Je=1e3,Ke=0,tr=0,nr=0,er="object"==typeof performance&&performance.now?performance:Date,rr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ir(){return tr||(rr(or),tr=er.now()+nr)}function or(){tr=0}function ar(){this._call=this._time=this._next=null}function ur(t,n,e){var r=new ar;return r.restart(t,n,e),r}function fr(){ir(),++We;for(var t,n=Ve;n;)(t=tr-n._time)>=0&&n._call.call(null,t),n=n._next;--We}function cr(){tr=(Ke=er.now())+nr,We=Ze=0;try{fr()}finally{We=0,function(){var t,n,e=Ve,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ve=n);$e=t,lr(r)}(),tr=0}}function sr(){var t=er.now(),n=t-Ke;n>Je&&(nr-=n,Ke=t)}function lr(t){We||(Ze&&(Ze=clearTimeout(Ze)),t-tr>24?(t<1/0&&(Ze=setTimeout(cr,t-er.now()-nr)),Qe&&(Qe=clearInterval(Qe))):(Qe||(Ke=er.now(),Qe=setInterval(sr,Je)),We=1,rr(cr)))}function hr(t,n,e){var r=new ar;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}ar.prototype=ur.prototype={constructor:ar,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ir():+e)+(null==n?0:+n),this._next||$e===this||($e?$e._next=this:Ve=this,$e=this),this._call=t,this._time=e,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var dr=I("start","end","interrupt"),pr=[],vr=0,gr=1,yr=2,_r=3,br=4,mr=5,xr=6;function wr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(f){var c,s,l,h;if(e.state!==gr)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===_r)return hr(o);h.state===br?(h.state=xr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=xr,h.timer.stop(),delete i[c])}if(hr(function(){e.state===_r&&(e.state=br,e.timer.restart(a,e.delay,e.time),a(f))}),e.state=yr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===yr){for(e.state=_r,r=new Array(l=e.tween.length),c=0,s=-1;c<l;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=mr,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===mr&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=xr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ur(function(t){e.state=gr,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:dr,tween:pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vr})}function Mr(t,n){var e=Tr(t,n);if(e.state>vr)throw new Error("too late; already scheduled");return e}function Ar(t,n){var e=Tr(t,n);if(e.state>yr)throw new Error("too late; already started");return e}function Tr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Nr(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>yr&&e.state<mr,e.state=xr,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Sr(t,n,e){var r=t._id;return t.each(function(){var t=Ar(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Tr(t,r).value[n]}}function Er(t,n){var e;return("number"==typeof n?ve:n instanceof vn?ce:(e=vn(n))?(n=e,ce):be)(t,n)}var kr=Lt.prototype.constructor;var Cr=0;function Pr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function zr(t){return Lt().transition(t)}function Rr(){return++Cr}var Lr=Lt.prototype;function Dr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ur(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Pr.prototype=zr.prototype={constructor:Pr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Q(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,f,c=r[a],s=c.length,l=o[a]=new Array(s),h=0;h<s;++h)(u=c[h])&&(f=t.call(u,u.__data__,h,c))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f,wr(l[h],n,e,h,l,Tr(u,e)));return new Pr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var f,c=r[u],s=c.length,l=0;l<s;++l)if(f=c[l]){for(var h,d=t.call(f,f.__data__,l,c),p=Tr(f,e),v=0,g=d.length;v<g;++v)(h=d[v])&&wr(h,n,e,v,d,p);o.push(d),a.push(f)}return new Pr(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,f=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&f.push(o);return new Pr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var f,c=n[u],s=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(f=c[d]||s[d])&&(h[d]=f);for(;u<r;++u)a[u]=n[u];return new Pr(a,this._parents,this._name,this._id)},selection:function(){return new kr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Rr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)if(a=u[c]){var s=Tr(a,n);wr(a,t,e,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Pr(r,this._parents,t,e)},call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:function(t,n){var e=this._id;return arguments.length<2?Tr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Mr:Ar;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=$(t),r="transform"===e?Pe:Er;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,Sr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=$(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ce:Er;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=lt(this,t),a=(this.style.removeProperty(t),lt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=lt(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=lt(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,Sr(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=lt(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Sr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Tr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Ar(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ar(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=u;break}f===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Mr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Mr(this,t).delay=n}})(n,t)):Tr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Ar(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Ar(this,t).duration=n}})(n,t)):Tr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ar(this,t).ease=n}}(n,t)):Tr(this.node(),n).ease}};var qr=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Or=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Yr=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Br=Math.PI,Fr=Br/2;function Ir(t){return(1-Math.cos(Br*t))/2}function Hr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function jr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Xr=4/11,Gr=6/11,Vr=8/11,$r=.75,Wr=9/11,Zr=10/11,Qr=.9375,Jr=21/22,Kr=63/64,ti=1/Xr/Xr;function ni(t){return(t=+t)<Xr?ti*t*t:t<Vr?ti*(t-=Gr)*t+$r:t<Zr?ti*(t-=Wr)*t+Qr:ti*(t-=Jr)*t+Kr}var ei=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),ri=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),ii=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),oi=2*Math.PI,ai=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),ui=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),fi=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=oi);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*oi)},i.period=function(e){return t(n,e)},i}(1,.3),ci={time:null,delay:0,duration:250,ease:Ur};function si(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return ci.time=ir(),ci;return e}Lt.prototype.interrupt=function(t){return this.each(function(){Nr(this,t)})},Lt.prototype.transition=function(t){var n,e;t instanceof Pr?(n=t._id,t=t._name):(n=Rr(),(e=ci).time=ir(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],f=u.length,c=0;c<f;++c)(a=u[c])&&wr(a,t,n,c,u,e||si(a,n));return new Pr(r,this._parents,t,n)};var li=[null];function hi(t){return function(){return t}}function di(t,n,e){this.target=t,this.type=n,this.selection=e}function pi(){t.event.stopImmediatePropagation()}function vi(){t.event.preventDefault(),t.event.stopImmediatePropagation()}var gi={name:"drag"},yi={name:"space"},_i={name:"handle"},bi={name:"center"},mi={name:"x",handles:["e","w"].map(Ei),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},xi={name:"y",handles:["n","s"].map(Ei),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ei),input:function(t){return t},output:function(t){return t}},Mi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ai={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ti={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ni={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Si={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ei(t){return{type:t}}function ki(){return!t.event.button}function Ci(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Pi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function zi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ri(n){var e,r=Ci,i=ki,o=I(u,"start","brush","end"),a=6;function u(t){var e=t.property("__brush",h).selectAll(".overlay").data([Ei("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mi.overlay).merge(e).each(function(){var t=Pi(this).extent;Dt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ei("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(n.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mi[t.type]}),t.each(f).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function f(){var t=Dt(this),n=Pi(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n){return t.__brush.emitter||new s(t,n)}function s(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vi()}else if(e)return;if(i.apply(this,arguments)){var r,o,a,u,s,l,h,d,p,v,g,y,_,b=this,m=t.event.target.__data__.type,x="selection"===(t.event.metaKey?m="overlay":m)?gi:t.event.altKey?bi:_i,w=n===xi?null:Ni[m],M=n===mi?null:Si[m],A=Pi(b),T=A.extent,N=A.selection,S=T[0][0],E=T[0][1],k=T[1][0],C=T[1][1],P=w&&M&&t.event.shiftKey,z=Ft(b),R=z,L=c(b,arguments).beforestart();"overlay"===m?A.selection=N=[[r=n===xi?S:z[0],a=n===mi?E:z[1]],[s=n===xi?k:r,h=n===mi?C:a]]:(r=N[0][0],a=N[0][1],s=N[1][0],h=N[1][1]),o=r,u=a,l=s,d=h;var D=Dt(b).attr("pointer-events","none"),U=D.selectAll(".overlay").attr("cursor",Mi[m]);if(t.event.touches)D.on("touchmove.brush",O,!0).on("touchend.brush touchcancel.brush",B,!0);else{var q=Dt(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:P=w&&M;break;case 18:x===_i&&(w&&(s=l-p*w,r=o+p*w),M&&(h=d-v*M,a=u+v*M),x=bi,Y());break;case 32:x!==_i&&x!==bi||(w<0?s=l-p:w>0&&(r=o-p),M<0?h=d-v:M>0&&(a=u-v),x=yi,U.attr("cursor",Mi.selection),Y());break;default:return}vi()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:P&&(y=_=P=!1,Y());break;case 18:x===bi&&(w<0?s=l:w>0&&(r=o),M<0?h=d:M>0&&(a=u),x=_i,Y());break;case 32:x===yi&&(t.event.altKey?(w&&(s=l-p*w,r=o+p*w),M&&(h=d-v*M,a=u+v*M),x=bi):(w<0?s=l:w>0&&(r=o),M<0?h=d:M>0&&(a=u),x=_i),U.attr("cursor",Mi[m]),Y());break;default:return}vi()},!0).on("mousemove.brush",O,!0).on("mouseup.brush",B,!0);Xt(t.event.view)}pi(),Nr(b),f.call(b),L.start()}function O(){var t=Ft(b);!P||y||_||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?_=!0:y=!0),R=t,g=!0,vi(),Y()}function Y(){var t;switch(p=R[0]-z[0],v=R[1]-z[1],x){case yi:case gi:w&&(p=Math.max(S-r,Math.min(k-s,p)),o=r+p,l=s+p),M&&(v=Math.max(E-a,Math.min(C-h,v)),u=a+v,d=h+v);break;case _i:w<0?(p=Math.max(S-r,Math.min(k-r,p)),o=r+p,l=s):w>0&&(p=Math.max(S-s,Math.min(k-s,p)),o=r,l=s+p),M<0?(v=Math.max(E-a,Math.min(C-a,v)),u=a+v,d=h):M>0&&(v=Math.max(E-h,Math.min(C-h,v)),u=a,d=h+v);break;case bi:w&&(o=Math.max(S,Math.min(k,r-p*w)),l=Math.max(S,Math.min(k,s+p*w))),M&&(u=Math.max(E,Math.min(C,a-v*M)),d=Math.max(E,Math.min(C,h+v*M)))}l<o&&(w*=-1,t=r,r=s,s=t,t=o,o=l,l=t,m in Ai&&U.attr("cursor",Mi[m=Ai[m]])),d<u&&(M*=-1,t=a,a=h,h=t,t=u,u=d,d=t,m in Ti&&U.attr("cursor",Mi[m=Ti[m]])),A.selection&&(N=A.selection),y&&(o=N[0][0],l=N[1][0]),_&&(u=N[0][1],d=N[1][1]),N[0][0]===o&&N[0][1]===u&&N[1][0]===l&&N[1][1]===d||(A.selection=[[o,u],[l,d]],f.call(b),L.brush())}function B(){if(pi(),t.event.touches){if(t.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Gt(t.event.view,g),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),U.attr("cursor",Mi.overlay),A.selection&&(N=A.selection),zi(N)&&(A.selection=null,f.call(b)),L.end()}}function h(){var t=this.__brush||{selection:null};return t.extent=r.apply(this,arguments),t.dim=n,t}return u.move=function(t,e){t.selection?t.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var t=this,r=t.__brush,i=c(t,arguments),o=r.selection,a=n.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=me(o,a);function s(n){r.selection=1===n&&zi(a)?null:u(n),f.call(t),i.brush()}return o&&a?s:s(1)}):t.each(function(){var t=arguments,r=this.__brush,i=n.input("function"==typeof e?e.apply(this,t):e,r.extent),o=c(this,t).beforestart();Nr(this),r.selection=null==i||zi(i)?null:i,f.call(this),o.start().brush().end()})},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Ct(new di(u,t,n.output(this.state.selection)),o.apply,o,[t,this.that,this.args])}},u.extent=function(t){return arguments.length?(r="function"==typeof t?t:hi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):r},u.filter=function(t){return arguments.length?(i="function"==typeof t?t:hi(!!t),u):i},u.handleSize=function(t){return arguments.length?(a=+t,u):a},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}var Li=Math.cos,Di=Math.sin,Ui=Math.PI,qi=Ui/2,Oi=2*Ui,Yi=Math.max;var Bi=Array.prototype.slice;function Fi(t){return function(){return t}}var Ii=Math.PI,Hi=2*Ii,ji=Hi-1e-6;function Xi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gi(){return new Xi}function Vi(t){return t.source}function $i(t){return t.target}function Wi(t){return t.radius}function Zi(t){return t.startAngle}function Qi(t){return t.endAngle}Xi.prototype=Gi.prototype={constructor:Xi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,f=r-n,c=o-t,s=a-n,l=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(s*u-f*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+f*f,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(l),_=i*Math.tan((Ii-Math.acos((p+l-v)/(2*g*y)))/2),b=_/y,m=_/g;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>c*d)+","+(this._x1=t+m*u)+","+(this._y1=n+m*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),f=t+a,c=n+u,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+c:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+f+","+c),e&&(l<0&&(l=l%Hi+Hi),l>ji?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=f)+","+(this._y1=c):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Ii)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function Ji(){}function Ki(t,n){var e=new Ji;if(t instanceof Ji)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function to(){return{}}function no(t,n,e){t[n]=e}function eo(){return Ki()}function ro(t,n,e){t.set(n,e)}function io(){}Ji.prototype=Ki.prototype={constructor:Ji,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var oo=Ki.prototype;function ao(t,n){var e=new io;if(t instanceof io)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}io.prototype=ao.prototype={constructor:io,has:oo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:oo.remove,clear:oo.clear,values:oo.keys,size:oo.size,empty:oo.empty,each:oo.each};var uo=Array.prototype.slice;function fo(t,n){return t-n}function co(t){return function(){return t}}function so(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=lo(t,n[r]))return e;return 0}function lo(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var f=t[o],c=f[0],s=f[1],l=t[u],h=l[0],d=l[1];if(ho(f,l,n))return 0;s>r!=d>r&&e<(h-c)*(r-s)/(d-s)+c&&(i=-i)}return i}function ho(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function po(){}var vo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function go(){var t=1,n=1,e=M,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(fo);else{var r=s(t),i=r[0],a=r[1];n=w(i,a,n),n=g(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}return n.map(function(n){return o(t,n)})}function o(e,i){var o=[],u=[];return function(e,r,i){var o,u,f,c,s,l,h=new Array,d=new Array;o=u=-1,c=e[0]>=r,vo[c<<1].forEach(p);for(;++o<t-1;)f=c,c=e[o+1]>=r,vo[f|c<<1].forEach(p);vo[c<<0].forEach(p);for(;++u<n-1;){for(o=-1,c=e[u*t+t]>=r,s=e[u*t]>=r,vo[c<<1|s<<2].forEach(p);++o<t-1;)f=c,c=e[u*t+t+o+1]>=r,l=s,s=e[u*t+o+1]>=r,vo[f|c<<1|s<<2|l<<3].forEach(p);vo[c|s<<3].forEach(p)}o=-1,s=e[u*t]>=r,vo[s<<2].forEach(p);for(;++o<t-1;)l=s,s=e[u*t+o+1]>=r,vo[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],f=[t[1][0]+o,t[1][1]+u],c=a(r),s=a(f);(n=d[c])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(f),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(f),d[n.end=s]=n):(n=h[s])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(f),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[s]={start:c,end:s,ring:[r,f]}}vo[s<<3].forEach(p)}(e,i,function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):u.push(t)}),u.forEach(function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==so((n=o[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach(function(e){var o,a=e[0],u=e[1],f=0|a,c=0|u,s=r[c*t+f];a>0&&a<t&&f===a&&(o=r[c*t+f-1],e[0]=a+(i-o)/(s-o)-.5),u>0&&u<n&&c===u&&(o=r[(c-1)*t+f],e[1]=u+(i-o)/(s-o)-.5)})}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),o=Math.ceil(e[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?co(uo.call(t)):co(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:po,i):r===u},i}function yo(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<i;++a)for(var u=0,f=0;u<r+e;++u)u<r&&(f+=t.data[u+a*r]),u>=e&&(u>=o&&(f-=t.data[u-o+a*r]),n.data[u-e+a*r]=f/Math.min(u+1,r-1+o-u,o))}function _o(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),a=0;a<r;++a)for(var u=0,f=0;u<i+e;++u)u<i&&(f+=t.data[a+u*r]),u>=e&&(u>=o&&(f-=t.data[a+(u-o)*r]),n.data[a+(u-e)*r]=f/Math.min(u+1,i-1+o-u,o))}function bo(t){return t[0]}function mo(t){return t[1]}function xo(){return 1}var wo={},Mo={},Ao=34,To=10,No=13;function So(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Eo(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,f=o<=0,c=!1;function s(){if(f)return Mo;if(c)return c=!1,wo;var n,r,i=a;if(t.charCodeAt(i)===Ao){for(;a++<o&&t.charCodeAt(a)!==Ao||t.charCodeAt(++a)===Ao;);return(n=a)>=o?f=!0:(r=t.charCodeAt(a++))===To?c=!0:r===No&&(c=!0,t.charCodeAt(a)===To&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===To)c=!0;else if(r===No)c=!0,t.charCodeAt(a)===To&&++a;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===To&&--o,t.charCodeAt(o-1)===No&&--o;(r=s())!==Mo;){for(var l=[];r!==wo&&r!==Mo;)l.push(r),r=s();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=So(t);return function(r,i){return n(e(r),i,t)}}(t,n):So(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var ko=Eo(","),Co=ko.parse,Po=ko.parseRows,zo=ko.format,Ro=ko.formatRows,Lo=Eo("\t"),Do=Lo.parse,Uo=Lo.parseRows,qo=Lo.format,Oo=Lo.formatRows;function Yo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Bo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Fo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Io(t,n){return fetch(t,n).then(Fo)}function Ho(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Io(n,e).then(function(n){return t(n,r)})}}var jo=Ho(Co),Xo=Ho(Do);function Go(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Vo(t){return function(n,e){return Io(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var $o=Vo("application/xml"),Wo=Vo("text/html"),Zo=Vo("image/svg+xml");function Qo(t){return function(){return t}}function Jo(){return 1e-6*(Math.random()-.5)}function Ko(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,f,c,s,l,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(v+y)/2))?v=o:y=o,(s=e>=(a=(g+_)/2))?g=a:_=a,i=d,!(d=d[l=s<<1|c]))return i[l]=p,t;if(u=+t._x.call(null,d.data),f=+t._y.call(null,d.data),n===u&&e===f)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(c=n>=(o=(v+y)/2))?v=o:y=o,(s=e>=(a=(g+_)/2))?g=a:_=a}while((l=s<<1|c)==(h=(f>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function ta(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function na(t){return t[0]}function ea(t){return t[1]}function ra(t,n,e){var r=new ia(null==n?na:n,null==e?ea:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ia(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function oa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var aa=ra.prototype=ia.prototype;function ua(t){return t.x+t.vx}function fa(t){return t.y+t.vy}function ca(t){return t.index}function sa(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function la(t){return t.x}function ha(t){return t.y}aa.copy=function(){var t,n,e=new ia(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=oa(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=oa(n));return e},aa.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ko(this.cover(n,e),n,e,t)},aa.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),f=1/0,c=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<f&&(f=r),r>s&&(s=r),i<c&&(c=i),i>l&&(l=i));for(s<f&&(f=this._x0,s=this._x1),l<c&&(c=this._y0,l=this._y1),this.cover(f,c).cover(s,l),e=0;e<o;++e)Ko(this,a[e],u[e],t[e]);return this},aa.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,f=i-e,c=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(a=new Array(4))[u]=c,c=a}while(o=r+(f*=2),t>(i=e+f)||n>o);break;case 1:do{(a=new Array(4))[u]=c,c=a}while(o=r+(f*=2),(e=i-f)>t||n>o);break;case 2:do{(a=new Array(4))[u]=c,c=a}while(r=o-(f*=2),t>(i=e+f)||r>n);break;case 3:do{(a=new Array(4))[u]=c,c=a}while(r=o-(f*=2),(e=i-f)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},aa.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},aa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},aa.find=function(t,n,e){var r,i,o,a,u,f,c,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new ta(v,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);f=p.pop();)if(!(!(v=f.node)||(i=f.x0)>h||(o=f.y0)>d||(a=f.x1)<s||(u=f.y1)<l))if(v.length){var g=(i+a)/2,y=(o+u)/2;p.push(new ta(v[3],g,y,a,u),new ta(v[2],i,y,g,u),new ta(v[1],g,o,a,y),new ta(v[0],i,o,g,y)),(c=(n>=y)<<1|t>=g)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var _=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),m=_*_+b*b;if(m<e){var x=Math.sqrt(e=m);s=t-x,l=n-x,h=t+x,d=n+x,r=v.data}}return r},aa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,f,c,s,l,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+g)/2))?p=u:g=u,(s=a>=(f=(v+y)/2))?v=f:y=f,n=d,!(d=d[l=s<<1|c]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},aa.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},aa.root=function(){return this._root},aa.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},aa.visit=function(t){var n,e,r,i,o,a,u=[],f=this._root;for(f&&u.push(new ta(f,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&f.length){var c=(r+o)/2,s=(i+a)/2;(e=f[3])&&u.push(new ta(e,c,s,o,a)),(e=f[2])&&u.push(new ta(e,r,s,c,a)),(e=f[1])&&u.push(new ta(e,c,i,o,s)),(e=f[0])&&u.push(new ta(e,r,i,c,s))}return this},aa.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ta(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,f=n.x1,c=n.y1,s=(a+f)/2,l=(u+c)/2;(o=i[0])&&e.push(new ta(o,a,u,s,l)),(o=i[1])&&e.push(new ta(o,s,u,f,l)),(o=i[2])&&e.push(new ta(o,a,l,s,c)),(o=i[3])&&e.push(new ta(o,s,l,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},aa.x=function(t){return arguments.length?(this._x=t,this):this._x},aa.y=function(t){return arguments.length?(this._y=t,this):this._y};var da=10,pa=Math.PI*(3-Math.sqrt(5));function va(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ga(t){return(t=va(Math.abs(t)))?t[1]:NaN}var ya,_a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ba(t){return new ma(t)}function ma(t){if(!(n=_a.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function xa(t,n){var e=va(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ba.prototype=ma.prototype,ma.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var wa={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return xa(100*t,n)},r:xa,s:function(t,n){var e=va(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ya=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+va(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ma(t){return t}var Aa,Ta=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Na(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=n[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(t.substring(i-=u,i+u)),!((f+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}):Ma,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Ma,u=t.percent||"%";function f(t){var n=(t=ba(t)).fill,e=t.align,f=t.sign,c=t.symbol,s=t.zero,l=t.width,h=t.comma,d=t.precision,p=t.trim,v=t.type;"n"===v?(h=!0,v="g"):wa[v]||(null==d&&(d=12),p=!0,v="g"),(s||"0"===n&&"="===e)&&(s=!0,n="0",e="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===c?i[1]:/[%p]/.test(v)?u:"",_=wa[v],b=/[defgprs%]/.test(v);function m(t){var i,u,c,m=g,x=y;if("c"===v)x=_(t)+x,t="";else{var w=(t=+t)<0;if(t=_(Math.abs(t),d),p&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),w&&0==+t&&(w=!1),m=(w?"("===f?f:"-":"-"===f||"("===f?"":f)+m,x=("s"===v?Ta[8+ya/3]:"")+x+(w&&"("===f?")":""),b)for(i=-1,u=t.length;++i<u;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}h&&!s&&(t=r(t,1/0));var M=m.length+t.length+x.length,A=M<l?new Array(l-M+1).join(n):"";switch(h&&s&&(t=r(A+t,A.length?l-x.length:1/0),A=""),e){case"<":t=m+t+x+A;break;case"=":t=m+A+t+x;break;case"^":t=A.slice(0,M=A.length>>1)+m+t+x+A.slice(M);break;default:t=A+m+t+x}return a(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),m.toString=function(){return t+""},m}return{format:f,formatPrefix:function(t,n){var e=f(((t=ba(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ga(n)/3))),i=Math.pow(10,-r),o=Ta[8+r/3];return function(t){return e(i*t)+o}}}}function Sa(n){return Aa=Na(n),t.format=Aa.format,t.formatPrefix=Aa.formatPrefix,Aa}function Ea(t){return Math.max(0,-ga(Math.abs(t)))}function ka(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ga(n)/3)))-ga(Math.abs(t)))}function Ca(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ga(n)-ga(t))+1}function Pa(){return new za}function za(){this.reset()}Sa({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),za.prototype={constructor:za,reset:function(){this.s=this.t=0},add:function(t){La(Ra,t,this.t),La(this,Ra.s,this.s),this.s?this.t+=Ra.t:this.s=Ra.t},valueOf:function(){return this.s}};var Ra=new za;function La(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var Da=1e-6,Ua=1e-12,qa=Math.PI,Oa=qa/2,Ya=qa/4,Ba=2*qa,Fa=180/qa,Ia=qa/180,Ha=Math.abs,ja=Math.atan,Xa=Math.atan2,Ga=Math.cos,Va=Math.ceil,$a=Math.exp,Wa=Math.log,Za=Math.pow,Qa=Math.sin,Ja=Math.sign||function(t){return t>0?1:t<0?-1:0},Ka=Math.sqrt,tu=Math.tan;function nu(t){return t>1?0:t<-1?qa:Math.acos(t)}function eu(t){return t>1?Oa:t<-1?-Oa:Math.asin(t)}function ru(t){return(t=Qa(t/2))*t}function iu(){}function ou(t,n){t&&uu.hasOwnProperty(t.type)&&uu[t.type](t,n)}var au={Feature:function(t,n){ou(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)ou(e[r].geometry,n)}},uu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){fu(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)fu(e[r],n,0)},Polygon:function(t,n){cu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)cu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)ou(e[r],n)}};function fu(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function cu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)fu(t[e],n,1);n.polygonEnd()}function su(t,n){t&&au.hasOwnProperty(t.type)?au[t.type](t,n):ou(t,n)}var lu,hu,du,pu,vu,gu=Pa(),yu=Pa(),_u={point:iu,lineStart:iu,lineEnd:iu,polygonStart:function(){gu.reset(),_u.lineStart=bu,_u.lineEnd=mu},polygonEnd:function(){var t=+gu;yu.add(t<0?Ba+t:t),this.lineStart=this.lineEnd=this.point=iu},sphere:function(){yu.add(Ba)}};function bu(){_u.point=xu}function mu(){wu(lu,hu)}function xu(t,n){_u.point=wu,lu=t,hu=n,du=t*=Ia,pu=Ga(n=(n*=Ia)/2+Ya),vu=Qa(n)}function wu(t,n){var e=(t*=Ia)-du,r=e>=0?1:-1,i=r*e,o=Ga(n=(n*=Ia)/2+Ya),a=Qa(n),u=vu*a,f=pu*o+u*Ga(i),c=u*r*Qa(i);gu.add(Xa(c,f)),du=t,pu=o,vu=a}function Mu(t){return[Xa(t[1],t[0]),eu(t[2])]}function Au(t){var n=t[0],e=t[1],r=Ga(e);return[r*Ga(n),r*Qa(n),Qa(e)]}function Tu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Nu(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Su(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Eu(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ku(t){var n=Ka(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Cu,Pu,zu,Ru,Lu,Du,Uu,qu,Ou,Yu,Bu,Fu,Iu,Hu,ju,Xu,Gu,Vu,$u,Wu,Zu,Qu,Ju,Ku,tf,nf,ef=Pa(),rf={point:of,lineStart:uf,lineEnd:ff,polygonStart:function(){rf.point=cf,rf.lineStart=sf,rf.lineEnd=lf,ef.reset(),_u.polygonStart()},polygonEnd:function(){_u.polygonEnd(),rf.point=of,rf.lineStart=uf,rf.lineEnd=ff,gu<0?(Cu=-(zu=180),Pu=-(Ru=90)):ef>Da?Ru=90:ef<-Da&&(Pu=-90),Yu[0]=Cu,Yu[1]=zu}};function of(t,n){Ou.push(Yu=[Cu=t,zu=t]),n<Pu&&(Pu=n),n>Ru&&(Ru=n)}function af(t,n){var e=Au([t*Ia,n*Ia]);if(qu){var r=Nu(qu,e),i=Nu([r[1],-r[0],0],r);ku(i),i=Mu(i);var o,a=t-Lu,u=a>0?1:-1,f=i[0]*Fa*u,c=Ha(a)>180;c^(u*Lu<f&&f<u*t)?(o=i[1]*Fa)>Ru&&(Ru=o):c^(u*Lu<(f=(f+360)%360-180)&&f<u*t)?(o=-i[1]*Fa)<Pu&&(Pu=o):(n<Pu&&(Pu=n),n>Ru&&(Ru=n)),c?t<Lu?hf(Cu,t)>hf(Cu,zu)&&(zu=t):hf(t,zu)>hf(Cu,zu)&&(Cu=t):zu>=Cu?(t<Cu&&(Cu=t),t>zu&&(zu=t)):t>Lu?hf(Cu,t)>hf(Cu,zu)&&(zu=t):hf(t,zu)>hf(Cu,zu)&&(Cu=t)}else Ou.push(Yu=[Cu=t,zu=t]);n<Pu&&(Pu=n),n>Ru&&(Ru=n),qu=e,Lu=t}function uf(){rf.point=af}function ff(){Yu[0]=Cu,Yu[1]=zu,rf.point=of,qu=null}function cf(t,n){if(qu){var e=t-Lu;ef.add(Ha(e)>180?e+(e>0?360:-360):e)}else Du=t,Uu=n;_u.point(t,n),af(t,n)}function sf(){_u.lineStart()}function lf(){cf(Du,Uu),_u.lineEnd(),Ha(ef)>Da&&(Cu=-(zu=180)),Yu[0]=Cu,Yu[1]=zu,qu=null}function hf(t,n){return(n-=t)<0?n+360:n}function df(t,n){return t[0]-n[0]}function pf(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var vf={sphere:iu,point:gf,lineStart:_f,lineEnd:xf,polygonStart:function(){vf.lineStart=wf,vf.lineEnd=Mf},polygonEnd:function(){vf.lineStart=_f,vf.lineEnd=xf}};function gf(t,n){t*=Ia;var e=Ga(n*=Ia);yf(e*Ga(t),e*Qa(t),Qa(n))}function yf(t,n,e){Iu+=(t-Iu)/++Bu,Hu+=(n-Hu)/Bu,ju+=(e-ju)/Bu}function _f(){vf.point=bf}function bf(t,n){t*=Ia;var e=Ga(n*=Ia);Ku=e*Ga(t),tf=e*Qa(t),nf=Qa(n),vf.point=mf,yf(Ku,tf,nf)}function mf(t,n){t*=Ia;var e=Ga(n*=Ia),r=e*Ga(t),i=e*Qa(t),o=Qa(n),a=Xa(Ka((a=tf*o-nf*i)*a+(a=nf*r-Ku*o)*a+(a=Ku*i-tf*r)*a),Ku*r+tf*i+nf*o);Fu+=a,Xu+=a*(Ku+(Ku=r)),Gu+=a*(tf+(tf=i)),Vu+=a*(nf+(nf=o)),yf(Ku,tf,nf)}function xf(){vf.point=gf}function wf(){vf.point=Af}function Mf(){Tf(Qu,Ju),vf.point=gf}function Af(t,n){Qu=t,Ju=n,t*=Ia,n*=Ia,vf.point=Tf;var e=Ga(n);Ku=e*Ga(t),tf=e*Qa(t),nf=Qa(n),yf(Ku,tf,nf)}function Tf(t,n){t*=Ia;var e=Ga(n*=Ia),r=e*Ga(t),i=e*Qa(t),o=Qa(n),a=tf*o-nf*i,u=nf*r-Ku*o,f=Ku*i-tf*r,c=Ka(a*a+u*u+f*f),s=eu(c),l=c&&-s/c;$u+=l*a,Wu+=l*u,Zu+=l*f,Fu+=s,Xu+=s*(Ku+(Ku=r)),Gu+=s*(tf+(tf=i)),Vu+=s*(nf+(nf=o)),yf(Ku,tf,nf)}function Nf(t){return function(){return t}}function Sf(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Ef(t,n){return[t>qa?t-Ba:t<-qa?t+Ba:t,n]}function kf(t,n,e){return(t%=Ba)?n||e?Sf(Pf(t),zf(n,e)):Pf(t):n||e?zf(n,e):Ef}function Cf(t){return function(n,e){return[(n+=t)>qa?n-Ba:n<-qa?n+Ba:n,e]}}function Pf(t){var n=Cf(t);return n.invert=Cf(-t),n}function zf(t,n){var e=Ga(t),r=Qa(t),i=Ga(n),o=Qa(n);function a(t,n){var a=Ga(n),u=Ga(t)*a,f=Qa(t)*a,c=Qa(n),s=c*e+u*r;return[Xa(f*i-s*o,u*e-c*r),eu(s*i+f*o)]}return a.invert=function(t,n){var a=Ga(n),u=Ga(t)*a,f=Qa(t)*a,c=Qa(n),s=c*i-f*o;return[Xa(f*i+c*o,u*e+s*r),eu(s*e-u*r)]},a}function Rf(t){function n(n){return(n=t(n[0]*Ia,n[1]*Ia))[0]*=Fa,n[1]*=Fa,n}return t=kf(t[0]*Ia,t[1]*Ia,t.length>2?t[2]*Ia:0),n.invert=function(n){return(n=t.invert(n[0]*Ia,n[1]*Ia))[0]*=Fa,n[1]*=Fa,n},n}function Lf(t,n,e,r,i,o){if(e){var a=Ga(n),u=Qa(n),f=r*e;null==i?(i=n+r*Ba,o=n-f/2):(i=Df(a,i),o=Df(a,o),(r>0?i<o:i>o)&&(i+=r*Ba));for(var c,s=i;r>0?s>o:s<o;s-=f)c=Mu([a,-u*Ga(s),-u*Qa(s)]),t.point(c[0],c[1])}}function Df(t,n){(n=Au(n))[0]-=t,ku(n);var e=nu(-n[1]);return((-n[2]<0?-e:e)+Ba-Da)%Ba}function Uf(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:iu,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function qf(t,n){return Ha(t[0]-n[0])<Da&&Ha(t[1]-n[1])<Da}function Of(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Yf(t,n,e,r,i){var o,a,u=[],f=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(qf(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new Of(r,t,null,!0)),f.push(e.o=new Of(r,null,e,!1)),u.push(e=new Of(a,t,null,!1)),f.push(e.o=new Of(a,null,e,!0))}}),u.length){for(f.sort(n),Bf(u),Bf(f),o=0,a=f.length;o<a;++o)f[o].e=e=!e;for(var c,s,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((s=c[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((s=c[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Bf(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Ef.invert=Ef;var Ff=Pa();function If(t,n){var e=n[0],r=n[1],i=Qa(r),o=[Qa(e),-Ga(e),0],a=0,u=0;Ff.reset(),1===i?r=Oa+Da:-1===i&&(r=-Oa-Da);for(var f=0,c=t.length;f<c;++f)if(l=(s=t[f]).length)for(var s,l,h=s[l-1],d=h[0],p=h[1]/2+Ya,v=Qa(p),g=Ga(p),y=0;y<l;++y,d=b,v=x,g=w,h=_){var _=s[y],b=_[0],m=_[1]/2+Ya,x=Qa(m),w=Ga(m),M=b-d,A=M>=0?1:-1,T=A*M,N=T>qa,S=v*x;if(Ff.add(Xa(S*A*Qa(T),g*w+S*Ga(T))),a+=N?M+A*Ba:M,N^d>=e^b>=e){var E=Nu(Au(h),Au(_));ku(E);var k=Nu(o,E);ku(k);var C=(N^M>=0?-1:1)*eu(k[2]);(r>C||r===C&&(E[0]||E[1]))&&(u+=N^M>=0?1:-1)}}return(a<-Da||a<Da&&Ff<-Da)^1&u}function Hf(t,n,e,r){return function(i){var o,a,u,f=n(i),c=Uf(),s=n(c),l=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=_,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,a=N(a);var t=If(o,r);a.length?(l||(i.polygonStart(),l=!0),Yf(a,Xf,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function v(){h.point=p,f.lineStart()}function g(){h.point=d,f.lineEnd()}function y(t,n){u.push([t,n]),s.point(t,n)}function _(){s.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,f=s.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&f){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&f&&h.push(h.pop().concat(h.shift())),a.push(h.filter(jf))}return h}}function jf(t){return t.length>1}function Xf(t,n){return((t=t.x)[0]<0?t[1]-Oa-Da:Oa-t[1])-((n=n.x)[0]<0?n[1]-Oa-Da:Oa-n[1])}var Gf=Hf(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?qa:-qa,f=Ha(o-e);Ha(f-qa)<Da?(t.point(e,r=(r+a)/2>0?Oa:-Oa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&f>=qa&&(Ha(e-i)<Da&&(e-=i*Da),Ha(o-u)<Da&&(o-=u*Da),r=function(t,n,e,r){var i,o,a=Qa(t-e);return Ha(a)>Da?ja((Qa(n)*(o=Ga(r))*Qa(e)-Qa(r)*(i=Ga(n))*Qa(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Oa,r.point(-qa,i),r.point(0,i),r.point(qa,i),r.point(qa,0),r.point(qa,-i),r.point(0,-i),r.point(-qa,-i),r.point(-qa,0),r.point(-qa,i);else if(Ha(t[0]-n[0])>Da){var o=t[0]<n[0]?qa:-qa;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-qa,-Oa]);function Vf(t){var n=Ga(t),e=6*Ia,r=n>0,i=Ha(n)>Da;function o(t,e){return Ga(t)*Ga(e)>n}function a(t,e,r){var i=[1,0,0],o=Nu(Au(t),Au(e)),a=Tu(o,o),u=o[0],f=a-u*u;if(!f)return!r&&t;var c=n*a/f,s=-n*u/f,l=Nu(i,o),h=Eu(i,c);Su(h,Eu(o,s));var d=l,p=Tu(h,d),v=Tu(d,d),g=p*p-v*(Tu(h,h)-1);if(!(g<0)){var y=Ka(g),_=Eu(d,(-p-y)/v);if(Su(_,h),_=Mu(_),!r)return _;var b,m=t[0],x=e[0],w=t[1],M=e[1];x<m&&(b=m,m=x,x=b);var A=x-m,T=Ha(A-qa)<Da;if(!T&&M<w&&(b=w,w=M,M=b),T||A<Da?T?w+M>0^_[1]<(Ha(_[0]-m)<Da?w:M):w<=_[1]&&_[1]<=M:A>qa^(m<=_[0]&&_[0]<=x)){var N=Eu(d,(-p+y)/v);return Su(N,h),[_,Mu(N)]}}}function u(n,e){var i=r?t:qa-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Hf(o,function(t){var n,e,f,c,s;return{lineStart:function(){c=f=!1,s=1},point:function(l,h){var d,p=[l,h],v=o(l,h),g=r?v?0:u(l,h):v?u(l+(l<0?qa:-qa),h):0;if(!n&&(c=f=v)&&t.lineStart(),v!==f&&(!(d=a(n,p))||qf(n,d)||qf(p,d))&&(p[0]+=Da,p[1]+=Da,v=o(p[0],p[1])),v!==f)s=0,v?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^v){var y;g&e||!(y=a(p,n,!0))||(s=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&qf(n,p)||t.point(p[0],p[1]),n=p,f=v,e=g},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return s|(c&&f)<<1}}},function(n,r,i,o){Lf(o,t,e,i,n,r)},r?[0,-t]:[-qa,t-qa])}var $f=1e9,Wf=-$f;function Zf(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||f(i,o)<0^u>0)do{c.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==l);else c.point(o[0],o[1])}function a(r,i){return Ha(r[0]-t)<Da?i>0?0:3:Ha(r[0]-e)<Da?i>0?2:1:Ha(r[1]-n)<Da?i>0?1:0:i>0?3:2}function u(t,n){return f(t.x,n.x)}function f(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var f,c,s,l,h,d,p,v,g,y,_,b=a,m=Uf(),x={point:w,lineStart:function(){x.point=M,c&&c.push(s=[]);y=!0,g=!1,p=v=NaN},lineEnd:function(){f&&(M(l,h),d&&g&&m.rejoin(),f.push(m.result()));x.point=w,g&&b.lineEnd()},polygonStart:function(){b=m,f=[],c=[],_=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],f=1,s=u.length,l=u[0],h=l[0],d=l[1];f<s;++f)o=h,a=d,l=u[f],h=l[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=_&&n,i=(f=N(f)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Yf(f,u,n,o,a),a.polygonEnd());b=a,f=c=s=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(c&&s.push([o,a]),y)l=o,h=a,d=u,y=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&g)b.point(o,a);else{var f=[p=Math.max(Wf,Math.min($f,p)),v=Math.max(Wf,Math.min($f,v))],m=[o=Math.max(Wf,Math.min($f,o)),a=Math.max(Wf,Math.min($f,a))];!function(t,n,e,r,i,o){var a,u=t[0],f=t[1],c=0,s=1,l=n[0]-u,h=n[1]-f;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<c)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>c&&(c=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>c&&(c=a)}else if(l>0){if(a<c)return;a<s&&(s=a)}if(a=r-f,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>c&&(c=a)}if(a=o-f,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<s&&(s=a)}return c>0&&(t[0]=u+c*l,t[1]=f+c*h),s<1&&(n[0]=u+s*l,n[1]=f+s*h),!0}}}}}(f,m,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),_=!1):(g||(b.lineStart(),b.point(f[0],f[1])),b.point(m[0],m[1]),u||b.lineEnd(),_=!1)}p=o,v=a,g=u}return x}}var Qf,Jf,Kf,tc=Pa(),nc={sphere:iu,point:iu,lineStart:function(){nc.point=rc,nc.lineEnd=ec},lineEnd:iu,polygonStart:iu,polygonEnd:iu};function ec(){nc.point=nc.lineEnd=iu}function rc(t,n){Qf=t*=Ia,Jf=Qa(n*=Ia),Kf=Ga(n),nc.point=ic}function ic(t,n){t*=Ia;var e=Qa(n*=Ia),r=Ga(n),i=Ha(t-Qf),o=Ga(i),a=r*Qa(i),u=Kf*e-Jf*r*o,f=Jf*e+Kf*r*o;tc.add(Xa(Ka(a*a+u*u),f)),Qf=t,Jf=e,Kf=r}function oc(t){return tc.reset(),su(t,nc),+tc}var ac=[null,null],uc={type:"LineString",coordinates:ac};function fc(t,n){return ac[0]=t,ac[1]=n,oc(uc)}var cc={Feature:function(t,n){return lc(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(lc(e[r].geometry,n))return!0;return!1}},sc={Sphere:function(){return!0},Point:function(t,n){return hc(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(hc(e[r],n))return!0;return!1},LineString:function(t,n){return dc(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(dc(e[r],n))return!0;return!1},Polygon:function(t,n){return pc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(pc(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(lc(e[r],n))return!0;return!1}};function lc(t,n){return!(!t||!sc.hasOwnProperty(t.type))&&sc[t.type](t,n)}function hc(t,n){return 0===fc(t,n)}function dc(t,n){var e=fc(t[0],t[1]);return fc(t[0],n)+fc(n,t[1])<=e+Da}function pc(t,n){return!!If(t.map(vc),gc(n))}function vc(t){return(t=t.map(gc)).pop(),t}function gc(t){return[t[0]*Ia,t[1]*Ia]}function yc(t,n,e){var r=g(t,n-Da,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function _c(t,n,e){var r=g(t,n-Da,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function bc(){var t,n,e,r,i,o,a,u,f,c,s,l,h=10,d=h,p=90,v=360,y=2.5;function _(){return{type:"MultiLineString",coordinates:b()}}function b(){return g(Va(r/p)*p,e,p).map(s).concat(g(Va(u/v)*v,a,v).map(l)).concat(g(Va(n/h)*h,t,h).filter(function(t){return Ha(t%p)>Da}).map(f)).concat(g(Va(o/d)*d,i,d).filter(function(t){return Ha(t%v)>Da}).map(c))}return _.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(a).slice(1),s(e).reverse().slice(1),l(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),_.precision(y)):[[r,u],[e,a]]},_.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),_.precision(y)):[[n,o],[t,i]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],_):[p,v]},_.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],_):[h,d]},_.precision=function(h){return arguments.length?(y=+h,f=yc(o,i,90),c=_c(n,t,y),s=yc(u,a,90),l=_c(r,e,y),_):y},_.extentMajor([[-180,-90+Da],[180,90-Da]]).extentMinor([[-180,-80-Da],[180,80+Da]])}function mc(t){return t}var xc,wc,Mc,Ac,Tc=Pa(),Nc=Pa(),Sc={point:iu,lineStart:iu,lineEnd:iu,polygonStart:function(){Sc.lineStart=Ec,Sc.lineEnd=Pc},polygonEnd:function(){Sc.lineStart=Sc.lineEnd=Sc.point=iu,Tc.add(Ha(Nc)),Nc.reset()},result:function(){var t=Tc/2;return Tc.reset(),t}};function Ec(){Sc.point=kc}function kc(t,n){Sc.point=Cc,xc=Mc=t,wc=Ac=n}function Cc(t,n){Nc.add(Ac*t-Mc*n),Mc=t,Ac=n}function Pc(){Cc(xc,wc)}var zc=1/0,Rc=zc,Lc=-zc,Dc=Lc,Uc={point:function(t,n){t<zc&&(zc=t);t>Lc&&(Lc=t);n<Rc&&(Rc=n);n>Dc&&(Dc=n)},lineStart:iu,lineEnd:iu,polygonStart:iu,polygonEnd:iu,result:function(){var t=[[zc,Rc],[Lc,Dc]];return Lc=Dc=-(Rc=zc=1/0),t}};var qc,Oc,Yc,Bc,Fc=0,Ic=0,Hc=0,jc=0,Xc=0,Gc=0,Vc=0,$c=0,Wc=0,Zc={point:Qc,lineStart:Jc,lineEnd:ns,polygonStart:function(){Zc.lineStart=es,Zc.lineEnd=rs},polygonEnd:function(){Zc.point=Qc,Zc.lineStart=Jc,Zc.lineEnd=ns},result:function(){var t=Wc?[Vc/Wc,$c/Wc]:Gc?[jc/Gc,Xc/Gc]:Hc?[Fc/Hc,Ic/Hc]:[NaN,NaN];return Fc=Ic=Hc=jc=Xc=Gc=Vc=$c=Wc=0,t}};function Qc(t,n){Fc+=t,Ic+=n,++Hc}function Jc(){Zc.point=Kc}function Kc(t,n){Zc.point=ts,Qc(Yc=t,Bc=n)}function ts(t,n){var e=t-Yc,r=n-Bc,i=Ka(e*e+r*r);jc+=i*(Yc+t)/2,Xc+=i*(Bc+n)/2,Gc+=i,Qc(Yc=t,Bc=n)}function ns(){Zc.point=Qc}function es(){Zc.point=is}function rs(){os(qc,Oc)}function is(t,n){Zc.point=os,Qc(qc=Yc=t,Oc=Bc=n)}function os(t,n){var e=t-Yc,r=n-Bc,i=Ka(e*e+r*r);jc+=i*(Yc+t)/2,Xc+=i*(Bc+n)/2,Gc+=i,Vc+=(i=Bc*t-Yc*n)*(Yc+t),$c+=i*(Bc+n),Wc+=3*i,Qc(Yc=t,Bc=n)}function as(t){this._context=t}as.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ba)}},result:iu};var us,fs,cs,ss,ls,hs=Pa(),ds={point:iu,lineStart:function(){ds.point=ps},lineEnd:function(){us&&vs(fs,cs),ds.point=iu},polygonStart:function(){us=!0},polygonEnd:function(){us=null},result:function(){var t=+hs;return hs.reset(),t}};function ps(t,n){ds.point=vs,fs=ss=t,cs=ls=n}function vs(t,n){ss-=t,ls-=n,hs.add(Ka(ss*ss+ls*ls)),ss=t,ls=n}function gs(){this._string=[]}function ys(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _s(t){return function(n){var e=new bs;for(var r in t)e[r]=t[r];return e.stream=n,e}}function bs(){}function ms(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),su(e,t.stream(Uc)),n(Uc.result()),null!=r&&t.clipExtent(r),t}function xs(t,n,e){return ms(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function ws(t,n,e){return xs(t,[[0,0],n],e)}function Ms(t,n,e){return ms(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function As(t,n,e){return ms(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}gs.prototype={_radius:4.5,_circle:ys(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ys(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},bs.prototype={constructor:bs,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ts=16,Ns=Ga(30*Ia);function Ss(t,n){return+n?function(t,n){function e(r,i,o,a,u,f,c,s,l,h,d,p,v,g){var y=c-r,_=s-i,b=y*y+_*_;if(b>4*n&&v--){var m=a+h,x=u+d,w=f+p,M=Ka(m*m+x*x+w*w),A=eu(w/=M),T=Ha(Ha(w)-1)<Da||Ha(o-l)<Da?(o+l)/2:Xa(x,m),N=t(T,A),S=N[0],E=N[1],k=S-r,C=E-i,P=_*k-y*C;(P*P/b>n||Ha((y*k+_*C)/b-.5)>.3||a*h+u*d+f*p<Ns)&&(e(r,i,o,a,u,f,S,E,T,m/=M,x/=M,w,v,g),g.point(S,E),e(S,E,T,m,x,w,c,s,l,h,d,p,v,g))}}return function(n){var r,i,o,a,u,f,c,s,l,h,d,p,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){n.polygonStart(),v.lineStart=m},polygonEnd:function(){n.polygonEnd(),v.lineStart=y}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){s=NaN,v.point=_,n.lineStart()}function _(r,i){var o=Au([r,i]),a=t(r,i);e(s,l,c,h,d,p,s=a[0],l=a[1],c=r,h=o[0],d=o[1],p=o[2],Ts,n),n.point(s,l)}function b(){v.point=g,n.lineEnd()}function m(){y(),v.point=x,v.lineEnd=w}function x(t,n){_(r=t,n),i=s,o=l,a=h,u=d,f=p,v.point=_}function w(){e(s,l,c,h,d,p,i,o,r,a,u,f,Ts,n),v.lineEnd=b,b()}return v}}(t,n):function(t){return _s({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Es=_s({point:function(t,n){this.stream.point(t*Ia,n*Ia)}});function ks(t,n,e,r){var i=Ga(r),o=Qa(r),a=i*t,u=o*t,f=i/t,c=o/t,s=(o*e-i*n)/t,l=(o*n+i*e)/t;function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}return h.invert=function(t,n){return[f*t-c*n+s,l-c*t-f*n]},h}function Cs(t){return Ps(function(){return t})()}function Ps(t){var n,e,r,i,o,a,u,f,c,s,l=150,h=480,d=250,p=0,v=0,g=0,y=0,_=0,b=0,m=null,x=Gf,w=null,M=mc,A=.5;function T(t){return f(t[0]*Ia,t[1]*Ia)}function N(t){return(t=f.invert(t[0],t[1]))&&[t[0]*Fa,t[1]*Fa]}function S(){var t=ks(l,0,0,b).apply(null,n(p,v)),r=(b?ks:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(l,h-t[0],d-t[1],b);return e=kf(g,y,_),u=Sf(n,r),f=Sf(e,u),a=Ss(u,A),E()}function E(){return c=s=null,T}return T.stream=function(t){return c&&s===t?c:c=Es(function(t){return _s({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(a(M(s=t)))))},T.preclip=function(t){return arguments.length?(x=t,m=void 0,E()):x},T.postclip=function(t){return arguments.length?(M=t,w=r=i=o=null,E()):M},T.clipAngle=function(t){return arguments.length?(x=+t?Vf(m=t*Ia):(m=null,Gf),E()):m*Fa},T.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=o=null,mc):Zf(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),E()):null==w?null:[[w,r],[i,o]]},T.scale=function(t){return arguments.length?(l=+t,S()):l},T.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},T.center=function(t){return arguments.length?(p=t[0]%360*Ia,v=t[1]%360*Ia,S()):[p*Fa,v*Fa]},T.rotate=function(t){return arguments.length?(g=t[0]%360*Ia,y=t[1]%360*Ia,_=t.length>2?t[2]%360*Ia:0,S()):[g*Fa,y*Fa,_*Fa]},T.angle=function(t){return arguments.length?(b=t%360*Ia,S()):b*Fa},T.precision=function(t){return arguments.length?(a=Ss(u,A=t*t),E()):Ka(A)},T.fitExtent=function(t,n){return xs(T,t,n)},T.fitSize=function(t,n){return ws(T,t,n)},T.fitWidth=function(t,n){return Ms(T,t,n)},T.fitHeight=function(t,n){return As(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&N,S()}}function zs(t){var n=0,e=qa/3,r=Ps(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Ia,e=t[1]*Ia):[n*Fa,e*Fa]},i}function Rs(t,n){var e=Qa(t),r=(e+Qa(n))/2;if(Ha(r)<Da)return function(t){var n=Ga(t);function e(t,e){return[t*n,Qa(e)/n]}return e.invert=function(t,e){return[t/n,eu(e*n)]},e}(t);var i=1+e*(2*r-e),o=Ka(i)/r;function a(t,n){var e=Ka(i-2*r*Qa(n))/r;return[e*Qa(t*=r),o-e*Ga(t)]}return a.invert=function(t,n){var e=o-n;return[Xa(t,Ha(e))/r*Ja(e),eu((i-(t*t+e*e)*r*r)/(2*r))]},a}function Ls(){return zs(Rs).scale(155.424).center([0,33.6442])}function Ds(){return Ls().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Us(t){return function(n,e){var r=Ga(n),i=Ga(e),o=t(r*i);return[o*i*Qa(n),o*Qa(e)]}}function qs(t){return function(n,e){var r=Ka(n*n+e*e),i=t(r),o=Qa(i),a=Ga(i);return[Xa(n*o,r*a),eu(r&&e*o/r)]}}var Os=Us(function(t){return Ka(2/(1+t))});Os.invert=qs(function(t){return 2*eu(t/2)});var Ys=Us(function(t){return(t=nu(t))&&t/Qa(t)});function Bs(t,n){return[t,Wa(tu((Oa+n)/2))]}function Fs(t){var n,e,r,i=Cs(t),o=i.center,a=i.scale,u=i.translate,f=i.clipExtent,c=null;function s(){var o=qa*a(),u=i(Rf(i.rotate()).invert([0,0]));return f(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Bs?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==c?null:[[c,n],[e,r]]},s()}function Is(t){return tu((Oa+t)/2)}function Hs(t,n){var e=Ga(t),r=t===n?Qa(t):Wa(e/Ga(n))/Wa(Is(n)/Is(t)),i=e*Za(Is(t),r)/r;if(!r)return Bs;function o(t,n){i>0?n<-Oa+Da&&(n=-Oa+Da):n>Oa-Da&&(n=Oa-Da);var e=i/Za(Is(n),r);return[e*Qa(r*t),i-e*Ga(r*t)]}return o.invert=function(t,n){var e=i-n,o=Ja(r)*Ka(t*t+e*e);return[Xa(t,Ha(e))/r*Ja(e),2*ja(Za(i/o,1/r))-Oa]},o}function js(t,n){return[t,n]}function Xs(t,n){var e=Ga(t),r=t===n?Qa(t):(e-Ga(n))/(n-t),i=e/r+t;if(Ha(r)<Da)return js;function o(t,n){var e=i-n,o=r*t;return[e*Qa(o),i-e*Ga(o)]}return o.invert=function(t,n){var e=i-n;return[Xa(t,Ha(e))/r*Ja(e),i-Ja(r)*Ka(t*t+e*e)]},o}Ys.invert=qs(function(t){return t}),Bs.invert=function(t,n){return[t,2*ja($a(n))-Oa]},js.invert=js;var Gs=1.340264,Vs=-.081106,$s=893e-6,Ws=.003796,Zs=Ka(3)/2;function Qs(t,n){var e=eu(Zs*Qa(n)),r=e*e,i=r*r*r;return[t*Ga(e)/(Zs*(Gs+3*Vs*r+i*(7*$s+9*Ws*r))),e*(Gs+Vs*r+i*($s+Ws*r))]}function Js(t,n){var e=Ga(n),r=Ga(t)*e;return[e*Qa(t)/r,Qa(n)/r]}function Ks(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?mc:_s({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function tl(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function nl(t,n){return[Ga(n)*Qa(t),Qa(n)]}function el(t,n){var e=Ga(n),r=1+Ga(t)*e;return[e*Qa(t)/r,Qa(n)/r]}function rl(t,n){return[Wa(tu((Oa+n)/2)),-t]}function il(t,n){return t.parent===n.parent?1:2}function ol(t,n){return t+n.x}function al(t,n){return Math.max(t,n.y)}function ul(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function fl(t,n){var e,r,i,o,a,u=new hl(t),f=+t.value&&(u.value=t.value),c=[u];for(null==n&&(n=cl);e=c.pop();)if(f&&(e.value=+e.data.value),(i=n(e.data))&&(a=i.length))for(e.children=new Array(a),o=a-1;o>=0;--o)c.push(r=e.children[o]=new hl(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(ll)}function cl(t){return t.children}function sl(t){t.data=t.data.data}function ll(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function hl(t){this.data=t,this.depth=this.height=0,this.parent=null}Qs.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(Gs+Vs*i+o*($s+Ws*i))-n)/(Gs+3*Vs*i+o*(7*$s+9*Ws*i)))*r)*i*i,!(Ha(e)<Ua));++a);return[Zs*t*(Gs+3*Vs*i+o*(7*$s+9*Ws*i))/Ga(r),eu(Qa(r)/Zs)]},Js.invert=qs(ja),tl.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ha(e)>Da&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},nl.invert=qs(eu),el.invert=qs(function(t){return 2*ja(t)}),rl.invert=function(t,n){return[-n,2*ja($a(t))-Oa]},hl.prototype=fl.prototype={constructor:hl,count:function(){return this.eachAfter(ul)},each:function(t){var n,e,r,i,o=this,a=[o];do{for(n=a.reverse(),a=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return fl(this).eachBefore(sl)}};var dl=Array.prototype.slice;function pl(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(dl.call(t))).length,o=[];r<i;)n=t[r],e&&yl(e,n)?++r:(e=bl(o=vl(o,n)),r=0);return e}function vl(t,n){var e,r;if(_l(n,t))return[n];for(e=0;e<t.length;++e)if(gl(n,t[e])&&_l(ml(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(gl(ml(t[e],t[r]),n)&&gl(ml(t[e],n),t[r])&&gl(ml(t[r],n),t[e])&&_l(xl(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function gl(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yl(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function _l(t,n){for(var e=0;e<n.length;++e)if(!yl(t,n[e]))return!1;return!0}function bl(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return ml(t[0],t[1]);case 3:return xl(t[0],t[1],t[2])}var n}function ml(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,f=o-e,c=a-r,s=u-i,l=Math.sqrt(f*f+c*c);return{x:(e+o+f/l*s)/2,y:(r+a+c/l*s)/2,r:(l+i+u)/2}}function xl(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,f=n.r,c=e.x,s=e.y,l=e.r,h=r-a,d=r-c,p=i-u,v=i-s,g=f-o,y=l-o,_=r*r+i*i-o*o,b=_-a*a-u*u+f*f,m=_-c*c-s*s+l*l,x=d*p-h*v,w=(p*m-v*b)/(2*x)-r,M=(v*g-p*y)/x,A=(d*b-h*m)/(2*x)-i,T=(h*y-d*g)/x,N=M*M+T*T-1,S=2*(o+w*M+A*T),E=w*w+A*A-o*o,k=-(N?(S+Math.sqrt(S*S-4*N*E))/(2*N):E/S);return{x:r+w+M*k,y:i+A+T*k,r:k}}function wl(t,n,e){var r,i,o,a,u=t.x-n.x,f=t.y-n.y,c=u*u+f*f;c?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*u-o*f,e.y=t.y-r*f+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-o*f,e.y=n.y+r*f+o*u)):(e.x=n.x+e.r,e.y=n.y)}function Ml(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Al(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Tl(t){this._=t,this.next=null,this.previous=null}function Nl(t){if(!(i=t.length))return 0;var n,e,r,i,o,a,u,f,c,s,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;wl(e,n,r=t[2]),n=new Tl(n),e=new Tl(e),r=new Tl(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){wl(n._,e._,r=t[u]),r=new Tl(r),f=e.next,c=n.previous,s=e._.r,l=n._.r;do{if(s<=l){if(Ml(f._,r._)){e=f,n.next=e,e.previous=n,--u;continue t}s+=f._.r,f=f.next}else{if(Ml(c._,r._)){(n=c).next=e,e.previous=n,--u;continue t}l+=c._.r,c=c.previous}}while(f!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Al(n);(r=r.next)!==e;)(a=Al(r))<o&&(n=r,o=a);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=pl(n),u=0;u<i;++u)(n=t[u]).x-=r.x,n.y-=r.y;return r.r}function Sl(t){if("function"!=typeof t)throw new Error;return t}function El(){return 0}function kl(t){return function(){return t}}function Cl(t){return Math.sqrt(t.value)}function Pl(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function zl(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,u=t(e)*n||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Nl(r),u)for(i=0;i<a;++i)r[i].r-=u;e.r=o+u}}}function Rl(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Ll(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Dl(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(r-n)/t.value;++u<f;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*c}var Ul="$",ql={depth:-1},Ol={};function Yl(t){return t.id}function Bl(t){return t.parentId}function Fl(t,n){return t.parent===n.parent?1:2}function Il(t){var n=t.children;return n?n[0]:t.t}function Hl(t){var n=t.children;return n?n[n.length-1]:t.t}function jl(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Xl(t,n,e){return t.a.parent===n.parent?t.a:e}function Gl(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Vl(t,n,e,r,i){for(var o,a=t.children,u=-1,f=a.length,c=t.value&&(i-e)/t.value;++u<f;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*c}Gl.prototype=Object.create(hl.prototype);var $l=(1+Math.sqrt(5))/2;function Wl(t,n,e,r,i,o){for(var a,u,f,c,s,l,h,d,p,v,g,y=[],_=n.children,b=0,m=0,x=_.length,w=n.value;b<x;){f=i-e,c=o-r;do{s=_[m++].value}while(!s&&m<x);for(l=h=s,g=s*s*(v=Math.max(c/f,f/c)/(w*t)),p=Math.max(h/g,g/l);m<x;++m){if(s+=u=_[m].value,u<l&&(l=u),u>h&&(h=u),g=s*s*v,(d=Math.max(h/g,g/l))>p){s-=u;break}p=d}y.push(a={value:s,dice:f<c,children:_.slice(b,m)}),a.dice?Dl(a,e,r,i,w?r+=c*s/w:o):Vl(a,e,r,w?e+=f*s/w:i,o),w-=s,b=m}return y}var Zl=function t(n){function e(t,e,r,i,o){Wl(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}($l);var Ql=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,f,c,s,l=-1,h=a.length,d=t.value;++l<h;){for(f=(u=a[l]).children,c=u.value=0,s=f.length;c<s;++c)u.value+=f[c].value;u.dice?Dl(u,e,r,i,r+=(o-r)*u.value/d):Vl(u,e,r,e+=(i-e)*u.value/d,o),d-=u.value}else t._squarify=a=Wl(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}($l);function Jl(t,n){return t[0]-n[0]||t[1]-n[1]}function Kl(t){for(var n,e,r,i=t.length,o=[0,1],a=2,u=2;u<i;++u){for(;a>1&&(n=t[o[a-2]],e=t[o[a-1]],r=t[u],(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])<=0);)--a;o[a++]=u}return o.slice(0,a)}function th(){return Math.random()}var nh=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(th),eh=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(th),rh=function t(n){function e(){var t=eh.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(th),ih=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(th),oh=function t(n){function e(t){var e=ih.source(n)(t);return function(){return e()/t}}return e.source=t,e}(th),ah=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(th),uh=Array.prototype,fh=uh.map,ch=uh.slice,sh={name:"implicit"};function lh(t){var n=Ki(),e=[],r=sh;function i(i){var o=i+"",a=n.get(o);if(!a){if(r!==sh)return r;n.set(o,a=e.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:ch.call(t),i.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Ki();for(var r,o,a=-1,u=t.length;++a<u;)n.has(o=(r=t[a])+"")||n.set(o,e.push(r));return i},i.range=function(n){return arguments.length?(t=ch.call(n),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return lh().domain(e).range(t).unknown(r)},i}function hh(){var t,n,e=lh().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,f=0,c=.5;function s(){var e=r().length,s=o[1]<o[0],l=o[s-0],h=o[1-s];t=(h-l)/Math.max(1,e-u+2*f),a&&(t=Math.floor(t)),l+=(h-l-t*(e-u))*c,n=t*(1-u),a&&(l=Math.round(l),n=Math.round(n));var d=g(e).map(function(n){return l+t*n});return i(s?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),s()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,s()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,s()):a},e.padding=function(t){return arguments.length?(u=f=Math.max(0,Math.min(1,t)),s()):u},e.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s()):u},e.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),s()):f},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),s()):c},e.copy=function(){return hh().domain(r()).range(o).round(a).paddingInner(u).paddingOuter(f).align(c)},s()}function dh(t){return function(){return t}}function ph(t){return+t}var vh=[0,1];function gh(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:dh(n)}function yh(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function _h(t,n,e,r){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),f=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++f<o;)a[f]=e(t[f],t[f+1]),u[f]=r(n[f],n[f+1]);return function(n){var e=i(t,n,1,o)-1;return u[e](a[e](n))}}function bh(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function mh(t,n){var e,r,i,o=vh,a=vh,u=me,f=!1;function c(){return e=Math.min(o.length,a.length)>2?_h:yh,r=i=null,s}function s(n){return(r||(r=e(o,a,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,u)))(+n)}return s.invert=function(t){return(i||(i=e(a,o,gh,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},s.domain=function(t){return arguments.length?(o=fh.call(t,ph),c()):o.slice()},s.range=function(t){return arguments.length?(a=ch.call(t),c()):a.slice()},s.rangeRound=function(t){return a=ch.call(t),u=xe,c()},s.clamp=function(t){return arguments.length?(f=!!t,c()):f},s.interpolate=function(t){return arguments.length?(u=t,c()):u},c()}function xh(n){var e=n.domain;return n.ticks=function(t){var n=e();return m(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],a=n[n.length-1],u=w(o,a,null==e?10:e);switch((r=ba(null==r?",f":r)).type){case"s":var f=Math.max(Math.abs(o),Math.abs(a));return null!=r.precision||isNaN(i=ka(u,f))||(r.precision=i),t.formatPrefix(r,f);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ca(u,Math.max(Math.abs(o),Math.abs(a))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ea(u))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,a=i.length-1,u=i[o],f=i[a];return f<u&&(r=u,u=f,f=r,r=o,o=a,a=r),(r=x(u,f,t))>0?r=x(u=Math.floor(u/r)*r,f=Math.ceil(f/r)*r,t):r<0&&(r=x(u=Math.ceil(u*r)/r,f=Math.floor(f*r)/r,t)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(f/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(f*r)/r,e(i)),n},n}function wh(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Mh(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:dh(n)}function Ah(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Th(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nh(t){return 10===t?Th:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Sh(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Eh(t){return function(n){return-t(-n)}}function kh(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function Ch(){var t=1,n=mh(function(n,e){return(e=kh(e,t)-(n=kh(n,t)))?function(r){return(kh(r,t)-n)/e}:dh(e)},function(n,e){return e=kh(e,t)-(n=kh(n,t)),function(r){return kh(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return bh(n,Ch().exponent(t))},xh(n)}var Ph=new Date,zh=new Date;function Rh(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Rh(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Ph.setTime(+n),zh.setTime(+r),t(Ph),t(zh),Math.floor(e(Ph,zh))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Lh=Rh(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Lh.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Rh(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Lh:null};var Dh=Lh.range,Uh=6e4,qh=6048e5,Oh=Rh(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Yh=Oh.range,Bh=Rh(function(t){t.setTime(Math.floor(t/Uh)*Uh)},function(t,n){t.setTime(+t+n*Uh)},function(t,n){return(n-t)/Uh},function(t){return t.getMinutes()}),Fh=Bh.range,Ih=Rh(function(t){var n=t.getTimezoneOffset()*Uh%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Hh=Ih.range,jh=Rh(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uh)/864e5},function(t){return t.getDate()-1}),Xh=jh.range;function Gh(t){return Rh(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Uh)/qh})}var Vh=Gh(0),$h=Gh(1),Wh=Gh(2),Zh=Gh(3),Qh=Gh(4),Jh=Gh(5),Kh=Gh(6),td=Vh.range,nd=$h.range,ed=Wh.range,rd=Zh.range,id=Qh.range,od=Jh.range,ad=Kh.range,ud=Rh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),fd=ud.range,cd=Rh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});cd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rh(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var sd=cd.range,ld=Rh(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Uh)},function(t,n){return(n-t)/Uh},function(t){return t.getUTCMinutes()}),hd=ld.range,dd=Rh(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),pd=dd.range,vd=Rh(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),gd=vd.range;function yd(t){return Rh(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/qh})}var _d=yd(0),bd=yd(1),md=yd(2),xd=yd(3),wd=yd(4),Md=yd(5),Ad=yd(6),Td=_d.range,Nd=bd.range,Sd=md.range,Ed=xd.range,kd=wd.range,Cd=Md.range,Pd=Ad.range,zd=Rh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Rd=zd.range,Ld=Rh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ld.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rh(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Dd=Ld.range;function Ud(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qd(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Od(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Yd(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,f=t.shortMonths,c=Vd(i),s=$d(i),l=Vd(o),h=$d(o),d=Vd(a),p=$d(a),v=Vd(u),g=$d(u),y=Vd(f),_=$d(f),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:pp,e:pp,f:bp,H:vp,I:gp,j:yp,L:_p,m:mp,M:xp,p:function(t){return i[+(t.getHours()>=12)]},Q:Wp,s:Zp,S:wp,u:Mp,U:Ap,V:Tp,w:Np,W:Sp,x:null,X:null,y:Ep,Y:kp,Z:Cp,"%":$p},m={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Pp,e:Pp,f:Up,H:zp,I:Rp,j:Lp,L:Dp,m:qp,M:Op,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Wp,s:Zp,S:Yp,u:Bp,U:Fp,V:Ip,w:Hp,W:jp,x:null,X:null,y:Xp,Y:Gp,Z:Vp,"%":$p},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=_[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:ip,e:ip,f:sp,H:ap,I:ap,j:op,L:cp,m:rp,M:up,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=s[r[0].toLowerCase()],e+r[0].length):-1},Q:hp,s:dp,S:fp,u:Zd,U:Qd,V:Jd,w:Wd,W:Kd,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:np,Y:tp,Z:ep,"%":lp};function w(t,n){return function(e){var r,i,o,a=[],u=-1,f=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(f,u)),null!=(i=Fd[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),f=u+1);return a.push(t.slice(f,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Od(1900);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qd(Od(o.y))).getUTCDay(),r=i>4||0===i?bd.ceil(r):bd(r),r=vd.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=n(Od(o.y))).getDay(),r=i>4||0===i?$h.ceil(r):$h(r),r=jh.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qd(Od(o.y)).getUTCDay():n(Od(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qd(o)):n(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,f=e.length;a<u;){if(r>=f)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in Fd?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Ud);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,qd);return n.toString=function(){return t},n}}}var Bd,Fd={"-":"",_:" ",0:"0"},Id=/^\s*\d+/,Hd=/^%/,jd=/[\\^$*+?|[\]().{}]/g;function Xd(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Gd(t){return t.replace(jd,"\\$&")}function Vd(t){return new RegExp("^(?:"+t.map(Gd).join("|")+")","i")}function $d(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Wd(t,n,e){var r=Id.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Zd(t,n,e){var r=Id.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Qd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Jd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Kd(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function tp(t,n,e){var r=Id.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function np(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ep(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function rp(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ip(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function op(t,n,e){var r=Id.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ap(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function up(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function fp(t,n,e){var r=Id.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cp(t,n,e){var r=Id.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sp(t,n,e){var r=Id.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function lp(t,n,e){var r=Hd.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function hp(t,n,e){var r=Id.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function dp(t,n,e){var r=Id.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function pp(t,n){return Xd(t.getDate(),n,2)}function vp(t,n){return Xd(t.getHours(),n,2)}function gp(t,n){return Xd(t.getHours()%12||12,n,2)}function yp(t,n){return Xd(1+jh.count(cd(t),t),n,3)}function _p(t,n){return Xd(t.getMilliseconds(),n,3)}function bp(t,n){return _p(t,n)+"000"}function mp(t,n){return Xd(t.getMonth()+1,n,2)}function xp(t,n){return Xd(t.getMinutes(),n,2)}function wp(t,n){return Xd(t.getSeconds(),n,2)}function Mp(t){var n=t.getDay();return 0===n?7:n}function Ap(t,n){return Xd(Vh.count(cd(t),t),n,2)}function Tp(t,n){var e=t.getDay();return t=e>=4||0===e?Qh(t):Qh.ceil(t),Xd(Qh.count(cd(t),t)+(4===cd(t).getDay()),n,2)}function Np(t){return t.getDay()}function Sp(t,n){return Xd($h.count(cd(t),t),n,2)}function Ep(t,n){return Xd(t.getFullYear()%100,n,2)}function kp(t,n){return Xd(t.getFullYear()%1e4,n,4)}function Cp(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Xd(n/60|0,"0",2)+Xd(n%60,"0",2)}function Pp(t,n){return Xd(t.getUTCDate(),n,2)}function zp(t,n){return Xd(t.getUTCHours(),n,2)}function Rp(t,n){return Xd(t.getUTCHours()%12||12,n,2)}function Lp(t,n){return Xd(1+vd.count(Ld(t),t),n,3)}function Dp(t,n){return Xd(t.getUTCMilliseconds(),n,3)}function Up(t,n){return Dp(t,n)+"000"}function qp(t,n){return Xd(t.getUTCMonth()+1,n,2)}function Op(t,n){return Xd(t.getUTCMinutes(),n,2)}function Yp(t,n){return Xd(t.getUTCSeconds(),n,2)}function Bp(t){var n=t.getUTCDay();return 0===n?7:n}function Fp(t,n){return Xd(_d.count(Ld(t),t),n,2)}function Ip(t,n){var e=t.getUTCDay();return t=e>=4||0===e?wd(t):wd.ceil(t),Xd(wd.count(Ld(t),t)+(4===Ld(t).getUTCDay()),n,2)}function Hp(t){return t.getUTCDay()}function jp(t,n){return Xd(bd.count(Ld(t),t),n,2)}function Xp(t,n){return Xd(t.getUTCFullYear()%100,n,2)}function Gp(t,n){return Xd(t.getUTCFullYear()%1e4,n,4)}function Vp(){return"+0000"}function $p(){return"%"}function Wp(t){return+t}function Zp(t){return Math.floor(+t/1e3)}function Qp(n){return Bd=Yd(n),t.timeFormat=Bd.format,t.timeParse=Bd.parse,t.utcFormat=Bd.utcFormat,t.utcParse=Bd.utcParse,Bd}Qp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jp=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");var Kp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),tv=1e3,nv=60*tv,ev=60*nv,rv=24*ev,iv=7*rv,ov=30*rv,av=365*rv;function uv(t){return new Date(t)}function fv(t){return t instanceof Date?+t:+new Date(+t)}function cv(t,n,r,i,o,a,u,f,c){var s=mh(gh,ve),l=s.invert,h=s.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),_=c("%b %d"),b=c("%B"),m=c("%Y"),x=[[u,1,tv],[u,5,5*tv],[u,15,15*tv],[u,30,30*tv],[a,1,nv],[a,5,5*nv],[a,15,15*nv],[a,30,30*nv],[o,1,ev],[o,3,3*ev],[o,6,6*ev],[o,12,12*ev],[i,1,rv],[i,2,2*rv],[r,1,iv],[n,1,ov],[n,3,3*ov],[t,1,av]];function M(e){return(u(e)<e?d:a(e)<e?p:o(e)<e?v:i(e)<e?g:n(e)<e?r(e)<e?y:_:t(e)<e?b:m)(e)}function A(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,u=e(function(t){return t[2]}).right(x,a);u===x.length?(o=w(r/av,i/av,n),n=t):u?(o=(u=x[a/x[u-1][2]<x[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(w(r,i,n),1),n=f)}return null==o?n:n.every(o)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(fh.call(t,fv)):h().map(uv)},s.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=A(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},s.tickFormat=function(t,n){return null==n?M:c(n)},s.nice=function(t,n){var e=h();return(t=A(t,e[0],e[e.length-1],n))?h(wh(e,t)):s},s.copy=function(){return bh(s,cv(t,n,r,i,o,a,u,f,c))},s}function sv(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var lv=sv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hv=sv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dv=sv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pv=sv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),vv=sv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gv=sv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),yv=sv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_v=sv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bv=sv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function mv(t){return le(t[t.length-1])}var xv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(sv),wv=mv(xv),Mv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(sv),Av=mv(Mv),Tv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(sv),Nv=mv(Tv),Sv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(sv),Ev=mv(Sv),kv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(sv),Cv=mv(kv),Pv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(sv),zv=mv(Pv),Rv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(sv),Lv=mv(Rv),Dv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(sv),Uv=mv(Dv),qv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(sv),Ov=mv(qv),Yv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(sv),Bv=mv(Yv),Fv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(sv),Iv=mv(Fv),Hv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(sv),jv=mv(Hv),Xv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(sv),Gv=mv(Xv),Vv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(sv),$v=mv(Vv),Wv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(sv),Zv=mv(Wv),Qv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(sv),Jv=mv(Qv),Kv=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(sv),tg=mv(Kv),ng=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(sv),eg=mv(ng),rg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(sv),ig=mv(rg),og=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(sv),ag=mv(og),ug=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(sv),fg=mv(ug),cg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(sv),sg=mv(cg),lg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(sv),hg=mv(lg),dg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(sv),pg=mv(dg),vg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(sv),gg=mv(vg),yg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(sv),_g=mv(yg),bg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(sv),mg=mv(bg),xg=Ge(Kn(300,.5,0),Kn(-240,.5,1)),wg=Ge(Kn(-100,.75,.35),Kn(80,1.5,.8)),Mg=Ge(Kn(260,.75,.35),Kn(80,1.5,.8)),Ag=Kn();var Tg=bn(),Ng=Math.PI/3,Sg=2*Math.PI/3;function Eg(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var kg=Eg(sv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Cg=Eg(sv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Pg=Eg(sv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zg=Eg(sv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Rg(t){return function(){return t}}var Lg=Math.abs,Dg=Math.atan2,Ug=Math.cos,qg=Math.max,Og=Math.min,Yg=Math.sin,Bg=Math.sqrt,Fg=1e-12,Ig=Math.PI,Hg=Ig/2,jg=2*Ig;function Xg(t){return t>=1?Hg:t<=-1?-Hg:Math.asin(t)}function Gg(t){return t.innerRadius}function Vg(t){return t.outerRadius}function $g(t){return t.startAngle}function Wg(t){return t.endAngle}function Zg(t){return t&&t.padAngle}function Qg(t,n,e,r,i,o,a){var u=t-e,f=n-r,c=(a?o:-o)/Bg(u*u+f*f),s=c*f,l=-c*u,h=t+s,d=n+l,p=e+s,v=r+l,g=(h+p)/2,y=(d+v)/2,_=p-h,b=v-d,m=_*_+b*b,x=i-o,w=h*v-p*d,M=(b<0?-1:1)*Bg(qg(0,x*x*m-w*w)),A=(w*b-_*M)/m,T=(-w*_-b*M)/m,N=(w*b+_*M)/m,S=(-w*_+b*M)/m,E=A-g,k=T-y,C=N-g,P=S-y;return E*E+k*k>C*C+P*P&&(A=N,T=S),{cx:A,cy:T,x01:-s,y01:-l,x11:A*(i/x-1),y11:T*(i/x-1)}}function Jg(t){this._context=t}function Kg(t){return new Jg(t)}function ty(t){return t[0]}function ny(t){return t[1]}function ey(){var t=ty,n=ny,e=Rg(!0),r=null,i=Kg,o=null;function a(a){var u,f,c,s=a.length,l=!1;for(null==r&&(o=i(c=Gi())),u=0;u<=s;++u)!(u<s&&e(f=a[u],u,a))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(f,u,a),+n(f,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:Rg(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function ry(){var t=ty,n=null,e=Rg(0),r=ny,i=Rg(!0),o=null,a=Kg,u=null;function f(f){var c,s,l,h,d,p=f.length,v=!1,g=new Array(p),y=new Array(p);for(null==o&&(u=a(d=Gi())),c=0;c<=p;++c){if(!(c<p&&i(h=f[c],c,f))===v)if(v=!v)s=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),l=c-1;l>=s;--l)u.point(g[l],y[l]);u.lineEnd(),u.areaEnd()}v&&(g[c]=+t(h,c,f),y[c]=+e(h,c,f),u.point(n?+n(h,c,f):g[c],r?+r(h,c,f):y[c]))}if(d)return u=null,d+""||null}function c(){return ey().defined(i).curve(a).context(o)}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:Rg(+e),n=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),f):t},f.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Rg(+t),f):n},f.y=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),r=null,f):e},f.y0=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),f):e},f.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Rg(+t),f):r},f.lineX0=f.lineY0=function(){return c().x(t).y(e)},f.lineY1=function(){return c().x(t).y(r)},f.lineX1=function(){return c().x(n).y(e)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:Rg(!!t),f):i},f.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),f):a},f.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),f):o},f}function iy(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function oy(t){return t}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ay=fy(Kg);function uy(t){this._curve=t}function fy(t){function n(n){return new uy(t(n))}return n._curve=t,n}function cy(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(fy(t)):n()._curve},t}function sy(){return cy(ey().curve(ay))}function ly(){var t=ry().curve(ay),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return cy(e())},delete t.lineX0,t.lineEndAngle=function(){return cy(r())},delete t.lineX1,t.lineInnerRadius=function(){return cy(i())},delete t.lineY0,t.lineOuterRadius=function(){return cy(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(fy(t)):n()._curve},t}function hy(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}uy.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var dy=Array.prototype.slice;function py(t){return t.source}function vy(t){return t.target}function gy(t){var n=py,e=vy,r=ty,i=ny,o=null;function a(){var a,u=dy.call(arguments),f=n.apply(this,u),c=e.apply(this,u);if(o||(o=a=Gi()),t(o,+r.apply(this,(u[0]=f,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function yy(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function _y(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function by(t,n,e,r,i){var o=hy(n,e),a=hy(n,e=(e+i)/2),u=hy(r,e),f=hy(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],f[0],f[1])}var my={draw:function(t,n){var e=Math.sqrt(n/Ig);t.moveTo(e,0),t.arc(0,0,e,0,jg)}},xy={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},wy=Math.sqrt(1/3),My=2*wy,Ay={draw:function(t,n){var e=Math.sqrt(n/My),r=e*wy;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Ty=Math.sin(Ig/10)/Math.sin(7*Ig/10),Ny=Math.sin(jg/10)*Ty,Sy=-Math.cos(jg/10)*Ty,Ey={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=Ny*e,i=Sy*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=jg*o/5,u=Math.cos(a),f=Math.sin(a);t.lineTo(f*e,-u*e),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},ky={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Cy=Math.sqrt(3),Py={draw:function(t,n){var e=-Math.sqrt(n/(3*Cy));t.moveTo(0,2*e),t.lineTo(-Cy*e,-e),t.lineTo(Cy*e,-e),t.closePath()}},zy=Math.sqrt(3)/2,Ry=1/Math.sqrt(12),Ly=3*(Ry/2+1),Dy={draw:function(t,n){var e=Math.sqrt(n/Ly),r=e/2,i=e*Ry,o=r,a=e*Ry+e,u=-o,f=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,f),t.lineTo(-.5*r-zy*i,zy*r+-.5*i),t.lineTo(-.5*o-zy*a,zy*o+-.5*a),t.lineTo(-.5*u-zy*f,zy*u+-.5*f),t.lineTo(-.5*r+zy*i,-.5*i-zy*r),t.lineTo(-.5*o+zy*a,-.5*a-zy*o),t.lineTo(-.5*u+zy*f,-.5*f-zy*u),t.closePath()}},Uy=[my,xy,Ay,ky,Ey,Py,Dy];function qy(){}function Oy(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Yy(t){this._context=t}function By(t){this._context=t}function Fy(t){this._context=t}function Iy(t,n){this._basis=new Yy(t),this._beta=n}Yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},By.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Oy(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Iy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,f=-1;++f<=e;)r=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(i+r*a),this._beta*n[f]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Hy=function t(n){function e(t){return 1===n?new Yy(t):new Iy(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function jy(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Xy(t,n){this._context=t,this._k=(1-n)/6}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Gy=function t(n){function e(t){return new Xy(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Vy(t,n){this._context=t,this._k=(1-n)/6}Vy.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $y=function t(n){function e(t){return new Vy(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Wy(t,n){this._context=t,this._k=(1-n)/6}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jy(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Zy=function t(n){function e(t){return new Wy(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Qy(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Fg){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Fg){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Jy(t,n){this._context=t,this._alpha=n}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ky=function t(n){function e(t){return n?new Jy(t,n):new Xy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function t_(t,n){this._context=t,this._alpha=n}t_.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var n_=function t(n){function e(t){return n?new t_(t,n):new Vy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function e_(t,n){this._context=t,this._alpha=n}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qy(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var r_=function t(n){function e(t){return n?new e_(t,n):new Wy(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function i_(t){this._context=t}function o_(t){return t<0?-1:1}function a_(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(o_(o)+o_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function u_(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function f_(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function c_(t){this._context=t}function s_(t){this._context=new l_(t)}function l_(t){this._context=t}function h_(t){this._context=t}function d_(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function p_(t,n){this._context=t,this._t=n}function v_(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function g_(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function y_(t,n){return t[n]}function __(t){var n=t.map(b_);return g_(t).sort(function(t,e){return n[t]-n[e]})}function b_(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function m_(t){return function(){return t}}function x_(t){return t[0]}function w_(t){return t[1]}function M_(){this._=null}function A_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function T_(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function N_(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function S_(t){for(;t.L;)t=t.L;return t}function E_(t,n,e,r){var i=[null,null],o=J_.push(i)-1;return i.left=t,i.right=n,e&&C_(i,t,n,e),r&&C_(i,n,t,r),Z_[t.index].halfedges.push(o),Z_[n.index].halfedges.push(o),i}function k_(t,n,e){var r=[n,e];return r.left=t,r}function C_(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function P_(t,n,e,r,i){var o,a=t[0],u=t[1],f=a[0],c=a[1],s=0,l=1,h=u[0]-f,d=u[1]-c;if(o=n-f,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=r-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>s&&(s=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(t[0]=[f+s*h,c+s*d]),l<1&&(t[1]=[f+l*h,c+l*d]),!0)}}}}}function z_(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,f=t[0],c=t.left,s=t.right,l=c[0],h=c[1],d=s[0],p=s[1],v=(l+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(l>d){if(f){if(f[1]>=i)return}else f=[v,e];o=[v,i]}else{if(f){if(f[1]<e)return}else f=[v,i];o=[v,e]}}else if(u=g-(a=(l-d)/(p-h))*v,a<-1||a>1)if(l>d){if(f){if(f[1]>=i)return}else f=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(f){if(f[1]<e)return}else f=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(f){if(f[0]>=r)return}else f=[n,a*n+u];o=[r,a*r+u]}else{if(f){if(f[0]<n)return}else f=[r,a*r+u];o=[n,a*n+u]}return t[0]=f,t[1]=o,!0}function R_(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function L_(t,n){return n[+(n.left!==t.site)]}function D_(t,n){return n[+(n.left===t.site)]}i_.prototype={areaStart:qy,areaEnd:qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},c_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f_(this,this._t0,u_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,f_(this,u_(this,e=a_(this,t,n)),e);break;default:f_(this,this._t0,e=a_(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(s_.prototype=Object.create(c_.prototype)).point=function(t,n){c_.prototype.point.call(this,n,t)},l_.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=d_(t),i=d_(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},p_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},M_.prototype={constructor:M_,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=S_(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(T_(this,e),e=(t=e).U),e.C=!1,r.C=!0,N_(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(N_(this,e),e=(t=e).U),e.C=!1,r.C=!0,T_(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?S_(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,T_(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,N_(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,T_(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,N_(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,T_(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,N_(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var U_,q_=[];function O_(){A_(this),this.x=this.y=this.arc=this.site=this.cy=null}function Y_(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],f=r[0]-a,c=r[1]-u,s=o[0]-a,l=o[1]-u,h=2*(f*l-c*s);if(!(h>=-tb)){var d=f*f+c*c,p=s*s+l*l,v=(l*d-c*p)/h,g=(f*p-s*d)/h,y=q_.pop()||new O_;y.arc=t,y.site=i,y.x=v+a,y.y=(y.cy=g+u)+Math.sqrt(v*v+g*g),t.circle=y;for(var _=null,b=Q_._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){_=b.P;break}b=b.L}else{if(!b.R){_=b;break}b=b.R}Q_.insert(_,y),_||(U_=y)}}}}function B_(t){var n=t.circle;n&&(n.P||(U_=n.N),Q_.remove(n),q_.push(n),A_(n),t.circle=null)}var F_=[];function I_(){A_(this),this.edge=this.site=this.circle=null}function H_(t){var n=F_.pop()||new I_;return n.site=t,n}function j_(t){B_(t),W_.remove(t),F_.push(t),A_(t)}function X_(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];j_(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<K_&&Math.abs(r-f.circle.cy)<K_;)o=f.P,u.unshift(f),j_(f),f=o;u.unshift(f),B_(f);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<K_&&Math.abs(r-c.circle.cy)<K_;)a=c.N,u.push(c),j_(c),c=a;u.push(c),B_(c);var s,l=u.length;for(s=1;s<l;++s)c=u[s],f=u[s-1],C_(c.edge,f.site,c.site,i);f=u[0],(c=u[l-1]).edge=E_(f.site,c.site,null,i),Y_(f),Y_(c)}function G_(t){for(var n,e,r,i,o=t[0],a=t[1],u=W_._;u;)if((r=V_(u,a)-o)>K_)u=u.L;else{if(!((i=o-$_(u,a))>K_)){r>-K_?(n=u.P,e=u):i>-K_?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Z_[t.index]={site:t,halfedges:[]}}(t);var f=H_(t);if(W_.insert(n,f),n||e){if(n===e)return B_(n),e=H_(n.site),W_.insert(f,e),f.edge=e.edge=E_(n.site,f.site),Y_(n),void Y_(e);if(e){B_(n),B_(e);var c=n.site,s=c[0],l=c[1],h=t[0]-s,d=t[1]-l,p=e.site,v=p[0]-s,g=p[1]-l,y=2*(h*g-d*v),_=h*h+d*d,b=v*v+g*g,m=[(g*_-d*b)/y+s,(h*b-v*_)/y+l];C_(e.edge,c,p,m),f.edge=E_(c,t,null,m),e.edge=E_(t,p,null,m),Y_(n),Y_(e)}else f.edge=E_(n.site,f.site)}}function V_(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],f=e[1],c=f-n;if(!c)return u;var s=u-r,l=1/o-1/c,h=s/c;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*c)-f+c/2+i-o/2)))/l+r:(r+u)/2}function $_(t,n){var e=t.N;if(e)return V_(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var W_,Z_,Q_,J_,K_=1e-6,tb=1e-12;function nb(t,n){return n[1]-t[1]||n[0]-t[0]}function eb(t,n){var e,r,i,o=t.sort(nb).pop();for(J_=[],Z_=new Array(t.length),W_=new M_,Q_=new M_;;)if(i=U_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(G_(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;X_(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Z_.length;i<o;++i)if((t=Z_[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=R_(t,J_[n[e]]);for(a.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],f=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=J_.length;o--;)z_(i=J_[o],t,n,e,r)&&P_(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>K_||Math.abs(i[0][1]-i[1][1])>K_)||delete J_[o]}(a,u,f,c),function(t,n,e,r){var i,o,a,u,f,c,s,l,h,d,p,v,g=Z_.length,y=!0;for(i=0;i<g;++i)if(o=Z_[i]){for(a=o.site,u=(f=o.halfedges).length;u--;)J_[f[u]]||f.splice(u,1);for(u=0,c=f.length;u<c;)p=(d=D_(o,J_[f[u]]))[0],v=d[1],l=(s=L_(o,J_[f[++u%c]]))[0],h=s[1],(Math.abs(p-l)>K_||Math.abs(v-h)>K_)&&(f.splice(u,0,J_.push(k_(a,d,Math.abs(p-t)<K_&&r-v>K_?[t,Math.abs(l-t)<K_?h:r]:Math.abs(v-r)<K_&&e-p>K_?[Math.abs(h-r)<K_?l:e,r]:Math.abs(p-e)<K_&&v-n>K_?[e,Math.abs(l-e)<K_?h:n]:Math.abs(v-n)<K_&&p-t>K_?[Math.abs(h-n)<K_?l:t,n]:null))-1),++c);c&&(y=!1)}if(y){var _,b,m,x=1/0;for(i=0,y=null;i<g;++i)(o=Z_[i])&&(m=(_=(a=o.site)[0]-t)*_+(b=a[1]-n)*b)<x&&(x=m,y=o);if(y){var w=[t,n],M=[t,r],A=[e,r],T=[e,n];y.halfedges.push(J_.push(k_(a=y.site,w,M))-1,J_.push(k_(a,M,A))-1,J_.push(k_(a,A,T))-1,J_.push(k_(a,T,w))-1)}}for(i=0;i<g;++i)(o=Z_[i])&&(o.halfedges.length||delete Z_[i])}(a,u,f,c)}this.edges=J_,this.cells=Z_,W_=Q_=J_=Z_=null}function rb(t){return function(){return t}}function ib(t,n,e){this.target=t,this.type=n,this.transform=e}function ob(t,n,e){this.k=t,this.x=n,this.y=e}eb.prototype={constructor:eb,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return L_(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,f,c,s=e.site,l=-1,h=n[i[o-1]],d=h.left===s?h.right:h.left;++l<o;)a=d,d=(h=n[i[l]]).left===s?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(f=a,c=d,((u=s)[0]-c[0])*(f[1]-u[1])-(u[0]-f[0])*(c[1]-u[1])<0)&&t.push([s.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var f=t-i.site[0],c=n-i.site[1],s=f*f+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var f=t-u[0],c=n-u[1],l=f*f+c*c;l<s&&(s=l,a=u.index)}})}while(null!==a);return o._found=r,null==e||s<=e*e?i.site:null}},ob.prototype={constructor:ob,scale:function(t){return 1===t?this:new ob(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ob(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ab=new ob(1,0,0);function ub(t){return t.__zoom||ab}function fb(){t.event.stopImmediatePropagation()}function cb(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function sb(){return!t.event.button}function lb(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function hb(){return this.__zoom||ab}function db(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function pb(){return"ontouchstart"in this}function vb(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}ub.prototype=ob.prototype,t.version="5.7.0",t.bisect=i,t.bisectRight=i,t.bisectLeft=o,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var r,i,o,u,f=t.length,c=n.length,s=new Array(f*c);for(null==e&&(e=a),r=o=0;r<f;++r)for(u=t[r],i=0;i<c;++i,++o)s[o]=e(u,n[i]);return s},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=c,t.extent=s,t.histogram=function(){var t=v,n=s,e=M;function r(r){var o,a,u=r.length,f=new Array(u);for(o=0;o<u;++o)f[o]=t(r[o],o,r);var c=n(f),s=c[0],l=c[1],h=e(f,s,l);Array.isArray(h)||(h=w(s,l,h),h=g(Math.ceil(s/h)*h,l,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var p,v=new Array(d+1);for(o=0;o<=d;++o)(p=v[o]=[]).x0=o>0?h[o-1]:s,p.x1=o<d?h[o]:l;for(o=0;o<u;++o)s<=(a=f[o])&&a<=l&&v[i(h,a,0,d)].push(r[o]);return v}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:p(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:p([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?p(h.call(t)):p(t),r):e},r},t.thresholdFreedmanDiaconis=function(t,e,r){return t=d.call(t,u).sort(n),Math.ceil((r-e)/(2*(A(t,.75)-A(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=M,t.max=T,t.mean=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=u(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=u(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},t.median=function(t,e){var r,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(r=u(t[o]))||a.push(r);else for(;++o<i;)isNaN(r=u(e(t[o],o,t)))||a.push(r);return A(a.sort(n),.5)},t.merge=N,t.min=S,t.pairs=function(t,n){null==n&&(n=a);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=A,t.range=g,t.scan=function(t,e){if(r=t.length){var r,i,o=0,a=0,u=t[a];for(null==e&&(e=n);++o<r;)(e(i=t[o],u)<0||0!==e(u,u))&&(u=i,a=o);return 0===e(u,u)?a:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=m,t.tickIncrement=x,t.tickStep=w,t.transpose=E,t.variance=f,t.zip=function(){return E(arguments)},t.axisTop=function(t){return B(z,t)},t.axisRight=function(t){return B(R,t)},t.axisBottom=function(t){return B(L,t)},t.axisLeft=function(t){return B(D,t)},t.brush=function(){return Ri(wi)},t.brushX=function(){return Ri(mi)},t.brushY=function(){return Ri(xi)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){var t=0,n=null,e=null,r=null;function i(i){var o,a,u,f,c,s,l=i.length,h=[],d=g(l),p=[],v=[],y=v.groups=new Array(l),_=new Array(l*l);for(o=0,c=-1;++c<l;){for(a=0,s=-1;++s<l;)a+=i[c][s];h.push(a),p.push(g(l)),o+=a}for(n&&d.sort(function(t,e){return n(h[t],h[e])}),e&&p.forEach(function(t,n){t.sort(function(t,r){return e(i[n][t],i[n][r])})}),f=(o=Yi(0,Oi-t*l)/o)?t:Oi/l,a=0,c=-1;++c<l;){for(u=a,s=-1;++s<l;){var b=d[c],m=p[b][s],x=i[b][m],w=a,M=a+=x*o;_[m*l+b]={index:b,subindex:m,startAngle:w,endAngle:M,value:x}}y[b]={index:b,startAngle:u,endAngle:a,value:h[b]},a+=f}for(c=-1;++c<l;)for(s=c-1;++s<l;){var A=_[s*l+c],T=_[c*l+s];(A.value||T.value)&&v.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}return r?v.sort(r):v}return i.padAngle=function(n){return arguments.length?(t=Yi(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(n=t,r=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,i):r&&r._;var n},i},t.ribbon=function(){var t=Vi,n=$i,e=Wi,r=Zi,i=Qi,o=null;function a(){var a,u=Bi.call(arguments),f=t.apply(this,u),c=n.apply(this,u),s=+e.apply(this,(u[0]=f,u)),l=r.apply(this,u)-qi,h=i.apply(this,u)-qi,d=s*Li(l),p=s*Di(l),v=+e.apply(this,(u[0]=c,u)),g=r.apply(this,u)-qi,y=i.apply(this,u)-qi;if(o||(o=a=Gi()),o.moveTo(d,p),o.arc(0,0,s,l,h),l===g&&h===y||(o.quadraticCurveTo(0,0,v*Li(g),v*Di(g)),o.arc(0,0,v,g,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Fi(+t),a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Fi(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Fi(+t),a):i},a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(t){return arguments.length?(n=t,a):n},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},t.nest=function(){var t,n,e,r=[],i=[];function o(e,i,a,u){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var f,c,s,l=-1,h=e.length,d=r[i++],p=Ki(),v=a();++l<h;)(s=p.get(f=d(c=e[l])+""))?s.push(c):p.set(f,[c]);return p.each(function(t,n){u(v,n,o(t,i,a,u))}),v}return e={object:function(t){return o(t,0,to,no)},map:function(t){return o(t,0,eo,ro)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var a,u=i[o-1];return null!=n&&o>=r.length?a=e.entries():(a=[],e.each(function(n,e){a.push({key:e,values:t(n,o)})})),null!=u?a.sort(function(t,n){return u(t.key,n.key)}):a}(o(t,0,eo,ro),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}},t.set=ao,t.map=Ki,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=vn,t.rgb=bn,t.hsl=Mn,t.lab=Un,t.hcl=Hn,t.lch=function(t,n,e,r){return 1===arguments.length?In(t):new jn(e,n,t,null==r?1:r)},t.gray=function(t,n){return new qn(t,0,0,null==n?1:n)},t.cubehelix=Kn,t.contours=go,t.contourDensity=function(){var t=bo,n=mo,e=xo,r=960,i=500,o=20,a=2,u=3*o,f=r+2*u>>a,c=i+2*u>>a,s=co(20);function l(r){var i=new Float32Array(f*c),l=new Float32Array(f*c);r.forEach(function(r,o,s){var l=+t(r,o,s)+u>>a,h=+n(r,o,s)+u>>a,d=+e(r,o,s);l>=0&&l<f&&h>=0&&h<c&&(i[l+h*f]+=d)}),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a),yo({width:f,height:c,data:i},{width:f,height:c,data:l},o>>a),_o({width:f,height:c,data:l},{width:f,height:c,data:i},o>>a);var d=s(i);if(!Array.isArray(d)){var p=T(i);d=w(0,p,d),(d=g(0,Math.floor(p/d)*d,d)).shift()}return go().thresholds(d).size([f,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function y(){return f=r+2*(u=3*o)>>a,c=i+2*u>>a,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:co(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:co(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:co(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,y()},l.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),y()},l.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?co(uo.call(t)):co(t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},l},t.dispatch=I,t.drag=function(){var n,e,r,i,o=Wt,a=Zt,u=Qt,f=Jt,c={},s=I("start","drag","end"),l=0,h=0;function d(t){t.on("mousedown.drag",p).filter(f).on("touchstart.drag",y).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&o.apply(this,arguments)){var u=m("mouse",a.apply(this,arguments),Ft,this,arguments);u&&(Dt(t.event.view).on("mousemove.drag",v,!0).on("mouseup.drag",g,!0),Xt(t.event.view),Ht(),r=!1,n=t.event.clientX,e=t.event.clientY,u("start"))}}function v(){if(jt(),!r){var i=t.event.clientX-n,o=t.event.clientY-e;r=i*i+o*o>h}c.mouse("drag")}function g(){Dt(t.event.view).on("mousemove.drag mouseup.drag",null),Gt(t.event.view,r),jt(),c.mouse("end")}function y(){if(o.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=a.apply(this,arguments),u=r.length;for(n=0;n<u;++n)(e=m(r[n].identifier,i,It,this,arguments))&&(Ht(),e("start"))}}function _(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(jt(),e("drag"))}function b(){var n,e,r=t.event.changedTouches,o=r.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),n=0;n<o;++n)(e=c[r[n].identifier])&&(Ht(),e("end"))}function m(n,e,r,i,o){var a,f,h,p=r(e,n),v=s.copy();if(Ct(new $t(d,"beforestart",a,n,l,p[0],p[1],0,0,v),function(){return null!=(t.event.subject=a=u.apply(i,o))&&(f=a.x-p[0]||0,h=a.y-p[1]||0,!0)}))return function t(u){var s,g=p;switch(u){case"start":c[n]=t,s=l++;break;case"end":delete c[n],--l;case"drag":p=r(e,n),s=l}Ct(new $t(d,u,a,n,s,p[0]+f,p[1]+h,p[0]-g[0],p[1]-g[1],v),v.apply,v,[u,i,o])}}return d.filter=function(t){return arguments.length?(o="function"==typeof t?t:Vt(!!t),d):o},d.container=function(t){return arguments.length?(a="function"==typeof t?t:Vt(t),d):a},d.subject=function(t){return arguments.length?(u="function"==typeof t?t:Vt(t),d):u},d.touchable=function(t){return arguments.length?(f="function"==typeof t?t:Vt(!!t),d):f},d.on=function(){var t=s.on.apply(s,arguments);return t===s?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},t.dragDisable=Xt,t.dragEnable=Gt,t.dsvFormat=Eo,t.csvParse=Co,t.csvParseRows=Po,t.csvFormat=zo,t.csvFormatRows=Ro,t.tsvParse=Do,t.tsvParseRows=Uo,t.tsvFormat=qo,t.tsvFormatRows=Oo,t.easeLinear=function(t){return+t},t.easeQuad=Dr,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=Dr,t.easeCubic=Ur,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Ur,t.easePoly=Yr,t.easePolyIn=qr,t.easePolyOut=Or,t.easePolyInOut=Yr,t.easeSin=Ir,t.easeSinIn=function(t){return 1-Math.cos(t*Fr)},t.easeSinOut=function(t){return Math.sin(t*Fr)},t.easeSinInOut=Ir,t.easeExp=Hr,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Hr,t.easeCircle=jr,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=jr,t.easeBounce=ni,t.easeBounceIn=function(t){return 1-ni(1-t)},t.easeBounceOut=ni,t.easeBounceInOut=function(t){return((t*=2)<=1?1-ni(1-t):ni(t-1)+1)/2},t.easeBack=ii,t.easeBackIn=ei,t.easeBackOut=ri,t.easeBackInOut=ii,t.easeElastic=ui,t.easeElasticIn=ai,t.easeElasticOut=ui,t.easeElasticInOut=fi,t.blob=function(t,n){return fetch(t,n).then(Yo)},t.buffer=function(t,n){return fetch(t,n).then(Bo)},t.dsv=function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Eo(t);return Io(n,e).then(function(t){return i.parse(t,r)})},t.csv=jo,t.tsv=Xo,t.image=function(t,n){return new Promise(function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t})},t.json=function(t,n){return fetch(t,n).then(Go)},t.text=Io,t.xml=$o,t.html=Wo,t.svg=Zo,t.forceCenter=function(t,n){var e;function r(){var r,i,o=e.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=e[r]).x,u+=i.y;for(a=a/o-t,u=u/o-n,r=0;r<o;++r)(i=e[r]).x-=a,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},t.forceCollide=function(t){var n,e,r=1,i=1;function o(){for(var t,o,u,f,c,s,l,h=n.length,d=0;d<i;++d)for(o=ra(n,ua,fa).visitAfter(a),t=0;t<h;++t)u=n[t],s=e[u.index],l=s*s,f=u.x+u.vx,c=u.y+u.vy,o.visit(p);function p(t,n,e,i,o){var a=t.data,h=t.r,d=s+h;if(!a)return n>f+d||i<f-d||e>c+d||o<c-d;if(a.index>u.index){var p=f-a.x-a.vx,v=c-a.y-a.vy,g=p*p+v*v;g<d*d&&(0===p&&(g+=(p=Jo())*p),0===v&&(g+=(v=Jo())*v),g=(d-(g=Math.sqrt(g)))/g*r,u.vx+=(p*=g)*(d=(h*=h)/(l+h)),u.vy+=(v*=g)*d,a.vx-=p*(d=1-d),a.vy-=v*d)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=Qo(null==t?1:+t)),o.initialize=function(t){n=t,u()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),u(),o):t},o},t.forceLink=function(t){var n,e,r,i,o,a=ca,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=Qo(30),c=1;function s(r){for(var i=0,a=t.length;i<c;++i)for(var u,f,s,l,h,d,p,v=0;v<a;++v)f=(u=t[v]).source,l=(s=u.target).x+s.vx-f.x-f.vx||Jo(),h=s.y+s.vy-f.y-f.vy||Jo(),l*=d=((d=Math.sqrt(l*l+h*h))-e[v])/d*r*n[v],h*=d,s.vx-=l*(p=o[v]),s.vy-=h*p,f.vx+=l*(p=1-p),f.vy+=h*p}function l(){if(r){var u,f,c=r.length,s=t.length,l=Ki(r,a);for(u=0,i=new Array(c);u<s;++u)(f=t[u]).index=u,"object"!=typeof f.source&&(f.source=sa(l,f.source)),"object"!=typeof f.target&&(f.target=sa(l,f.target)),i[f.source.index]=(i[f.source.index]||0)+1,i[f.target.index]=(i[f.target.index]||0)+1;for(u=0,o=new Array(s);u<s;++u)f=t[u],o[u]=i[f.source.index]/(i[f.source.index]+i[f.target.index]);n=new Array(s),h(),e=new Array(s),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),s.initialize=function(t){r=t,l()},s.links=function(n){return arguments.length?(t=n,l(),s):t},s.id=function(t){return arguments.length?(a=t,s):a},s.iterations=function(t){return arguments.length?(c=+t,s):c},s.strength=function(t){return arguments.length?(u="function"==typeof t?t:Qo(+t),h(),s):u},s.distance=function(t){return arguments.length?(f="function"==typeof t?t:Qo(+t),d(),s):f},s},t.forceManyBody=function(){var t,n,e,r,i=Qo(-30),o=1,a=1/0,u=.81;function f(r){var i,o=t.length,a=ra(t,la,ha).visitAfter(s);for(e=r,i=0;i<o;++i)n=t[i],a.visit(l)}function c(){if(t){var n,e,o=t.length;for(r=new Array(o),n=0;n<o;++n)e=t[n],r[e.index]=+i(e,n,t)}}function s(t){var n,e,i,o,a,u=0,f=0;if(t.length){for(i=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,f+=e,i+=e*n.x,o+=e*n.y);t.x=i/f,t.y=o/f}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function l(t,i,f,c){if(!t.value)return!0;var s=t.x-n.x,l=t.y-n.y,h=c-i,d=s*s+l*l;if(h*h/u<d)return d<a&&(0===s&&(d+=(s=Jo())*s),0===l&&(d+=(l=Jo())*l),d<o&&(d=Math.sqrt(o*d)),n.vx+=s*t.value*e/d,n.vy+=l*t.value*e/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===s&&(d+=(s=Jo())*s),0===l&&(d+=(l=Jo())*l),d<o&&(d=Math.sqrt(o*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=s*h,n.vy+=l*h)}while(t=t.next)}}return f.initialize=function(n){t=n,c()},f.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),c(),f):i},f.distanceMin=function(t){return arguments.length?(o=t*t,f):Math.sqrt(o)},f.distanceMax=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.theta=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f},t.forceRadial=function(t,n,e){var r,i,o,a=Qo(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var f=r[a],c=f.x-n||1e-6,s=f.y-e||1e-6,l=Math.sqrt(c*c+s*s),h=(o[a]-l)*i[a]*t/l;f.vx+=c*h,f.vy+=s*h}}function f(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=Qo(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,f()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:Qo(+t),f(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),f(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},t.forceSimulation=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=Ki(),f=ur(s),c=I("tick","end");function s(){l(),c.call("tick",n),e<r&&(f.stop(),c.call("end",n))}function l(){var n,r,f=t.length;for(e+=(o-e)*i,u.each(function(t){t(e)}),n=0;n<f;++n)null==(r=t[n]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var i=da*Math.sqrt(e),o=e*pa;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:l,restart:function(){return f.restart(s),n},stop:function(){return f.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,f,c=0,s=t.length;for(null==r?r=1/0:r*=r,c=0;c<s;++c)(a=(i=n-(u=t[c]).x)*i+(o=e-u.y)*o)<r&&(f=u,r=a);return f},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},t.forceX=function(t){var n,e,r,i=Qo(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Qo(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),a(),o):t},o},t.forceY=function(t){var n,e,r,i=Qo(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Qo(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qo(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),a(),o):t},o},t.formatDefaultLocale=Sa,t.formatLocale=Na,t.formatSpecifier=ba,t.precisionFixed=Ea,t.precisionPrefix=ka,t.precisionRound=Ca,t.geoArea=function(t){return yu.reset(),su(t,_u),2*yu},t.geoBounds=function(t){var n,e,r,i,o,a,u;if(Ru=zu=-(Cu=Pu=1/0),Ou=[],su(t,rf),e=Ou.length){for(Ou.sort(df),n=1,o=[r=Ou[0]];n<e;++n)pf(r,(i=Ou[n])[0])||pf(r,i[1])?(hf(r[0],i[1])>hf(r[0],r[1])&&(r[1]=i[1]),hf(i[0],r[1])>hf(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=hf(r[1],i[0]))>a&&(a=u,Cu=i[0],zu=r[1])}return Ou=Yu=null,Cu===1/0||Pu===1/0?[[NaN,NaN],[NaN,NaN]]:[[Cu,Pu],[zu,Ru]]},t.geoCentroid=function(t){Bu=Fu=Iu=Hu=ju=Xu=Gu=Vu=$u=Wu=Zu=0,su(t,vf);var n=$u,e=Wu,r=Zu,i=n*n+e*e+r*r;return i<Ua&&(n=Xu,e=Gu,r=Vu,Fu<Da&&(n=Iu,e=Hu,r=ju),(i=n*n+e*e+r*r)<Ua)?[NaN,NaN]:[Xa(e,n)*Fa,eu(r/Ka(i))*Fa]},t.geoCircle=function(){var t,n,e=Nf([0,0]),r=Nf(90),i=Nf(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Fa,e[1]*=Fa}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*Ia,f=i.apply(this,arguments)*Ia;return t=[],n=kf(-a[0]*Ia,-a[1]*Ia,0).invert,Lf(o,u,f,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:Nf([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Nf(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Nf(+t),a):i},a},t.geoClipAntimeridian=Gf,t.geoClipCircle=Vf,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Zf(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},t.geoClipRectangle=Zf,t.geoContains=function(t,n){return(t&&cc.hasOwnProperty(t.type)?cc[t.type]:lc)(t,n)},t.geoDistance=fc,t.geoGraticule=bc,t.geoGraticule10=function(){return bc()()},t.geoInterpolate=function(t,n){var e=t[0]*Ia,r=t[1]*Ia,i=n[0]*Ia,o=n[1]*Ia,a=Ga(r),u=Qa(r),f=Ga(o),c=Qa(o),s=a*Ga(e),l=a*Qa(e),h=f*Ga(i),d=f*Qa(i),p=2*eu(Ka(ru(o-r)+a*f*ru(i-e))),v=Qa(p),g=p?function(t){var n=Qa(t*=p)/v,e=Qa(p-t)/v,r=e*s+n*h,i=e*l+n*d,o=e*u+n*c;return[Xa(i,r)*Fa,Xa(o,Ka(r*r+i*i))*Fa]}:function(){return[e*Fa,r*Fa]};return g.distance=p,g},t.geoLength=oc,t.geoPath=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),su(t,e(r))),r.result()}return o.area=function(t){return su(t,e(Sc)),Sc.result()},o.measure=function(t){return su(t,e(ds)),ds.result()},o.bounds=function(t){return su(t,e(Uc)),Uc.result()},o.centroid=function(t){return su(t,e(Zc)),Zc.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,mc):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new gs):new as(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},t.geoAlbers=Ds,t.geoAlbersUsa=function(){var t,n,e,r,i,o,a=Ds(),u=Ls().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Ls().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),f.precision(t),l()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),f.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(c),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Da,s+.12*n+Da],[o-.214*n-Da,s+.234*n-Da]]).stream(c),i=f.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Da,s+.166*n+Da],[o-.115*n-Da,s+.234*n-Da]]).stream(c),l()},s.fitExtent=function(t,n){return xs(s,t,n)},s.fitSize=function(t,n){return ws(s,t,n)},s.fitWidth=function(t,n){return Ms(s,t,n)},s.fitHeight=function(t,n){return As(s,t,n)},s.scale(1070)},t.geoAzimuthalEqualArea=function(){return Cs(Os).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Os,t.geoAzimuthalEquidistant=function(){return Cs(Ys).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Ys,t.geoConicConformal=function(){return zs(Hs).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Hs,t.geoConicEqualArea=Ls,t.geoConicEqualAreaRaw=Rs,t.geoConicEquidistant=function(){return zs(Xs).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Xs,t.geoEqualEarth=function(){return Cs(Qs).scale(177.158)},t.geoEqualEarthRaw=Qs,t.geoEquirectangular=function(){return Cs(js).scale(152.63)},t.geoEquirectangularRaw=js,t.geoGnomonic=function(){return Cs(Js).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Js,t.geoIdentity=function(){var t,n,e,r,i,o,a=1,u=0,f=0,c=1,s=1,l=mc,h=null,d=mc;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=l(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,mc):Zf(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(l=Ks((a=+t)*c,a*s,u,f),p()):a},translate:function(t){return arguments.length?(l=Ks(a*c,a*s,u=+t[0],f=+t[1]),p()):[u,f]},reflectX:function(t){return arguments.length?(l=Ks(a*(c=t?-1:1),a*s,u,f),p()):c<0},reflectY:function(t){return arguments.length?(l=Ks(a*c,a*(s=t?-1:1),u,f),p()):s<0},fitExtent:function(t,n){return xs(o,t,n)},fitSize:function(t,n){return ws(o,t,n)},fitWidth:function(t,n){return Ms(o,t,n)},fitHeight:function(t,n){return As(o,t,n)}}},t.geoProjection=Cs,t.geoProjectionMutator=Ps,t.geoMercator=function(){return Fs(Bs).scale(961/Ba)},t.geoMercatorRaw=Bs,t.geoNaturalEarth1=function(){return Cs(tl).scale(175.295)},t.geoNaturalEarth1Raw=tl,t.geoOrthographic=function(){return Cs(nl).scale(249.5).clipAngle(90+Da)},t.geoOrthographicRaw=nl,t.geoStereographic=function(){return Cs(el).scale(250).clipAngle(142)},t.geoStereographicRaw=el,t.geoTransverseMercator=function(){var t=Fs(rl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=rl,t.geoRotation=Rf,t.geoStream=su,t.geoTransform=function(t){return{stream:_s(t)}},t.cluster=function(){var t=il,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(ol,0)/t.length}(e),n.y=function(t){return 1+t.reduce(al,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)});var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),f=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=u.x-t(u,f)/2,s=f.x+t(f,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(s-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.hierarchy=fl,t.pack=function(){var t=null,n=1,e=1,r=El;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(Pl(t)).eachAfter(zl(r,.5)).eachBefore(Rl(1)):i.eachBefore(Pl(Cl)).eachAfter(zl(El,1)).eachAfter(zl(r,i.r/Math.min(n,e))).eachBefore(Rl(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:Sl(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:kl(+t),i):r},i},t.packSiblings=function(t){return Nl(t),t},t.packEnclose=pl,t.partition=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Dl(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Ll),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},t.stratify=function(){var t=Yl,n=Bl;function e(e){var r,i,o,a,u,f,c,s=e.length,l=new Array(s),h={};for(i=0;i<s;++i)r=e[i],u=l[i]=new hl(r),null!=(f=t(r,i,e))&&(f+="")&&(h[c=Ul+(u.id=f)]=c in h?Ol:u);for(i=0;i<s;++i)if(u=l[i],null!=(f=n(e[i],i,e))&&(f+="")){if(!(a=h[Ul+f]))throw new Error("missing: "+f);if(a===Ol)throw new Error("ambiguous: "+f);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=ql,o.eachBefore(function(t){t.depth=t.parent.depth+1,--s}).eachBefore(ll),o.parent=null,s>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=Sl(n),e):t},e.parentId=function(t){return arguments.length?(n=Sl(t),e):n},e},t.tree=function(){var t=Fl,n=1,e=1,r=null;function i(i){var f=function(t){for(var n,e,r,i,o,a=new Gl(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Gl(r[i],i)),e.parent=n;return(a.parent=new Gl(null,0)).children=[a],a}(i);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(a),r)i.eachBefore(u);else{var c=i,s=i,l=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)});var h=c===s?1:t(c,s)/2,d=h-c.x,p=n/(s.x+h+d),v=e/(l.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,f=o.parent.children[0],c=o.m,s=a.m,l=u.m,h=f.m;u=Hl(u),o=Il(o),u&&o;)f=Il(f),(a=Hl(a)).a=n,(i=u.z+l-o.z-c+t(u._,o._))>0&&(jl(Xl(u,n,r),n,i),c+=i,s+=i),l+=u.m,c+=o.m,h+=f.m,s+=a.m;u&&!Hl(a)&&(a.t=u,a.m+=l-s),o&&!Il(f)&&(f.t=o,f.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.treemap=function(){var t=Zl,n=!1,e=1,r=1,i=[0],o=El,a=El,u=El,f=El,c=El;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Ll),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=c(n)-e,s+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=f(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=Sl(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:kl(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:kl(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:kl(+t),s):u},s.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:kl(+t),s):f},s.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:kl(+t),s):c},s},t.treemapBinary=function(t,n,e,r,i){var o,a,u=t.children,f=u.length,c=new Array(f+1);for(c[0]=a=o=0;o<f;++o)c[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,f){if(n>=e-1){var s=u[n];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=f)}for(var l=c[n],h=r/2+l,d=n+1,p=e-1;d<p;){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&n+1<d&&--d;var g=c[d]-l,y=r-g;if(a-i>f-o){var _=(i*y+a*g)/r;t(n,d,g,i,o,_,f),t(d,e,y,_,o,a,f)}else{var b=(o*y+f*g)/r;t(n,d,g,i,o,a,b),t(d,e,y,i,b,a,f)}}(0,f,t.value,n,e,r,i)},t.treemapDice=Dl,t.treemapSlice=Vl,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Vl:Dl)(t,n,e,r,i)},t.treemapSquarify=Zl,t.treemapResquarify=Ql,t.interpolate=me,t.interpolateArray=de,t.interpolateBasis=ee,t.interpolateBasisClosed=re,t.interpolateDate=pe,t.interpolateDiscrete=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},t.interpolateHue=function(t,n){var e=ae(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},t.interpolateNumber=ve,t.interpolateObject=ge,t.interpolateRound=xe,t.interpolateString=be,t.interpolateTransformCss=Ce,t.interpolateTransformSvg=Pe,t.interpolateZoom=qe,t.interpolateRgb=ce,t.interpolateRgbBasis=le,t.interpolateRgbBasisClosed=he,t.interpolateHsl=Ye,t.interpolateHslLong=Be,t.interpolateLab=function(t,n){var e=fe((t=Un(t)).l,(n=Un(n)).l),r=fe(t.a,n.a),i=fe(t.b,n.b),o=fe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=Ie,t.interpolateHclLong=He,t.interpolateCubehelix=Xe,t.interpolateCubehelixLong=Ge,t.piecewise=function(t,n){for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}},t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=Gi,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],f=0;++r<i;)n=u,u=t[r],f+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(f*=3),a/f]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Jl),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Kl(r),a=Kl(i),u=a[0]===o[0],f=a[a.length-1]===o[o.length-1],c=[];for(n=o.length-1;n>=0;--n)c.push(t[r[o[n]][2]]);for(n=+u;n<a.length-f;++n)c.push(t[r[a[n]][2]]);return c},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],f=o[0],c=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=c>u&&a<(f-e)*(u-r)/(c-r)+e&&(s=!s),f=e,c=r;return s},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],f=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],f+=Math.sqrt(n*n+e*e);return f},t.quadtree=ra,t.randomUniform=nh,t.randomNormal=eh,t.randomLogNormal=rh,t.randomBates=oh,t.randomIrwinHall=ih,t.randomExponential=ah,t.scaleBand=hh,t.scalePoint=function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(hh().paddingInner(1))},t.scaleIdentity=function t(){var n=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=fh.call(t,ph),e):n.slice()},e.copy=function(){return t().domain(n)},xh(e)},t.scaleLinear=function t(){var n=mh(gh,ve);return n.copy=function(){return bh(n,t())},xh(n)},t.scaleLog=function n(){var e=mh(Mh,Ah).domain([1,10]),r=e.domain,i=10,o=Sh(10),a=Nh(10);function u(){return o=Sh(i),a=Nh(i),r()[0]<0&&(o=Eh(o),a=Eh(a)),e}return e.base=function(t){return arguments.length?(i=+t,u()):i},e.domain=function(t){return arguments.length?(r(t),u()):r()},e.ticks=function(t){var n,e=r(),u=e[0],f=e[e.length-1];(n=f<u)&&(h=u,u=f,f=h);var c,s,l,h=o(u),d=o(f),p=null==t?10:+t,v=[];if(!(i%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(s=1,c=a(h);s<i;++s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else for(;h<d;++h)for(s=i-1,c=a(h);s>=1;--s)if(!((l=c*s)<u)){if(l>f)break;v.push(l)}}else v=m(h,d,Math.min(d-h,p)).map(a);return n?v.reverse():v},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var u=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/a(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=u?r(t):""}},e.nice=function(){return r(wh(r(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},e.copy=function(){return bh(e,n().base(i))},e},t.scaleOrdinal=lh,t.scaleImplicit=sh,t.scalePow=Ch,t.scaleSqrt=function(){return Ch().exponent(.5)},t.scaleQuantile=function t(){var e=[],r=[],o=[];function a(){var t=0,n=Math.max(1,r.length);for(o=new Array(n-1);++t<n;)o[t-1]=A(e,t/n);return u}function u(t){if(!isNaN(t=+t))return r[i(o,t)]}return u.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},u.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,i=0,o=t.length;i<o;++i)null==(r=t[i])||isNaN(r=+r)||e.push(r);return e.sort(n),a()},u.range=function(t){return arguments.length?(r=ch.call(t),a()):r.slice()},u.quantiles=function(){return o.slice()},u.copy=function(){return t().domain(e).range(r)},u},t.scaleQuantize=function t(){var n=0,e=1,r=1,o=[.5],a=[0,1];function u(t){if(t<=t)return a[i(o,t,0,r)]}function f(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*e-(t-r)*n)/(r+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],f()):[n,e]},u.range=function(t){return arguments.length?(r=(a=ch.call(t)).length-1,f()):a.slice()},u.invertExtent=function(t){var i=a.indexOf(t);return i<0?[NaN,NaN]:i<1?[n,o[0]]:i>=r?[o[r-1],e]:[o[i-1],o[i]]},u.copy=function(){return t().domain([n,e]).range(a)},xh(u)},t.scaleThreshold=function t(){var n=[.5],e=[0,1],r=1;function o(t){if(t<=t)return e[i(n,t,0,r)]}return o.domain=function(t){return arguments.length?(n=ch.call(t),r=Math.min(n.length,e.length-1),o):n.slice()},o.range=function(t){return arguments.length?(e=ch.call(t),r=Math.min(n.length,e.length-1),o):e.slice()},o.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},o.copy=function(){return t().domain(n).range(e)},o},t.scaleTime=function(){return cv(cd,ud,Vh,jh,Ih,Bh,Oh,Lh,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return cv(Ld,zd,_d,vd,dd,ld,Oh,Lh,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(n){var e=0,r=1,i=1,o=!1;function a(t){var r=(t-e)*i;return n(o?Math.max(0,Math.min(1,r)):r)}return a.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=e===r?0:1/(r-e),a):[e,r]},a.clamp=function(t){return arguments.length?(o=!!t,a):o},a.interpolator=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t(n).domain([e,r]).clamp(o)},xh(a)},t.scaleDiverging=function t(n){var e=0,r=.5,i=1,o=1,a=1,u=!1;function f(t){var e=.5+((t=+t)-r)*(t<r?o:a);return n(u?Math.max(0,Math.min(1,e)):e)}return f.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=+t[2],o=e===r?0:.5/(r-e),a=r===i?0:.5/(i-r),f):[e,r,i]},f.clamp=function(t){return arguments.length?(u=!!t,f):u},f.interpolator=function(t){return arguments.length?(n=t,f):n},f.copy=function(){return t(n).domain([e,r,i]).clamp(u)},xh(f)},t.schemeCategory10=lv,t.schemeAccent=hv,t.schemeDark2=dv,t.schemePaired=pv,t.schemePastel1=vv,t.schemePastel2=gv,t.schemeSet1=yv,t.schemeSet2=_v,t.schemeSet3=bv,t.interpolateBrBG=wv,t.schemeBrBG=xv,t.interpolatePRGn=Av,t.schemePRGn=Mv,t.interpolatePiYG=Nv,t.schemePiYG=Tv,t.interpolatePuOr=Ev,t.schemePuOr=Sv,t.interpolateRdBu=Cv,t.schemeRdBu=kv,t.interpolateRdGy=zv,t.schemeRdGy=Pv,t.interpolateRdYlBu=Lv,t.schemeRdYlBu=Rv,t.interpolateRdYlGn=Uv,t.schemeRdYlGn=Dv,t.interpolateSpectral=Ov,t.schemeSpectral=qv,t.interpolateBuGn=Bv,t.schemeBuGn=Yv,t.interpolateBuPu=Iv,t.schemeBuPu=Fv,t.interpolateGnBu=jv,t.schemeGnBu=Hv,t.interpolateOrRd=Gv,t.schemeOrRd=Xv,t.interpolatePuBuGn=$v,t.schemePuBuGn=Vv,t.interpolatePuBu=Zv,t.schemePuBu=Wv,t.interpolatePuRd=Jv,t.schemePuRd=Qv,t.interpolateRdPu=tg,t.schemeRdPu=Kv,t.interpolateYlGnBu=eg,t.schemeYlGnBu=ng,t.interpolateYlGn=ig,t.schemeYlGn=rg,t.interpolateYlOrBr=ag,t.schemeYlOrBr=og,t.interpolateYlOrRd=fg,t.schemeYlOrRd=ug,t.interpolateBlues=sg,t.schemeBlues=cg,t.interpolateGreens=hg,t.schemeGreens=lg,t.interpolateGreys=pg,t.schemeGreys=dg,t.interpolatePurples=gg,t.schemePurples=vg,t.interpolateReds=_g,t.schemeReds=yg,t.interpolateOranges=mg,t.schemeOranges=bg,t.interpolateCubehelixDefault=xg,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ag.h=360*t-100,Ag.s=1.5-1.5*n,Ag.l=.8-.9*n,Ag+""},t.interpolateWarm=wg,t.interpolateCool=Mg,t.interpolateSinebow=function(t){var n;return t=(.5-t)*Math.PI,Tg.r=255*(n=Math.sin(t))*n,Tg.g=255*(n=Math.sin(t+Ng))*n,Tg.b=255*(n=Math.sin(t+Sg))*n,Tg+""},t.interpolateViridis=kg,t.interpolateMagma=Cg,t.interpolateInferno=Pg,t.interpolatePlasma=zg,t.create=function(t){return Dt(W(t).call(document.documentElement))},t.creator=W,t.local=qt,t.matcher=rt,t.mouse=Ft,t.namespace=$,t.namespaces=V,t.clientPoint=Bt,t.select=Dt,t.selectAll=function(t){return"string"==typeof t?new Rt([document.querySelectorAll(t)],[document.documentElement]):new Rt([null==t?[]:t],zt)},t.selection=Lt,t.selector=Q,t.selectorAll=K,t.style=lt,t.touch=It,t.touches=function(t,n){null==n&&(n=Yt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Bt(t,n[e]);return i},t.window=st,t.customEvent=Ct,t.arc=function(){var t=Gg,n=Vg,e=Rg(0),r=null,i=$g,o=Wg,a=Zg,u=null;function f(){var f,c,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-Hg,p=o.apply(this,arguments)-Hg,v=Lg(p-d),g=p>d;if(u||(u=f=Gi()),h<l&&(c=h,h=l,l=c),h>Fg)if(v>jg-Fg)u.moveTo(h*Ug(d),h*Yg(d)),u.arc(0,0,h,d,p,!g),l>Fg&&(u.moveTo(l*Ug(p),l*Yg(p)),u.arc(0,0,l,p,d,g));else{var y,_,b=d,m=p,x=d,w=p,M=v,A=v,T=a.apply(this,arguments)/2,N=T>Fg&&(r?+r.apply(this,arguments):Bg(l*l+h*h)),S=Og(Lg(h-l)/2,+e.apply(this,arguments)),E=S,k=S;if(N>Fg){var C=Xg(N/l*Yg(T)),P=Xg(N/h*Yg(T));(M-=2*C)>Fg?(x+=C*=g?1:-1,w-=C):(M=0,x=w=(d+p)/2),(A-=2*P)>Fg?(b+=P*=g?1:-1,m-=P):(A=0,b=m=(d+p)/2)}var z=h*Ug(b),R=h*Yg(b),L=l*Ug(w),D=l*Yg(w);if(S>Fg){var U=h*Ug(m),q=h*Yg(m),O=l*Ug(x),Y=l*Yg(x);if(v<Ig){var B=M>Fg?function(t,n,e,r,i,o,a,u){var f=e-t,c=r-n,s=a-i,l=u-o,h=(s*(n-o)-l*(t-i))/(l*f-s*c);return[t+h*f,n+h*c]}(z,R,O,Y,U,q,L,D):[L,D],F=z-B[0],I=R-B[1],H=U-B[0],j=q-B[1],X=1/Yg(((s=(F*H+I*j)/(Bg(F*F+I*I)*Bg(H*H+j*j)))>1?0:s<-1?Ig:Math.acos(s))/2),G=Bg(B[0]*B[0]+B[1]*B[1]);E=Og(S,(l-G)/(X-1)),k=Og(S,(h-G)/(X+1))}}A>Fg?k>Fg?(y=Qg(O,Y,z,R,h,k,g),_=Qg(U,q,L,D,h,k,g),u.moveTo(y.cx+y.x01,y.cy+y.y01),k<S?u.arc(y.cx,y.cy,k,Dg(y.y01,y.x01),Dg(_.y01,_.x01),!g):(u.arc(y.cx,y.cy,k,Dg(y.y01,y.x01),Dg(y.y11,y.x11),!g),u.arc(0,0,h,Dg(y.cy+y.y11,y.cx+y.x11),Dg(_.cy+_.y11,_.cx+_.x11),!g),u.arc(_.cx,_.cy,k,Dg(_.y11,_.x11),Dg(_.y01,_.x01),!g))):(u.moveTo(z,R),u.arc(0,0,h,b,m,!g)):u.moveTo(z,R),l>Fg&&M>Fg?E>Fg?(y=Qg(L,D,U,q,l,-E,g),_=Qg(z,R,O,Y,l,-E,g),u.lineTo(y.cx+y.x01,y.cy+y.y01),E<S?u.arc(y.cx,y.cy,E,Dg(y.y01,y.x01),Dg(_.y01,_.x01),!g):(u.arc(y.cx,y.cy,E,Dg(y.y01,y.x01),Dg(y.y11,y.x11),!g),u.arc(0,0,l,Dg(y.cy+y.y11,y.cx+y.x11),Dg(_.cy+_.y11,_.cx+_.x11),g),u.arc(_.cx,_.cy,E,Dg(_.y11,_.x11),Dg(_.y01,_.x01),!g))):u.arc(0,0,l,w,x,g):u.lineTo(L,D)}else u.moveTo(0,0);if(u.closePath(),f)return u=null,f+""||null}return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ig/2;return[Ug(r)*e,Yg(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Rg(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Rg(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),f):i},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Rg(+t),f):o},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Rg(+t),f):a},f.context=function(t){return arguments.length?(u=null==t?null:t,f):u},f},t.area=ry,t.line=ey,t.pie=function(){var t=oy,n=iy,e=null,r=Rg(0),i=Rg(jg),o=Rg(0);function a(a){var u,f,c,s,l,h=a.length,d=0,p=new Array(h),v=new Array(h),g=+r.apply(this,arguments),y=Math.min(jg,Math.max(-jg,i.apply(this,arguments)-g)),_=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=_*(y<0?-1:1);for(u=0;u<h;++u)(l=v[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort(function(t,e){return n(v[t],v[e])}):null!=e&&p.sort(function(t,n){return e(a[t],a[n])}),u=0,c=d?(y-h*b)/d:0;u<h;++u,g=s)f=p[u],s=g+((l=v[f])>0?l*c:0)+b,v[f]={data:a[f],index:u,value:l,startAngle:g,endAngle:s,padAngle:_};return v}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:Rg(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Rg(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Rg(+t),a):o},a},t.areaRadial=ly,t.radialArea=ly,t.lineRadial=sy,t.radialLine=sy,t.pointRadial=hy,t.linkHorizontal=function(){return gy(yy)},t.linkVertical=function(){return gy(_y)},t.linkRadial=function(){var t=gy(by);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var t=Rg(my),n=Rg(64),e=null;function r(){var r;if(e||(e=r=Gi()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:Rg(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Rg(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},t.symbols=Uy,t.symbolCircle=my,t.symbolCross=xy,t.symbolDiamond=Ay,t.symbolSquare=ky,t.symbolStar=Ey,t.symbolTriangle=Py,t.symbolWye=Dy,t.curveBasisClosed=function(t){return new By(t)},t.curveBasisOpen=function(t){return new Fy(t)},t.curveBasis=function(t){return new Yy(t)},t.curveBundle=Hy,t.curveCardinalClosed=$y,t.curveCardinalOpen=Zy,t.curveCardinal=Gy,t.curveCatmullRomClosed=n_,t.curveCatmullRomOpen=r_,t.curveCatmullRom=Ky,t.curveLinearClosed=function(t){return new i_(t)},t.curveLinear=Kg,t.curveMonotoneX=function(t){return new c_(t)},t.curveMonotoneY=function(t){return new s_(t)},t.curveNatural=function(t){return new h_(t)},t.curveStep=function(t){return new p_(t,.5)},t.curveStepAfter=function(t){return new p_(t,1)},t.curveStepBefore=function(t){return new p_(t,0)},t.stack=function(){var t=Rg([]),n=g_,e=v_,r=y_;function i(i){var o,a,u=t.apply(this,arguments),f=i.length,c=u.length,s=new Array(c);for(o=0;o<c;++o){for(var l,h=u[o],d=s[o]=new Array(f),p=0;p<f;++p)d[p]=l=[0,+r(i[p],h,p,i)],l.data=i[p];d.key=h}for(o=0,a=n(s);o<c;++o)s[a[o]].index=o;return e(s,a),s}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:Rg(dy.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Rg(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?g_:"function"==typeof t?t:Rg(dy.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?v_:t,i):e},i},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}v_(t,n)}},t.stackOffsetDiverging=function(t,n){if((u=t.length)>1)for(var e,r,i,o,a,u,f=0,c=t[n[0]].length;f<c;++f)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][f])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=v_,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}v_(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,f=0,c=0;u<i;++u){for(var s=t[n[u]],l=s[a][1]||0,h=(l-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}f+=l,c+=h*l}e[a-1][1]+=e[a-1][0]=o,f&&(o-=c/f)}e[a-1][1]+=e[a-1][0]=o,v_(t,n)}},t.stackOrderAscending=__,t.stackOrderDescending=function(t){return __(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(b_),o=g_(t).sort(function(t,n){return i[n]-i[t]}),a=0,u=0,f=[],c=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],f.push(e)):(u+=i[e],c.push(e));return c.reverse().concat(f)},t.stackOrderNone=g_,t.stackOrderReverse=function(t){return g_(t).reverse()},t.timeInterval=Rh,t.timeMillisecond=Lh,t.timeMilliseconds=Dh,t.utcMillisecond=Lh,t.utcMilliseconds=Dh,t.timeSecond=Oh,t.timeSeconds=Yh,t.utcSecond=Oh,t.utcSeconds=Yh,t.timeMinute=Bh,t.timeMinutes=Fh,t.timeHour=Ih,t.timeHours=Hh,t.timeDay=jh,t.timeDays=Xh,t.timeWeek=Vh,t.timeWeeks=td,t.timeSunday=Vh,t.timeSundays=td,t.timeMonday=$h,t.timeMondays=nd,t.timeTuesday=Wh,t.timeTuesdays=ed,t.timeWednesday=Zh,t.timeWednesdays=rd,t.timeThursday=Qh,t.timeThursdays=id,t.timeFriday=Jh,t.timeFridays=od,t.timeSaturday=Kh,t.timeSaturdays=ad,t.timeMonth=ud,t.timeMonths=fd,t.timeYear=cd,t.timeYears=sd,t.utcMinute=ld,t.utcMinutes=hd,t.utcHour=dd,t.utcHours=pd,t.utcDay=vd,t.utcDays=gd,t.utcWeek=_d,t.utcWeeks=Td,t.utcSunday=_d,t.utcSundays=Td,t.utcMonday=bd,t.utcMondays=Nd,t.utcTuesday=md,t.utcTuesdays=Sd,t.utcWednesday=xd,t.utcWednesdays=Ed,t.utcThursday=wd,t.utcThursdays=kd,t.utcFriday=Md,t.utcFridays=Cd,t.utcSaturday=Ad,t.utcSaturdays=Pd,t.utcMonth=zd,t.utcMonths=Rd,t.utcYear=Ld,t.utcYears=Dd,t.timeFormatDefaultLocale=Qp,t.timeFormatLocale=Yd,t.isoFormat=Jp,t.isoParse=Kp,t.now=ir,t.timer=ur,t.timerFlush=fr,t.timeout=hr,t.interval=function(t,n,e){var r=new ar,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?ir():+e,r.restart(function o(a){a+=i,r.restart(o,i+=n,e),t(a)},n,e),r)},t.transition=zr,t.active=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>gr&&e.name===n)return new Pr([[t]],li,n,+r);return null},t.interrupt=Nr,t.voronoi=function(){var t=x_,n=w_,e=null;function r(r){return new eb(r.map(function(e,i){var o=[Math.round(t(e,i,r)/K_)*K_,Math.round(n(e,i,r)/K_)*K_];return o.index=i,o.data=e,o}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:m_(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:m_(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},t.zoom=function(){var n,e,r=sb,i=lb,o=vb,a=db,u=pb,f=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],s=250,l=qe,h=[],d=I("start","zoom","end"),p=500,v=150,g=0;function y(t){t.property("__zoom",hb).on("wheel.zoom",A).on("mousedown.zoom",T).on("dblclick.zoom",N).filter(u).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,n){return(n=Math.max(f[0],Math.min(f[1],n)))===t.k?t:new ob(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new ob(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=w(this,t),o=i.apply(this,t),a=e||m(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),f=this.__zoom,c="function"==typeof n?n.apply(this,t):n,s=l(f.invert(a).concat(u/f.k),c.invert(a).concat(u/c.k));return function(t){if(1===t)t=c;else{var n=s(t),e=u/n[2];t=new ob(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function w(t,n){for(var e,r=0,i=h.length;r<i;++r)if((e=h[r]).that===t)return e;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=i.apply(t,n)}function A(){if(r.apply(this,arguments)){var t=w(this,arguments),n=this.__zoom,e=Math.max(f[0],Math.min(f[1],n.k*Math.pow(2,a.apply(this,arguments)))),i=Ft(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=n.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[i,n.invert(i)],Nr(this),t.start()}cb(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",o(b(_(n,e),t.mouse[0],t.mouse[1]),t.extent,c))}}function T(){if(!e&&r.apply(this,arguments)){var n=w(this,arguments),i=Dt(t.event.view).on("mousemove.zoom",function(){if(cb(),!n.moved){var e=t.event.clientX-u,r=t.event.clientY-f;n.moved=e*e+r*r>g}n.zoom("mouse",o(b(n.that.__zoom,n.mouse[0]=Ft(n.that),n.mouse[1]),n.extent,c))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),Gt(t.event.view,n.moved),cb(),n.end()},!0),a=Ft(this),u=t.event.clientX,f=t.event.clientY;Xt(t.event.view),fb(),n.mouse=[a,this.__zoom.invert(a)],Nr(this),n.start()}}function N(){if(r.apply(this,arguments)){var n=this.__zoom,e=Ft(this),a=n.invert(e),u=n.k*(t.event.shiftKey?.5:2),f=o(b(_(n,u),e,a),i.apply(this,arguments),c);cb(),s>0?Dt(this).transition().duration(s).call(x,f,e):Dt(this).call(y.transform,f)}}function S(){if(r.apply(this,arguments)){var e,i,o,a,u=w(this,arguments),f=t.event.changedTouches,c=f.length;for(fb(),i=0;i<c;++i)a=[a=It(this,f,(o=f[i]).identifier),this.__zoom.invert(a),o.identifier],u.touch0?u.touch1||(u.touch1=a):(u.touch0=a,e=!0);if(n&&(n=clearTimeout(n),!u.touch1))return u.end(),void((a=Dt(this).on("dblclick.zoom"))&&a.apply(this,arguments));e&&(n=setTimeout(function(){n=null},p),Nr(this),u.start())}}function E(){var e,r,i,a,u=w(this,arguments),f=t.event.changedTouches,s=f.length;for(cb(),n&&(n=clearTimeout(n)),e=0;e<s;++e)i=It(this,f,(r=f[e]).identifier),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var l=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],v=(v=d[0]-l[0])*v+(v=d[1]-l[1])*v,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=_(r,Math.sqrt(v/g)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(b(r,i,a),u.extent,c))}function k(){var n,r,i=w(this,arguments),o=t.event.changedTouches,a=o.length;for(fb(),e&&clearTimeout(e),e=setTimeout(function(){e=null},p),n=0;n<a;++n)r=o[n],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return y.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",hb),t!==e?x(t,n):e.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},y.scaleBy=function(t,n){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},y.scaleTo=function(t,n){y.transform(t,function(){var t=i.apply(this,arguments),e=this.__zoom,r=m(t),a=e.invert(r),u="function"==typeof n?n.apply(this,arguments):n;return o(b(_(e,u),r,a),t,c)})},y.translateBy=function(t,n,e){y.transform(t,function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),c)})},y.translateTo=function(t,n,e){y.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,a=m(t);return o(ab.translate(a[0],a[1]).scale(r.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)})},M.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Ct(new ib(y,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:rb(+t),y):a},y.filter=function(t){return arguments.length?(r="function"==typeof t?t:rb(!!t),y):r},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:rb(!!t),y):u},y.extent=function(t){return arguments.length?(i="function"==typeof t?t:rb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(f[0]=+t[0],f[1]=+t[1],y):[f[0],f[1]]},y.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(s=+t,y):s},y.interpolate=function(t){return arguments.length?(l=t,y):l},y.on=function(){var t=d.on.apply(d,arguments);return t===d?y:t},y.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,y):Math.sqrt(g)},y},t.zoomTransform=ub,t.zoomIdentity=ab,Object.defineProperty(t,"__esModule",{value:!0})});
</script><script>/*

 Lodash <https://lodash.com/>
 Copyright JS Foundation and other contributors <https://js.foundation/>
 Released under MIT license <https://lodash.com/license>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/
(function(){var undefined;var VERSION="4.17.5";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q\x3dponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=
8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157E308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",
WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",
mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",
int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=
RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=
/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['\u2019]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral=
"[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+
")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?\x3d\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?\x3d\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?\x3d"+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+
rsLower+"+"+rsOptContrLower+"(?\x3d"+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?\x3d"+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView",
"Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=
typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=
cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;
cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i",
"\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C",
"\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i",
"\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S",
"\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe",
"\u0153":"oe","\u0149":"'n","\u017f":"s"};var htmlEscapes={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"};var htmlUnescapes={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&
self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&
nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,
setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length)if(iteratee(array[index],index,array)===false)break;return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--)if(iteratee(array[length],length,array)===false)break;
return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length)if(!predicate(array[index],index,array))return false;return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array))result[resIndex++]=value}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,
value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length)if(comparator(value,array[index]))return true;return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length)array[offset+index]=
values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length)accumulator=array[++index];while(++index<length)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length)accumulator=array[--length];while(length--)accumulator=iteratee(accumulator,array[length],length,array);
return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length)if(predicate(array[index],index,array))return true;return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;
return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<
length)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,
function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--)array[length]=array[length].value;return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined)result=result===undefined?current:result+current}return result}
function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;
while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1);return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1);return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--)if(array[length]===placeholder)++result;return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+
stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,
transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function safeGet(object,key){return key=="__proto__"?undefined:object[key]}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});
return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length)if(array[index]===value)return index;return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--)if(array[index]===value)return index;return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):
asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string))++result;return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),
context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=
/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=
Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==
root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=
Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?
Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);
object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={"escape":reEscape,"evaluate":reEvaluate,"interpolate":reInterpolate,"variable":"","imports":{"_":lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);
LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;
result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,
iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed)if(type==LAZY_FILTER_FLAG)continue outer;
else break outer}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;
return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;
Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return false;var lastIndex=data.length-1;if(index==lastIndex)data.pop();
else splice.call(data,index,1);--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else data[index][1]=value;return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=
listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={"hash":new Hash,"map":new (Map||ListCache),"string":new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,
key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;
while(++index<length)this.add(values[index])}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);
this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;
Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key==
"offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length))))result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||
value===undefined&&!(key in object))baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object))baseAssignValue(object,key,value)}function assocIndexOf(array,key){var length=array.length;while(length--)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,
value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty)defineProperty(object,key,{"configurable":true,"enumerable":true,"value":value,"writable":true});else object[key]=value}function baseAt(object,paths){var index=-1,length=paths.length,result=
Array(length),skip=object==null;while(++index<length)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined)number=number<=upper?number:upper;if(lower!==undefined)number=number>=lower?number:lower}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer)result=object?
customizer(value,key,object,stack):customizer(value);if(result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,
value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))});return result}if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,
stack))});return result}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;
if(object==null)return!length;object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return false}return true}function baseDelay(func,wait,args){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,
result=[],valuesLength=values.length;if(!length)return result;if(iteratee)values=arrayMap(values,baseUnary(iteratee));if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--)if(values[valuesIndex]===
computed)continue outer;result.push(value)}else if(!includes(values,computed,comparator))result.push(value)}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=
array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0)start=-start>length?0:length+start;end=end===undefined||end>length?length:toInteger(end);if(end<0)end+=length;end=start>end?0:toLength(end);while(start<end)array[start++]=value;return array}function baseFilter(collection,
predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection))result.push(value)});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value))if(depth>1)baseFlatten(value,depth-1,predicate,isStrict,result);else arrayPush(result,value);else if(!isStrict)result[result.length]=
value}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length)object=object[toKey(path[index++])];
return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null)return value===undefined?undefinedTag:nullTag;return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,
key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee)array=arrayMap(array,
baseUnary(iteratee));maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];
if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}if(seen)seen.push(computed);result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:
apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other)return true;if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other))return value!==value&&other!==other;return baseIsEqualDeep(value,
other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return false;objIsArr=true;objIsObj=
false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():
other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return false;stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null)return!length;object=Object(object);while(index--){var data=matchData[index];
if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return false}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return false}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return false}}return true}
function baseIsNative(value){if(!isObject(value)||isMasked(value))return false;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function")return value;
if(value==null)return identity;if(typeof value=="object")return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);return property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))if(hasOwnProperty.call(object,key)&&key!="constructor")result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)if(!(key==
"constructor"&&(isProto||!hasOwnProperty.call(object,key))))result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2])return matchesStrictComparable(matchData[0][0],
matchData[0][1]);return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue))return matchesStrictComparable(toKey(path),srcValue);return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===
source)return;baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined)newValue=srcValue;assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,
key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped)if(isArray(objValue))newValue=objValue;else if(isArrayLikeObject(objValue))newValue=copyArray(objValue);else if(isBuff){isCommon=
false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else newValue=[];else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue))newValue=toPlainObject(objValue);else if(!isObject(objValue)||srcIndex&&isFunction(objValue))newValue=initCloneObject(srcValue)}else isCommon=false}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,
key,newValue)}function baseNth(array,n){var length=array.length;if(!length)return;n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{"criteria":criteria,"index":++index,"value":value}});return baseSortBy(result,
function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path))baseSet(result,castPath(path,object),value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}
function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values)values=copyArray(values);if(iteratee)seen=arrayMap(array,baseUnary(iteratee));while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array)splice.call(seen,fromIndex,1);splice.call(array,fromIndex,1)}}return array}function basePullAt(array,
indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index))splice.call(array,index,1);else baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?
length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{if(n%2)result+=string;n=nativeFloor(n/2);if(n)string+=string}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}
function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined)newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}assignValue(nested,key,newValue);nested=nested[key]}return object}
var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{"configurable":true,"enumerable":false,"value":constant(string),"writable":true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0)start=-start>length?0:length+start;end=end>length?length:end;if(end<0)end+=
length;length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=
low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value))low=mid+1;else high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=
iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else if(valIsUndefined)setLow=othIsReflexive&&(retHighest||othIsDefined);else if(valIsNull)setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull);else if(valIsSymbol)setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol);else if(othIsNull||othIsSymbol)setLow=false;else setLow=
retHighest?computed<=value:computed<value;if(setLow)low=mid+1;else high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number")return value;if(isSymbol(value))return NAN;return+value}
function baseToString(value){if(typeof value=="string")return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=
iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=false;includes=cacheHas;seen=new SetCache}else seen=iteratee?[]:result;outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--)if(seen[seenIndex]===computed)continue outer;if(iteratee)seen.push(computed);result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result)seen.push(computed);
result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array));return isDrop?baseSlice(array,
fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper)result=result.value();return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];var index=-1,result=Array(length);
while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length)if(othIndex!=index)result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?
value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value))return value;return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();
var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);(new Uint8Array(result)).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=
new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===
null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&
!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-
other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength)result[leftIndex]=partials[leftIndex];while(++argsIndex<holdersLength)if(isUncurried||argsIndex<argsLength)result[holders[argsIndex]]=args[argsIndex];while(rangeLength--)result[leftIndex++]=
args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength)result[argsIndex]=args[argsIndex];var offset=argsIndex;while(++rightIndex<rightLength)result[offset+rightIndex]=partials[rightIndex];while(++holdersIndex<
holdersLength)if(isUncurried||argsIndex<argsLength)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],
key,object,source):undefined;if(newValue===undefined)newValue=source[key];if(isNew)baseAssignValue(object,key,newValue);else assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=
initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);
while(++index<length){var source=sources[index];if(source)assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length)if(iteratee(iterable[index],index,iterable)===false)break;return collection}}function createBaseFor(fromRight){return function(object,
iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false)break}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=
toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);
case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,
bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);var fn=this&&this!==root&&this instanceof
wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=
funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight)funcs.reverse();while(index--){var func=funcs[index];if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&getFuncName(func)=="wrapper")var wrapper=new LodashWrapper([],true)}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|
WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1)wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);else wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value))return wrapper.plant(value).value();var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,
partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);
if(partials)args=composeArgs(args,partials,holders,isCurried);if(partialsRight)args=composeArgsRight(args,partialsRight,holdersRight,isCurried);length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos)args=reorder(args,argPos);else if(isFlip&&length>
1)args.reverse();if(isAry&&ary<length)args.length=ary;if(this&&this!==root&&this instanceof wrapper)fn=Ctor||createCtor(fn);return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined)result=value;if(other!==
undefined){if(result===undefined)return other;if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}
function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=
arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength)args[leftIndex]=partials[leftIndex];while(argsLength--)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step))end=step=undefined;start=toFinite(start);if(end===
undefined){end=start;start=0}else end=toFinite(end);step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?
holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG))bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG);var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func))setData(result,
newData);result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,
-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag)return mapToArray(object);if(tag==setTag)return setToPairs(object);return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:
0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data)mergeData(newData,
data);func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG))bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG);if(!bitmask||bitmask==WRAP_BIND_FLAG)var result=createBind(func,bitmask,thisArg);else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG)result=createCurry(func,bitmask,arity);else if((bitmask==
WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length)result=createPartial(func,bitmask,thisArg,partials);else result=createHybrid.apply(undefined,newData);var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key))return srcValue;return objValue}function customDefaultsMerge(objValue,srcValue,
key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return false;
var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=false;break}if(seen){if(!arraySome(other,
function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=
other.byteOffset)return false;object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)))return false;return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||
(convert=setToArray);if(object.size!=other.size&&!isPartial)return false;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=
bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return false;var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return false}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=
objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in
other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor))result=false}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};
function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func)return data.name}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?
result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=
hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked)if(isOwn)value[symToStringTag]=tag;else delete value[symToStringTag];return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null)return[];object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=
!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=
Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result};function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case "drop":start+=size;break;case "dropRight":end-=size;break;case "take":end=nativeMin(end,
start+size);break;case "takeRight":start=nativeMax(start,end-size);break}}return{"start":start,"end":end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key)))break;object=object[key]}if(result||++index!=length)return result;length=
object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,
tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);
case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;details[lastIndex]=(length>1?"\x26 ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,
length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object))return false;var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object)return eq(object[index],value);return false}function isKey(value,object){if(isArray(value))return false;var type=typeof value;
if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value))return true;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype))return false;
if(func===other)return true;var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null)return false;
return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE)cache.clear();return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&
bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo))return data;if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=
data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value)data[7]=value;if(srcBitmask&WRAP_ARY_FLAG)data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);if(data[9]==null)data[9]=source[9];data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null)for(var key in Object(object))result.push(key);return result}function objectToString(value){return nativeObjectToString.call(value)}
function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length)array[index]=args[start+index];index=-1;var otherArgs=Array(start+1);while(++index<start)otherArgs[index]=args[index];otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}
function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,
insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),
value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46)result.push("");string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value))return value;var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}
function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e$0){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value))details.push(value)});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);
result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined)size=1;else size=nativeMax(toInteger(size),0);var length=array==null?0:array.length;if(!length||size<1)return[];var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){var index=-1,length=array==null?0:array.length,
resIndex=0,result=[];while(++index<length){var value=array[index];if(value)result[resIndex++]=value}return result}function concat(){var length=arguments.length;if(!length)return[];var args=Array(length-1),array=arguments[0],index=length;while(index--)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):
[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee))iteratee=undefined;return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator))comparator=undefined;return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):
[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&
array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length)return[];if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=fromIndex==null?0:toInteger(fromIndex);if(index<0)index=nativeMax(length+index,0);return baseFindIndex(array,
getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;
return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length)return[];depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==
null?0:array.length;if(!length)return-1;var index=fromIndex==null?0:toInteger(fromIndex);if(index<0)index=nativeMax(length+index,0);return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),
mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped))iteratee=undefined;else mapped.pop();return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator)mapped.pop();return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):
[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,
baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,
values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length))return result;var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,
index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length)return[];if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,
value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,
value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length))return[];
n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,
1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee))iteratee=undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):
[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length))return[];var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,
baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length))return[];var result=unzip(array);if(iteratee==null)return result;return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee))iteratee=
undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=
baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=
this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start))return this.thru(interceptor);value=value.slice(start,+start+(length?1:0));value.__actions__.push({"func":thru,"args":[interceptor],"thisArg":undefined});return(new LodashWrapper(value,this.__chain__)).thru(function(array){if(length&&!array.length)array.push(undefined);return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),
this.__chain__)}function wrapperNext(){if(this.__values__===undefined)this.__values__=toArray(this.value());var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{"done":done,"value":value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result)previous.__wrapped__=clone;else result=clone;
var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length)wrapped=new LazyWrapper(this);wrapped=wrapped.reverse();wrapped.__actions__.push({"func":thru,"args":[reverse],"thisArg":undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}
var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key))++result[key];else baseAssignValue(result,key,1)});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard))predicate=undefined;return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=
createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,
3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key))result[key].push(value);else baseAssignValue(result,key,[value])});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;
if(fromIndex<0)fromIndex=nativeMax(length+fromIndex,0);return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,
value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null)return[];if(!isArray(iteratees))iteratees=iteratees==null?[]:[iteratees];orders=guard?undefined:orders;if(!isArray(orders))orders=orders==null?[]:[orders];return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,
key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,
predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined)n=1;else n=toInteger(n);var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:
baseShuffle;return func(collection)}function size(collection){if(collection==null)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);if(tag==mapTag||tag==setTag)return collection.size;return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard))predicate=undefined;return func(collection,getIteratee(predicate,
3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null)return[];var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1]))iteratees=[];else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2]))iteratees=[iteratees[0]];return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toInteger(n);
return function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toInteger(n);return function(){if(--n>0)result=func.apply(this,arguments);if(n<=1)func=undefined;return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;
if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,
WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;
if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,
wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=
now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs)return invokeFunc(time);lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined)clearTimeout(timerId);lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);
lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined)timerId=setTimeout(timerExpired,wait);return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});
function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function")throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new (memoize.Cache||MapCache);return memoized}
memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==
1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,
undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);start=start===undefined?start:toInteger(start);return baseRest(func,start)}
function spread(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array)arrayPush(otherArgs,array);return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);if(isObject(options)){leading="leading"in options?!!options.leading:
leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{"leading":leading,"maxWait":wait,"trailing":trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer==
"function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&
other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&
!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null)return true;if(isArrayLike(value)&&(isArray(value)||typeof value==
"string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return false;return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=
customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value))return false;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value))return false;var tag=baseGetTag(value);return tag==
funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===
source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value==
"number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return false;var proto=getPrototype(value);if(proto===null)return true;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=
-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&
getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return iteratorToArray(value[symIterator]());var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:
values;return func(value)}function toFinite(value){if(!value)return value===0?value:0;value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number")return value;
if(isSymbol(value))return NAN;if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string")return value===0?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?
baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source)if(hasOwnProperty.call(source,key))assignValue(object,key,source[key])});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,
source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:
undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard))length=1;while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))object[key]=source[key]}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,
undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,
getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,
path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function")value=nativeObjectToString.call(value);result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function")value=nativeObjectToString.call(value);if(hasOwnProperty.call(result,value))result[value].push(key);else result[value]=[key]},
getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,
3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null)return result;var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||
(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep)result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone);var length=paths.length;while(length--)baseUnset(result,paths[length]);return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null)return{};
var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):
value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,
4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike)accumulator=isArr?new Ctor:[];else if(isObject(object))accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{};else accumulator={}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,
path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=
toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else end=toFinite(end);number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating))upper=floating=undefined;if(floating===undefined)if(typeof upper==
"boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else upper=toFinite(upper)}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=
createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),
0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$\x26"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});
var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);
length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null)radix=0;else if(radix)radix=+radix;return nativeParseInt(toString(string).replace(reTrimStart,
""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined)n=1;else n=toInteger(n);return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit))separator=
limit=undefined;limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit)return[];string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string))return castSlice(stringToArray(string),0,limit)}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=
toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard))options=undefined;string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=
keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p +\x3d '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL\x3d"+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,
function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p +\x3d '"}if(interpolateValue)source+="' +\n((__t \x3d ("+interpolateValue+")) \x3d\x3d null ? '' : __t) +\n'";index=offset+match.length;return match});
source+="';\n";var variable=options.variable;if(!variable)source="with (obj) {\n"+source+"\n}\n";source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(isEscaping?", __e \x3d _.escape":"")+(isEvaluating?", __j \x3d Array.prototype.join;\n"+"function print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+source+
"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;
var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,
0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?
options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+
omission;if(strSymbols)end+=result.length-end;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global)separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g");separator.lastIndex=0;while(match=separator.exec(substring))var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1)result=result.slice(0,index)}return result+
omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined)return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string);return string.match(pattern)||
[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function")throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),
pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func==
"function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),
methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc)object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=
object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({"func":func,"args":arguments,"thisArg":object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}});return object}function noConflict(){if(root._===this)root._=oldDash;return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);
var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER)return[];
var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n)iteratee(index);return result}function toPath(value){if(isArray(value))return arrayMap(value,toKey);return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");
var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?
baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&
array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=
create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;
lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=
keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=
overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=
setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=
transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=
zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=
endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;
lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=
isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=
isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=
stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=
sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=
toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName))source[methodName]=func});return source}(),{"chain":false});lodash.VERSION=
VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__)result.__takeCount__=nativeMin(n,result.__takeCount__);else result.__views__.push({"size":nativeMin(n,MAX_ARRAY_LENGTH),
"type":methodName+(result.__dir__<0?"Right":"")});return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({"iteratee":getIteratee(iteratee,3),"type":type});result.__filtered__=result.__filtered__||
isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=
function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function")return new LazyWrapper(this);return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);
var result=this;if(result.__filtered__&&(start>0||end<0))return new LazyWrapper(result);if(start<0)result=result.takeRight(-start);else if(start)result=result.drop(start);if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,
function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc)return;lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=
lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1)isLazy=useLazy=false;var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({"func":thru,"args":[interceptor],"thisArg":undefined});return new LodashWrapper(result,
chainAll)}if(isUnwrapped&&onlyLazy)return func.apply(this,args);result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();
return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({"name":methodName,"func":lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{"name":"wrapper","func":undefined}];LazyWrapper.prototype.clone=lazyClone;
LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator)lodash.prototype[symIterator]=wrapperToIterator;return lodash};
var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else root._=_}).call(this);</script><script>//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/base.js
var m;function ia(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ka(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:ia(a)};for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function la(a){return"string"==typeof a}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function wa(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/transitionalforwarddeclarations.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/debug/error.js
function ya(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ya);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0}wa(ya,Error);ya.prototype.name="CustomError";
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/dom/nodetype.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/asserts/asserts.js
function za(a,b){ya.call(this,Aa(a,b));this.messagePattern=a}wa(za,ya);za.prototype.name="AssertionError";function Aa(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");return c+a[d]}function Ba(a,b){throw new za("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/array/array.js
var Da=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=la(a)?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)},Ea=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=la(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d};
function Fa(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/crypt.js
function Ga(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192)b+=String.fromCharCode.apply(null,Fa(a,c,c+8192));return b};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/string/internal.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/string/string.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/util.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/object/object.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/browser.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/engine.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/platform.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/reflect/reflect.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/useragent.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/product.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/base64.js
var Ha=null,Ia=null,Ja=null;function Ka(a,b){La();b=b?Ja:Ha;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,l=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|k>>6;k&=63;h||(k=64,f||(g=64));c.push(b[l],b[e],b[g],b[k])}return c.join("")}function Ma(a){var b=a.length,c=0;"\x3d"===a[b-2]?c=2:"\x3d"===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;Na(a,function(f){d[e++]=f});return d.subarray(0,e)}
function Na(a,b){function c(k){for(;d<a.length;){var l=a.charAt(d++),n=Ia[l];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(l))throw Error("Unknown base64 encoding at char: "+l);}return k}La();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}}
function La(){if(!Ha){Ha={};Ia={};Ja={};for(var a=0;65>a;a++)Ha[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),Ia[Ha[a]]=a,Ja[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(Ia["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};
//~~WEBPATH~~external/com_google_protobuf_js/binary/arith.js
function Oa(a,b){this.lo=a;this.hi=b}m=Oa.prototype;m.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};function Pa(a){return new Oa((a.lo>>>1|(a.hi&1)<<31)>>>0,a.hi>>>1>>>0)}function Ra(a){return new Oa(a.lo<<1>>>0,(a.hi<<1|a.lo>>>31)>>>0)}m.lsb=function(){return!!(this.lo&1)};m.add=function(a){return new Oa((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
m.sub=function(a){return new Oa((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};function Sa(a){var b=a&65535,c=a>>>16;a=10*b+65536*(0*b&65535)+65536*(10*c&65535);for(b=0*c+(0*b>>>16)+(10*c>>>16);4294967296<=a;)a-=4294967296,b+=1;return new Oa(a>>>0,b>>>0)}
m.toString=function(){for(var a="",b=this;0!=b.lo||0!=b.hi;){var c=new Oa(0,0);b=new Oa(b.lo,b.hi);for(var d=new Oa(10,0),e=new Oa(1,0);!(d.hi&2147483648);)d=Ra(d),e=Ra(e);for(;0!=e.lo||0!=e.hi;)0>=d.cmp(b)&&(c=c.add(e),b=b.sub(d)),d=Pa(d),e=Pa(e);c=[c,b];b=c[0];a=c[1].lo+a}""==a&&(a="0");return a};function Ta(a){for(var b=new Oa(0,0),c=new Oa(0,0),d=0;d<a.length;d++){if("0">a[d]||"9"<a[d])return null;c.lo=parseInt(a[d],10);var e=Sa(b.lo);b=Sa(b.hi);b.hi=b.lo;b.lo=0;b=e.add(b).add(c)}return b}
m.clone=function(){return new Oa(this.lo,this.hi)};function Ua(a,b){this.lo=a;this.hi=b}Ua.prototype.add=function(a){return new Ua((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};Ua.prototype.sub=function(a){return new Ua((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};Ua.prototype.clone=function(){return new Ua(this.lo,this.hi)};
Ua.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new Oa(this.lo,this.hi);a&&(b=(new Oa(0,0)).sub(b));return(a?"-":"")+b.toString()};function Wa(a){var b=0<a.length&&"-"==a[0];b&&(a=a.substring(1));a=Ta(a);if(null===a)return null;b&&(a=(new Oa(0,0)).sub(a));return new Ua(a.lo,a.hi)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/constants.js
function Xa(a){switch(a){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}};
//~~WEBPATH~~external/com_google_protobuf_js/binary/utils.js
var Ya=0,$a=0;function cb(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;Ya=b;$a=a}function fb(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));Ya=c;$a=a}function gb(a){var b=a.charCodeAt(4),c=a.charCodeAt(5),d=a.charCodeAt(6),e=a.charCodeAt(7);Ya=a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)>>>0;$a=b+(c<<8)+(d<<16)+(e<<24)>>>0}
function hb(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a}var ib="0123456789abcdef".split("");
function jb(a,b){function c(h){for(var k=1E7,l=0;7>l;l++){k/=10;var n=h/k%10>>>0;if(0!=n||f)f=!0,g+=e[n]}}if(2097151>=b)return""+(4294967296*b+a);var d=(a>>>24|b<<8)>>>0&16777215;b=b>>16&65535;a=(a&16777215)+6777216*d+6710656*b;d+=8147497*b;b*=2;1E7<=a&&(d+=Math.floor(a/1E7),a%=1E7);1E7<=d&&(b+=Math.floor(d/1E7),d%=1E7);var e=ib,f=!1,g="";(b||f)&&c(b);(d||f)&&c(d);(a||f)&&c(a);return g}function kb(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b+(0==a?1:0)>>>0);a=jb(a,b);return c?"-"+a:a}
function lb(a){function b(g,h){for(var k=0;8>k&&(1!==g||0<h);k++)h=g*e[k]+h,e[k]=h&255,h>>>=8}function c(){for(var g=0;8>g;g++)e[g]=~e[g]&255}var d=!1;"-"===a[0]&&(d=!0,a=a.slice(1));for(var e=[0,0,0,0,0,0,0,0],f=0;f<a.length;f++)b(10,ib.indexOf(a[f]));d&&(c(),b(1,1));return Ga(e)}
function ob(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Buffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ma(a);Ba("Type not convertible to Uint8Array.");return new Uint8Array(0)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/decoder.js
function pb(a,b,c){this.bytes_=null;this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0;this.error_=!1;a&&this.setBlock(a,b,c)}var qb=[];function rb(a,b,c){if(qb.length){var d=qb.pop();a&&d.setBlock(a,b,c);return d}return new pb(a,b,c)}m=pb.prototype;m.free=function(){this.clear();100>qb.length&&qb.push(this)};m.clone=function(){return rb(this.bytes_,this.start_,this.end_-this.start_)};m.clear=function(){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1};
m.getBuffer=function(){return this.bytes_};m.setBlock=function(a,b,c){this.bytes_=ob(a);this.start_=void 0!==b?b:0;this.end_=void 0!==c?this.start_+c:this.bytes_.length;this.cursor_=this.start_};m.setEnd=function(a){this.end_=a};m.reset=function(){this.cursor_=this.start_};m.getCursor=function(){return this.cursor_};m.advance=function(a){this.cursor_+=a};function sb(a){return a.cursor_==a.end_}m.pastEnd=function(){return this.cursor_>this.end_};
m.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};function tb(a){for(var b,c=0,d,e=0;4>e;e++)if(b=a.bytes_[a.cursor_++],c|=(b&127)<<7*e,128>b){a.tempLow_=c>>>0;a.tempHigh_=0;return}b=a.bytes_[a.cursor_++];c|=(b&127)<<28;d=0|(b&127)>>4;if(128>b)a.tempLow_=c>>>0,a.tempHigh_=d>>>0;else{for(e=0;5>e;e++)if(b=a.bytes_[a.cursor_++],d|=(b&127)<<7*e+3,128>b){a.tempLow_=c>>>0;a.tempHigh_=d>>>0;return}Ba("Failed to read varint, encoding is invalid.");a.error_=!0}}
function ub(a,b){for(;128<b;)a.cursor_--,b>>>=7;a.cursor_--}
m.readUnsignedVarint32=function(){var a=this.bytes_;var b=a[this.cursor_+0];var c=b&127;if(128>b)return this.cursor_+=1,c;b=a[this.cursor_+1];c|=(b&127)<<7;if(128>b)return this.cursor_+=2,c;b=a[this.cursor_+2];c|=(b&127)<<14;if(128>b)return this.cursor_+=3,c;b=a[this.cursor_+3];c|=(b&127)<<21;if(128>b)return this.cursor_+=4,c;b=a[this.cursor_+4];c|=(b&15)<<28;if(128>b)return this.cursor_+=5,c>>>0;this.cursor_+=5;128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&
this.cursor_++;return c};m.readSignedVarint32=pb.prototype.readUnsignedVarint32;m.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};m.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};m.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(a&1)};m.readUnsignedVarint64=function(){tb(this);return 4294967296*this.tempHigh_+this.tempLow_};
m.readUnsignedVarint64String=function(){tb(this);return jb(this.tempLow_,this.tempHigh_)};m.readSignedVarint64=function(){tb(this);return hb(this.tempLow_,this.tempHigh_)};m.readSignedVarint64String=function(){tb(this);return kb(this.tempLow_,this.tempHigh_)};m.readZigzagVarint64=function(){tb(this);var a=this.tempLow_,b=this.tempHigh_,c=a&1;a=(a>>>1|b<<31)>>>0;b>>>=1;c&&(a=a+1>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a};m.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()};
m.readUint8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a};m.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return a<<0|b<<8};m.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return(a<<0|b<<8|c<<16|d<<24)>>>0};m.readUint64=function(){var a=this.readUint32();return 4294967296*this.readUint32()+a};
m.readUint64String=function(){var a=this.readUint32(),b=this.readUint32();return jb(a,b)};m.readInt8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a<<24>>24};m.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return(a<<0|b<<8)<<16>>16};m.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return a<<0|b<<8|c<<16|d<<24};
m.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return hb(a,b)};m.readInt64String=function(){var a=this.readUint32(),b=this.readUint32();return kb(a,b)};m.readFloat=function(){var a=this.readUint32(),b=2*(a>>31)+1,c=a>>>23&255;a&=8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};
m.readDouble=function(){var a=this.readUint32(),b=this.readUint32(),c=2*(b>>31)+1,d=b>>>20&2047;a=4294967296*(b&1048575)+a;return 2047==d?a?NaN:Infinity*c:0==d?c*Math.pow(2,-1074)*a:c*Math.pow(2,d-1075)*(a+4503599627370496)};m.readBool=function(){return!!this.bytes_[this.cursor_++]};m.readEnum=function(){return this.readSignedVarint32()};
m.readString=function(a){var b=this.bytes_,c=this.cursor_;a=c+a;for(var d=[],e="";c<a;){var f=b[c++];if(128>f)d.push(f);else if(192>f)continue;else if(224>f){var g=b[c++];d.push((f&31)<<6|g&63)}else if(240>f){g=b[c++];var h=b[c++];d.push((f&15)<<12|(g&63)<<6|h&63)}else if(248>f){g=b[c++];h=b[c++];var k=b[c++];f=(f&7)<<18|(g&63)<<12|(h&63)<<6|k&63;f-=65536;d.push((f>>10&1023)+55296,(f&1023)+56320)}8192<=d.length&&(e+=String.fromCharCode.apply(null,d),d.length=0)}e+=Ga(d);this.cursor_=c;return e};
m.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)};m.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,Ba("Invalid byte length!"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);this.cursor_+=a;return b};m.readVarintHash64=function(){tb(this);var a=this.tempLow_,b=this.tempHigh_;return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)};
m.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],h=a[b+5],k=a[b+6];a=a[b+7];this.cursor_+=8;return String.fromCharCode(c,d,e,f,g,h,k,a)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/encoder.js
function vb(){this.buffer_=[]}m=vb.prototype;m.length=function(){return this.buffer_.length};m.end=function(){var a=this.buffer_;this.buffer_=[];return a};function wb(a,b,c){for(;0<c||127<b;)a.buffer_.push(b&127|128),b=(b>>>7|c<<25)>>>0,c>>>=7;a.buffer_.push(b)}function xb(a,b){for(;127<b;)a.buffer_.push(b&127|128),b>>>=7;a.buffer_.push(b)}function yb(a,b){if(0<=b)xb(a,b);else{for(var c=0;9>c;c++)a.buffer_.push(b&127|128),b>>=7;a.buffer_.push(1)}}function zb(a,b){xb(a,(b<<1^b>>31)>>>0)}
function Ab(a,b){var c=b;b=0>c;c=2*Math.abs(c);cb(c);c=Ya;var d=$a;b&&(0==c?0==d?d=c=4294967295:(d--,c=4294967295):c--);Ya=c;$a=d;wb(a,Ya,$a)}m.writeUint8=function(a){this.buffer_.push(a>>>0&255)};m.writeUint16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};m.writeUint32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};m.writeUint64=function(a){cb(a);this.writeUint32(Ya);this.writeUint32($a)};
m.writeInt8=function(a){this.buffer_.push(a>>>0&255)};m.writeInt16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};m.writeInt32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};m.writeInt64=function(a){fb(a);a=$a;this.writeUint32(Ya);this.writeUint32(a)};m.writeInt64String=function(a){gb(lb(a));a=$a;this.writeUint32(Ya);this.writeUint32(a)};
m.writeFloat=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?Ya=$a=0:($a=0,Ya=2147483648);else if(isNaN(b))$a=0,Ya=2147483647;else if(3.4028234663852886E38<b)$a=0,Ya=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),$a=0,Ya=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;$a=0;Ya=(a<<31|c+127<<23|b)>>>0}this.writeUint32(Ya)};
m.writeDouble=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)$a=0<1/b?0:2147483648,Ya=0;else if(isNaN(b))$a=2147483647,Ya=4294967295;else if(1.7976931348623157E308<b)$a=(a<<31|2146435072)>>>0,Ya=0;else if(2.2250738585072014E-308>b)b/=Math.pow(2,-1074),$a=(a<<31|b/4294967296)>>>0,Ya=b>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);1024==c&&(c=1023);b*=Math.pow(2,-c);$a=(a<<31|c+1023<<20|1048576*b&1048575)>>>0;Ya=4503599627370496*b>>>0}this.writeUint32(Ya);this.writeUint32($a)};
m.writeBool=function(a){this.buffer_.push(a?1:0)};m.writeEnum=function(a){yb(this,a)};m.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};m.writeVarintHash64=function(a){gb(a);wb(this,Ya,$a)};m.writeFixedHash64=function(a){gb(a);this.writeUint32(Ya);this.writeUint32($a)};
m.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)this.buffer_.push(d);else if(2048>d)this.buffer_.push(d>>6|192),this.buffer_.push(d&63|128);else if(65536>d)if(55296<=d&&56319>=d&&c+1<a.length){var e=a.charCodeAt(c+1);56320<=e&&57343>=e&&(d=1024*(d-55296)+e-56320+65536,this.buffer_.push(d>>18|240),this.buffer_.push(d>>12&63|128),this.buffer_.push(d>>6&63|128),this.buffer_.push(d&63|128),c++)}else this.buffer_.push(d>>12|224),this.buffer_.push(d>>
6&63|128),this.buffer_.push(d&63|128)}return this.buffer_.length-b};
//~~WEBPATH~~external/com_google_protobuf_js/binary/reader.js
function Bb(a,b,c){this.decoder_=rb(a,b,c);this.fieldCursor_=this.decoder_.getCursor();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null}var Cb=[];m=Bb.prototype;m.alloc=function(a,b,c){if(Cb.length){var d=Cb.pop();a&&d.decoder_.setBlock(a,b,c);return d}return new Bb(a,b,c)};m.free=function(){this.decoder_.clear();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null;100>Cb.length&&Cb.push(this)};m.getFieldCursor=function(){return this.fieldCursor_};
m.getCursor=function(){return this.decoder_.getCursor()};m.getBuffer=function(){return this.decoder_.getBuffer()};m.getWireType=function(){return this.nextWireType_};function Db(a){return 4==a.nextWireType_}m.getError=function(){return this.error_||this.decoder_.getError()};m.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c);this.nextWireType_=this.nextField_=-1};m.reset=function(){this.decoder_.reset();this.nextWireType_=this.nextField_=-1};m.advance=function(a){this.decoder_.advance(a)};
function Eb(a){if(sb(a.decoder_))return!1;if(a.getError())return Ba("Decoder hit an error"),!1;a.fieldCursor_=a.decoder_.getCursor();var b=a.decoder_.readUnsignedVarint32(),c=b>>>3;b&=7;if(0!=b&&5!=b&&1!=b&&2!=b&&3!=b&&4!=b)return Ba("Invalid wire type"),a.error_=!0,!1;a.nextField_=c;a.nextWireType_=b;return!0}
m.skipMatchingFields=function(){var a=this.nextField_;for(ub(this.decoder_,this.nextField_<<3|this.nextWireType_);Eb(this)&&this.nextField_==a;)Fb(this);sb(this.decoder_)||ub(this.decoder_,this.nextField_<<3|this.nextWireType_)};
function Fb(a){switch(a.nextWireType_){case 0:if(0!=a.nextWireType_)Ba("Invalid wire type for skipVarintField"),Fb(a);else{for(a=a.decoder_;a.bytes_[a.cursor_]&128;)a.cursor_++;a.cursor_++}break;case 1:1!=a.nextWireType_?(Ba("Invalid wire type for skipFixed64Field"),Fb(a)):a.decoder_.advance(8);break;case 2:if(2!=a.nextWireType_)Ba("Invalid wire type for skipDelimitedField"),Fb(a);else{var b=a.decoder_.readUnsignedVarint32();a.decoder_.advance(b)}break;case 5:5!=a.nextWireType_?(Ba("Invalid wire type for skipFixed32Field"),
Fb(a)):a.decoder_.advance(4);break;case 3:b=[a.nextField_];do{if(!Eb(a)){Ba("Unmatched start-group tag: stream EOF");a.error_=!0;break}if(3==a.nextWireType_)b.push(a.nextField_);else if(4==a.nextWireType_&&a.nextField_!=b.pop()){Ba("Unmatched end-group tag");a.error_=!0;break}}while(0<b.length);break;default:Ba("Invalid wire encoding for field.")}}m.registerReadCallback=function(a,b){null===this.readCallbacks_&&(this.readCallbacks_={});this.readCallbacks_[a]=b};m.runReadCallback=function(a){return(0,this.readCallbacks_[a])(this)};
m.readAny=function(a){this.nextWireType_=Xa(a);switch(a){case 1:return this.readDouble();case 2:return this.readFloat();case 3:return this.readInt64();case 4:return this.readUint64();case 5:return this.readInt32();case 6:return this.decoder_.readUint64();case 7:return this.decoder_.readUint32();case 8:return this.readBool();case 9:return this.readString();case 10:Ba("Group field type not supported in readAny()");case 11:Ba("Message field type not supported in readAny()");case 12:return this.readBytes();
case 13:return this.readUint32();case 14:return this.readEnum();case 15:return this.decoder_.readInt32();case 16:return this.decoder_.readInt64();case 17:return this.decoder_.readZigzagVarint32();case 18:return this.decoder_.readZigzagVarint64();case 30:return this.readFixedHash64();case 31:return this.readVarintHash64();default:Ba("Invalid field type in readAny()")}return 0};
m.readMessage=function(a,b){var c=this.decoder_.end_,d=this.decoder_.readUnsignedVarint32();d=this.decoder_.getCursor()+d;this.decoder_.setEnd(d);b(a,this);this.decoder_.cursor_=d;this.decoder_.setEnd(c)};m.readGroup=function(a,b,c){c(b,this);this.error_||4==this.nextWireType_||(Ba("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};
m.getFieldDecoder=function(){var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a;a=rb(this.decoder_.getBuffer(),b,a);this.decoder_.cursor_=c;return a};m.readInt32=function(){return this.decoder_.readSignedVarint32()};m.readInt32String=function(){return this.decoder_.readSignedVarint32String()};m.readInt64=function(){return this.decoder_.readSignedVarint64()};m.readInt64String=function(){return this.decoder_.readSignedVarint64String()};m.readUint32=function(){return this.decoder_.readUnsignedVarint32()};
m.readUint32String=function(){return this.decoder_.readUnsignedVarint32String()};m.readUint64=function(){return this.decoder_.readUnsignedVarint64()};m.readUint64String=function(){return this.decoder_.readUnsignedVarint64String()};m.readSint64String=function(){return this.decoder_.readZigzagVarint64String()};m.readFixed64String=function(){return this.decoder_.readUint64String()};m.readSfixed32String=function(){return this.decoder_.readInt32().toString()};m.readSfixed64String=function(){return this.decoder_.readInt64String()};
m.readFloat=function(){return this.decoder_.readFloat()};m.readDouble=function(){return this.decoder_.readDouble()};m.readBool=function(){return!!this.decoder_.readUnsignedVarint32()};m.readEnum=function(){return this.decoder_.readSignedVarint64()};m.readString=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)};m.readBytes=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)};m.readVarintHash64=function(){return this.decoder_.readVarintHash64()};
m.readFixedHash64=function(){return this.decoder_.readFixedHash64()};function Gb(a,b){var c=a.decoder_.readUnsignedVarint32();c=a.decoder_.getCursor()+c;for(var d=[];a.decoder_.getCursor()<c;)d.push(b.call(a.decoder_));return d}m.readPackedInt32=function(){return Gb(this,this.decoder_.readSignedVarint32)};m.readPackedInt32String=function(){return Gb(this,this.decoder_.readSignedVarint32String)};m.readPackedInt64String=function(){return Gb(this,this.decoder_.readSignedVarint64String)};
m.readPackedUint32=function(){return Gb(this,this.decoder_.readUnsignedVarint32)};m.readPackedUint32String=function(){return Gb(this,this.decoder_.readUnsignedVarint32String)};m.readPackedUint64=function(){return Gb(this,this.decoder_.readUnsignedVarint64)};m.readPackedUint64String=function(){return Gb(this,this.decoder_.readUnsignedVarint64String)};m.readPackedSint32=function(){return Gb(this,this.decoder_.readZigzagVarint32)};m.readPackedSint64=function(){return Gb(this,this.decoder_.readZigzagVarint64)};
m.readPackedSint64String=function(){return Gb(this,this.decoder_.readZigzagVarint64String)};m.readPackedFixed32=function(){return Gb(this,this.decoder_.readUint32)};m.readPackedFixed64=function(){return Gb(this,this.decoder_.readUint64)};m.readPackedFixed64String=function(){return Gb(this,this.decoder_.readUint64String)};m.readPackedSfixed32=function(){return Gb(this,this.decoder_.readInt32)};m.readPackedSfixed64=function(){return Gb(this,this.decoder_.readInt64)};
m.readPackedSfixed64String=function(){return Gb(this,this.decoder_.readInt64String)};m.readPackedDouble=function(){return Gb(this,this.decoder_.readDouble)};m.readPackedBool=function(){return Gb(this,this.decoder_.readBool)};m.readPackedEnum=function(){return Gb(this,this.decoder_.readEnum)};m.readPackedVarintHash64=function(){return Gb(this,this.decoder_.readVarintHash64)};m.readPackedFixedHash64=function(){return Gb(this,this.decoder_.readFixedHash64)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/writer.js
function Hb(){this.blocks_=[];this.totalLength_=0;this.encoder_=new vb;this.bookmarks_=[]}function Ib(a,b){var c=a.encoder_.end();a.blocks_.push(c);a.blocks_.push(b);a.totalLength_+=c.length+b.length}function Jb(a,b){Kb(a,b,2);b=a.encoder_.end();a.blocks_.push(b);a.totalLength_+=b.length;b.push(a.totalLength_);return b}function Lb(a,b){var c=b.pop();for(c=a.totalLength_+a.encoder_.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.totalLength_++;b.push(c);a.totalLength_++}m=Hb.prototype;
m.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&Ib(this,a.subarray(b,c))};m.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};function Pb(a){for(var b=new Uint8Array(a.totalLength_+a.encoder_.length()),c=a.blocks_,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.encoder_.end();b.set(c,e);a.blocks_=[b];return b}m.getResultBase64String=function(a){return Ka(Pb(this),a)};function Kb(a,b,c){xb(a.encoder_,8*b+c)}
m.writeAny=function(a,b,c){switch(a){case 1:this.writeDouble(b,c);break;case 2:this.writeFloat(b,c);break;case 3:this.writeInt64(b,c);break;case 4:this.writeUint64(b,c);break;case 5:this.writeInt32(b,c);break;case 6:null!=c&&(Kb(this,b,1),this.encoder_.writeUint64(c));break;case 7:null!=c&&(Kb(this,b,5),this.encoder_.writeUint32(c));break;case 8:this.writeBool(b,c);break;case 9:this.writeString(b,c);break;case 10:Ba("Group field type not supported in writeAny()");break;case 11:Ba("Message field type not supported in writeAny()");
break;case 12:this.writeBytes(b,c);break;case 13:this.writeUint32(b,c);break;case 14:this.writeEnum(b,c);break;case 15:null!=c&&(Kb(this,b,5),this.encoder_.writeInt32(c));break;case 16:null!=c&&(Kb(this,b,1),this.encoder_.writeInt64(c));break;case 17:null!=c&&null!=c&&(Kb(this,b,0),zb(this.encoder_,c));break;case 18:null!=c&&null!=c&&(Kb(this,b,0),Ab(this.encoder_,c));break;case 30:this.writeFixedHash64(b,c);break;case 31:this.writeVarintHash64(b,c);break;default:Ba("Invalid field type in writeAny()")}};
function Qb(a,b,c){null!=c&&(Kb(a,b,0),xb(a.encoder_,c))}function Rb(a,b,c){null!=c&&(Kb(a,b,0),yb(a.encoder_,c))}m.writeInt32=function(a,b){null!=b&&Rb(this,a,b)};m.writeInt64=function(a,b){null!=b&&null!=b&&(Kb(this,a,0),a=this.encoder_,fb(b),wb(a,Ya,$a))};m.writeInt64String=function(a,b){null!=b&&(b=Wa(b),Kb(this,a,0),wb(this.encoder_,b.lo,b.hi))};m.writeUint32=function(a,b){null!=b&&Qb(this,a,b)};m.writeUint64=function(a,b){null!=b&&null!=b&&(Kb(this,a,0),a=this.encoder_,fb(b),wb(a,Ya,$a))};
m.writeSint64String=function(a,b){null!=b&&null!=b&&(Kb(this,a,0),Ab(this.encoder_,parseInt(b,10)))};m.writeFloat=function(a,b){null!=b&&(Kb(this,a,5),this.encoder_.writeFloat(b))};m.writeDouble=function(a,b){null!=b&&(Kb(this,a,1),this.encoder_.writeDouble(b))};m.writeBool=function(a,b){null!=b&&(Kb(this,a,0),this.encoder_.writeBool(b))};m.writeEnum=function(a,b){null!=b&&(Kb(this,a,0),yb(this.encoder_,b))};m.writeString=function(a,b){null!=b&&(a=Jb(this,a),this.encoder_.writeString(b),Lb(this,a))};
m.writeBytes=function(a,b){null!=b&&(b=ob(b),Kb(this,a,2),xb(this.encoder_,b.length),Ib(this,b))};m.writeMessage=function(a,b,c){null!=b&&(a=Jb(this,a),c(b,this),Lb(this,a))};m.writeGroup=function(a,b,c){null!=b&&(Kb(this,a,3),c(b,this),Kb(this,a,4))};m.writeFixedHash64=function(a,b){null!=b&&(Kb(this,a,1),this.encoder_.writeFixedHash64(b))};m.writeVarintHash64=function(a,b){null!=b&&(Kb(this,a,0),this.encoder_.writeVarintHash64(b))};
m.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)Rb(this,a,b[c])};m.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&Rb(this,a,parseInt(d,10))}};m.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){Kb(this,a,0);var e=this.encoder_;fb(d);wb(e,Ya,$a)}}};m.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])};
m.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)Qb(this,a,b[c])};m.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&Qb(this,a,parseInt(d,10))}};m.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){Kb(this,a,0);var e=this.encoder_;fb(d);wb(e,Ya,$a)}}};
m.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(e=Ta(e),Kb(this,d,0),wb(this.encoder_,e.lo,e.hi))}};m.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,0),zb(this.encoder_,d))}};m.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,0),Ab(this.encoder_,d))}};
m.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,0),Ab(this.encoder_,parseInt(d,10)))}};m.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,5),this.encoder_.writeUint32(d))}};m.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,1),this.encoder_.writeUint64(d))}};
m.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];if(null!=e){e=Ta(e);Kb(this,d,1);d=this.encoder_;var f=e.hi;d.writeUint32(e.lo);d.writeUint32(f)}}};m.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,5),this.encoder_.writeInt32(d))}};m.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(Kb(this,a,1),this.encoder_.writeInt64(d))}};
m.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];if(null!=e){e=Wa(e);Kb(this,d,1);d=this.encoder_;var f=e.hi;d.writeUint32(e.lo);d.writeUint32(f)}}};m.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};m.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};m.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};
m.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};m.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};function Sb(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=Jb(a,b);d(c[e],a);Lb(a,f)}}m.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)Kb(this,a,3),c(b[d],this),Kb(this,a,4)};
m.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};m.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};m.writePackedInt32=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)yb(this.encoder_,b[c]);Lb(this,a)}};m.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)yb(this.encoder_,parseInt(b[c],10));Lb(this,a)}};
m.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++){var d=Wa(b[c]);wb(this.encoder_,d.lo,d.hi)}Lb(this,a)}};m.writePackedUint32=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)xb(this.encoder_,b[c]);Lb(this,a)}};m.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)xb(this.encoder_,parseInt(b[c],10));Lb(this,a)}};
m.writePackedUint64=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++){var d=this.encoder_;fb(b[c]);wb(d,Ya,$a)}Lb(this,a)}};m.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++){var d=Ta(b[c]);wb(this.encoder_,d.lo,d.hi)}Lb(this,a)}};m.writePackedSint32=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)zb(this.encoder_,b[c]);Lb(this,a)}};
m.writePackedSint64=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)Ab(this.encoder_,b[c]);Lb(this,a)}};m.writePackedSint64String=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)Ab(this.encoder_,parseInt(b[c],10));Lb(this,a)}};m.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};
m.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};m.writePackedFixed64String=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++){var c=Ta(b[a]),d=this.encoder_,e=c.hi;d.writeUint32(c.lo);d.writeUint32(e)}};m.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};
m.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};m.writePackedSfixed64String=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64String(b[a])};m.writePackedDouble=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};
m.writePackedBool=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};m.writePackedEnum=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);Lb(this,a)}};m.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(Kb(this,a,2),xb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};
m.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=Jb(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);Lb(this,a)}};
//~~WEBPATH~~external/com_google_protobuf_js/map.js
function Tb(a,b){this.arr_=a;this.valueCtor_=b;this.map_={};this.arrClean=!0;if(0<this.arr_.length){for(a=0;a<this.arr_.length;a++){b=this.arr_[a];var c=b[0];this.map_[c.toString()]=new Ub(c,b[1])}this.arrClean=!0}}
Tb.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var a=this.map_,b;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b].valueWrapper;c&&c.toArray()}}}else{this.arr_.length=0;a=Vb(this);a.sort();for(b=0;b<a.length;b++){var d=this.map_[a[b]];(c=d.valueWrapper)&&c.toArray();this.arr_.push([d.key,d.value])}this.arrClean=!0}return this.arr_};
Tb.prototype.toObject=function(a,b){for(var c=this.toArray(),d=[],e=0;e<c.length;e++){var f=this.map_[c[e][0].toString()];Wb(this,f);var g=f.valueWrapper;g?d.push([f.key,b(a,g)]):d.push([f.key,f.value])}return d};function Xb(a){this.idx_=0;this.arr_=a}Xb.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};"undefined"!=typeof Symbol&&(Xb.prototype[Symbol.iterator]=function(){return this});m=Tb.prototype;m.getLength=function(){return Vb(this).length};
m.clear=function(){this.map_={};this.arrClean=!1};m.del=function(a){a=a.toString();var b=this.map_.hasOwnProperty(a);delete this.map_[a];this.arrClean=!1;return b};m.getEntryList=function(){var a=[],b=Vb(this);b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,d.value])}return a};m.entries=function(){var a=[],b=Vb(this);b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,Wb(this,d)])}return new Xb(a)};
m.keys=function(){var a=[],b=Vb(this);b.sort();for(var c=0;c<b.length;c++)a.push(this.map_[b[c]].key);return new Xb(a)};m.values=function(){var a=[],b=Vb(this);b.sort();for(var c=0;c<b.length;c++)a.push(Wb(this,this.map_[b[c]]));return new Xb(a)};m.forEach=function(a,b){var c=Vb(this);c.sort();for(var d=0;d<c.length;d++){var e=this.map_[c[d]];a.call(b,Wb(this,e),e.key,this)}};
m.set=function(a,b){var c=new Ub(a);this.valueCtor_?(c.valueWrapper=b,c.value=b.toArray()):c.value=b;this.map_[a.toString()]=c;this.arrClean=!1;return this};function Wb(a,b){return a.valueCtor_?(b.valueWrapper||(b.valueWrapper=new a.valueCtor_(b.value)),b.valueWrapper):b.value}m.get=function(a){if(a=this.map_[a.toString()])return Wb(this,a)};m.has=function(a){return a.toString()in this.map_};
m.serializeBinary=function(a,b,c,d,e){var f=Vb(this);f.sort();for(var g=0;g<f.length;g++){var h=this.map_[f[g]];b.bookmarks_.push(Jb(b,a));c.call(b,1,h.key);this.valueCtor_?d.call(b,2,Wb(this,h),e):d.call(b,2,h.value);Lb(b,b.bookmarks_.pop())}};function Yb(a,b,c){for(var d=Bb.prototype.readString,e=Bb.prototype.readMessage,f="",g=void 0;Eb(b)&&!Db(b);){var h=b.nextField_;1==h?f=d.call(b):2==h&&(a.valueCtor_?(g=new a.valueCtor_,e.call(b,g,c)):g=e.call(b))}a.set(f,g)}
function Vb(a){a=a.map_;var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function Ub(a,b){this.key=a;this.value=b;this.valueWrapper=void 0};
//~~WEBPATH~~external/com_google_protobuf_js/message.js
function Zb(){}var $b="function"==typeof Uint8Array;Zb.prototype.getJsPbMessageId=function(){return this.messageId_};
function ac(a,b,c,d){a.wrappers_=null;b||(b=[]);a.messageId_=void 0;a.arrayIndexOffset_=-1;a.array=b;a:{if(a.array.length){b=a.array.length-1;var e=a.array[b];if(e&&"object"==typeof e&&"array"!=pa(e)&&!($b&&e instanceof Uint8Array)){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=e;break a}}a.pivot_=Number.MAX_VALUE}a.convertedFloatingPointFields_={};if(c)for(b=0;b<c.length;b++)e=c[b],e<a.pivot_?(e+=a.arrayIndexOffset_,a.array[e]=a.array[e]||bc):(gc(a),a.extensionObject_[e]=a.extensionObject_[e]||
bc);if(d&&d.length)for(b=0;b<d.length;b++)hc(a,d[b])}var bc=Object.freeze?Object.freeze([]):[];function gc(a){var b=a.pivot_+a.arrayIndexOffset_;a.array[b]||(a.extensionObject_=a.array[b]={})}function ic(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function jc(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===bc?a.array[b]=[]:c}if(a.extensionObject_)return c=a.extensionObject_[b],c===bc?a.extensionObject_[b]=[]:c}
function kc(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===bc?a.array[b]=[]:c}c=a.extensionObject_[b];return c===bc?a.extensionObject_[b]=[]:c}function lc(a){var b=kc(a,1);a.convertedFloatingPointFields_||(a.convertedFloatingPointFields_={});if(!a.convertedFloatingPointFields_[1]){for(var c=0;c<b.length;c++)b[c]=+b[c];a.convertedFloatingPointFields_[1]=!0}return b}
function mc(a){if(null==a||la(a))return a;if($b&&a instanceof Uint8Array)return Ka(a);Ba("Cannot coerce to b64 string: "+pa(a));return null}function nc(a){if(null==a||a instanceof Uint8Array)return a;if(la(a))return Ma(a);Ba("Cannot coerce to Uint8Array: "+pa(a));return null}function oc(a){pc(a);return!a.length||a[0]instanceof Uint8Array?a:Ea(a,nc)}
function pc(a){if(a&&1<a.length){var b=pa(a[0]);Da(a,function(c){pa(c)!=b&&Ba("Inconsistent type in JSPB repeated field array. Got "+pa(c)+" expected "+b)})}}function D(a,b,c){a=jc(a,b);return null==a?c:a}function qc(a,b,c){a.wrappers_||(a.wrappers_={});if(1 in a.wrappers_)return a.wrappers_[1];if(!b)return b=jc(a,1),b||(b=[],rc(a,1,b)),a.wrappers_[1]=new Tb(b,c)}function rc(a,b,c){b<a.pivot_?a.array[b+a.arrayIndexOffset_]=c:(gc(a),a.extensionObject_[b]=c)}function sc(a,b,c){tc(a,b,c,0)}
function uc(a,b,c){tc(a,b,c,0)}function tc(a,b,c,d){c!=d?rc(a,b,c):a.array[b+a.arrayIndexOffset_]=null}function vc(a,b,c){a=kc(a,1);void 0!=c?a.splice(c,0,b):a.push(b)}function wc(a,b,c,d){(c=hc(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),rc(a,c,void 0));rc(a,b,d)}function hc(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=jc(a,f);null!=g&&(c=f,d=g,rc(a,f,void 0))}return c?(rc(a,c,d),c):0}
function xc(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){var d=jc(a,c);d&&(a.wrappers_[c]=new b(d))}return a.wrappers_[c]}function yc(a,b,c){zc(a,b,c);b=a.wrappers_[c];b==bc&&(b=a.wrappers_[c]=[]);return b}function zc(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){for(var d=kc(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.wrappers_[c]=e}}function Ac(a,b,c){a.wrappers_||(a.wrappers_={});var d=c?c.toArray():c;a.wrappers_[b]=c;rc(a,b,d)}
function Bc(a,b,c,d){a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d;wc(a,b,c,e)}function Cc(a,b,c){a.wrappers_||(a.wrappers_={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].toArray();a.wrappers_[b]=c;rc(a,b,d)}function Dc(a,b,c,d,e){zc(a,d,b);var f=a.wrappers_[b];f||(f=a.wrappers_[b]=[]);c=c?c:new d;a=kc(a,b);void 0!=e?(f.splice(e,0,c),a.splice(e,0,c.toArray())):(f.push(c),a.push(c.toArray()));return c}
function Gc(a){if(a.wrappers_)for(var b in a.wrappers_){var c=a.wrappers_[b];if("array"==pa(c))for(var d=0;d<c.length;d++)c[d]&&c[d].toArray();else c&&c.toArray()}}m=Zb.prototype;m.toArray=function(){Gc(this);return this.array};m.toString=function(){Gc(this);return this.array.toString()};
m.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=Ea(this.extensionObject_[b]||[],function(c){return new a.ctor(c)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}};
m.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});gc(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=Ea(b,function(d){return d.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;return this};m.clone=function(){return new this.constructor(Hc(this.toArray()))};
function Hc(a){if("array"==pa(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?Hc(d):d)}return b}if($b&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?Hc(d):d);return b};
//~~WEBPATH~~external/com_google_protobuf_js/debug.js
//~~WEBPATH~~bazel-out/k8-fastbuild/bin/external/org_tensorflow/tensorflow/core/example_protos.js
function Ic(a){ac(this,a,Jc,null)}wa(Ic,Zb);var Jc=[1];m=Ic.prototype;m.toObject=function(a){return Kc(a,this)};function Kc(a,b){var c=b.getValueList();pc(c);c={valueList:!c.length||la(c[0])?c:Ea(c,mc)};a&&(c.$jspbMessageInstance=b);return c}function Lc(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readBytes();a.addValue(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;Mc(this,a);return Pb(a)};
function Mc(a,b){a=oc(a.getValueList());if(0<a.length&&null!=a)for(var c=0;c<a.length;c++)b.writeBytes(1,a[c])}m.getValueList=function(){return kc(this,1)};m.setValueList=function(a){rc(this,1,a||[])};m.addValue=function(a,b){vc(this,a,b)};m.clearValueList=function(){this.setValueList([])};function Nc(a){ac(this,a,Oc,null)}wa(Nc,Zb);var Oc=[1];m=Nc.prototype;m.toObject=function(a){return Pc(a,this)};function Pc(a,b){var c={valueList:lc(b)};a&&(c.$jspbMessageInstance=b);return c}
function Qc(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=Gb(b,b.decoder_.readFloat);a.setValueList(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;Rc(this,a);return Pb(a)};function Rc(a,b){a=a.getValueList();if(0<a.length&&null!=a&&a.length){Kb(b,1,2);xb(b.encoder_,4*a.length);for(var c=0;c<a.length;c++)b.encoder_.writeFloat(a[c])}}m.getValueList=function(){return lc(this)};m.setValueList=function(a){rc(this,1,a||[])};m.addValue=function(a,b){vc(this,a,b)};
m.clearValueList=function(){this.setValueList([])};function Sc(a){ac(this,a,Tc,null)}wa(Sc,Zb);var Tc=[1];m=Sc.prototype;m.toObject=function(a){return Uc(a,this)};function Uc(a,b){var c={valueList:kc(b,1)};a&&(c.$jspbMessageInstance=b);return c}function Vc(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=Gb(b,b.decoder_.readSignedVarint64);a.setValueList(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;Wc(this,a);return Pb(a)};
function Wc(a,b){a=a.getValueList();if(0<a.length&&null!=a&&a.length){for(var c=Jb(b,1),d=0;d<a.length;d++){var e=b.encoder_;fb(a[d]);wb(e,Ya,$a)}Lb(b,c)}}m.getValueList=function(){return kc(this,1)};m.setValueList=function(a){rc(this,1,a||[])};m.addValue=function(a,b){vc(this,a,b)};m.clearValueList=function(){this.setValueList([])};function Xc(a){ac(this,a,null,Yc)}wa(Xc,Zb);var Yc=[[1,2,3]];m=Xc.prototype;m.getKindCase=function(){return hc(this,Yc[0])};m.toObject=function(a){return cd(a,this)};
function cd(a,b){var c,d={bytesList:(c=dd(b))&&Kc(a,c),floatList:(c=xc(b,Nc,2))&&Pc(a,c),int64List:(c=ed(b))&&Uc(a,c)};a&&(d.$jspbMessageInstance=b);return d}function fd(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Ic;b.readMessage(c,Lc);Bc(a,1,Yc[0],c);break;case 2:c=new Nc;b.readMessage(c,Qc);Bc(a,2,Yc[0],c);break;case 3:c=new Sc;b.readMessage(c,Vc);Bc(a,3,Yc[0],c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;gd(this,a);return Pb(a)};
function gd(a,b){var c=dd(a);null!=c&&b.writeMessage(1,c,Mc);c=xc(a,Nc,2);null!=c&&b.writeMessage(2,c,Rc);c=ed(a);null!=c&&b.writeMessage(3,c,Wc)}function dd(a){return xc(a,Ic,1)}m.clearBytesList=function(){Bc(this,1,Yc[0],void 0)};m.clearFloatList=function(){Bc(this,2,Yc[0],void 0)};m.hasFloatList=function(){return null!=jc(this,2)};function ed(a){return xc(a,Sc,3)}m.clearInt64List=function(){Bc(this,3,Yc[0],void 0)};m.hasInt64List=function(){return null!=jc(this,3)};
function hd(a){ac(this,a,null,null)}wa(hd,Zb);hd.prototype.toObject=function(a){return id(a,this)};function id(a,b){var c,d={featureMap:(c=jd(b))?c.toObject(a,cd):[]};a&&(d.$jspbMessageInstance=b);return d}function kd(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=jd(a);b.readMessage(c,function(d,e){Yb(d,e,fd)});break;default:Fb(b)}return a}hd.prototype.serializeBinary=function(){var a=new Hb;ld(this,a);return Pb(a)};
function ld(a,b){(a=jd(a,!0))&&0<a.getLength()&&a.serializeBinary(1,b,Hb.prototype.writeString,Hb.prototype.writeMessage,gd)}function jd(a,b){return qc(a,b,Xc)}hd.prototype.clearFeatureMap=function(){jd(this).clear()};function md(a){ac(this,a,nd,null)}wa(md,Zb);var nd=[1];md.prototype.toObject=function(a){return od(a,this)};function od(a,b){var c={featureList:ic(yc(b,Xc,1),cd,a)};a&&(c.$jspbMessageInstance=b);return c}
function pd(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Xc;b.readMessage(c,fd);a.addFeature(c);break;default:Fb(b)}return a}md.prototype.serializeBinary=function(){var a=new Hb;qd(this,a);return Pb(a)};function qd(a,b){a=yc(a,Xc,1);0<a.length&&Sb(b,1,a,gd)}md.prototype.addFeature=function(a,b){return Dc(this,1,a,Xc,b)};md.prototype.clearFeatureList=function(){Cc(this,1,[])};function rd(a){ac(this,a,null,null)}wa(rd,Zb);rd.prototype.toObject=function(a){return sd(a,this)};
function sd(a,b){var c,d={featureListMap:(c=qc(b,void 0,md))?c.toObject(a,od):[]};a&&(d.$jspbMessageInstance=b);return d}function td(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=qc(a,void 0,md);b.readMessage(c,function(d,e){Yb(d,e,pd)});break;default:Fb(b)}return a}rd.prototype.serializeBinary=function(){var a=new Hb;ud(this,a);return Pb(a)};function ud(a,b){(a=qc(a,!0,md))&&0<a.getLength()&&a.serializeBinary(1,b,Hb.prototype.writeString,Hb.prototype.writeMessage,qd)}
rd.prototype.clearFeatureListMap=function(){qc(this,void 0,md).clear()};function vd(a){ac(this,a,null,null)}wa(vd,Zb);vd.prototype.toObject=function(a){var b,c={features:(b=this.getFeatures())&&id(a,b)};a&&(c.$jspbMessageInstance=this);return c};function wd(a){a=new Bb(a);for(var b=new vd;Eb(a)&&!Db(a);)switch(a.nextField_){case 1:var c=new hd;a.readMessage(c,kd);Ac(b,1,c);break;default:Fb(a)}return b}
vd.prototype.serializeBinary=function(){var a=new Hb;var b=this.getFeatures();null!=b&&a.writeMessage(1,b,ld);return Pb(a)};vd.prototype.getFeatures=function(){return xc(this,hd,1)};vd.prototype.clearFeatures=function(){Ac(this,1,void 0)};function xd(a){ac(this,a,null,null)}wa(xd,Zb);m=xd.prototype;m.toObject=function(a){var b,c={context:(b=this.getContext())&&id(a,b),featureLists:(b=xc(this,rd,2))&&sd(a,b)};a&&(c.$jspbMessageInstance=this);return c};
function yd(a){a=new Bb(a);for(var b=new xd;Eb(a)&&!Db(a);)switch(a.nextField_){case 1:var c=new hd;a.readMessage(c,kd);Ac(b,1,c);break;case 2:c=new rd;a.readMessage(c,td);Ac(b,2,c);break;default:Fb(a)}return b}m.serializeBinary=function(){var a=new Hb;var b=this.getContext();null!=b&&a.writeMessage(1,b,ld);b=xc(this,rd,2);null!=b&&a.writeMessage(2,b,ud);return Pb(a)};m.getContext=function(){return xc(this,hd,1)};m.clearContext=function(){Ac(this,1,void 0)};
m.clearFeatureLists=function(){Ac(this,2,void 0)};m.hasFeatureLists=function(){return null!=jc(this,2)};
//~~WEBPATH~~bazel-out/k8-fastbuild/bin/external/ai_google_pair_facets/facets_overview/proto/proto.js
function zd(a){ac(this,a,Ad,null)}wa(zd,Zb);var Ad=[1];zd.prototype.toObject=function(a){var b={datasetsList:ic(Bd(this),Cd,a)};a&&(b.$jspbMessageInstance=this);return b};function Hd(a){a=new Bb(a);for(var b=new zd;Eb(a)&&!Db(a);)switch(a.nextField_){case 1:var c=new Id;a.readMessage(c,Jd);Dc(b,1,c,Id,void 0);break;default:Fb(a)}return b}zd.prototype.serializeBinary=function(){var a=new Hb;var b=Bd(this);0<b.length&&Sb(a,1,b,Kd);return Pb(a)};function Bd(a){return yc(a,Id,1)}
zd.prototype.clearDatasetsList=function(){Cc(this,1,[])};function Id(a){ac(this,a,Ld,null)}wa(Id,Zb);var Ld=[3];m=Id.prototype;m.toObject=function(a){return Cd(a,this)};function Cd(a,b){var c={name:D(b,1,""),numExamples:D(b,2,0),weightedNumExamples:+D(b,4,0),featuresList:ic(b.getFeaturesList(),Md,a)};a&&(c.$jspbMessageInstance=b);return c}
function Jd(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readUint64();sc(a,2,c);break;case 4:c=b.readDouble();uc(a,4,c);break;case 3:c=new Nd;b.readMessage(c,Od);Dc(a,3,c,Nd,void 0);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;Kd(this,a);return Pb(a)};
function Kd(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=D(a,2,0);0!==c&&b.writeUint64(2,c);c=+D(a,4,0);0!==c&&b.writeDouble(4,c);c=a.getFeaturesList();0<c.length&&Sb(b,3,c,Pd)}m.getName=function(){return D(this,1,"")};m.setName=function(a){tc(this,1,a,"")};m.getFeaturesList=function(){return yc(this,Nd,3)};m.clearFeaturesList=function(){Cc(this,3,[])};function Nd(a){ac(this,a,Qd,Rd)}wa(Nd,Zb);var Qd=[6],Rd=[[3,4,5,7]];m=Nd.prototype;m.getStatsCase=function(){return hc(this,Rd[0])};
m.toObject=function(a){return Md(a,this)};function Md(a,b){var c,d={name:D(b,1,""),type:D(b,2,0),numStats:(c=Sd(b))&&Td(a,c),stringStats:(c=Ud(b))&&Vd(a,c),bytesStats:(c=Wd(b))&&Xd(a,c),structStats:(c=xc(b,Yd,7))&&Zd(a,c),customStatsList:ic($d(b),fe,a)};a&&(d.$jspbMessageInstance=b);return d}
function Od(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readEnum();a.setType(c);break;case 3:c=new ge;b.readMessage(c,he);Bc(a,3,Rd[0],c);break;case 4:c=new ie;b.readMessage(c,je);Bc(a,4,Rd[0],c);break;case 5:c=new ke;b.readMessage(c,le);Bc(a,5,Rd[0],c);break;case 7:c=new Yd;b.readMessage(c,me);Bc(a,7,Rd[0],c);break;case 6:c=new ne;b.readMessage(c,oe);Dc(a,6,c,ne,void 0);break;default:Fb(b)}return a}
m.serializeBinary=function(){var a=new Hb;Pd(this,a);return Pb(a)};function Pd(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=a.getType();0!==c&&b.writeEnum(2,c);c=Sd(a);null!=c&&b.writeMessage(3,c,pe);c=Ud(a);null!=c&&b.writeMessage(4,c,qe);c=Wd(a);null!=c&&b.writeMessage(5,c,re);c=xc(a,Yd,7);null!=c&&b.writeMessage(7,c,se);c=$d(a);0<c.length&&Sb(b,6,c,te)}m.getName=function(){return D(this,1,"")};m.setName=function(a){tc(this,1,a,"")};m.getType=function(){return D(this,2,0)};
m.setType=function(a){tc(this,2,a,0)};function Sd(a){return xc(a,ge,3)}m.clearNumStats=function(){Bc(this,3,Rd[0],void 0)};m.hasNumStats=function(){return null!=jc(this,3)};function Ud(a){return xc(a,ie,4)}m.clearStringStats=function(){Bc(this,4,Rd[0],void 0)};m.hasStringStats=function(){return null!=jc(this,4)};function Wd(a){return xc(a,ke,5)}m.clearBytesStats=function(){Bc(this,5,Rd[0],void 0)};m.hasBytesStats=function(){return null!=jc(this,5)};m.clearStructStats=function(){Bc(this,7,Rd[0],void 0)};
m.hasStructStats=function(){return null!=jc(this,7)};function $d(a){return yc(a,ne,6)}m.clearCustomStatsList=function(){Cc(this,6,[])};function ue(a){ac(this,a,null,null)}wa(ue,Zb);m=ue.prototype;m.toObject=function(a){return ve(a,this)};function ve(a,b){var c={numNonMissing:+D(b,1,0),numMissing:+D(b,2,0),avgNumValues:+D(b,3,0),totNumValues:+D(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}
function we(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readDouble();a.setNumNonMissing(c);break;case 2:c=b.readDouble();a.setNumMissing(c);break;case 3:c=b.readDouble();a.setAvgNumValues(c);break;case 4:c=b.readDouble();a.setTotNumValues(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;xe(this,a);return Pb(a)};
function xe(a,b){var c=a.getNumNonMissing();0!==c&&b.writeDouble(1,c);c=a.getNumMissing();0!==c&&b.writeDouble(2,c);c=a.getAvgNumValues();0!==c&&b.writeDouble(3,c);c=a.getTotNumValues();0!==c&&b.writeDouble(4,c)}m.getNumNonMissing=function(){return+D(this,1,0)};m.setNumNonMissing=function(a){uc(this,1,a)};m.getNumMissing=function(){return+D(this,2,0)};m.setNumMissing=function(a){uc(this,2,a)};m.getAvgNumValues=function(){return+D(this,3,0)};m.setAvgNumValues=function(a){uc(this,3,a)};
m.getTotNumValues=function(){return+D(this,4,0)};m.setTotNumValues=function(a){uc(this,4,a)};function ne(a){ac(this,a,null,ye)}wa(ne,Zb);var ye=[[2,3,4,5]];m=ne.prototype;m.getValCase=function(){return hc(this,ye[0])};m.toObject=function(a){return fe(a,this)};function fe(a,b){var c,d={name:D(b,1,""),num:+D(b,2,0),str:D(b,3,""),histogram:(c=xc(b,ze,4))&&Ae(a,c),rankHistogram:(c=b.getRankHistogram())&&Be(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function oe(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readDouble();wc(a,2,ye[0],c);break;case 3:c=b.readString();wc(a,3,ye[0],c);break;case 4:c=new ze;b.readMessage(c,Ce);Bc(a,4,ye[0],c);break;case 5:c=new De;b.readMessage(c,Ee);a.setRankHistogram(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;te(this,a);return Pb(a)};
function te(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=jc(a,2);null!=c&&b.writeDouble(2,c);c=jc(a,3);null!=c&&b.writeString(3,c);c=xc(a,ze,4);null!=c&&b.writeMessage(4,c,Fe);c=a.getRankHistogram();null!=c&&b.writeMessage(5,c,Ge)}m.getName=function(){return D(this,1,"")};m.setName=function(a){tc(this,1,a,"")};m.clearNum=function(){wc(this,2,ye[0],void 0)};m.hasNum=function(){return null!=jc(this,2)};m.clearStr=function(){wc(this,3,ye[0],void 0)};
m.hasStr=function(){return null!=jc(this,3)};m.clearHistogram=function(){Bc(this,4,ye[0],void 0)};m.hasHistogram=function(){return null!=jc(this,4)};m.getRankHistogram=function(){return xc(this,De,5)};m.setRankHistogram=function(a){Bc(this,5,ye[0],a)};m.clearRankHistogram=function(){this.setRankHistogram(void 0)};m.hasRankHistogram=function(){return null!=jc(this,5)};function ge(a){ac(this,a,He,null)}wa(ge,Zb);var He=[8];m=ge.prototype;m.toObject=function(a){return Td(a,this)};
function Td(a,b){var c,d={commonStats:(c=Ie(b))&&Je(a,c),mean:+D(b,2,0),stdDev:+D(b,3,0),numZeros:D(b,4,0),min:+D(b,5,0),median:+D(b,6,0),max:+D(b,7,0),histogramsList:ic(b.getHistogramsList(),Ae,a),weightedNumericStats:(c=xc(b,Ke,9))&&Le(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function he(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Me;b.readMessage(c,Ne);a.setCommonStats(c);break;case 2:c=b.readDouble();a.setMean(c);break;case 3:c=b.readDouble();a.setStdDev(c);break;case 4:c=b.readUint64();sc(a,4,c);break;case 5:c=b.readDouble();uc(a,5,c);break;case 6:c=b.readDouble();a.setMedian(c);break;case 7:c=b.readDouble();uc(a,7,c);break;case 8:c=new ze;b.readMessage(c,Ce);a.addHistograms(c);break;case 9:c=new Ke;b.readMessage(c,Oe);Ac(a,9,c);break;default:Fb(b)}return a}
m.serializeBinary=function(){var a=new Hb;pe(this,a);return Pb(a)};function pe(a,b){var c=Ie(a);null!=c&&b.writeMessage(1,c,Pe);c=a.getMean();0!==c&&b.writeDouble(2,c);c=a.getStdDev();0!==c&&b.writeDouble(3,c);c=D(a,4,0);0!==c&&b.writeUint64(4,c);c=+D(a,5,0);0!==c&&b.writeDouble(5,c);c=a.getMedian();0!==c&&b.writeDouble(6,c);c=+D(a,7,0);0!==c&&b.writeDouble(7,c);c=a.getHistogramsList();0<c.length&&Sb(b,8,c,Fe);c=xc(a,Ke,9);null!=c&&b.writeMessage(9,c,Qe)}function Ie(a){return xc(a,Me,1)}
m.setCommonStats=function(a){Ac(this,1,a)};m.clearCommonStats=function(){this.setCommonStats(void 0)};m.hasCommonStats=function(){return null!=jc(this,1)};m.getMean=function(){return+D(this,2,0)};m.setMean=function(a){uc(this,2,a)};m.getStdDev=function(){return+D(this,3,0)};m.setStdDev=function(a){uc(this,3,a)};m.getMedian=function(){return+D(this,6,0)};m.setMedian=function(a){uc(this,6,a)};m.getHistogramsList=function(){return yc(this,ze,8)};m.setHistogramsList=function(a){Cc(this,8,a)};
m.addHistograms=function(a){return Dc(this,8,a,ze,void 0)};m.clearHistogramsList=function(){this.setHistogramsList([])};m.clearWeightedNumericStats=function(){Ac(this,9,void 0)};m.hasWeightedNumericStats=function(){return null!=jc(this,9)};function ie(a){ac(this,a,Re,null)}wa(ie,Zb);var Re=[3];ie.prototype.toObject=function(a){return Vd(a,this)};
function Vd(a,b){var c,d={commonStats:(c=Ie(b))&&Je(a,c),unique:D(b,2,0),topValuesList:ic(b.getTopValuesList(),Se,a),avgLength:+D(b,4,0),rankHistogram:(c=b.getRankHistogram())&&Be(a,c),weightedStringStats:(c=xc(b,Xe,6))&&Ye(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function je(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Me;b.readMessage(c,Ne);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=new Ze;b.readMessage(c,$e);a.addTopValues(c);break;case 4:c=b.readFloat();uc(a,4,c);break;case 5:c=new De;b.readMessage(c,Ee);a.setRankHistogram(c);break;case 6:c=new Xe;b.readMessage(c,af);Ac(a,6,c);break;default:Fb(b)}return a}ie.prototype.serializeBinary=function(){var a=new Hb;qe(this,a);return Pb(a)};
function qe(a,b){var c=Ie(a);null!=c&&b.writeMessage(1,c,Pe);c=D(a,2,0);0!==c&&b.writeUint64(2,c);c=a.getTopValuesList();0<c.length&&Sb(b,3,c,bf);c=+D(a,4,0);0!==c&&b.writeFloat(4,c);c=a.getRankHistogram();null!=c&&b.writeMessage(5,c,Ge);c=xc(a,Xe,6);null!=c&&b.writeMessage(6,c,cf)}function Ze(a){ac(this,a,null,null)}wa(Ze,Zb);Ze.prototype.toObject=function(a){return Se(a,this)};
function Se(a,b){var c={deprecatedFreq:D(b,1,0),value:D(b,2,""),frequency:+D(b,3,0)};a&&(c.$jspbMessageInstance=b);return c}function $e(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readUint64();sc(a,1,c);break;case 2:c=b.readString();a.setValue(c);break;case 3:c=b.readDouble();uc(a,3,c);break;default:Fb(b)}return a}Ze.prototype.serializeBinary=function(){var a=new Hb;bf(this,a);return Pb(a)};
function bf(a,b){var c=D(a,1,0);0!==c&&b.writeUint64(1,c);c=a.getValue();0<c.length&&b.writeString(2,c);c=+D(a,3,0);0!==c&&b.writeDouble(3,c)}Ze.prototype.getValue=function(){return D(this,2,"")};Ze.prototype.setValue=function(a){tc(this,2,a,"")};m=ie.prototype;m.getCommonStats=function(){return xc(this,Me,1)};m.setCommonStats=function(a){Ac(this,1,a)};m.clearCommonStats=function(){this.setCommonStats(void 0)};m.hasCommonStats=function(){return null!=jc(this,1)};
m.setUnique=function(a){sc(this,2,a)};m.getTopValuesList=function(){return yc(this,Ze,3)};m.setTopValuesList=function(a){Cc(this,3,a)};m.addTopValues=function(a){return Dc(this,3,a,Ze,void 0)};m.clearTopValuesList=function(){this.setTopValuesList([])};m.getRankHistogram=function(){return xc(this,De,5)};m.setRankHistogram=function(a){Ac(this,5,a)};m.clearRankHistogram=function(){this.setRankHistogram(void 0)};m.hasRankHistogram=function(){return null!=jc(this,5)};
m.clearWeightedStringStats=function(){Ac(this,6,void 0)};m.hasWeightedStringStats=function(){return null!=jc(this,6)};function Ke(a){ac(this,a,df,null)}wa(Ke,Zb);var df=[4];m=Ke.prototype;m.toObject=function(a){return Le(a,this)};function Le(a,b){var c={mean:+D(b,1,0),stdDev:+D(b,2,0),median:+D(b,3,0),histogramsList:ic(b.getHistogramsList(),Ae,a)};a&&(c.$jspbMessageInstance=b);return c}
function Oe(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readDouble();a.setMean(c);break;case 2:c=b.readDouble();a.setStdDev(c);break;case 3:c=b.readDouble();a.setMedian(c);break;case 4:c=new ze;b.readMessage(c,Ce);a.addHistograms(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;Qe(this,a);return Pb(a)};
function Qe(a,b){var c=a.getMean();0!==c&&b.writeDouble(1,c);c=a.getStdDev();0!==c&&b.writeDouble(2,c);c=a.getMedian();0!==c&&b.writeDouble(3,c);c=a.getHistogramsList();0<c.length&&Sb(b,4,c,Fe)}m.getMean=function(){return+D(this,1,0)};m.setMean=function(a){uc(this,1,a)};m.getStdDev=function(){return+D(this,2,0)};m.setStdDev=function(a){uc(this,2,a)};m.getMedian=function(){return+D(this,3,0)};m.setMedian=function(a){uc(this,3,a)};m.getHistogramsList=function(){return yc(this,ze,4)};
m.setHistogramsList=function(a){Cc(this,4,a)};m.addHistograms=function(a){return Dc(this,4,a,ze,void 0)};m.clearHistogramsList=function(){this.setHistogramsList([])};function Xe(a){ac(this,a,ef,null)}wa(Xe,Zb);var ef=[1];m=Xe.prototype;m.toObject=function(a){return Ye(a,this)};function Ye(a,b){var c,d={topValuesList:ic(b.getTopValuesList(),Se,a),rankHistogram:(c=b.getRankHistogram())&&Be(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function af(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Ze;b.readMessage(c,$e);a.addTopValues(c);break;case 2:c=new De;b.readMessage(c,Ee);a.setRankHistogram(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;cf(this,a);return Pb(a)};function cf(a,b){var c=a.getTopValuesList();0<c.length&&Sb(b,1,c,bf);c=a.getRankHistogram();null!=c&&b.writeMessage(2,c,Ge)}m.getTopValuesList=function(){return yc(this,Ze,1)};m.setTopValuesList=function(a){Cc(this,1,a)};
m.addTopValues=function(a){return Dc(this,1,a,Ze,void 0)};m.clearTopValuesList=function(){this.setTopValuesList([])};m.getRankHistogram=function(){return xc(this,De,2)};m.setRankHistogram=function(a){Ac(this,2,a)};m.clearRankHistogram=function(){this.setRankHistogram(void 0)};m.hasRankHistogram=function(){return null!=jc(this,2)};function ke(a){ac(this,a,null,null)}wa(ke,Zb);m=ke.prototype;m.toObject=function(a){return Xd(a,this)};
function Xd(a,b){var c,d={commonStats:(c=Ie(b))&&Je(a,c),unique:D(b,2,0),avgNumBytes:+D(b,3,0),minNumBytes:+D(b,4,0),maxNumBytes:+D(b,5,0)};a&&(d.$jspbMessageInstance=b);return d}function le(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Me;b.readMessage(c,Ne);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=b.readFloat();uc(a,3,c);break;case 4:c=b.readFloat();uc(a,4,c);break;case 5:c=b.readFloat();uc(a,5,c);break;default:Fb(b)}return a}
m.serializeBinary=function(){var a=new Hb;re(this,a);return Pb(a)};function re(a,b){var c=Ie(a);null!=c&&b.writeMessage(1,c,Pe);c=D(a,2,0);0!==c&&b.writeUint64(2,c);c=+D(a,3,0);0!==c&&b.writeFloat(3,c);c=+D(a,4,0);0!==c&&b.writeFloat(4,c);c=+D(a,5,0);0!==c&&b.writeFloat(5,c)}m.getCommonStats=function(){return xc(this,Me,1)};m.setCommonStats=function(a){Ac(this,1,a)};m.clearCommonStats=function(){this.setCommonStats(void 0)};m.hasCommonStats=function(){return null!=jc(this,1)};
m.getUnique=function(){return D(this,2,0)};m.setUnique=function(a){sc(this,2,a)};function Yd(a){ac(this,a,null,null)}wa(Yd,Zb);m=Yd.prototype;m.toObject=function(a){return Zd(a,this)};function Zd(a,b){var c,d={commonStats:(c=Ie(b))&&Je(a,c)};a&&(d.$jspbMessageInstance=b);return d}function me(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new Me;b.readMessage(c,Ne);a.setCommonStats(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;se(this,a);return Pb(a)};
function se(a,b){a=Ie(a);null!=a&&b.writeMessage(1,a,Pe)}m.getCommonStats=function(){return xc(this,Me,1)};m.setCommonStats=function(a){Ac(this,1,a)};m.clearCommonStats=function(){this.setCommonStats(void 0)};m.hasCommonStats=function(){return null!=jc(this,1)};function Me(a){ac(this,a,null,null)}wa(Me,Zb);m=Me.prototype;m.toObject=function(a){return Je(a,this)};
function Je(a,b){var c,d={numNonMissing:D(b,1,0),numMissing:D(b,2,0),minNumValues:D(b,3,0),maxNumValues:D(b,4,0),avgNumValues:+D(b,5,0),totNumValues:D(b,8,0),numValuesHistogram:(c=xc(b,ze,6))&&Ae(a,c),weightedCommonStats:(c=xc(b,ue,7))&&ve(a,c),featureListLengthHistogram:(c=xc(b,ze,9))&&Ae(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function Ne(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readUint64();a.setNumNonMissing(c);break;case 2:c=b.readUint64();a.setNumMissing(c);break;case 3:c=b.readUint64();sc(a,3,c);break;case 4:c=b.readUint64();sc(a,4,c);break;case 5:c=b.readFloat();a.setAvgNumValues(c);break;case 8:c=b.readUint64();a.setTotNumValues(c);break;case 6:c=new ze;b.readMessage(c,Ce);Ac(a,6,c);break;case 7:c=new ue;b.readMessage(c,we);Ac(a,7,c);break;case 9:c=new ze;b.readMessage(c,Ce);Ac(a,9,c);break;default:Fb(b)}return a}
m.serializeBinary=function(){var a=new Hb;Pe(this,a);return Pb(a)};function Pe(a,b){var c=a.getNumNonMissing();0!==c&&b.writeUint64(1,c);c=a.getNumMissing();0!==c&&b.writeUint64(2,c);c=D(a,3,0);0!==c&&b.writeUint64(3,c);c=D(a,4,0);0!==c&&b.writeUint64(4,c);c=a.getAvgNumValues();0!==c&&b.writeFloat(5,c);c=a.getTotNumValues();0!==c&&b.writeUint64(8,c);c=xc(a,ze,6);null!=c&&b.writeMessage(6,c,Fe);c=xc(a,ue,7);null!=c&&b.writeMessage(7,c,xe);c=xc(a,ze,9);null!=c&&b.writeMessage(9,c,Fe)}
m.getNumNonMissing=function(){return D(this,1,0)};m.setNumNonMissing=function(a){sc(this,1,a)};m.getNumMissing=function(){return D(this,2,0)};m.setNumMissing=function(a){sc(this,2,a)};m.getAvgNumValues=function(){return+D(this,5,0)};m.setAvgNumValues=function(a){uc(this,5,a)};m.getTotNumValues=function(){return D(this,8,0)};m.setTotNumValues=function(a){sc(this,8,a)};m.clearNumValuesHistogram=function(){Ac(this,6,void 0)};m.hasNumValuesHistogram=function(){return null!=jc(this,6)};
m.clearWeightedCommonStats=function(){Ac(this,7,void 0)};m.hasWeightedCommonStats=function(){return null!=jc(this,7)};m.clearFeatureListLengthHistogram=function(){Ac(this,9,void 0)};m.hasFeatureListLengthHistogram=function(){return null!=jc(this,9)};function ze(a){ac(this,a,ff,null)}wa(ze,Zb);var ff=[3];ze.prototype.toObject=function(a){return Ae(a,this)};
function Ae(a,b){var c={numNan:D(b,1,0),numUndefined:D(b,2,0),bucketsList:ic(b.getBucketsList(),gf,a),type:D(b,4,0),name:D(b,5,"")};a&&(c.$jspbMessageInstance=b);return c}function Ce(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readUint64();sc(a,1,c);break;case 2:c=b.readUint64();sc(a,2,c);break;case 3:c=new hf;b.readMessage(c,jf);a.addBuckets(c);break;case 4:c=b.readEnum();a.setType(c);break;case 5:c=b.readString();a.setName(c);break;default:Fb(b)}return a}
ze.prototype.serializeBinary=function(){var a=new Hb;Fe(this,a);return Pb(a)};function Fe(a,b){var c=D(a,1,0);0!==c&&b.writeUint64(1,c);c=D(a,2,0);0!==c&&b.writeUint64(2,c);c=a.getBucketsList();0<c.length&&Sb(b,3,c,kf);c=a.getType();0!==c&&b.writeEnum(4,c);c=a.getName();0<c.length&&b.writeString(5,c)}function hf(a){ac(this,a,null,null)}wa(hf,Zb);m=hf.prototype;m.toObject=function(a){return gf(a,this)};
function gf(a,b){var c={lowValue:+D(b,1,0),highValue:+D(b,2,0),deprecatedCount:D(b,3,0),sampleCount:+D(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}function jf(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readDouble();lf(a,c);break;case 2:c=b.readDouble();mf(a,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readDouble();a.setSampleCount(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;kf(this,a);return Pb(a)};
function kf(a,b){var c=a.getLowValue();0!==c&&b.writeDouble(1,c);c=nf(a);0!==c&&b.writeDouble(2,c);c=D(a,3,0);0!==c&&b.writeUint64(3,c);c=a.getSampleCount();0!==c&&b.writeDouble(4,c)}m.getLowValue=function(){return+D(this,1,0)};function lf(a,b){uc(a,1,b)}function nf(a){return+D(a,2,0)}function mf(a,b){uc(a,2,b)}m.setDeprecatedCount=function(a){sc(this,3,a)};m.getSampleCount=function(){return+D(this,4,0)};m.setSampleCount=function(a){uc(this,4,a)};m=ze.prototype;
m.getBucketsList=function(){return yc(this,hf,3)};m.setBucketsList=function(a){Cc(this,3,a)};m.addBuckets=function(a){return Dc(this,3,a,hf,void 0)};m.clearBucketsList=function(){this.setBucketsList([])};m.getType=function(){return D(this,4,0)};m.setType=function(a){tc(this,4,a,0)};m.getName=function(){return D(this,5,"")};m.setName=function(a){tc(this,5,a,"")};function De(a){ac(this,a,of,null)}wa(De,Zb);var of=[1];De.prototype.toObject=function(a){return Be(a,this)};
function Be(a,b){var c={bucketsList:ic(b.getBucketsList(),pf,a),name:D(b,2,"")};a&&(c.$jspbMessageInstance=b);return c}function Ee(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=new qf;b.readMessage(c,rf);a.addBuckets(c);break;case 2:c=b.readString();a.setName(c);break;default:Fb(b)}return a}De.prototype.serializeBinary=function(){var a=new Hb;Ge(this,a);return Pb(a)};function Ge(a,b){var c=a.getBucketsList();0<c.length&&Sb(b,1,c,sf);c=a.getName();0<c.length&&b.writeString(2,c)}
function qf(a){ac(this,a,null,null)}wa(qf,Zb);m=qf.prototype;m.toObject=function(a){return pf(a,this)};function pf(a,b){var c={lowRank:D(b,1,0),highRank:D(b,2,0),deprecatedCount:D(b,3,0),label:D(b,4,""),sampleCount:+D(b,5,0)};a&&(c.$jspbMessageInstance=b);return c}
function rf(a,b){for(;Eb(b)&&!Db(b);)switch(b.nextField_){case 1:var c=b.readUint64();sc(a,1,c);break;case 2:c=b.readUint64();sc(a,2,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readString();tc(a,4,c,"");break;case 5:c=b.readDouble();a.setSampleCount(c);break;default:Fb(b)}return a}m.serializeBinary=function(){var a=new Hb;sf(this,a);return Pb(a)};
function sf(a,b){var c=D(a,1,0);0!==c&&b.writeUint64(1,c);c=D(a,2,0);0!==c&&b.writeUint64(2,c);c=D(a,3,0);0!==c&&b.writeUint64(3,c);c=a.getLabel();0<c.length&&b.writeString(4,c);c=a.getSampleCount();0!==c&&b.writeDouble(5,c)}m.getDeprecatedCount=function(){return D(this,3,0)};m.setDeprecatedCount=function(a){sc(this,3,a)};m.getLabel=function(){return D(this,4,"")};m.getSampleCount=function(){return+D(this,5,0)};m.setSampleCount=function(a){uc(this,5,a)};m=De.prototype;
m.getBucketsList=function(){return yc(this,qf,1)};m.setBucketsList=function(a){Cc(this,1,a)};m.addBuckets=function(a){return Dc(this,1,a,qf,void 0)};m.clearBucketsList=function(){this.setBucketsList([])};m.getName=function(){return D(this,2,"")};m.setName=function(a){tc(this,2,a,"")};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/deps.js
//~~WEBPATH~~/polymer/polymer-micro.html.js
(function(){function a(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",a):"interactive"===document.readyState||"complete"===document.readyState?a():addEventListener("DOMContentLoaded",a)})();var uf=window,vf=window.Polymer||{};if(!vf.noUrlSettings)for(var wf=location.search.slice(1).split("\x26"),xf=0,yf;xf<wf.length&&(yf=wf[xf]);xf++)yf=yf.split("\x3d"),yf[0]&&(vf[yf[0]]=yf[1]||!0);vf.wantShadow="shadow"===vf.dom;vf.hasShadow=!!Element.prototype.createShadowRoot;
vf.nativeShadow=vf.hasShadow&&!window.ShadowDOMPolyfill;vf.useShadow=vf.wantShadow&&vf.hasShadow;vf.hasNativeImports="import"in document.createElement("link");vf.useNativeImports=vf.hasNativeImports;vf.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;vf.useNativeShadow=vf.useShadow&&vf.nativeShadow;vf.usePolyfillProto=!vf.useNativeCustomElements&&!Object.__proto__;
vf.hasNativeCSSProperties=!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");vf.useNativeCSSProperties=vf.hasNativeCSSProperties&&vf.lazyRegister&&vf.useNativeCSSProperties;vf.isIE=navigator.userAgent.match("Trident");vf.passiveTouchGestures=vf.passiveTouchGestures||!1;uf.Polymer={Settings:vf};
(function(){function a(d){var e=Polymer.Base;d.extends&&(e=Polymer.Base._getExtendedPrototype(d.extends));d=Polymer.Base.chainObject(d,e);d.registerCallback();return d}var b=window.Polymer;window.Polymer=function(d){"function"===typeof d&&(d=d.prototype);d||(d={});d=a(d);var e=d===d.constructor.prototype?d.constructor:null,f={prototype:d};d.extends&&(f.extends=d.extends);Polymer.telemetry._registrate(d);d=document.registerElement(d.is,f);return e||d};if(b)for(var c in b)Polymer[c]=b[c];Polymer.Class=
function(d){d.factoryImpl||(d.factoryImpl=function(){});return a(d).constructor}})();Polymer.telemetry={registrations:[],_regLog:function(a){console.log("["+a.is+"]: registered")},_registrate:function(a){this.registrations.push(a);Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(a){this._ready?a():this._callbacks.push(a)},_makeReady:function(){this._ready=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(a,b,c){this._watchNextRender();this._afterNextRenderQueue.push([a,b,c])},hasRendered:function(){return this._ready},
_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var a=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(a):this.whenReady(a)}},_flushNextRender:function(){var a=this;setTimeout(function(){a._flushRenderCallbacks(a._afterNextRenderQueue);a._afterNextRenderQueue=[];a._waitingNextRender=!1})},_flushRenderCallbacks:function(a){for(var b=0,c;b<a.length;b++)c=a[b],c[1].apply(c[0],c[2]||Polymer.nar)}};
window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var a=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(d){this.mixin(this,d)},registerCallback:function(){if("max"!==a.lazyRegister){this._desugarBehaviors();for(var d=0,e;d<this.behaviors.length;d++)e=this.behaviors[d],e.beforeRegister&&e.beforeRegister.call(this)}this.beforeRegister&&this.beforeRegister();this._registerFeatures();a.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){if(a.disableUpgradeEnabled){if(this.hasAttribute("disable-upgrade")){this._propertySetter=
b;this._configValue=null;this.__data__={};return}this.__hasInitialized=!0}this.__initialize()},__initialize:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var d=0,e;d<this.behaviors.length;d++)e=this.behaviors[d],e.created&&e.created.call(this);this.created&&this.created();this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(d){if(d.__hasRegisterFinished!==
d.is||!d.is){if("max"===a.lazyRegister){d._desugarBehaviors();for(var e=0,f;e<d.behaviors.length;e++)f=d.behaviors[e],f.beforeRegister&&f.beforeRegister.call(d)}d.__hasRegisterFinished=d.is;d._finishRegisterFeatures&&d._finishRegisterFeatures();for(e=0;e<d.behaviors.length;e++)f=d.behaviors[e],f.registered&&f.registered.call(d);d.registered&&d.registered();a.usePolyfillProto&&d!==this&&d.extend(this,d)}},attachedCallback:function(){var d=this;Polymer.RenderStatus.whenReady(function(){d.isAttached=
!0;for(var e=0,f;e<d.behaviors.length;e++)f=d.behaviors[e],f.attached&&f.attached.call(d);d.attached&&d.attached()})},detachedCallback:function(){var d=this;Polymer.RenderStatus.whenReady(function(){d.isAttached=!1;for(var e=0,f;e<d.behaviors.length;e++)f=d.behaviors[e],f.detached&&f.detached.call(d);d.detached&&d.detached()})},attributeChangedCallback:function(d,e,f){this._attributeChangedImpl(d);for(var g=0,h;g<this.behaviors.length;g++)h=this.behaviors[g],h.attributeChanged&&h.attributeChanged.call(this,
d,e,f);this.attributeChanged&&this.attributeChanged(d,e,f)},_attributeChangedImpl:function(d){this._setAttributeToProperty(this,d)},extend:function(d,e){if(d&&e)for(var f=Object.getOwnPropertyNames(e),g=0,h;g<f.length&&(h=f[g]);g++)this.copyOwnProperty(h,e,d);return d||e},mixin:function(d,e){for(var f in e)d[f]=e[f];return d},copyOwnProperty:function(d,e,f){(e=Object.getOwnPropertyDescriptor(e,d))&&Object.defineProperty(f,d,e)},_logger:function(d,e){1===e.length&&Array.isArray(e[0])&&(e=e[0]);switch(d){case "log":case "warn":case "error":console[d].apply(console,
e)}},_log:function(){this._logger("log",Array.prototype.slice.call(arguments,0))},_warn:function(){this._logger("warn",Array.prototype.slice.call(arguments,0))},_error:function(){this._logger("error",Array.prototype.slice.call(arguments,0))},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:
["[%s::%s]:"];Polymer.Base.chainObject=function(d,e){d&&e&&d!==e&&(Object.__proto__||(d=Polymer.Base.extend(Object.create(e),d)),d.__proto__=e);return d};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors={};if(a.disableUpgradeEnabled){var b=function(d,e){this.__data__[d]=e};var c=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(d,e,f){this.__hasInitialized||"disable-upgrade"!==d||(this.__hasInitialized=!0,this._propertySetter=
Polymer.Bind._modelApi._propertySetter,this._configValue=Polymer.Base._configValue,this.__initialize());c.call(this,d,e,f)}}Polymer.instanceof=window.CustomElements?CustomElements.instanceof:function(d,e){return d instanceof e};Polymer.isInstance=function(d){return!(!d||!d.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){function a(){return document.createElement("dom-module")}var b={},c={};a.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(a.prototype,{createdCallback:function(){this.register()},register:function(e){if(e=e||this.id||this.getAttribute("name")||this.getAttribute("is"))this.id=e,b[e]=this,c[e.toLowerCase()]=this},import:function(e,f){if(e){var g=b[e]||c[e.toLowerCase()];if(!g){if(d){g=document._currentScript||document.currentScript;g=(g&&g.ownerDocument||document).querySelectorAll("dom-module");
for(var h=g.length-1,k;0<=h&&(k=g[h])&&!k.__upgraded__;h--)CustomElements.upgrade(k)}g=b[e]||c[e.toLowerCase()]}g&&f&&(g=g.querySelector(f));return g}}});Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});var d=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",a)})();
Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var a=(document._currentScript||document.currentScript).parentNode;"dom-module"===a.localName&&(this.is=a.id||a.getAttribute("name")||a.getAttribute("is"))}this.is&&(this.is=this.is.toLowerCase())}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(a){var b=[];a=this._flattenBehaviorsList(a);for(var c=a.length-1;0<=c;c--){var d=a[c];-1===b.indexOf(d)&&(this._mixinBehavior(d),b.unshift(d))}return b},_flattenBehaviorsList:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d instanceof Array?b=b.concat(this._flattenBehaviorsList(d)):d?b.push(d):this._warn(this._logf("_flattenBehaviorsList",
"behavior is null, check for missing or 404 import"))}return b},_mixinBehavior:function(a){for(var b=Object.getOwnPropertyNames(a),c=a._noAccessors,d=0,e;d<b.length&&(e=b[d]);d++)Polymer.Base._behaviorProperties[e]||this.hasOwnProperty(e)||(c?this[e]=a[e]:this.copyOwnProperty(e,a,this))},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(a){for(var b=0,c=a.length;b<c;b++)this._prepBehavior(a[b]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var a=
0;a<this.behaviors.length;a++)this._marshalBehavior(this.behaviors[a]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0,_noAccessors:!0};
Polymer.Base._addFeature({_getExtendedPrototype:function(a){return this._getExtendedNativePrototype(a)},_nativePrototypes:{},_getExtendedNativePrototype:function(a){var b=this._nativePrototypes[a];if(!b){b=Object.create(this.getNativePrototype(a));for(var c=Object.getOwnPropertyNames(Polymer.Base),d=0,e;d<c.length&&(e=c[d]);d++)Polymer.BaseDescriptors[e]||(b[e]=Polymer.Base[e]);Object.defineProperties(b,Polymer.BaseDescriptors);this._nativePrototypes[a]=b}return b},getNativePrototype:function(a){return Object.getPrototypeOf(document.createElement(a))}});
Polymer.Base._addFeature({_prepConstructor:function(){function a(){return this._factory(arguments)}this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];this.hasOwnProperty("extends")&&(a.extends=this.extends);Object.defineProperty(this,"constructor",{value:a,writable:!0,configurable:!0});a.prototype=this},_factory:function(a){var b=document.createElement.apply(document,this._factoryArgs);this.factoryImpl&&this.factoryImpl.apply(b,a);return b}});Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(a){var b=this._getPropertyInfo(a,this.properties);if(!b)for(var c=0;c<this.behaviors.length;c++)if(b=this._getPropertyInfo(a,this.behaviors[c].properties))return b;return b||Polymer.nob},_getPropertyInfo:function(a,b){var c=b&&b[a];"function"===typeof c&&(c=b[a]={type:c});c&&(c.defined=!0);return c},_prepPropertyInfo:function(){this._propertyInfo={};for(var a=0;a<this.behaviors.length;a++)this._addPropertyInfo(this._propertyInfo,this.behaviors[a].properties);
this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(a,b){if(b){var c;for(c in b){var d=a[c];var e=b[c];if("_"!==c[0]||e.readOnly)a[c]?(d.type||(d.type=e.type),d.readOnly||(d.readOnly=e.readOnly)):a[c]={type:"function"===typeof e?e:e.type,readOnly:e.readOnly,attribute:Polymer.CaseMap.camelToDashCase(c)}}}}});var zf={configurable:!0,writable:!0,enumerable:!0,value:{}};
Polymer.BaseDescriptors.properties=zf;Object.defineProperty(Polymer.Base,"properties",zf);Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(a){return this._caseMap[a]||(this._caseMap[a]=0>a.indexOf("-")?a:a.replace(this._rx.dashToCamel,function(b){return b[1].toUpperCase()}))},camelToDashCase:function(a){return this._caseMap[a]||(this._caseMap[a]=a.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(a){this._aggregatedAttributes||(this._aggregatedAttributes={});a&&this.mixin(this._aggregatedAttributes,a)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(a,b){for(var c in b)this.hasAttribute(c)||"class"===c||this.serializeValueToAttribute(b[c],c,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(a){if(this.hasAttributes())for(var b in this._propertyInfo){var c=
this._propertyInfo[b];this.hasAttribute(c.attribute)&&this._setAttributeToProperty(a,c.attribute,b,c)}},_setAttributeToProperty:function(a,b,c,d){this._serializing||(c=c||Polymer.CaseMap.dashToCamelCase(b),(d=d||this._propertyInfo&&this._propertyInfo[c])&&!d.readOnly&&(b=this.getAttribute(b),a[c]=this.deserialize(b,d.type)))},_serializing:!1,reflectPropertyToAttribute:function(a,b,c){this._serializing=!0;c=void 0===c?this[a]:c;this.serializeValueToAttribute(c,b||Polymer.CaseMap.camelToDashCase(a));
this._serializing=!1},serializeValueToAttribute:function(a,b,c){a=this.serialize(a);c=c||this;void 0===a?c.removeAttribute(b):c.setAttribute(b,a)},deserialize:function(a,b){switch(b){case Number:a=Number(a);break;case Boolean:a=null!=a;break;case Object:try{a=JSON.parse(a)}catch(c){}break;case Array:try{a=JSON.parse(a)}catch(c){a=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:a=new Date(a)}return a},serialize:function(a){switch(typeof a){case "boolean":return a?
"":void 0;case "object":if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(b){return""}default:return null!=a?a:void 0}}});Polymer.version="1.11.3";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_marshalBehavior:function(){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});
</script>











<script>//~~WEBPATH~~/polymer/polymer-mini.html.js
(function(){function a(l,n){return l.replace(f,function(p,q,r,t){return q+"'"+b(r.replace(/["']/g,""),n)+"'"+t})}function b(l,n){if(l&&h.test(l))return l;n=n.body.__urlResolver||(n.body.__urlResolver=n.createElement("a"));n.href=l;return n.href||l}function c(l){return l.substring(0,l.lastIndexOf("/")+1)}var d,e,f=/(url\()([^)]*)(\))/g,g={"*":["href","src","style","url"],form:["action"]},h=/(^\/)|(^#)|(^[\w-\d]*:)/,k=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:a,resolveAttrs:function(l,n){for(var p in g)for(var q=
g[p],r=0,t=q.length,v,u,y;r<t&&(v=q[r]);r++)("*"===p||l.localName===p)&&(y=(u=l.attributes[v])&&u.value)&&0>y.search(k)&&(u.value="style"===v?a(y,n):b(y,n))},resolveUrl:function(l,n){d||(d=document.implementation.createHTMLDocument("temp"),e=d.createElement("base"),d.head.appendChild(e));e.href=n;return b(l,d)},pathFromUrl:c};Polymer.rootPath=Polymer.Settings.rootPath||c(document.baseURI||window.location.href)})();
Polymer.Base._addFeature({_prepTemplate:function(){var a;void 0===this._template&&(this._template=(a=Polymer.DomModule.import(this.is))&&a.querySelector("template"));if(a){var b=a.getAttribute("assetpath")||"";a=Polymer.ResolveUrl.resolveUrl(b,a.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(a)}else this._importPath="";this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,
"Move inside simple \x3ctemplate\x3e."));this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(a){return document.importNode(a._content||a.content,!0)}});
(function(){var a=Polymer.Base.attachedCallback,b=Polymer.Base.detachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(c){(this.dataHost=c=c||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1])&&c._clients&&c._clients.push(this);this._clients=null;this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this);this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=
!1;this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();this._template&&(this._setupRoot(),this._readyClients());this._clientsReadied=!0;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var c=this._clients;if(c)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)f._ready();this._finishDistribute()},_readySelf:function(){for(var c=0,d;c<this.behaviors.length;c++)d=
this.behaviors[c],d.ready&&d.ready.call(this);this.ready&&this.ready();this._readied=!0;this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),a.call(this)):this._attachedPending=!0},detachedCallback:function(){this._readied?b.call(this):this._attachedPending=!1}})})();
Polymer.ArraySplice=function(){function a(c,d,e){return{index:c,removed:d,addedCount:e}}function b(){}b.prototype={calcEditDistances:function(c,d,e,f,g,h){h=h-g+1;e=e-d+1;for(var k=Array(h),l=0;l<h;l++)k[l]=Array(e),k[l][0]=l;for(var n=0;n<e;n++)k[0][n]=n;for(l=1;l<h;l++)for(n=1;n<e;n++)if(this.equals(c[d+n-1],f[g+l-1]))k[l][n]=k[l-1][n-1];else{var p=k[l-1][n]+1,q=k[l][n-1]+1;k[l][n]=p<q?p:q}return k},spliceOperationsFromEditDistances:function(c){for(var d=c.length-1,e=c[0].length-1,f=c[d][e],g=[];0<
d||0<e;)if(0==d)g.push(2),e--;else if(0==e)g.push(3),d--;else{var h=c[d-1][e-1],k=c[d-1][e],l=c[d][e-1];var n=k<l?k<h?k:h:l<h?l:h;n==h?(h==f?g.push(0):(g.push(1),f=h),d--,e--):n==k?(g.push(3),d--,f=k):(g.push(2),e--,f=l)}g.reverse();return g},calcSplices:function(c,d,e,f,g,h){var k=0,l=0,n=Math.min(e-d,h-g);0==d&&0==g&&(k=this.sharedPrefix(c,f,n));e==c.length&&h==f.length&&(l=this.sharedSuffix(c,f,n-k));d+=k;g+=k;e-=l;h-=l;if(0==e-d&&0==h-g)return[];if(d==e){for(c=a(d,[],0);g<h;)c.removed.push(f[g++]);
return[c]}if(g==h)return[a(d,[],e-d)];h=this.spliceOperationsFromEditDistances(this.calcEditDistances(c,d,e,f,g,h));c=void 0;e=[];for(k=0;k<h.length;k++)switch(h[k]){case 0:c&&(e.push(c),c=void 0);d++;g++;break;case 1:c||(c=a(d,[],0));c.addedCount++;d++;c.removed.push(f[g]);g++;break;case 2:c||(c=a(d,[],0));c.addedCount++;d++;break;case 3:c||(c=a(d,[],0)),c.removed.push(f[g]),g++}c&&e.push(c);return e},sharedPrefix:function(c,d,e){for(var f=0;f<e;f++)if(!this.equals(c[f],d[f]))return f;return e},
sharedSuffix:function(c,d,e){for(var f=c.length,g=d.length,h=0;h<e&&this.equals(c[--f],d[--g]);)h++;return h},calculateSplices:function(c,d){return this.calcSplices(c,0,c.length,d,0,d.length)},equals:function(c,d){return c===d}};return new b}();
Polymer.domInnerHTML=function(){function a(h){switch(h){case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case '"':return"\x26quot;";case "\u00a0":return"\x26nbsp;"}}function b(h){for(var k={},l=0;l<h.length;l++)k[h[l]]=!0;return k}function c(h,k){h instanceof HTMLTemplateElement&&(h=h.content);for(var l="",n=Polymer.dom(h).childNodes,p=0,q=n.length,r;p<q&&(r=n[p]);p++){a:{var t=r;var v=h;var u=k;switch(t.nodeType){case Node.ELEMENT_NODE:for(var y=t.localName,w=
"\x3c"+y,x=t.attributes,z=0;v=x[z];z++)w+=" "+v.name+'\x3d"'+v.value.replace(d,a)+'"';w+="\x3e";t=f[y]?w:w+c(t,u)+"\x3c/"+y+"\x3e";break a;case Node.TEXT_NODE:t=t.data;t=v&&g[v.localName]?t:t.replace(e,a);break a;case Node.COMMENT_NODE:t="\x3c!--"+t.data+"--\x3e";break a;default:throw console.error(t),Error("not implemented");}}l+=t}return l}var d=/[&\u00A0"]/g,e=/[&\u00A0<>]/g,f=b("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),g=b("style script xmp iframe noembed noframes plaintext noscript".split(" "));
return{getInnerHTML:c}}();
(function(){var a=Element.prototype.insertBefore,b=Element.prototype.appendChild,c=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(d){var e=[],f=0;for(d=d.firstChild;d;d=d.nextSibling)e[f++]=d;return e},arrayCopyChildren:function(d){var e=[],f=0;for(d=d.firstElementChild;d;d=d.nextElementSibling)e[f++]=d;return e},arrayCopy:function(d){for(var e=d.length,f=Array(e),g=0;g<e;g++)f[g]=d[g];return f}};Polymer.TreeApi.Logical={hasParentNode:function(d){return!(!d.__dom||!d.__dom.parentNode)},
hasChildNodes:function(d){return!(!d.__dom||void 0===d.__dom.childNodes)},getChildNodes:function(d){return this.hasChildNodes(d)?this._getChildNodes(d):d.childNodes},_getChildNodes:function(d){if(!d.__dom.childNodes){d.__dom.childNodes=[];for(var e=d.__dom.firstChild;e;e=e.__dom.nextSibling)d.__dom.childNodes.push(e)}return d.__dom.childNodes},getParentNode:function(d){return d.__dom&&void 0!==d.__dom.parentNode?d.__dom.parentNode:d.parentNode},getFirstChild:function(d){return d.__dom&&void 0!==d.__dom.firstChild?
d.__dom.firstChild:d.firstChild},getLastChild:function(d){return d.__dom&&void 0!==d.__dom.lastChild?d.__dom.lastChild:d.lastChild},getNextSibling:function(d){return d.__dom&&void 0!==d.__dom.nextSibling?d.__dom.nextSibling:d.nextSibling},getPreviousSibling:function(d){return d.__dom&&void 0!==d.__dom.previousSibling?d.__dom.previousSibling:d.previousSibling},getFirstElementChild:function(d){return d.__dom&&void 0!==d.__dom.firstChild?this._getFirstElementChild(d):d.firstElementChild},_getFirstElementChild:function(d){for(d=
d.__dom.firstChild;d&&d.nodeType!==Node.ELEMENT_NODE;)d=d.__dom.nextSibling;return d},getLastElementChild:function(d){return d.__dom&&void 0!==d.__dom.lastChild?this._getLastElementChild(d):d.lastElementChild},_getLastElementChild:function(d){for(d=d.__dom.lastChild;d&&d.nodeType!==Node.ELEMENT_NODE;)d=d.__dom.previousSibling;return d},getNextElementSibling:function(d){return d.__dom&&void 0!==d.__dom.nextSibling?this._getNextElementSibling(d):d.nextElementSibling},_getNextElementSibling:function(d){for(d=
d.__dom.nextSibling;d&&d.nodeType!==Node.ELEMENT_NODE;)d=d.__dom.nextSibling;return d},getPreviousElementSibling:function(d){return d.__dom&&void 0!==d.__dom.previousSibling?this._getPreviousElementSibling(d):d.previousElementSibling},_getPreviousElementSibling:function(d){for(d=d.__dom.previousSibling;d&&d.nodeType!==Node.ELEMENT_NODE;)d=d.__dom.previousSibling;return d},saveChildNodes:function(d){if(!this.hasChildNodes(d)){d.__dom=d.__dom||{};d.__dom.firstChild=d.firstChild;d.__dom.lastChild=d.lastChild;
d.__dom.childNodes=[];for(var e=d.firstChild;e;e=e.nextSibling)e.__dom=e.__dom||{},e.__dom.parentNode=d,d.__dom.childNodes.push(e),e.__dom.nextSibling=e.nextSibling,e.__dom.previousSibling=e.previousSibling}},recordInsertBefore:function(d,e,f){e.__dom.childNodes=null;if(d.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(d=d.firstChild;d;d=d.nextSibling)this._linkNode(d,e,f);else this._linkNode(d,e,f)},_linkNode:function(d,e,f){d.__dom=d.__dom||{};e.__dom=e.__dom||{};f&&(f.__dom=f.__dom||{});d.__dom.previousSibling=
f?f.__dom.previousSibling:e.__dom.lastChild;d.__dom.previousSibling&&(d.__dom.previousSibling.__dom.nextSibling=d);d.__dom.nextSibling=f||null;d.__dom.nextSibling&&(d.__dom.nextSibling.__dom.previousSibling=d);d.__dom.parentNode=e;f?f===e.__dom.firstChild&&(e.__dom.firstChild=d):(e.__dom.lastChild=d,e.__dom.firstChild||(e.__dom.firstChild=d));e.__dom.childNodes=null},recordRemoveChild:function(d,e){d.__dom=d.__dom||{};e.__dom=e.__dom||{};d===e.__dom.firstChild&&(e.__dom.firstChild=d.__dom.nextSibling);
d===e.__dom.lastChild&&(e.__dom.lastChild=d.__dom.previousSibling);var f=d.__dom.previousSibling,g=d.__dom.nextSibling;f&&(f.__dom.nextSibling=g);g&&(g.__dom.previousSibling=f);d.__dom.parentNode=d.__dom.previousSibling=d.__dom.nextSibling=void 0;e.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(d){return Polymer.TreeApi.arrayCopyChildNodes(d)},getParentNode:function(d){return d.parentNode},clearChildNodes:function(d){d.textContent=""},insertBefore:function(d,e,f){return a.call(d,
e,f||null)},appendChild:function(d,e){return b.call(d,e)},removeChild:function(d,e){return c.call(d,e)}}})();
Polymer.DomApi=function(){function a(g){this.node=d?a.wrap(g):g}var b=Polymer.Settings,c=Polymer.TreeApi,d=b.hasShadow&&!b.nativeShadow;a.wrap=window.wrap?window.wrap:function(g){return g};a.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(g){if(this.node.contains(g))return!0;var h=g;for(g=g.ownerDocument;h&&h!==g&&h!==this.node;)h=Polymer.dom(h).parentNode||h.host;return h===this.node},queryDistributedElements:function(g){for(var h=this.getEffectiveChildNodes(),k=[],l=0,n=h.length,
p;l<n&&(p=h[l]);l++)p.nodeType===Node.ELEMENT_NODE&&a.matchesSelector.call(p,g)&&k.push(p);return k},getEffectiveChildNodes:function(){for(var g=[],h=this.childNodes,k=0,l=h.length,n;k<l&&(n=h[k]);k++)if(n.localName===e)for(var p=f(n).getDistributedNodes(),q=0;q<p.length;q++)g.push(p[q]);else g.push(n);return g},observeNodes:function(g){if(g)return this.observer||(this.observer=this.node.localName===e?new a.DistributedNodesObserver(this):new a.EffectiveNodesObserver(this)),this.observer.addListener(g)},
unobserveNodes:function(g){this.observer&&this.observer.removeListener(g)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(g,h,k){h=h||this.node;var l=[];this._queryElements(c.Logical.getChildNodes(h),g,k,l);return l},_queryElements:function(g,h,k,l){for(var n=0,p=g.length,q;n<p&&(q=g[n]);n++)if(q.nodeType===Node.ELEMENT_NODE&&this._queryElement(q,h,k,l))return!0},_queryElement:function(g,h,k,l){var n=h(g);n&&l.push(g);if(k&&k(n))return n;this._queryElements(c.Logical.getChildNodes(g),
h,k,l)}};var e=a.CONTENT="content",f=a.factory=function(g){g=g||document;g.__domApi||(g.__domApi=new a.ctor(g));return g.__domApi};a.hasApi=function(g){return!!g.__domApi};a.ctor=a;Polymer.dom=function(g,h){return g instanceof Event?Polymer.EventApi.factory(g):a.factory(g,h)};b=Element.prototype;a.matchesSelector=b.matches||b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector;return a}();
(function(){var a=Polymer.DomApi,b=a.factory,c=Polymer.TreeApi,d=Polymer.domInnerHTML.getInnerHTML,e=a.CONTENT;if(!Polymer.Settings.useShadow){var f=Element.prototype.cloneNode,g=Document.prototype.importNode;Polymer.Base.mixin(a.prototype,{_lazyDistribute:function(h){h.shadyRoot&&h.shadyRoot._distributionClean&&(h.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(h.debounce("_distribute",h._distributeContent)))},appendChild:function(h){return this.insertBefore(h)},insertBefore:function(h,
k){if(k&&c.Logical.getParentNode(k)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(h.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var l=c.Logical.getParentNode(h);l?(a.hasApi(l)&&b(l).notifyObserver(),this._removeNode(h)):this._removeOwnerShadyRoot(h)}this._addNode(h,k)||(k&&(k=k.localName===e?this._firstComposedNode(k):k),l=this.node._isShadyRoot?this.node.host:this.node,k?c.Composed.insertBefore(l,h,k):c.Composed.appendChild(l,h));this.notifyObserver();return h},
_addNode:function(h,k){var l=this.getOwnerRoot();if(l){var n=this._maybeAddInsertionPoint(h,this.node);l._invalidInsertionPoints||(l._invalidInsertionPoints=n);this._addNodeToHost(l.host,h)}c.Logical.hasChildNodes(this.node)&&c.Logical.recordInsertBefore(h,this.node,k);if(k=this._maybeDistribute(h)||this.node.shadyRoot)if(h.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;h.firstChild;)c.Composed.removeChild(h,h.firstChild);else(l=c.Composed.getParentNode(h))&&c.Composed.removeChild(l,h);return k},removeChild:function(h){if(c.Logical.getParentNode(h)!==
this.node)throw Error("The node to be removed is not a child of this node: "+h);if(!this._removeNode(h)){var k=this.node._isShadyRoot?this.node.host:this.node;k===c.Composed.getParentNode(h)&&c.Composed.removeChild(k,h)}this.notifyObserver();return h},_removeNode:function(h){var k=c.Logical.hasParentNode(h)&&c.Logical.getParentNode(h),l=this._ownerShadyRootForNode(h);if(k){var n=b(h)._maybeDistributeParent();c.Logical.recordRemoveChild(h,k);l&&this._removeDistributedChildren(l,h)&&(l._invalidInsertionPoints=
!0,this._lazyDistribute(l.host))}this._removeOwnerShadyRoot(h);l&&this._removeNodeFromHost(l.host,h);return n},replaceChild:function(h,k){this.insertBefore(h,k);this.removeChild(k);return h},_hasCachedOwnerRoot:function(h){return void 0!==h._ownerShadyRoot},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(h){if(h){var k=h._ownerShadyRoot;void 0===k&&(k=h._isShadyRoot?h:(k=c.Logical.getParentNode(h))?k._isShadyRoot?k:this._ownerShadyRootForNode(k):
null,k||document.documentElement.contains(h))&&(h._ownerShadyRoot=k);return k}},_maybeDistribute:function(h){var k=h.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!h.__noContent&&b(h).querySelector(e),l=k&&c.Logical.getParentNode(k).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;(h=k||h.localName===e)&&(k=this.getOwnerRoot())&&this._lazyDistribute(k.host);(k=this._nodeNeedsDistribution(this.node))&&this._lazyDistribute(this.node);return k||h&&!l},_maybeAddInsertionPoint:function(h,k){if(h.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||
h.__noContent)h.localName===e&&(c.Logical.saveChildNodes(k),c.Logical.saveChildNodes(h),r=!0);else for(var l=b(h).querySelectorAll(e),n=0,p,q;n<l.length&&(p=l[n]);n++){q=c.Logical.getParentNode(p);q===h&&(q=k);q=this._maybeAddInsertionPoint(p,q);var r=r||q}return r},_updateInsertionPoints:function(h){h=h.shadyRoot._insertionPoints=b(h.shadyRoot).querySelectorAll(e);for(var k=0,l;k<h.length;k++)l=h[k],c.Logical.saveChildNodes(l),c.Logical.saveChildNodes(c.Logical.getParentNode(l))},_nodeNeedsDistribution:function(h){return h&&
h.shadyRoot&&a.hasInsertionPoint(h.shadyRoot)},_addNodeToHost:function(h,k){h._elementAdd&&h._elementAdd(k)},_removeNodeFromHost:function(h,k){h._elementRemove&&h._elementRemove(k)},_removeDistributedChildren:function(h,k){h=h._insertionPoints;for(var l=0;l<h.length;l++){var n=h[l];if(this._contains(k,n)){n=b(n).getDistributedNodes();for(var p=0;p<n.length;p++){var q=!0;var r=n[p],t=c.Composed.getParentNode(r);t&&c.Composed.removeChild(t,r)}}}return q},_contains:function(h,k){for(;k;){if(k==h)return!0;
k=c.Logical.getParentNode(k)}},_removeOwnerShadyRoot:function(h){if(this._hasCachedOwnerRoot(h))for(var k=c.Logical.getChildNodes(h),l=0,n=k.length,p;l<n&&(p=k[l]);l++)this._removeOwnerShadyRoot(p);h._ownerShadyRoot=void 0},_firstComposedNode:function(h){for(var k=b(h).getDistributedNodes(),l=0,n=k.length,p,q;l<n&&(p=k[l]);l++)if(q=b(p).getDestinationInsertionPoints(),q[q.length-1]===h)return p},querySelector:function(h){return this._query(function(k){return a.matchesSelector.call(k,h)},this.node,
function(k){return!!k})[0]||null},querySelectorAll:function(h){return this._query(function(k){return a.matchesSelector.call(k,h)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(h,k){this.node.setAttribute(h,k);this._maybeDistributeParent()},removeAttribute:function(h){this.node.removeAttribute(h);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(h){var k=f.call(this.node,!1);if(h){h=this.childNodes;for(var l=b(k),n=0,p;n<h.length;n++)p=b(h[n]).cloneNode(!0),l.appendChild(p)}return k},importNode:function(h,k){var l=this.node instanceof Document?this.node:this.node.ownerDocument,n=g.call(l,h,!1);if(k){h=c.Logical.getChildNodes(h);k=b(n);for(var p=0,q;p<h.length;p++)q=
b(l).importNode(h[p],!0),k.appendChild(q)}return n},_getComposedInnerHTML:function(){return d(this.node,!0)}});Object.defineProperties(a.prototype,{activeElement:{get:function(){var h=document.activeElement;if(!h)return null;var k=!!this.node._isShadyRoot;if(!(this.node===document||k&&this.node.host!==h&&this.node.host.contains(h)))return null;for(k=b(h).getOwnerRoot();k&&k!==this.node;)h=k.host,k=b(h).getOwnerRoot();return this.node===document?k?null:h:k===this.node?h:null},configurable:!0},childNodes:{get:function(){var h=
c.Logical.getChildNodes(this.node);return Array.isArray(h)?h:c.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return c.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(h){return h.nodeType===Node.ELEMENT_NODE}):c.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return c.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return c.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return c.Logical.getLastChild(this.node)},
configurable:!0},nextSibling:{get:function(){return c.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return c.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return c.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return c.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return c.Logical.getNextElementSibling(this.node)},configurable:!0},
previousElementSibling:{get:function(){return c.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var h=this.node.nodeType;if(h===Node.TEXT_NODE||h===Node.COMMENT_NODE)return this.node.textContent;h=[];for(var k=0,l=this.childNodes,n;n=l[k];k++)n.nodeType!==Node.COMMENT_NODE&&h.push(n.textContent);return h.join("")},set:function(h){var k=this.node.nodeType;k===Node.TEXT_NODE||k===Node.COMMENT_NODE?this.node.textContent=h:(this._clear(),h&&this.appendChild(document.createTextNode(h)))},
configurable:!0},innerHTML:{get:function(){var h=this.node.nodeType;return h===Node.TEXT_NODE||h===Node.COMMENT_NODE?null:d(this.node)},set:function(h){var k=this.node.nodeType;if(k!==Node.TEXT_NODE||k!==Node.COMMENT_NODE)for(this._clear(),k=document.createElement("div"),k.innerHTML=h,h=c.arrayCopyChildNodes(k),k=0;k<h.length;k++)this.appendChild(h[k])},configurable:!0}});a.hasInsertionPoint=function(h){return!(!h||!h._insertionPoints.length)}}})();
(function(){var a=Polymer.TreeApi,b=Polymer.DomApi;if(Polymer.Settings.useShadow){Polymer.Base.mixin(b.prototype,{querySelectorAll:function(e){return a.arrayCopy(this.node.querySelectorAll(e))},getOwnerRoot:function(){for(var e=this.node;e;){if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host)return e;e=e.parentNode}},importNode:function(e,f){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(e,f)},getDestinationInsertionPoints:function(){var e=this.node.getDestinationInsertionPoints&&
this.node.getDestinationInsertionPoints();return e?a.arrayCopy(e):[]},getDistributedNodes:function(){var e=this.node.getDistributedNodes&&this.node.getDistributedNodes();return e?a.arrayCopy(e):[]}});Object.defineProperties(b.prototype,{activeElement:{get:function(){var e=b.wrap(this.node),f=e.activeElement;return e.contains(f)?f:null},configurable:!0},childNodes:{get:function(){return a.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return a.arrayCopyChildren(this.node)},
configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(e){return this.node.textContent=e},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(e){return this.node.innerHTML=e},configurable:!0}});var c=function(e){b.prototype[e]=function(){return this.node[e].apply(this.node,arguments)}};(function(e){for(var f=0;f<e.length;f++)c(e[f])})("cloneNode appendChild insertBefore removeChild replaceChild setAttribute removeAttribute querySelector".split(" "));
var d=function(e){Object.defineProperty(b.prototype,e,{get:function(){return this.node[e]},configurable:!0})};(function(e){for(var f=0;f<e.length;f++)d(e[f])})("parentNode firstChild lastChild nextSibling previousSibling firstElementChild lastElementChild nextElementSibling previousElementSibling".split(" "))}})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;for(this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var a=0;a<this._staticFlushList.length;a++)this._staticFlushList[a]()},addStaticFlush:function(a){this._staticFlushList.push(a)},removeStaticFlush:function(a){a=this._staticFlushList.indexOf(a);0<=a&&this._staticFlushList.splice(a,1)},addDebouncer:function(a){this._debouncers.push(a);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});
Polymer.EventApi=function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.Event=function(c){this.event=c};a.Event.prototype=b.useShadow?{get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var c=this.event.path;Array.isArray(c)||(c=Array.prototype.slice.call(c));return c}}:{get rootTarget(){return this.event.target},get localTarget(){var c=this.event.currentTarget;c=c&&Polymer.dom(c).getOwnerRoot();for(var d=this.path,e=0;e<d.length;e++)if(Polymer.dom(d[e]).getOwnerRoot()===
c)return d[e]},get path(){if(!this.event._path){for(var c=[],d=this.rootTarget;d;){c.push(d);var e=Polymer.dom(d).getDestinationInsertionPoints();if(e.length){for(d=0;d<e.length-1;d++)c.push(e[d]);d=e[e.length-1]}else d=Polymer.dom(d).parentNode||d.host}c.push(window);this.event._path=c}return this.event._path}};return{factory:function(c){c.__eventApi||(c.__eventApi=new a.Event(c));return c.__eventApi}}}();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings.useShadow;Object.defineProperty(a.prototype,"classList",{get:function(){this._classList||(this._classList=new a.ClassList(this));return this._classList},configurable:!0});a.ClassList=function(c){this.domApi=c;this.node=c.node};a.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments);this._distributeParent()},
toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){b||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.EffectiveNodesObserver=function(e){this.domApi=e;this.node=this.domApi.node;this._listeners=[]};a.EffectiveNodesObserver.prototype={addListener:function(e){this._isSetup||(this._setup(),this._isSetup=!0);e={fn:e,_nodes:[]};this._listeners.push(e);this._scheduleNotify();return e},removeListener:function(e){var f=this._listeners.indexOf(e);0<=f&&(this._listeners.splice(f,1),e._nodes=[]);this._hasListeners()||(this._cleanup(),this._isSetup=!1)},
_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return!!this._listeners.length},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners();
this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(e){for(var f=0,g;f<e.length&&(g=e[f]);f++)this._isContent(g)&&(g.__observeNodesMap=g.__observeNodesMap||new WeakMap,g.__observeNodesMap.has(this)||g.__observeNodesMap.set(this,this._observeContent(g)))},_observeContent:function(e){var f=this;e=Polymer.dom(e).observeNodes(function(){f._scheduleNotify()});
e._avoidChangeCalculation=!0;return e},_unobserveContentElements:function(e){for(var f=0,g,h;f<e.length&&(g=e[f]);f++)this._isContent(g)&&(h=g.__observeNodesMap.get(this))&&(Polymer.dom(g).unobserveNodes(h),g.__observeNodesMap.delete(this))},_isContent:function(e){return"content"===e.localName},_callListeners:function(){for(var e=this._listeners,f=this._getEffectiveNodes(),g=0,h;g<e.length&&(h=e[g]);g++){var k=this._generateListenerInfo(h,f);(k||h._alwaysNotify)&&this._callListener(h,k)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},
_generateListenerInfo:function(e,f){if(e._avoidChangeCalculation)return!0;for(var g={target:this.node,addedNodes:[],removedNodes:[]},h=Polymer.ArraySplice.calculateSplices(f,e._nodes),k=0,l;k<h.length&&(l=h[k]);k++)for(var n=0,p;n<l.removed.length&&(p=l.removed[n]);n++)g.removedNodes.push(p);k=0;for(l;k<h.length&&(l=h[k]);k++)for(n=l.index;n<l.index+l.addedCount;n++)g.addedNodes.push(f[n]);e._nodes=f;if(g.addedNodes.length||g.removedNodes.length)return g},_callListener:function(e,f){return e.fn.call(this.node,
f)},enableShadowAttributeTracking:function(){}};if(b.useShadow){var c=a.EffectiveNodesObserver.prototype._setup,d=a.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(a.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var e=this;this._mutationHandler=function(f){f&&f.length&&e._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){e._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,
{childList:!0})}c.call(this)},_cleanup:function(){this._observer.disconnect();this._mutationHandler=this._observer=null;Polymer.dom.removeStaticFlush(this._boundFlush);d.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var e=this.domApi.getOwnerRoot();
(e=e&&e.host)&&Polymer.dom(e).observer&&Polymer.dom(e).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var e=0,f;e<this._listeners.length;e++)f=this._listeners[e],f._alwaysNotify=f._isContentListener}})}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.DistributedNodesObserver=function(c){a.EffectiveNodesObserver.call(this,c)};a.DistributedNodesObserver.prototype=Object.create(a.EffectiveNodesObserver.prototype);Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});b.useShadow&&Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var c=
this.domApi.getOwnerRoot();if(c=c&&c.host){var d=this;this._observer=Polymer.dom(c).observeNodes(function(){d._scheduleNotify()});this._observer._isContentListener=!0;this._hasAttrSelect()&&Polymer.dom(c).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var c=this.node.getAttribute("select");return c&&c.match(/[[.]+/)},_cleanup:function(){var c=this.domApi.getOwnerRoot();(c=c&&c.host)&&Polymer.dom(c).unobserveNodes(this._observer);this._observer=null}})})();
(function(){function a(g,h){h._distributedNodes.push(g);var k=g._destinationInsertionPoints;k?k.push(h):g._destinationInsertionPoints=[h]}function b(g){for(var h=d.Logical.getChildNodes(g),k=0,l;k<h.length;k++)if(l=h[k],l.localName&&"content"===l.localName)return g.domHost}var c=Polymer.DomApi,d=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||!!this._template},_setupShady:function(){this.shadyRoot=null;this.__domApi||(this.__domApi=null);this.__dom||
(this.__dom=null);this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&d.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent&&(this._createLocalRoot(),!this.dataHost)){var g=d.Logical.getChildNodes(this);if(f&&g)for(var h=0;h<g.length;h++)CustomElements.upgrade(g[h])}},_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=!1;this.shadyRoot._hasDistributed=!1;this.shadyRoot._isShadyRoot=!0;this.shadyRoot._dirtyRoots=
[];var g=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];d.Logical.saveChildNodes(this.shadyRoot);for(var h=0,k;h<g.length;h++)k=g[h],d.Logical.saveChildNodes(k),d.Logical.saveChildNodes(k.parentNode);this.shadyRoot.host=this},distributeContent:function(g){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||g;for(g=this;g&&b(g);)g=g.domHost;Polymer.dom(this)._lazyDistribute(g)}},_distributeContent:function(){this._useContent&&
!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&c.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var g=this.shadyRoot._dirtyRoots,h=0,k=g.length,
l;h<k&&(l=g[h]);h++)l._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=!0;if(c.hasInsertionPoint(this.shadyRoot)){this._composeTree();for(var g=this.shadyRoot,h=0,k;h<g._insertionPoints.length;h++)k=g._insertionPoints[h],c.hasApi(k)&&Polymer.dom(k).notifyObserver()}else this.shadyRoot._hasDistributed?(g=this._composeNode(this),this._updateChildNodes(this,g)):(d.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot));
this.shadyRoot._hasDistributed||c.hasApi(this)&&Polymer.dom(this).notifyObserver();this.shadyRoot._hasDistributed=!0}},elementMatches:function(g,h){return c.matchesSelector.call(h||this,g)},_resetDistribution:function(){for(var g=d.Logical.getChildNodes(this),h=0;h<g.length;h++){var k=g[h];k._destinationInsertionPoints&&(k._destinationInsertionPoints=void 0);if("content"==k.localName){var l=k._distributedNodes;if(l)for(var n=0;n<l.length;n++){var p=l[n]._destinationInsertionPoints;p&&p.splice(p.indexOf(k)+
1,p.length)}}}g=this.shadyRoot._insertionPoints;for(h=0;h<g.length;h++)g[h]._distributedNodes=[]},_collectPool:function(){for(var g=[],h=d.Logical.getChildNodes(this),k=0;k<h.length;k++){var l=h[k];"content"==l.localName?g.push.apply(g,l._distributedNodes):g.push(l)}return g},_distributePool:function(g,h){g=g._insertionPoints;for(var k=0,l=g.length,n;k<l&&(n=g[k]);k++){this._distributeInsertionPoint(n,h);var p=d.Logical.getParentNode(n);p&&p.shadyRoot&&c.hasInsertionPoint(p.shadyRoot)&&p.shadyRoot._distributionClean&&
(p.shadyRoot._distributionClean=!1,this.shadyRoot._dirtyRoots.push(p))}},_distributeInsertionPoint:function(g,h){for(var k=!1,l=0,n=h.length,p;l<n;l++)(p=h[l])&&this._matchesContentSelect(p,g)&&(a(p,g),h[l]=void 0,k=!0);if(!k)for(h=d.Logical.getChildNodes(g),k=0;k<h.length;k++)a(h[k],g)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var g=this.shadyRoot._insertionPoints,h=0,k=g.length,l,n;h<k&&(l=g[h]);h++)n=d.Logical.getParentNode(l),n._useContent||n===this||n===
this.shadyRoot||this._updateChildNodes(n,this._composeNode(n))},_composeNode:function(g){var h=[];g=d.Logical.getChildNodes(g.shadyRoot||g);for(var k=0;k<g.length;k++){var l=g[k];if("content"==l.localName)for(var n=l._distributedNodes,p=0;p<n.length;p++){var q=n[p],r=q._destinationInsertionPoints;r&&r[r.length-1]===l&&h.push(q)}else h.push(l)}return h},_updateChildNodes:function(g,h){for(var k=d.Composed.getChildNodes(g),l=Polymer.ArraySplice.calculateSplices(h,k),n=0,p=0,q;n<l.length&&(q=l[n]);n++){for(var r=
0,t;r<q.removed.length&&(t=q.removed[r]);r++)d.Composed.getParentNode(t)===g&&d.Composed.removeChild(g,t),k.splice(q.index+p,1);p-=q.addedCount}for(n=0;n<l.length&&(q=l[n]);n++)for(p=k[q.index],r=q.index,t;r<q.index+q.addedCount;r++)t=h[r],d.Composed.insertBefore(g,t,p),k.splice(r,0,t)},_matchesContentSelect:function(g,h){h=h.getAttribute("select");return h?(h=h.trim())?g instanceof Element&&/^(:not\()?[*.#[a-zA-Z_|]/.test(h)?this.elementMatches(h,g):!1:!0:!0},_elementAdd:function(){},_elementRemove:function(){}});
var e={get:function(){var g=Polymer.dom(this).getOwnerRoot();return g&&g.host},configurable:!0};Object.defineProperty(Polymer.Base,"domHost",e);Polymer.BaseDescriptors.domHost=e;var f=window.CustomElements&&!CustomElements.useNative})();
Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(a,b){if(0<b)return~setTimeout(a,b);this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(a);return this._currVal++},cancel:function(a){if(0>a)clearTimeout(~a);else{var b=a-this._lastVal;if(0<=b){if(!this._callbacks[b])throw"invalid async handle: "+a;this._callbacks[b]=null}}},_atEndOfMicrotask:function(){for(var a=this._callbacks.length,b=0;b<a;b++){var c=this._callbacks[b];
if(c)try{c()}catch(d){throw b++,this._callbacks.splice(0,b),this._lastVal+=b,this._twiddle.textContent=this._twiddleContent++,d;}}this._callbacks.splice(0,a);this._lastVal+=a}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:!0});
Polymer.Debounce=function(){function a(c){this.context=c;var d=this;this.boundComplete=function(){d.complete()}}var b=Polymer.Async;a.prototype={go:function(c,d){this.finish=function(){b.cancel(e)};var e=b.run(this.boundComplete,d);this.callback=c},stop:function(){this.finish&&(this.finish(),this.callback=this.finish=null)},complete:function(){if(this.finish){var c=this.callback;this.stop();c.call(this.context)}}};return function(c,d,e){c?c.stop():c=new a(this);c.go(d,e);return c}}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(a,b,c){return this._debouncers[a]=Polymer.Debounce.call(this,this._debouncers[a],b,c)},isDebouncerActive:function(a){a=this._debouncers[a];return!(!a||!a.finish)},flushDebouncer:function(a){(a=this._debouncers[a])&&a.complete()},cancelDebouncer:function(a){(a=this._debouncers[a])&&a.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._registerHost();this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting());this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(){}});
</script>






<script>//~~WEBPATH~~/polymer/polymer.html.js
(function(){Polymer.nar=[];var a=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(b,c){var d=[];this._parseNodeAnnotations(b._content||b.content,d,c||b.hasAttribute("strip-whitespace"));return d},_parseNodeAnnotations:function(b,c,d){return b.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(b,c):this._parseElementAnnotations(b,c,d)},_bindingRegex:/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g,
_parseBindings:function(b){for(var c=this._bindingRegex,d=[],e=0,f;null!==(f=c.exec(b));){f.index>e&&d.push({literal:b.slice(e,f.index)});e=f[1][0];var g=!!f[2];f=f[3].trim();var h;if("{"==e&&0<(h=f.indexOf("::"))){var k=f.substring(h+2);f=f.substring(0,h);var l=!0}d.push({compoundIndex:d.length,value:f,mode:e,negate:g,event:k,customEvent:l});e=c.lastIndex}e&&e<b.length&&(b=b.substring(e))&&d.push({literal:b});if(d.length)return d},_literalFromParts:function(b){for(var c="",d=0;d<b.length;d++)c+=
b[d].literal||"";return c},_parseTextNodeAnnotation:function(b,c){var d=this._parseBindings(b.textContent);if(d)return b.textContent=this._literalFromParts(d)||" ",b={bindings:[{kind:"text",name:"textContent",parts:d,isCompound:1!==d.length}]},c.push(b),b},_parseElementAnnotations:function(b,c,d){var e={bindings:[],events:[]};"content"===b.localName&&(c._hasContent=!0);this._parseChildNodesAnnotations(b,e,c,d);b.attributes&&(this._parseNodeAttributeAnnotations(b,e,c),this.prepElement&&this.prepElement(b));
(e.bindings.length||e.events.length||e.id)&&c.push(e);return e},_parseChildNodesAnnotations:function(b,c,d,e){if(b.firstChild)for(var f=b.firstChild,g=0;f;){var h=f.nextSibling;"template"!==f.localName||f.hasAttribute("preserve-content")||this._parseTemplate(f,g,d,c,e);"slot"==f.localName&&(f=this._replaceSlotWithContent(f));if(f.nodeType===Node.TEXT_NODE){for(var k=h;k&&k.nodeType===Node.TEXT_NODE;)f.textContent+=k.textContent,h=k.nextSibling,b.removeChild(k),k=h;e&&!f.textContent.trim()&&(b.removeChild(f),
g--)}f.parentNode&&(f=this._parseNodeAnnotations(f,d,e))&&(f.parent=c,f.index=g);f=h;g++}},_replaceSlotWithContent:function(b){for(var c=b.ownerDocument.createElement("content");b.firstChild;)c.appendChild(b.firstChild);for(var d=b.attributes,e=0;e<d.length;e++){var f=d[e];c.setAttribute(f.name,f.value)}(d=b.getAttribute("name"))&&c.setAttribute("select","[slot\x3d'"+d+"']");b.parentNode.replaceChild(c,b);return c},_parseTemplate:function(b,c,d,e,f){var g=document.createDocumentFragment();g._notes=
this.parseAnnotations(b,f);g.appendChild(b.content);d.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:g,parent:e,index:c})},_parseNodeAttributeAnnotations:function(b,c){for(var d=Array.prototype.slice.call(b.attributes),e=d.length-1,f;f=d[e];e--){var g=f.name;f=f.value;var h;"on-"===g.slice(0,3)?(b.removeAttribute(g),c.events.push({name:g.slice(3),value:f})):(h=this._parseNodeAttributeAnnotation(b,g,f))?c.bindings.push(h):"id"===g&&(c.id=f)}},_parseNodeAttributeAnnotation:function(b,
c,d){if(d=this._parseBindings(d)){var e=c,f="property";"$"==c[c.length-1]&&(c=c.slice(0,-1),f="attribute");var g=this._literalFromParts(d);g&&"attribute"==f&&b.setAttribute(c,g);"input"===b.localName&&"value"===e&&b.setAttribute(e,"");a&&"disable-upgrade$"===e&&b.setAttribute(c,"");b.removeAttribute(e);b=Polymer.CaseMap.dashToCamelCase(c);"property"===f&&(c=b);return{kind:f,name:c,propertyName:b,parts:d,literal:g,isCompound:1!==d.length}}},findAnnotatedNode:function(b,c){var d=c.parent&&Polymer.Annotations.findAnnotatedNode(b,
c.parent);if(d)for(b=d.firstChild,d=0;b;b=b.nextSibling){if(c.index===d++)return b}else return b}}})();Polymer.Path={root:function(a){var b=a.indexOf(".");return-1===b?a:a.slice(0,b)},isDeep:function(a){return-1!==a.indexOf(".")},isAncestor:function(a,b){return 0===a.indexOf(b+".")},isDescendant:function(a,b){return 0===b.indexOf(a+".")},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b,c){return a===c||this.isAncestor(a,c)||!!b&&this.isDescendant(a,c)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var a=this;Polymer.Annotations.prepElement=function(b){a._prepElement(b)};this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes));Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.bindings.length;d++)for(var e=
c.bindings[d],f=0;f<e.parts.length;f++){var g=e.parts[f];if(!g.literal){var h=this._parseMethod(g.value);h?g.signature=h:g.model=Polymer.Path.root(g.value)}}if(c.templateContent){this._processAnnotations(c.templateContent._notes);e=c.templateContent._parentProps=this._discoverTemplateParentProps(c.templateContent._notes);d=[];for(var k in e)e="_parent_"+k,d.push({index:c.index,kind:"property",name:e,propertyName:e,parts:[{mode:"{",model:k,value:k}]});c.bindings=c.bindings.concat(d)}}},_discoverTemplateParentProps:function(a){for(var b=
{},c=0,d;c<a.length&&(d=a[c]);c++){for(var e=0,f=d.bindings,g;e<f.length&&(g=f[e]);e++)for(var h=0,k=g.parts,l;h<k.length&&(l=k[h]);h++)if(l.signature){for(var n=l.signature.args,p=0;p<n.length;p++){var q=n[p].model;q&&(b[q]=!0)}l.signature.dynamicFn&&(b[l.signature.method]=!0)}else l.model&&(b[l.model]=!0);d.templateContent&&Polymer.Base.mixin(b,d.templateContent._parentProps)}return b},_prepElement:function(a){Polymer.ResolveUrl.resolveAttrs(a,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var a=this._notes,b=this._nodes,c=0;c<a.length;c++){var d=a[c],e=b[c];this._configureTemplateContent(d,e);this._configureCompoundBindings(d,e)}},_configureTemplateContent:function(a,b){a.templateContent&&(b._content=a.templateContent)},_configureCompoundBindings:function(a,b){a=a.bindings;for(var c=0;c<a.length;c++){var d=
a[c];if(d.isCompound){for(var e=b.__compoundStorage__||(b.__compoundStorage__={}),f=d.parts,g=Array(f.length),h=0;h<f.length;h++)g[h]=f[h].literal;f=d.name;e[f]=g;d.literal&&"property"==d.kind&&(b._configValue?b._configValue(f,d.literal):b[f]=d.literal)}}},_marshalIdNodes:function(){this.$={};for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)c.id&&(this.$[c.id]=this._findAnnotatedNode(this.root,c))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var a=Array(this._notes.length),
b=0;b<this._notes.length;b++)a[b]=this._findAnnotatedNode(this.root,this._notes[b]);this._nodes=a}},_marshalAnnotatedListeners:function(){for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)if(c.events&&c.events.length)for(var d=this._findAnnotatedNode(this.root,c),e=0,f=c.events,g;e<f.length&&(g=f[e]);e++)this.listen(d,g.name,g.value)}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(a){var b;for(b in a){if(0>b.indexOf(".")){var c=this;var d=b}else d=b.split("."),c=this.$[d[0]],d=d[1];this.listen(c,d,a[b])}},listen:function(a,b,c){var d=this._recallEventHandler(this,b,a,c);d||(d=this._createEventHandler(a,b,c));d._listening||(this._listen(a,b,d),d._listening=!0)},_boundListenerKey:function(a,b){return a+":"+b},_recordEventHandler:function(a,b,c,d,e){var f=a.__boundListeners;f||(f=a.__boundListeners=new WeakMap);
a=f.get(c);a||(a={},Polymer.Settings.isIE&&c==window||f.set(c,a));a[this._boundListenerKey(b,d)]=e},_recallEventHandler:function(a,b,c,d){if(a=a.__boundListeners)if(c=a.get(c))return c[this._boundListenerKey(b,d)]},_createEventHandler:function(a,b,c){function d(f){if(e[c])e[c](f,f.detail);else e._warn(e._logf("_createEventHandler","listener method `"+c+"` not defined"))}var e=this;d._listening=!1;this._recordEventHandler(e,b,a,c,d);return d},unlisten:function(a,b,c){if(c=this._recallEventHandler(this,
b,a,c))this._unlisten(a,b,c),c._listening=!1},_listen:function(a,b,c){a.addEventListener(b,c)},_unlisten:function(a,b,c){a.removeEventListener(b,c)}});
(function(){function a(u){var y=u.sourceCapabilities;if(!y||y.firesTouchEvents)if(u.__polymerGesturesHandled={skip:!0},"click"===u.type){if(y=Polymer.dom(u).path)for(var w=0;w<y.length;w++)if(y[w]===r.mouse.target)return;u.preventDefault();u.stopPropagation()}}function b(u){if(!(-1<k.indexOf(u))&&"touchend"!==u&&h&&p&&Polymer.Settings.passiveTouchGestures)return{passive:!0}}function c(u){for(var y=q?["click"]:k,w=0,x;w<y.length;w++)x=y[w],u?document.addEventListener(x,a,!0):document.removeEventListener(x,
a,!0)}function d(u){var y=u.type;return-1<k.indexOf(y)?"mousemove"===y?(y=void 0===u.buttons?1:u.buttons,u instanceof window.MouseEvent&&!n&&(y=l[u.which]||0),!!(y&1)):0===(void 0===u.button?0:u.button):!1}function e(u,y,w){u.movefn=y;u.upfn=w;document.addEventListener("mousemove",y);document.addEventListener("mouseup",w)}function f(u){document.removeEventListener("mousemove",u.movefn);document.removeEventListener("mouseup",u.upfn);u.movefn=null;u.upfn=null}var g=Polymer.DomApi.wrap,h="string"===
typeof document.head.style.touchAction,k=["mousedown","mousemove","mouseup","click"],l=[0,1,4,2];try{var n=1===(new MouseEvent("test",{buttons:1})).buttons}catch(u){n=!1}var p=!1;(function(){try{var u=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,u);window.removeEventListener("test",null,u)}catch(y){}})();var q=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),r={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener("touchend",
function(u){r.mouse.mouseIgnoreJob||c(!0);r.mouse.target=Polymer.dom(u).rootTarget;r.mouse.mouseIgnoreJob=Polymer.Debounce(r.mouse.mouseIgnoreJob,function(){c();r.mouse.target=null;r.mouse.mouseIgnoreJob=null},2500)},p?{passive:!0}:!1);var t={gestures:{},recognizers:[],deepTargetFind:function(u,y){for(var w=document.elementFromPoint(u,y),x=w;x&&x.shadowRoot;)(x=x.shadowRoot.elementFromPoint(u,y))&&(w=x);return w},findOriginalTarget:function(u){return u.path?u.path[0]:u.target},handleNative:function(u){var y=
u.type,w=g(u.currentTarget).__polymerGestures;if(w&&(w=w[y])){if(!u.__polymerGesturesHandled&&(u.__polymerGesturesHandled={},"touch"===y.slice(0,5))){var x=u.changedTouches[0];"touchstart"===y&&1===u.touches.length&&(r.touch.id=x.identifier);if(r.touch.id!==x.identifier)return;h||("touchstart"===y||"touchmove"===y)&&t.handleTouchAction(u)}x=u.__polymerGesturesHandled;if(!x.skip){for(var z=t.recognizers,B=0,A;B<z.length;B++)A=z[B],w[A.name]&&!x[A.name]&&A.flow&&-1<A.flow.start.indexOf(u.type)&&A.reset&&
A.reset();B=0;for(A;B<z.length;B++)A=z[B],w[A.name]&&!x[A.name]&&(x[A.name]=!0,A[y](u))}}},handleTouchAction:function(u){var y=u.changedTouches[0],w=u.type;if("touchstart"===w)r.touch.x=y.clientX,r.touch.y=y.clientY,r.touch.scrollDecided=!1;else if("touchmove"===w&&!r.touch.scrollDecided){r.touch.scrollDecided=!0;w=Polymer.dom(u).path;for(var x="auto",z=0,B;z<w.length;z++)if(B=w[z],B.__polymerGesturesTouchAction){x=B.__polymerGesturesTouchAction;break}w=x;x=!1;z=Math.abs(r.touch.x-y.clientX);y=Math.abs(r.touch.y-
y.clientY);u.cancelable&&("none"===w?x=!0:"pan-x"===w?x=y>z:"pan-y"===w&&(x=z>y));x?u.preventDefault():t.prevent("track")}},add:function(u,y,w){u=g(u);var x=this.gestures[y],z=x.deps,B=x.name,A=u.__polymerGestures;A||(u.__polymerGestures=A={});for(var C=0,E,F;C<z.length;C++)E=z[C],q&&-1<k.indexOf(E)&&"click"!==E||((F=A[E])||(A[E]=F={_count:0}),0===F._count&&u.addEventListener(E,this.handleNative,b(E)),F[B]=(F[B]||0)+1,F._count=(F._count||0)+1);u.addEventListener(y,w);x.touchAction&&this.setTouchAction(u,
x.touchAction)},remove:function(u,y,w){u=g(u);var x=this.gestures[y],z=x.deps;x=x.name;var B=u.__polymerGestures;if(B)for(var A=0,C,E;A<z.length;A++)C=z[A],(E=B[C])&&E[x]&&(E[x]=(E[x]||1)-1,E._count=(E._count||1)-1,0===E._count&&u.removeEventListener(C,this.handleNative,b(C)));u.removeEventListener(y,w)},register:function(u){this.recognizers.push(u);for(var y=0;y<u.emits.length;y++)this.gestures[u.emits[y]]=u},findRecognizerByEvent:function(u){for(var y=0,w;y<this.recognizers.length;y++){w=this.recognizers[y];
for(var x=0,z;x<w.emits.length;x++)if(z=w.emits[x],z===u)return w}return null},setTouchAction:function(u,y){h&&(u.style.touchAction=y);u.__polymerGesturesTouchAction=y},fire:function(u,y,w){Polymer.Base.fire(y,w,{node:u,bubbles:!0,cancelable:!0}).defaultPrevented&&(u=w.preventer||w.sourceEvent)&&u.preventDefault&&u.preventDefault()},prevent:function(u){u=this.findRecognizerByEvent(u);u.info&&(u.info.prevent=!0)},resetMouseCanceller:function(){r.mouse.mouseIgnoreJob&&r.mouse.mouseIgnoreJob.complete()}};
t.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){f(this.info)},mousedown:function(u){if(d(u)){var y=t.findOriginalTarget(u),w=this;e(this.info,function(x){d(x)||(w.fire("up",y,x),f(w.info))},function(x){d(x)&&w.fire("up",y,x);f(w.info)});this.fire("down",y,u)}},touchstart:function(u){this.fire("down",t.findOriginalTarget(u),u.changedTouches[0],u)},
touchend:function(u){this.fire("up",t.findOriginalTarget(u),u.changedTouches[0],u)},fire:function(u,y,w,x){t.fire(y,u,{x:w.clientX,y:w.clientY,sourceEvent:w,preventer:x,prevent:function(z){return t.prevent(z)}})}});t.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(u){2<this.moves.length&&this.moves.shift();
this.moves.push(u)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;f(this.info)},hasMovedEnough:function(u,y){if(this.info.prevent)return!1;if(this.info.started)return!0;y=Math.abs(this.info.y-y);return 5<=Math.abs(this.info.x-u)||5<=y},mousedown:function(u){if(d(u)){var y=t.findOriginalTarget(u),w=this,x=function(z){var B=z.clientX,A=z.clientY;w.hasMovedEnough(B,A)&&(w.info.state=
w.info.started?"mouseup"===z.type?"end":"track":"start","start"===w.info.state&&t.prevent("tap"),w.info.addMove({x:B,y:A}),d(z)||(w.info.state="end",f(w.info)),w.fire(y,z),w.info.started=!0)};e(this.info,x,function(z){w.info.started&&x(z);f(w.info)});this.info.x=u.clientX;this.info.y=u.clientY}},touchstart:function(u){u=u.changedTouches[0];this.info.x=u.clientX;this.info.y=u.clientY},touchmove:function(u){var y=t.findOriginalTarget(u);u=u.changedTouches[0];var w=u.clientX,x=u.clientY;this.hasMovedEnough(w,
x)&&("start"===this.info.state&&t.prevent("tap"),this.info.addMove({x:w,y:x}),this.fire(y,u),this.info.state="track",this.info.started=!0)},touchend:function(u){var y=t.findOriginalTarget(u),w=u.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:w.clientX,y:w.clientY}),this.fire(y,w,u))},fire:function(u,y,w){var x=this.info.moves[this.info.moves.length-2],z=this.info.moves[this.info.moves.length-1],B=z.x-this.info.x,A=z.y-this.info.y,C=0;if(x){var E=z.x-x.x;C=z.y-x.y}return t.fire(u,
"track",{state:this.info.state,x:y.clientX,y:y.clientY,dx:B,dy:A,ddx:E,ddy:C,sourceEvent:y,preventer:w,hover:function(){return t.deepTargetFind(y.clientX,y.clientY)}})}});t.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(u){this.info.x=u.clientX;this.info.y=u.clientY},mousedown:function(u){d(u)&&
this.save(u)},click:function(u){d(u)&&this.forward(u)},touchstart:function(u){this.save(u.changedTouches[0],u)},touchend:function(u){this.forward(u.changedTouches[0],u)},forward:function(u,y){var w=Math.abs(u.clientX-this.info.x),x=Math.abs(u.clientY-this.info.y),z=t.findOriginalTarget(u);if(!(w=isNaN(w)||isNaN(x)||25>=w&&25>=x))if("click"===u.type)if(0===u.detail)w=!0;else{w=t.findOriginalTarget(u).getBoundingClientRect();x=u.pageX;var B=u.pageY;w=!(x>=w.left&&x<=w.right&&B>=w.top&&B<=w.bottom)}else w=
!1;w&&(this.info.prevent||t.fire(z,"tap",{x:u.clientX,y:u.clientY,sourceEvent:u,preventer:y}))}});var v={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(u,y,w){t.gestures[y]?t.add(u,y,w):u.addEventListener(y,w)},_unlisten:function(u,y,w){t.gestures[y]?t.remove(u,y,w):u.removeEventListener(y,w)},setScrollDirection:function(u,y){t.setTouchAction(y||this,v[u]||"auto")}});Polymer.Gestures=t})();
(function(){Polymer.Base._addFeature({$$:function(b){return Polymer.dom(this.root).querySelector(b)},toggleClass:function(b,c,d){d=d||this;1==arguments.length&&(c=!d.classList.contains(b));c?Polymer.dom(d).classList.add(b):Polymer.dom(d).classList.remove(b)},toggleAttribute:function(b,c,d){d=d||this;1==arguments.length&&(c=!d.hasAttribute(b));c?Polymer.dom(d).setAttribute(b,""):Polymer.dom(d).removeAttribute(b)},classFollows:function(b,c,d){d&&Polymer.dom(d).classList.remove(b);c&&Polymer.dom(c).classList.add(b)},
attributeFollows:function(b,c,d){d&&Polymer.dom(d).removeAttribute(b);c&&Polymer.dom(c).setAttribute(b,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(b){return b.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var b=this.getEffectiveChildNodes(),c=[],d=0,e;e=b[d];d++)e.nodeType!==Node.COMMENT_NODE&&c.push(Polymer.dom(e).textContent);return c.join("")},
queryEffectiveChildren:function(b){return(b=Polymer.dom(this).queryDistributedElements(b))&&b[0]},queryAllEffectiveChildren:function(b){return Polymer.dom(this).queryDistributedElements(b)},getContentChildNodes:function(b){return(b=Polymer.dom(this.root).querySelector(b||"content"))?Polymer.dom(b).getDistributedNodes():[]},getContentChildren:function(b){return this.getContentChildNodes(b).filter(function(c){return c.nodeType===Node.ELEMENT_NODE})},fire:function(b,c,d){d=d||Polymer.nob;var e=d.node||
this;c=null===c||void 0===c?{}:c;var f=d._useCache;d=this._getEvent(b,void 0===d.bubbles?!0:d.bubbles,!!d.cancelable,f);d.detail=c;f&&(this.__eventCache[b]=null);e.dispatchEvent(d);f&&(this.__eventCache[b]=d);return d},__eventCache:{},_getEvent:function(b,c,d,e){(e=e&&this.__eventCache[b])&&e.bubbles==c&&e.cancelable==d||(e=new Event(b,{bubbles:!!c,cancelable:d}));return e},async:function(b,c){var d=this;return Polymer.Async.run(function(){b.call(d)},c)},cancelAsync:function(b){Polymer.Async.cancel(b)},
arrayDelete:function(b,c){if(Array.isArray(b)){if(c=b.indexOf(c),0<=c)return b.splice(c,1)}else if(c=this._get(b).indexOf(c),0<=c)return this.splice(b,c,1)},transform:function(b,c){c=c||this;c.style.webkitTransform=b;c.style.transform=b},translate3d:function(b,c,d,e){this.transform("translate3d("+b+","+c+","+d+")",e||this)},importHref:function(b,c,d,e){function f(p){p.target.__firedError=!0;p.target.removeEventListener("load",g);p.target.removeEventListener("error",f);return d.call(n,p)}function g(p){p.target.__firedLoad=
!0;p.target.removeEventListener("load",g);p.target.removeEventListener("error",f);return c.call(n,p)}var h=document.createElement("link");h.rel="import";h.href=b;b=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var k=b[h.href],l=k||h,n=this;c&&l.addEventListener("load",g);d&&l.addEventListener("error",f);k?(k.__firedLoad&&k.dispatchEvent(new Event("load")),k.__firedError&&k.dispatchEvent(new Event("error"))):(b[h.href]=h,e&&h.setAttribute("async",""),document.head.appendChild(h));
return l},create:function(b,c){b=document.createElement(b);if(c)for(var d in c)b[d]=c[d];return b},isLightDescendant:function(b){return this!==b&&this.contains(b)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(b).getOwnerRoot()},isLocalDescendant:function(b){return this.root===Polymer.dom(b).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var a=Polymer.Base.importHref;Polymer.Base.importHref=function(b,c,d,e){CustomElements.ready=!1;return a.call(this,b,function(f){CustomElements.upgradeDocumentTree(document);
CustomElements.ready=!0;if(c)return c.call(this,f)},d,e)}}})();
Polymer.Bind={prepareModel:function(a){Polymer.Base.mixin(a,this._modelApi)},_modelApi:{_notifyChange:function(a,b,c){c=void 0===c?this[a]:c;b=b||Polymer.CaseMap.camelToDashCase(a)+"-changed";this.fire(b,{value:c},{bubbles:!1,cancelable:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(a,b,c,d){var e=this.__data__[a];e===b||e!==e&&b!==b||(this.__data__[a]=b,"object"==typeof b&&this._clearPath(a),this._propertyChanged&&this._propertyChanged(a,b,e),c&&
this._effectEffects(a,b,c,e,d));return e},__setProperty:function(a,b,c,d){d=d||this;var e=d._propertyEffects&&d._propertyEffects[a];e?d._propertySetter(a,b,e,c):d[a]!==b&&(d[a]=b)},_effectEffects:function(a,b,c,d,e){b=0;for(var f=c.length,g;b<f&&(g=c[b]);b++)g.fn.call(this,a,this[a],g.effect,d,e)},_clearPath:function(a){for(var b in this.__data__)Polymer.Path.isDescendant(a,b)&&(this.__data__[b]=void 0)}},ensurePropertyEffects:function(a,b){a._propertyEffects||(a._propertyEffects={});var c=a._propertyEffects[b];
c||(c=a._propertyEffects[b]=[]);return c},addPropertyEffect:function(a,b,c,d){a=this.ensurePropertyEffects(a,b);c={kind:c,effect:d,fn:Polymer.Bind["_"+c+"Effect"]};a.push(c);return c},createBindings:function(a){var b=a._propertyEffects;if(b)for(var c in b){var d=b[c];d.sort(this._sortPropertyEffects);this._createAccessors(a,c,d)}},_sortPropertyEffects:function(){var a={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(b,c){return a[b.kind]-
a[c.kind]}}(),_createAccessors:function(a,b,c){function d(g){this._propertySetter(b,g,c)}var e={get:function(){return this.__data__[b]}},f=a.getPropertyInfo&&a.getPropertyInfo(b);f&&f.readOnly?f.computed||(a["_set"+this.upper(b)]=d):e.set=d;Object.defineProperty(a,b,e)},upper:function(a){return a[0].toUpperCase()+a.substring(1)},_addAnnotatedListener:function(a,b,c,d,e,f){a._bindListeners||(a._bindListeners=[]);f=this._notedListenerFactory(c,d,Polymer.Path.isDeep(d),f);e=e||Polymer.CaseMap.camelToDashCase(c)+
"-changed";a._bindListeners.push({index:b,property:c,path:d,changedFn:f,event:e})},_isEventBogus:function(a,b){return a.path&&a.path[0]!==b},_notedListenerFactory:function(a,b,c,d){return function(e,f,g){g?(e=Polymer.Path.translate(a,b,g),this._notifyPath(e,f)):(f=e[a],d&&(f=!f),c?this.__data__[b]!=f&&this.set(b,f):this[b]=f)}},prepareInstance:function(a){a.__data__=Object.create(null)},setupBindListeners:function(a){for(var b=a._bindListeners,c=0,d=b.length,e;c<d&&(e=b[c]);c++)this._addNotifyListener(a._nodes[e.index],
a,e.event,e.changedFn)},_addNotifyListener:function(a,b,c,d){a.addEventListener(c,function(e){return b._notifyListener(d,e)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(a){return a.name&&"attribute"!=a.kind&&"text"!=a.kind&&!a.isCompound&&"{"===a.parts[0].mode},_annotationEffect:function(a,b,c){a!=c.value&&(b=this._get(c.value),this.__data__[c.value]=b);this._applyEffectValue(c,b)},_reflectEffect:function(a,b,c){this.reflectPropertyToAttribute(a,c.attribute,b)},_notifyEffect:function(a,b,c,d,e){e||this._notifyChange(a,c.event,b)},_functionEffect:function(a,b,c,d,e){c.call(this,a,b,d,e)},_observerEffect:function(a,
b,c,d){(a=this[c.method])?a.call(this,b,d):this._warn(this._logf("_observerEffect","observer method `"+c.method+"` not defined"))},_complexObserverEffect:function(a,b,c){var d=this[c.method];d?(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))&&d.apply(this,a):c.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+c.method+"` not defined"))},_computeEffect:function(a,b,c){var d=this[c.method];if(d){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=d.apply(this,a),this.__setProperty(c.name,
d)}else c.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+c.method+"` not defined"))},_annotatedComputationEffect:function(a,b,c){var d=this._rootDataHost||this,e=d[c.method];if(e){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=e.apply(d,a),this._applyEffectValue(c,d)}else c.dynamicFn||d._warn(d._logf("_annotatedComputationEffect","compute method `"+c.method+"` not defined"))},_marshalArgs:function(a,b,c,d){var e=[],f=b.args;b=1<f.length||b.dynamicFn;for(var g=0,h=f.length;g<
h;g++){var k=f[g],l=k.name;if(k.literal)var n=k.value;else c===l?n=d:(n=a[l],void 0===n&&k.structured&&(n=Polymer.Base._get(l,a)));if(b&&void 0===n)return;k.wildcard?(k=Polymer.Path.isAncestor(c,l),e[g]={path:k?c:l,value:k?d:n,base:n}):e[g]=n}return e}});
Polymer.Base._addFeature({_addPropertyEffect:function(a,b,c){a=Polymer.Bind.addPropertyEffect(this,a,b,c);a.pathFn=this["_"+a.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(a){if(a)for(var b in a){var c=a[b];c.observer&&this._addObserverEffect(b,c.observer);c.computed&&(c.readOnly=!0,this._addComputedEffect(b,c.computed));c.notify&&this._addPropertyEffect(b,
"notify",{event:Polymer.CaseMap.camelToDashCase(b)+"-changed"});if(c.reflectToAttribute){var d=Polymer.CaseMap.camelToDashCase(b);"-"===d[0]?this._warn(this._logf("_addPropertyEffects","Property "+b+" cannot be reflected to attribute "+d+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(b,"reflect",{attribute:d})}c.readOnly&&Polymer.Bind.ensurePropertyEffects(this,b)}},_addComputedEffect:function(a,b){b=this._parseMethod(b);
for(var c=b.dynamicFn,d=0,e;d<b.args.length&&(e=b.args[d]);d++)this._addPropertyEffect(e.model,"compute",{method:b.method,args:b.args,trigger:e,name:a,dynamicFn:c});c&&this._addPropertyEffect(b.method,"compute",{method:b.method,args:b.args,trigger:null,name:a,dynamicFn:c})},_addObserverEffect:function(a,b){this._addPropertyEffect(a,"observer",{method:b,property:a})},_addComplexObserverEffects:function(a){if(a)for(var b=0,c;b<a.length&&(c=a[b]);b++)this._addComplexObserverEffect(c)},_addComplexObserverEffect:function(a){var b=
this._parseMethod(a);if(!b)throw Error("Malformed observer expression '"+a+"'");a=b.dynamicFn;for(var c=0,d;c<b.args.length&&(d=b.args[c]);c++)this._addPropertyEffect(d.model,"complexObserver",{method:b.method,args:b.args,trigger:d,dynamicFn:a});a&&this._addPropertyEffect(b.method,"complexObserver",{method:b.method,args:b.args,trigger:null,dynamicFn:a})},_addAnnotationEffects:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)for(var d=c.bindings,e=0,f;e<d.length&&(f=d[e]);e++)this._addAnnotationEffect(f,
b)},_addAnnotationEffect:function(a,b){Polymer.Bind._shouldAddListener(a)&&Polymer.Bind._addAnnotatedListener(this,b,a.name,a.parts[0].value,a.parts[0].event,a.parts[0].negate);for(var c=0;c<a.parts.length;c++){var d=a.parts[c];d.signature?this._addAnnotatedComputationEffect(a,d,b):d.literal||("attribute"===a.kind&&"-"===a.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+a.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(d.model,
"annotation",{kind:a.kind,index:b,name:a.name,propertyName:a.propertyName,value:d.value,isCompound:a.isCompound,compoundIndex:d.compoundIndex,event:d.event,customEvent:d.customEvent,negate:d.negate}))}},_addAnnotatedComputationEffect:function(a,b,c){var d=b.signature;if(d.static)this.__addAnnotatedComputationEffect("__static__",c,a,b,null);else{for(var e=0,f;e<d.args.length&&(f=d.args[e]);e++)f.literal||this.__addAnnotatedComputationEffect(f.model,c,a,b,f);d.dynamicFn&&this.__addAnnotatedComputationEffect(d.method,
c,a,b,null)}},__addAnnotatedComputationEffect:function(a,b,c,d,e){this._addPropertyEffect(a,"annotatedComputation",{index:b,isCompound:c.isCompound,compoundIndex:d.compoundIndex,kind:c.kind,name:c.name,negate:d.negate,method:d.signature.method,args:d.signature.args,trigger:e,dynamicFn:d.signature.dynamicFn})},_parseMethod:function(a){var b=a.match(/([^\s]+?)\(([\s\S]*)\)/);if(b){a={method:b[1],static:!0};this.getPropertyInfo(a.method)!==Polymer.nob&&(a.static=!1,a.dynamicFn=!0);if(b[2].trim())return b=
b[2].replace(/\\,/g,"\x26comma;").split(","),this._parseArgs(b,a);a.args=Polymer.nar;return a}},_parseArgs:function(a,b){b.args=a.map(function(c){c=this._parseArg(c);c.literal||(b.static=!1);return c},this);return b},_parseArg:function(a){a=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var b={name:a},c=a[0];"-"===c&&(c=a[1]);"0"<=c&&"9">=c&&(c="#");switch(c){case "'":case '"':b.value=a.slice(1,-1);b.literal=!0;break;case "#":b.value=Number(a),b.literal=!0}b.literal||(b.model=Polymer.Path.root(a),
b.structured=Polymer.Path.isDeep(a),b.structured&&(b.wildcard=".*"==a.slice(-2),b.wildcard&&(b.name=a.slice(0,-2))));return b},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(a,b){var c=this._nodes[a.index],d=a.name;b=this._computeFinalAnnotationValue(c,d,b,a);"attribute"==a.kind?this.serializeValueToAttribute(b,d,c):(a=c._propertyInfo&&c._propertyInfo[d])&&a.readOnly||this.__setProperty(d,
b,Polymer.Settings.suppressBindingNotifications,c)},_computeFinalAnnotationValue:function(a,b,c,d){d.negate&&(c=!c);if(d.isCompound){var e=a.__compoundStorage__[b];e[d.compoundIndex]=c;c=e.join("")}"attribute"!==d.kind&&("className"===b&&(c=this._scopeElementClass(a,c)),"textContent"===b||"input"==a.localName&&"value"==b)&&(c=void 0==c?"":c);return c},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var a=Polymer.Settings.usePolyfillProto,b=!!Object.getOwnPropertyDescriptor(document.documentElement,"properties");Polymer.Base._addFeature({_setupConfigure:function(c){this._config={};this._handlers=[];this._aboveConfig=null;if(c)for(var d in c)void 0!==c[d]&&(this._config[d]=c[d])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(c){this._setAttributeToProperty(this._clientsReadied?this:this._config,c)},_configValue:function(c,d){var e=
this._propertyInfo[c];e&&e.readOnly||(this._config[c]=d)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);for(var c={},d=0;d<this.behaviors.length;d++)this._configureProperties(this.behaviors[d].properties,c);this._configureProperties(b?this.__proto__.properties:this.properties,c);this.mixin(c,this._aboveConfig);this._config=c;this._clients&&this._clients.length&&
this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var c in this._propertyEffects)!a&&this.hasOwnProperty(c)&&(this._configValue(c,this[c]),delete this[c])},_configureProperties:function(c,d){for(var e in c){var f=c[e];void 0!==f.value&&(f=f.value,"function"==typeof f&&(f=f.call(this,this._config)),d[e]=f)}},_distributeConfig:function(c){var d=this._propertyEffects;if(d)for(var e in c){var f=d[e];if(f)for(var g=0,h=f.length,k;g<h&&(k=f[g]);g++)if("annotation"===k.kind){var l=
this._nodes[k.effect.index],n=k.effect.propertyName,p="attribute"==k.effect.kind,q=l._propertyEffects&&l._propertyEffects[n];!l._configValue||!q&&p||(q=e===k.effect.value?c[e]:this._get(k.effect.value,c),q=this._computeFinalAnnotationValue(l,n,q,k.effect),p&&(q=l.deserialize(this.serialize(q),l._propertyInfo[n].type)),l._configValue(n,q))}}},_afterClientsReady:function(){this.importPath=this._importPath;this.rootPath=Polymer.rootPath;this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);
this._flushHandlers()},_applyConfig:function(c,d){for(var e in c)void 0===this[e]&&this.__setProperty(e,c[e],e in d)},_notifyListener:function(c,d){if(!Polymer.Bind._isEventBogus(d,d.target)){if(d.detail){var e=d.detail.value;var f=d.detail.path}if(this._clientsReadied)return c.call(this,d.target,e,f);this._queueHandler([c,d.target,e,f])}},_queueHandler:function(c){this._handlers.push(c)},_flushHandlers:function(){for(var c=this._handlers,d=0,e=c.length,f;d<e&&(f=c[d]);d++)f[0].call(this,f[1],f[2],
f[3]);this._handlers=[]}})})();
(function(){var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(b,c,d){var e={},f=this._get(b,this,e);1===arguments.length&&(c=f);e.path&&this._notifyPath(e.path,c,d)},_notifyPath:function(b,c,d){var e=this._propertySetter(b,c);if(e!==c&&(e===e||c===c))return this._pathEffector(b,c),d||this._notifyPathUp(b,c),!0},_getPathParts:function(b){if(Array.isArray(b)){for(var c=[],d=0;d<b.length;d++)for(var e=b[d].toString().split("."),f=0;f<e.length;f++)c.push(e[f]);return c}return b.toString().split(".")},
set:function(b,c,d){var e=d||this,f=this._getPathParts(b),g=f[f.length-1];if(1<f.length){for(b=0;b<f.length-1;b++){var h=f[b];k&&"#"==h[0]?e=Polymer.Collection.get(k).getItem(h):(e=e[h],k&&parseInt(h,10)==h&&(f[b]=Polymer.Collection.get(k).getKey(e)));if(!e)return;var k=Array.isArray(e)?e:null}if(k)if(h=Polymer.Collection.get(k),"#"==g[0]){var l=g;var n=h.getItem(l);g=k.indexOf(n);h.setItem(l,c)}else parseInt(g,10)==g&&(n=e[g],l=h.getKey(n),f[b]=l,h.setItem(l,c));e[g]=c;d||this._notifyPath(f.join("."),
c)}else e[b]=c},get:function(b,c){return this._get(b,c)},_get:function(b,c,d){c=c||this;b=this._getPathParts(b);for(var e,f=0;f<b.length;f++){if(!c)return;var g=b[f];e&&"#"==g[0]?c=Polymer.Collection.get(e).getItem(g):(c=c[g],d&&e&&parseInt(g,10)==g&&(b[f]=Polymer.Collection.get(e).getKey(c)));e=Array.isArray(c)?c:null}d&&(d.path=b.join("."));return c},_pathEffector:function(b,c){var d=a.root(b);if(d=this._propertyEffects&&this._propertyEffects[d])for(var e=0,f;e<d.length&&(f=d[e]);e++){var g=f.pathFn;
g&&g.call(this,b,c,f.effect)}this._boundPaths&&this._notifyBoundPaths(b,c)},_annotationPathEffect:function(b,c,d){if(a.matches(d.value,!1,b))Polymer.Bind._annotationEffect.call(this,b,c,d);else if(!d.negate&&a.isDescendant(d.value,b)){var e=this._nodes[d.index];e&&e._notifyPath&&(b=a.translate(d.value,d.name,b),e._notifyPath(b,c,!0))}},_complexObserverPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._complexObserverEffect.call(this,b,c,d)},_computePathEffect:function(b,
c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._computeEffect.call(this,b,c,d)},_annotatedComputationPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._annotatedComputationEffect.call(this,b,c,d)},linkPaths:function(b,c){this._boundPaths=this._boundPaths||{};c?this._boundPaths[b]=c:this.unlinkPaths(b)},unlinkPaths:function(b){this._boundPaths&&delete this._boundPaths[b]},_notifyBoundPaths:function(b,c){for(var d in this._boundPaths){var e=this._boundPaths[d];
a.isDescendant(d,b)?this._notifyPath(a.translate(d,e,b),c):a.isDescendant(e,b)&&this._notifyPath(a.translate(e,d,b),c)}},_notifyPathUp:function(b,c){var d=a.root(b);d=Polymer.CaseMap.camelToDashCase(d)+this._EVENT_CHANGED;this.fire(d,{path:b,value:c},{bubbles:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(b,c){var d={};b=this._get(b,this,d);this._notifySplices(b,d.path,c)},_notifySplices:function(b,c,d){d={keySplices:Polymer.Collection.applySplices(b,
d),indexSplices:d};var e=c+".splices";this._notifyPath(e,d);this._notifyPath(c+".length",b.length);this.__data__[e]={keySplices:null,indexSplices:null}},_notifySplice:function(b,c,d,e,f){this._notifySplices(b,c,[{index:d,addedCount:e,removed:f,object:b,type:"splice"}])},push:function(b){var c={},d=this._get(b,this,c),e=Array.prototype.slice.call(arguments,1),f=d.length,g=d.push.apply(d,e);e.length&&this._notifySplice(d,c.path,f,e.length,[]);return g},pop:function(b){var c={},d=this._get(b,this,c),
e=!!d.length,f=d.pop.apply(d,Array.prototype.slice.call(arguments,1));e&&this._notifySplice(d,c.path,d.length,0,[f]);return f},splice:function(b,c){var d={},e=this._get(b,this,d);(c=0>c?e.length-Math.floor(-c):Math.floor(c))||(c=0);var f=Array.prototype.slice.call(arguments,1),g=e.splice.apply(e,f);((f=Math.max(f.length-2,0))||g.length)&&this._notifySplice(e,d.path,c,f,g);return g},shift:function(b){var c={},d=this._get(b,this,c),e=!!d.length,f=d.shift.apply(d,Array.prototype.slice.call(arguments,
1));e&&this._notifySplice(d,c.path,0,0,[f]);return f},unshift:function(b){var c={},d=this._get(b,this,c),e=Array.prototype.slice.call(arguments,1),f=d.unshift.apply(d,e);e.length&&this._notifySplice(d,c.path,0,e.length,[]);return f},prepareModelNotifyPath:function(b){this.mixin(b,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,
_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})})();
Polymer.Base._addFeature({resolveUrl:function(a){return Polymer.ResolveUrl.resolveUrl(a,this._importPath)}});
Polymer.CssParse={parse:function(a){a=this._clean(a);return this._parseCss(this._lex(a),a)},_clean:function(a){return a.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(a){for(var b={start:0,end:a.length},c=b,d=0,e=a.length;d<e;d++)switch(a[d]){case this.OPEN_BRACE:c.rules||(c.rules=[]);var f=c;c={start:d+1,parent:f,previous:f.rules[f.rules.length-1]};f.rules.push(c);break;case this.CLOSE_BRACE:c.end=d+1,c=c.parent||b}return b},_parseCss:function(a,b){var c=b.substring(a.start,
a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=this._expandUnicodeEscapes(c),c=c.replace(this._rx.multipleSpaces," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf(this.AT_START),a.atRule?0===c.indexOf(this.MEDIA_START)?a.type=this.types.MEDIA_RULE:c.match(this._rx.keyframesRule)&&(a.type=this.types.KEYFRAMES_RULE,a.keyframesName=a.selector.split(this._rx.multipleSpaces).pop()):
a.type=0===c.indexOf(this.VAR_START)?this.types.MIXIN_RULE:this.types.STYLE_RULE);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)this._parseCss(f,b);return a},_expandUnicodeEscapes:function(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(b,c){b=c;for(c=6-b.length;c--;)b="0"+b;return"\\"+b})},stringify:function(a,b,c){c=c||"";var d="";if(a.cssText||a.rules){var e=a.rules;if(e&&!this._hasMixinRules(e))for(var f=0,g=e.length,h;f<g&&(h=e[f]);f++)d=this.stringify(h,b,d);else d=b?a.cssText:
this.removeCustomProps(a.cssText),(d=d.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" "+this.OPEN_BRACE+"\n"),c+=d,a.selector&&(c+=this.CLOSE_BRACE+"\n\n"));return c},_hasMixinRules:function(a){return 0===a[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(a){a=this.removeCustomPropAssignment(a);return this.removeCustomPropApply(a)},removeCustomPropAssignment:function(a){return a.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(a){return a.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"};
Polymer.StyleUtil=function(){var a=Polymer.Settings;return{unscopedStyleImports:new WeakMap,SHADY_UNSCOPED_ATTR:"shady-unscoped",NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel\x3dimport][type~\x3dcss], template",INCLUDE_ATTR:"include",toCssText:function(b,c){"string"===typeof b&&(b=this.parser.parse(b));c&&this.forEachRule(b,c);return this.parser.stringify(b,this.NATIVE_VARIABLES)},forRulesInStyles:function(b,c,d){if(b)for(var e=0,f=b.length,g;e<f&&
(g=b[e]);e++)this.forEachRuleInStyle(g,c,d)},forActiveRulesInStyles:function(b,c,d){if(b)for(var e=0,f=b.length,g;e<f&&(g=b[e]);e++)this.forEachRuleInStyle(g,c,d,!0)},rulesForStyle:function(b){!b.__cssRules&&b.textContent&&(b.__cssRules=this.parser.parse(b.textContent));return b.__cssRules},isKeyframesSelector:function(b){return b.parent&&b.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(b,c,d,e){var f=this.rulesForStyle(b),g,h;c&&(g=function(k){c(k,b)});d&&(h=function(k){d(k,
b)});this.forEachRule(f,g,h,e)},forEachRule:function(b,c,d,e){if(b){var f=!1;if(e&&b.type===this.ruleTypes.MEDIA_RULE){var g=b.selector.match(this.rx.MEDIA_MATCH);g&&(window.matchMedia(g[1]).matches||(f=!0))}b.type===this.ruleTypes.STYLE_RULE?c(b):d&&b.type===this.ruleTypes.KEYFRAMES_RULE?d(b):b.type===this.ruleTypes.MIXIN_RULE&&(f=!0);if((b=b.rules)&&!f){f=0;g=b.length;for(var h;f<g&&(h=b[f]);f++)this.forEachRule(h,c,d,e)}}},applyCss:function(b,c,d,e){b=this.createScopeStyle(b,c);return this.applyStyle(b,
d,e)},applyStyle:function(b,c,d){c=c||document.head;d=d&&d.nextSibling||c.firstChild;this.__lastHeadApplyNode=b;return c.insertBefore(b,d)},createScopeStyle:function(b,c){var d=document.createElement("style");c&&d.setAttribute("scope",c);d.textContent=b;return d},__lastHeadApplyNode:null,applyStylePlaceHolder:function(b){b=document.createComment(" Shady DOM styles for "+b+" ");var c=document.head;c.insertBefore(b,(this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null)||c.firstChild);
return this.__lastHeadApplyNode=b},cssFromModules:function(b,c){b=b.trim().split(/\s+/);for(var d="",e=0;e<b.length;e++)d+=this.cssFromModule(b[e],c);return d},cssFromModule:function(b,c){var d=Polymer.DomModule.import(b);d&&!d._cssText&&(d._cssText=this.cssFromElement(d));!d&&c&&console.warn("Could not find style data in module named",b);return d&&d._cssText||""},cssFromElement:function(b){for(var c="",d=Polymer.TreeApi.arrayCopy((b.content||b).querySelectorAll(this.MODULE_STYLES_SELECTOR)),e=0,
f;e<d.length;e++)if(f=d[e],"template"===f.localName)f.hasAttribute("preserve-content")||(c+=this.cssFromElement(f));else if("style"===f.localName){var g=f.getAttribute(this.INCLUDE_ATTR);g&&(c+=this.cssFromModules(g,!0));f=f.__appliedElement||f;f.parentNode.removeChild(f);g=this.resolveCss(f.textContent,b.ownerDocument);!a.useNativeShadow&&f.hasAttribute(this.SHADY_UNSCOPED_ATTR)?(f.textContent=g,document.head.insertBefore(f,document.head.firstChild)):c+=g}else f.import&&f.import.body&&(g=this.resolveCss(f.import.body.textContent,
f.import),!a.useNativeShadow&&f.hasAttribute(this.SHADY_UNSCOPED_ATTR)?this.unscopedStyleImports.has(f.import)||(this.unscopedStyleImports.set(f.import,!0),f=document.createElement("style"),f.setAttribute(this.SHADY_UNSCOPED_ATTR,""),f.textContent=g,document.head.insertBefore(f,document.head.firstChild)):c+=g);return c},styleIncludesToTemplate:function(b){b=b.content.querySelectorAll("style[include]");for(var c=0,d;c<b.length;c++)d=b[c],d.parentNode.insertBefore(this._includesToFragment(d.getAttribute("include")),
d)},_includesToFragment:function(b){b=b.trim().split(" ");for(var c=document.createDocumentFragment(),d=0;d<b.length;d++){var e=Polymer.DomModule.import(b[d],"template");e&&this._addStylesToFragment(c,e.content)}return c},_addStylesToFragment:function(b,c){c=c.querySelectorAll("style");for(var d=0,e;d<c.length;d++){e=c[d];var f=e.getAttribute("include");f&&b.appendChild(this._includesToFragment(f));e.textContent&&b.appendChild(e.cloneNode(!0))}},isTargetedBuild:function(b){return a.useNativeShadow?
"shadow"===b:"shady"===b},cssBuildTypeForModule:function(b){if(b=Polymer.DomModule.import(b))return this.getCssBuildType(b)},getCssBuildType:function(b){return b.getAttribute("css-build")},_findMatchingParen:function(b,c){for(var d=0,e=b.length;c<e;c++)switch(b[c]){case "(":d++;break;case ")":if(0===--d)return c}return-1},processVariableAndFallback:function(b,c){var d=b.indexOf("var(");if(-1===d)return c(b,"","","");var e=this._findMatchingParen(b,d+3),f=b.substring(d+4,e);d=b.substring(0,d);b=this.processVariableAndFallback(b.substring(e+
1),c);var g=f.indexOf(",");if(-1===g)return c(d,f.trim(),"",b);e=f.substring(0,g).trim();f=f.substring(g+1).trim();return c(d,e,f,b)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s\x3e+~])"},
resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var a=Polymer.StyleUtil,b=Polymer.Settings,c={dom:function(J,R,L,H){this._transformDom(J,R||"",L,H)},_transformDom:function(J,R,L,H){J.setAttribute&&this.element(J,R,L,H);J=Polymer.dom(J).childNodes;for(var S=0;S<J.length;S++)this._transformDom(J[S],R,L,H)},element:function(J,R,L,H){L?H?J.removeAttribute(d):J.setAttribute(d,R):R&&(J.classList?H?(J.classList.remove(d),J.classList.remove(R)):(J.classList.add(d),J.classList.add(R)):J.getAttribute&&(L=J.getAttribute(x),
H?L&&J.setAttribute(x,L.replace(d,"").replace(R,"")):J.setAttribute(x,(L?L+" ":"")+d+" "+R)))},elementStyles:function(J,R){var L=J._styles,H="",S=J.__cssBuild;S=b.useNativeShadow||"shady"===S;if(S){var T=this;var O=function(ba){ba.selector=T._slottedToContent(ba.selector);ba.selector=ba.selector.replace(l,":host \x3e *");ba.selector=T._dirShadowTransform(ba.selector);R&&R(ba)}}for(var P=0,U=L.length,X;P<U&&(X=L[P]);P++){var V=a.rulesForStyle(X);H+=S?a.toCssText(V,O):this.css(V,J.is,J.extends,R,J._scopeCssViaAttr)+
"\n\n"}return H.trim()},css:function(J,R,L,H,S){var T=this._calcHostScope(R,L);R=this._calcElementScope(R,S);var O=this;return a.toCssText(J,function(P){P.isScoped||(O.rule(P,R,T),P.isScoped=!0);H&&H(P,R,T)})},_calcElementScope:function(J,R){return J?R?u+J+y:v+J:""},_calcHostScope:function(J,R){return R?"[is\x3d"+J+"]":J},rule:function(J,R,L){this._transformRule(J,this._transformComplexSelector,R,L)},_transformRule:function(J,R,L,H){J.selector=J.transformedSelector=this._transformRuleCss(J,R,L,H)},
_splitSelectorList:function(J){for(var R=[],L="",H=0;0<=H&&H<J.length;H++)if("("===J[H]){var S=a._findMatchingParen(J,H);L+=J.slice(H,S+1);H=S}else J[H]===f?(R.push(L),L=""):L+=J[H];L&&R.push(L);0===R.length&&R.push(J);return R},_transformRuleCss:function(J,R,L,H){var S=this._splitSelectorList(J.selector);if(!a.isKeyframesSelector(J)){J=0;for(var T=S.length,O;J<T&&(O=S[J]);J++)S[J]=R.call(this,O,L,H)}return S.join(f)},_ensureScopedDir:function(J){var R=J.match(E);R&&""===R[1]&&R[0].length===J.length&&
(J="*"+J);return J},_additionalDirSelectors:function(J,R,L){return J&&R?f+(L||"")+" "+J+" "+R:""},_transformComplexSelector:function(J,R,L){var H=!1,S=!1,T=!1,O=this;J=J.trim();J=this._slottedToContent(J);J=J.replace(l,":host \x3e *");J=J.replace(z,k+" $1");J=this._ensureScopedDir(J);J=J.replace(g,function(P,U,X){H?X=X.replace(t," "):(P=O._transformCompoundSelector(X,U,R,L),H=H||P.stop,S=S||P.hostContext,T=T||P.dir,U=P.combinator,X=P.value);return U+X});S&&(J=J.replace(q,function(P,U,X,V){P=U+X+" "+
L+V+f+" "+U+L+X+V;T&&(P+=O._additionalDirSelectors(X,V,L));return P}));return J},_transformDir:function(J){J=J.replace(I,Q);return J=J.replace(E,F)},_transformCompoundSelector:function(J,R,L,H){var S=J.search(t),T=!1,O=!1;J.match(E)&&(J=this._transformDir(J),O=!0);0<=J.indexOf(p)?T=!0:0<=J.indexOf(k)?J=this._transformHostSelector(J,H):0!==S&&(J=L?this._transformSimpleSelector(J,L):J);0<=J.indexOf(r)&&(R="");if(0<=S){J=J.replace(t," ");var P=!0}return{value:J,combinator:R,stop:P,hostContext:T,dir:O}},
_transformSimpleSelector:function(J,R){J=J.split(w);J[0]+=R;return J.join(w)},_transformHostSelector:function(J,R){var L=J.match(n);return(L=L&&L[2].trim()||"")?L[0].match(h)?J.replace(n,function(H,S,T){return R+T}):L.split(h)[0]===R?L:B:J.replace(k,R)},documentRule:function(J){J.selector=J.parsedSelector;this.normalizeRootSelector(J);b.useNativeShadow||this._transformRule(J,this._transformDocumentSelector)},normalizeRootSelector:function(J){J.selector=J.selector.replace(l,"html");var R=this._splitSelectorList(J.selector);
R=R.filter(function(L){return!L.match(C)});J.selector=R.join(f)},_transformDocumentSelector:function(J){return this._transformComplexSelector(J,e)},_slottedToContent:function(J){return J.replace(A,r+"\x3e $1")},_dirShadowTransform:function(J){return J.match(/:dir\(/)?this._splitSelectorList(J).map(function(R){R=this._ensureScopedDir(R);R=this._transformDir(R);var L=q.exec(R);L&&(R+=this._additionalDirSelectors(L[2],L[3],""));return R},this).join(f):J},SCOPE_NAME:"style-scope"},d=c.SCOPE_NAME,e=":not(["+
d+"]):not(."+d+")",f=",",g=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,h=/[[.:#*]/,k=":host",l=":root",n=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,p=":host-context",q=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,r="::content",t=/::content|::shadow|\/deep\//,v=".",u="["+d+"~\x3d",y="]",w=":",x="class",z=new RegExp("^("+r+")"),B="should_not_match",A=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,C=/:host(?:\s*>\s*\*)?/,E=/(.*):dir\((ltr|rtl)\)/,F=':host-context([dir\x3d"$2"]) $1',
I=/:host\(:dir\((rtl|ltr)\)\)/g,Q=':host-context([dir\x3d"$1"])';return c}();
Polymer.StyleExtends=function(){var a=Polymer.StyleUtil;return{hasExtends:function(b){return!!b.match(this.rx.EXTEND)},transform:function(b){b=a.rulesForStyle(b);var c=this;a.forEachRule(b,function(d){c._mapRuleOntoParent(d);if(d.parent)for(var e;e=c.rx.EXTEND.exec(d.cssText);)(e=c._findExtendor(e[1],d))&&c._extendRule(d,e);d.cssText=d.cssText.replace(c.rx.EXTEND,"")});return a.toCssText(b,function(d){d.selector.match(c.rx.STRIP)&&(d.cssText="")},!0)},_mapRuleOntoParent:function(b){if(b.parent){for(var c=
b.parent.map||(b.parent.map={}),d=b.selector.split(","),e=0,f;e<d.length;e++)f=d[e],c[f.trim()]=b;return c}},_findExtendor:function(b,c){return c.parent&&c.parent.map&&c.parent.map[b]||this._findExtendor(b,c.parent)},_extendRule:function(b,c){b.parent!==c.parent&&this._cloneAndAddRuleToParent(c,b.parent);b.extends=b.extends||[];b.extends.push(c);c.selector=c.selector.replace(this.rx.STRIP,"");c.selector=(c.selector&&c.selector+",\n")+b.selector;c.extends&&c.extends.forEach(function(d){this._extendRule(b,
d)},this)},_cloneAndAddRuleToParent:function(b,c){b=Object.create(b);b.parent=c;b.extends&&(b.extends=b.extends.slice());c.rules.push(b)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){function a(v,u){v=v.trim();r[v]={properties:u,dependants:{}}}function b(v){v=v.trim();return r[v]}function c(v){v=v.split(";");for(var u,y,w={},x=0,z;x<v.length;x++)if(u=v[x])if(z=u.split(":"),1<z.length){y=u=z[0].trim();z=z.slice(1).join(":");var B=q.exec(z);B&&(z=B[1]?t._getInitialValueForProperty(y):"apply-shim-inherit");y=z;w[u]=y}return w}function d(v){var u=t.__currentElementProto;u=u&&u.is;for(var y in v.dependants)y!==u&&(v.dependants[y].__applyShimInvalid=!0)}
function e(v,u,y,w){y&&h.processVariableAndFallback(y,function(J,R){R&&b(R)&&(w="@apply "+R+";")});if(!w)return v;var x=g(w),z=v.slice(0,v.indexOf("--")),B=x=c(x),A=b(u),C=A&&A.properties;C?(B=Object.create(C),B=Polymer.Base.mixin(B,x)):a(u,B);var E=[],F,I=!1;for(F in B){var Q=x[F];void 0===Q&&(Q="initial");!C||F in C||(I=!0);E.push(u+"_-_"+F+": "+Q)}I&&d(A);A&&(A.properties=B);y&&(z=v+";"+z);return z+E.join("; ")+";"}function f(v,u,y){return"var("+u+",var("+y+"))"}function g(v){for(var u;u=k.exec(v);){var y=
u[0],w=u[1];u=u.index;var x=v.slice(0,u+y.indexOf("@apply"));v=v.slice(u+y.length);var z=c(x),B;y=void 0;w=w.replace(p,"");var A=[];var C=b(w);C||(a(w,{}),C=b(w));if(C)for(y in(B=t.__currentElementProto)&&(C.dependants[B.is]=B),C.properties)C=z&&z[y],B=[y,": var(",w,"_-_",y],C&&B.push(",",C),B.push(")"),A.push(B.join(""));y=A.join("; ");v=[x,y,v].join("");k.lastIndex=u+y.length}return v}var h=Polymer.StyleUtil,k=h.rx.MIXIN_MATCH,l=h.rx.VAR_ASSIGN,n=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,p=/;\s*/m,q=
/^\s*(initial)|(inherit)\s*$/,r={},t={_measureElement:null,_map:r,_separator:"_-_",transform:function(v,u){this.__currentElementProto=u;h.forRulesInStyles(v,this._boundFindDefinitions);h.forRulesInStyles(v,this._boundFindApplications);u&&(u.__applyShimInvalid=!1);this.__currentElementProto=null},_findDefinitions:function(v){var u=v.parsedCssText;u=u.replace(n,f);u=u.replace(l,e);v.cssText=u;":root"===v.selector&&(v.selector=":host \x3e *")},_findApplications:function(v){v.cssText=g(v.cssText)},transformRule:function(v){this._findDefinitions(v);
this._findApplications(v)},_getInitialValueForProperty:function(v){this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement));return window.getComputedStyle(this._measureElement).getPropertyValue(v)}};t._boundTransformRule=t.transformRule.bind(t);t._boundFindDefinitions=t._findDefinitions.bind(t);t._boundFindApplications=t._findApplications.bind(t);return t}();
(function(){var a=Polymer.Base._prepElement,b=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,d=Polymer.StyleTransformer,e=Polymer.StyleExtends,f=Polymer.ApplyShim,g=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(h){this._encapsulateStyle&&"shady"!==this.__cssBuild&&d.element(h,this.is,this._scopeCssViaAttr);a.call(this,h)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!b);b||(this._scopeStyle=c.applyStylePlaceHolder(this.is));this.__cssBuild=
c.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var h=c.isTargetedBuild(this.__cssBuild);g.useNativeCSSProperties&&"shadow"===this.__cssBuild&&h?g.preserveStyleIncludes&&c.styleIncludesToTemplate(this._template):(this._styles=this._styles||this._collectStyles(),g.useNativeCSSProperties&&!this.__cssBuild&&f.transform(this._styles,this),h=g.useNativeCSSProperties&&h?this._styles.length&&this._styles[0].textContent.trim():d.elementStyles(this),this._prepStyleProperties(),
!this._needsStyleProperties()&&h&&c.applyCss(h,this.is,b?this._template.content:null,this._scopeStyle))}else this._styles=[]},_collectStyles:function(){var h=[],k="",l=this.styleModules;if(l)for(var n=0,p=l.length,q;n<p&&(q=l[n]);n++)k+=c.cssFromModule(q);k+=c.cssFromModule(this.is);l=this._template&&this._template.parentNode;!this._template||l&&l.id.toLowerCase()===this.is||(k+=c.cssFromElement(this._template));k&&(l=document.createElement("style"),l.textContent=k,e.hasExtends(l.textContent)&&e.transform(l),
h.push(l));return h},_elementAdd:function(h){this._encapsulateStyle&&(h.__styleScoped?h.__styleScoped=!1:d.dom(h,this.is,this._scopeCssViaAttr))},_elementRemove:function(h){this._encapsulateStyle&&d.dom(h,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(h,k){if(!b){var l=this,n=function(p){if(p.nodeType===Node.ELEMENT_NODE){var q=p.getAttribute("class");p.setAttribute("class",l._scopeElementClass(p,q));p=p.querySelectorAll("*");for(var r=0,t;r<p.length&&(t=p[r]);r++)q=t.getAttribute("class"),
t.setAttribute("class",l._scopeElementClass(t,q))}};n(h);if(k)return k=new MutationObserver(function(p){for(var q=0,r;q<p.length&&(r=p[q]);q++)if(r.addedNodes)for(var t=0;t<r.addedNodes.length;t++)n(r.addedNodes[t])}),k.observe(h,{childList:!0,subtree:!0}),k}}})})();
Polymer.StyleProperties=function(){var a=Polymer.DomApi.matchesSelector,b=Polymer.StyleUtil,c=Polymer.StyleTransformer,d=navigator.userAgent.match("Trident"),e=Polymer.Settings;return{decorateStyles:function(f,g){var h=this,k={},l=[],n=0,p=c._calcHostScope(g.is,g.extends);b.forRulesInStyles(f,function(r,t){h.decorateRule(r);r.index=n++;h.whenHostOrRootRule(g,r,t,function(v){r.parent.type===b.ruleTypes.MEDIA_RULE&&(g.__notStyleScopeCacheable=!0);v.isHost&&(v=v.selector.split(" ").some(function(u){return 0===
u.indexOf(p)&&u.length!==p.length}),g.__notStyleScopeCacheable=g.__notStyleScopeCacheable||v)});h.collectPropertiesInCssText(r.propertyInfo.cssText,k)},function(r){l.push(r)});f._keyframes=l;f=[];for(var q in k)f.push(q);return f},decorateRule:function(f){if(f.propertyInfo)return f.propertyInfo;var g={},h={};this.collectProperties(f,h)&&(g.properties=h,f.rules=null);g.cssText=this.collectCssText(f);return f.propertyInfo=g},collectProperties:function(f,g){var h=f.propertyInfo;if(h){if(h.properties)return Polymer.Base.mixin(g,
h.properties),!0}else{h=this.rx.VAR_ASSIGN;for(var k=f.parsedCssText,l;f=h.exec(k);)l=(f[2]||f[3]).trim(),"inherit"!==l&&(g[f[1].trim()]=l),l=!0;return l}},collectCssText:function(f){return this.collectConsumingCssText(f.parsedCssText)},collectConsumingCssText:function(f){return f.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(f,g){for(var h;h=this.rx.VAR_CONSUMED.exec(f);){var k=h[1];":"!==h[2]&&(g[k]=!0)}},reify:function(f){for(var g=Object.getOwnPropertyNames(f),
h=0,k;h<g.length;h++)k=g[h],f[k]=this.valueForProperty(f[k],f)},valueForProperty:function(f,g){if(f)if(0<=f.indexOf(";"))f=this.valueForProperties(f,g);else{var h=this;f=b.processVariableAndFallback(f,function(k,l,n,p){(l=h.valueForProperty(g[l],g))&&"initial"!==l?"apply-shim-inherit"===l&&(l="inherit"):l=h.valueForProperty(g[n]||n,g)||n;return k+(l||"")+p})}return f&&f.trim()||""},valueForProperties:function(f,g){f=f.split(";");for(var h=0,k,l;h<f.length;h++)if(k=f[h]){this.rx.MIXIN_MATCH.lastIndex=
0;if(l=this.rx.MIXIN_MATCH.exec(k))k=this.valueForProperty(g[l[1]],g);else if(l=k.indexOf(":"),-1!==l){var n=k.substring(l);n=n.trim();n=this.valueForProperty(n,g)||n;k=k.substring(0,l)+n}f[h]=k&&k.lastIndexOf(";")===k.length-1?k.slice(0,-1):k||""}return f.join(";")},applyProperties:function(f,g){var h="";f.propertyInfo||this.decorateRule(f);f.propertyInfo.cssText&&(h=this.valueForProperties(f.propertyInfo.cssText,g));f.cssText=h},applyKeyframeTransforms:function(f,g){var h=f.cssText,k=f.cssText;
null==f.hasAnimations&&(f.hasAnimations=this.rx.ANIMATION_MATCH.test(h));if(f.hasAnimations)if(null==f.keyframeNamesToTransform){f.keyframeNamesToTransform=[];for(var l in g)k=g[l],k=k(h),h!==k&&(h=k,f.keyframeNamesToTransform.push(l))}else{for(l=0;l<f.keyframeNamesToTransform.length;++l)k=g[f.keyframeNamesToTransform[l]],h=k(h);k=h}f.cssText=k},propertyDataFromStyles:function(f,g){var h={},k=this,l=[];b.forActiveRulesInStyles(f,function(n){n.propertyInfo||k.decorateRule(n);var p=n.transformedSelector||
n.parsedSelector;g&&n.propertyInfo.properties&&p&&a.call(g,p)&&(k.collectProperties(n,h),n=n.index,p=parseInt(n/32),l[p]=(l[p]||0)|1<<n%32)});return{properties:h,key:l}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(f,g){return!!g.match(this._rootSelector)||"html"===f&&-1<g.indexOf("html")},whenHostOrRootRule:function(f,g,h,k){g.propertyInfo||self.decorateRule(g);if(g.propertyInfo.properties){var l=f.is?c._calcHostScope(f.is,f.extends):"html",n=g.parsedSelector,p=this._checkRoot(l,n),q=
!p&&0===n.indexOf(":host");"shady"===(f.__cssBuild||h.__cssBuild)&&(p=n===l+" \x3e *."+l||-1<n.indexOf("html"),q=!p&&0===n.indexOf(l));if(p||q)h=l,q&&(e.useNativeShadow&&!g.transformedSelector&&(g.transformedSelector=c._transformRuleCss(g,c._transformComplexSelector,f.is,l)),h=g.transformedSelector||g.parsedSelector),p&&"html"===l&&(h=g.transformedSelector||g.parsedSelector),k({selector:h,isHost:q,isRoot:p})}},hostAndRootPropertiesForScope:function(f){var g={},h={},k=this;b.forActiveRulesInStyles(f._styles,
function(l,n){k.whenHostOrRootRule(f,l,n,function(p){a.call(f._element||f,p.selector)&&(p.isHost?k.collectProperties(l,g):k.collectProperties(l,h))})});return{rootProps:h,hostProps:g}},transformStyles:function(f,g,h){var k=this,l=c._calcHostScope(f.is,f.extends),n=new RegExp(this.rx.HOST_PREFIX+(f.extends?"\\"+l.slice(0,-1)+"\\]":l)+this.rx.HOST_SUFFIX),p=this._elementKeyframeTransforms(f,h);return c.elementStyles(f,function(q){k.applyProperties(q,g);e.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(q)||
!q.cssText||(k.applyKeyframeTransforms(q,p),k._scopeSelector(q,n,l,f._scopeCssViaAttr,h))})},_elementKeyframeTransforms:function(f,g){f=f._styles._keyframes;var h={};if(!e.useNativeShadow&&f)for(var k=0,l=f[k];k<f.length;l=f[++k])this._scopeKeyframes(l,g),h[l.keyframesName]=this._keyframesRuleTransformer(l);return h},_keyframesRuleTransformer:function(f){return function(g){return g.replace(f.keyframesNameRx,f.transformedKeyframesName)}},_scopeKeyframes:function(f,g){f.keyframesNameRx=new RegExp("\\b"+
f.keyframesName+"(?!\\B|-)","g");f.transformedKeyframesName=f.keyframesName+"-"+g;f.transformedSelector=f.transformedSelector||f.selector;f.selector=f.transformedSelector.replace(f.keyframesName,f.transformedKeyframesName)},_hasDirOrHostContext:function(f){return/:host-context|:dir/.test(f)},_scopeSelector:function(f,g,h,k,l){f.transformedSelector=f.transformedSelector||f.selector;l=c._calcElementScope(l,k);k=c._calcElementScope(h,k);for(var n=f.transformedSelector.split(","),p=this._hasDirOrHostContext(f.parsedSelector),
q=0,r=n.length,t;q<r&&(t=n[q]);q++)n[q]=t.match(g)?t.replace(h,l):p?t.replace(k,l+" "+k):l+" "+t;f.selector=n.join(",")},applyElementScopeSelector:function(f,g,h,k){var l=k?f.getAttribute(c.SCOPE_NAME):f.getAttribute("class")||"";g=h?l.replace(h,g):(l?l+" ":"")+this.XSCOPE_NAME+" "+g;l!==g&&(k?f.setAttribute(c.SCOPE_NAME,g):f.setAttribute("class",g))},applyElementStyle:function(f,g,h,k){g=k?k.textContent||"":this.transformStyles(f,g,h);var l=f._customStyle;l&&!e.useNativeShadow&&l!==k&&(l._useCount--,
0>=l._useCount&&l.parentNode&&l.parentNode.removeChild(l));e.useNativeShadow?f._customStyle?(f._customStyle.textContent=g,k=f._customStyle):g&&(k=b.applyCss(g,h,f.root,f._scopeStyle)):k?k.parentNode||(d&&-1<g.indexOf("@media")&&(k.textContent=g),b.applyStyle(k,null,f._scopeStyle)):g&&(k=b.applyCss(g,h,null,f._scopeStyle));k&&(k._useCount=k._useCount||0,f._customStyle!=k&&k._useCount++,f._customStyle=k);return k},mixinCustomStyle:function(f,g){var h,k;for(k in g)if((h=g[k])||0===h)f[k]=h},updateNativeStyleProperties:function(f,
g){var h=f.__customStyleProperties;if(h)for(var k=0;k<h.length;k++)f.style.removeProperty(h[k]);h=[];for(var l in g)null!==g[l]&&(f.style.setProperty(l,g[l]),h.push(l));f.__customStyleProperties=h},rx:b.rx,XSCOPE_NAME:"x-scope"}}();Polymer.StyleCache=function(){this.cache={}};
Polymer.StyleCache.prototype={MAX:100,store:function(a,b,c,d){b.keyValues=c;b.styles=d;a=this.cache[a]=this.cache[a]||[];a.push(b);a.length>this.MAX&&a.shift()},retrieve:function(a,b,c){if(a=this.cache[a])for(var d=a.length-1,e;0<=d;d--)if(e=a[d],c===e.styles&&this._objectsEqual(b,e.keyValues))return e},clear:function(){this.cache={}},_objectsEqual:function(a,b){var c;for(c in a){var d=a[c];var e=b[c];if("object"===typeof d&&d?!this._objectsStrictlyEqual(d,e):d!==e)return!1}return Array.isArray(a)?
a.length===b.length:!0},_objectsStrictlyEqual:function(a,b){return this._objectsEqual(a,b)&&this._objectsEqual(b,a)}};
Polymer.StyleDefaults=function(){var a=Polymer.StyleProperties,b=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new Polymer.StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(c){this._styles.push(c);this._properties=null},get _styleProperties(){this._properties||(a.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=a.hostAndRootPropertiesForScope(this).rootProps,a.mixinCustomStyle(this._properties,
this.customStyle),a.reify(this._properties));return this._properties},hasStyleProperties:function(){return!!this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(c){this._properties=null;c&&Polymer.Base.mixin(this.customStyle,c);this._styleCache.clear();c=0;for(var d;c<this._styles.length;c++)d=this._styles[c],d=d.__importElement||d,d._apply();b&&a.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}();
(function(){var a=Polymer.Base.serializeValueToAttribute,b=Polymer.StyleProperties,c=Polymer.StyleTransformer,d=Polymer.StyleDefaults,e=Polymer.Settings.useNativeShadow,f=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){f||(this._ownStylePropertyNames=this._styles&&this._styles.length?b.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(l){f||this._styleProperties||this._computeStyleProperties();return!f&&this._styleProperties&&
this._styleProperties[l]||getComputedStyle(this).getPropertyValue(l)},_setupStyleProperties:function(){this.customStyle={};this._customStyle=this._ownStyleProperties=this._scopeSelector=this._styleProperties=this._styleCache=null},_needsStyleProperties:function(){return!(f||!this._ownStylePropertyNames||!this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var l=c.elementStyles(this);if(e){var n=this._template.content.querySelector("style");
n&&(n.textContent=l)}else if(n=this._scopeStyle&&this._scopeStyle.nextSibling)n.textContent=l}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var l=this;l=Polymer.dom(l).getOwnerRoot();){if(Polymer.isInstance(l.host))return l.host;l=l.host}return d},_updateStyleProperties:function(){var l=this._findStyleHost();l._styleProperties||l._computeStyleProperties();
l._styleCache||(l._styleCache=new Polymer.StyleCache);var n=b.propertyDataFromStyles(l._styles,this),p=!this.__notStyleScopeCacheable;if(p){n.key.customStyle=this.customStyle;var q=l._styleCache.retrieve(this.is,n.key,this._styles)}var r=!!q;r?this._styleProperties=q._styleProperties:this._computeStyleProperties(n.properties);this._computeOwnStyleProperties();r||(q=g.retrieve(this.is,this._ownStyleProperties,this._styles));var t=!!q&&!r;q=this._applyStyleProperties(q);r||(q=q&&e?q.cloneNode(!0):q,
q={style:q,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},p&&(n.key.customStyle={},this.mixin(n.key.customStyle,this.customStyle),l._styleCache.store(this.is,q,n.key,this._styles)),t||g.store(this.is,Object.create(q),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(l){var n=this._findStyleHost();n._styleProperties||n._computeStyleProperties();var p=Object.create(n._styleProperties),q=b.hostAndRootPropertiesForScope(this);this.mixin(p,q.hostProps);
l=l||b.propertyDataFromStyles(n._styles,this).properties;this.mixin(p,l);this.mixin(p,q.rootProps);b.mixinCustomStyle(p,this.customStyle);b.reify(p);this._styleProperties=p},_computeOwnStyleProperties:function(){for(var l={},n=0,p;n<this._ownStylePropertyNames.length;n++)p=this._ownStylePropertyNames[n],l[p]=this._styleProperties[p];this._ownStyleProperties=l},_scopeCount:0,_applyStyleProperties:function(l){var n=this._scopeSelector;this._scopeSelector=l?l._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;
l=b.applyElementStyle(this,this._styleProperties,this._scopeSelector,l&&l.style);e||b.applyElementScopeSelector(this,this._scopeSelector,n,this._scopeCssViaAttr);return l},serializeValueToAttribute:function(l,n,p){p=p||this;if("class"===n&&!e){var q=p===this?this.domHost||this.dataHost:this;q&&(l=q._scopeElementClass(p,l))}p=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(p):p;a.call(this,l,n,p)},_scopeElementClass:function(l,n){e||this._scopeCssViaAttr||(n=(n?n+" ":"")+h+" "+this.is+(l._scopeSelector?
" "+k+" "+l._scopeSelector:""));return n},updateStyles:function(l){l&&this.mixin(this.customStyle,l);f?b.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(l){l=l||this.root;l=Polymer.dom(l)._query(function(r){return r.shadyRoot||r.shadowRoot});for(var n=0,p=l.length,
q;n<p&&(q=l[n]);n++)q.updateStyles&&q.updateStyles()}});Polymer.updateStyles=function(l){d.updateStyles(l);Polymer.Base._updateRootStyles(document)};var g=new Polymer.StyleCache;Polymer.customStyleCache=g;var h=c.SCOPE_NAME,k=b.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this.factoryImpl&&this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(a){this._addPropertyEffects(a.properties);this._addComplexObserverEffects(a.observers);this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences());this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(a){a.listeners&&this._listenListeners(a.listeners)}});
(function(){var a=Polymer.StyleProperties,b=Polymer.StyleUtil,c=Polymer.CssParse,d=Polymer.StyleDefaults,e=Polymer.StyleTransformer,f=Polymer.ApplyShim,g=Polymer.Debounce,h=Polymer.Settings,k;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=b.getCssBuildType(this);this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild);this.ownerDocument!==window.document&&
this.__appliedElement===this&&document.head.appendChild(this);this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var l=this.__appliedElement;h.useNativeCSSProperties||(this.__needsUpdateStyles=d.hasStyleProperties(),d.addStyle(l));if(l.textContent||this.include)this._apply(!0);else{var n=this,p=new MutationObserver(function(){p.disconnect();n._apply(!0)});p.observe(l,
{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(l){var n=this.__appliedElement;this.include&&(n.textContent=b.cssFromModules(this.include,!0)+n.textContent);if(n.textContent){var p=this.__cssBuild,q=b.isTargetedBuild(p);if(!h.useNativeCSSProperties||!q){var r=b.rulesForStyle(n);q||(b.forEachRule(r,function(v){e.documentRule(v)}),h.useNativeCSSProperties&&!p&&f.transform([n]));if(h.useNativeCSSProperties)n.textContent=b.toCssText(r);else{var t=this;n=function(){t._flushCustomProperties()};
l?Polymer.RenderStatus.whenReady(n):n()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?(this.__needsUpdateStyles=!1,k=g(k,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var l=this.__appliedElement;this._computeStyleProperties();var n=this._styleProperties,p=b.rulesForStyle(l);p&&(l.textContent=b.toCssText(p,function(q){var r=q.cssText=q.parsedCssText;q.propertyInfo&&q.propertyInfo.cssText&&(r=c.removeCustomPropAssignment(r),q.cssText=a.valueForProperties(r,
n))}))}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(a){this._templatized=a;a._content||(a._content=a.content);if(a._content._ctor)this.ctor=a._content._ctor,this._prepParentProperties(this.ctor.prototype,a);else{var b=Object.create(Polymer.Base);this._customPrepAnnotations(b,a);this._prepParentProperties(b,a);b._prepEffects();this._customPrepEffects(b);b._prepBehaviors();b._prepPropertyInfo();
b._prepBindings();b._notifyPathUp=this._notifyPathUpImpl;b._scopeElementClass=this._scopeElementClassImpl;b.listen=this._listenImpl;b._showHideChildren=this._showHideChildrenImpl;b.__setPropertyOrig=this.__setProperty;b.__setProperty=this.__setPropertyImpl;var c=this._constructorImpl,d=function(e,f){c.call(this,e,f)};d.prototype=b;b.constructor=d;this.ctor=a._content._ctor=d}},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(a){for(var b=
this._children,c=0;c<b.length;c++){var d=b[c];!!a!=!!d.__hideTemplateChildren__&&(d.nodeType===Node.TEXT_NODE?a?(d.__polymerTextContent__=d.textContent,d.textContent=""):d.textContent=d.__polymerTextContent__:d.style&&(a?(d.__polymerDisplay__=d.style.display,d.style.display="none"):d.style.display=d.__polymerDisplay__));d.__hideTemplateChildren__=a}},__setPropertyImpl:function(a,b,c,d){d&&d.__hideTemplateChildren__&&"textContent"==a&&(a="__polymerTextContent__");this.__setPropertyOrig(a,b,c,d)},_debounceTemplate:function(a){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",
a))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(a){var b=a._parentProps,c;for(c in b)a._addPropertyEffect(c,"function",this._createHostPropEffector(c));for(c in this._instanceProps)a._addPropertyEffect(c,"function",this._createInstancePropEffector(c))},_customPrepAnnotations:function(a,b){var c=(a._template=document.createElement("template"))._content=b._content;if(!c._notes){var d=a._rootDataHost;d&&(Polymer.Annotations.prepElement=function(){d._prepElement()});c._notes=
Polymer.Annotations.parseAnnotations(b);Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}a._notes=c._notes;a._parentProps=c._parentProps},_prepParentProperties:function(a,b){var c=this._parentProps=a._parentProps;if(this._forwardParentProp&&c){var d=a._parentPropProto,e;if(!d){for(e in this._instanceProps)delete c[e];d=a._parentPropProto=Object.create(null);b!=this&&(Polymer.Bind.prepareModel(d),Polymer.Base.prepareModelNotifyPath(d));for(e in c)a=this._parentPropPrefix+e,c=
[{kind:"function",effect:this._createForwardPropEffector(e),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(a)+"-changed"}}],d._propertyEffects=d._propertyEffects||{},d._propertyEffects[a]=c,Polymer.Bind._createAccessors(d,a,c)}var f=this;b!=this&&(Polymer.Bind.prepareInstance(b),b._forwardParentProp=function(g,h){f._forwardParentProp(g,h)});this._extendTemplate(b,d);b._pathEffector=function(g,h,k){return f._pathEffectorImpl(g,
h,k)}}},_createForwardPropEffector:function(a){return function(b,c){this._forwardParentProp(a,c)}},_createHostPropEffector:function(a){var b=this._parentPropPrefix;return function(c,d){this.dataHost._templatized[b+a]=d}},_createInstancePropEffector:function(a){return function(b,c,d,e){e||this.dataHost._forwardInstanceProp(this,a,c)}},_extendTemplate:function(a,b){var c=Object.getOwnPropertyNames(b);b._propertySetter&&(a._propertySetter=b._propertySetter);for(var d=0,e;d<c.length&&(e=c[d]);d++){var f=
a[e];if(f&&"_propertyEffects"==e)f=Polymer.Base.mixin({},f),a._propertyEffects=Polymer.Base.mixin(f,b._propertyEffects);else{var g=Object.getOwnPropertyDescriptor(b,e);Object.defineProperty(a,e,g);void 0!==f&&a._propertySetter(e,f)}}},_showHideChildren:function(){},_forwardInstancePath:function(){},_forwardInstanceProp:function(){},_notifyPathUpImpl:function(a,b){var c=this.dataHost,d=Polymer.Path.root(a);c._forwardInstancePath.call(c,this,a,b);d in c._parentProps&&c._templatized._notifyPath(c._parentPropPrefix+
a,b)},_pathEffectorImpl:function(a,b,c){if(this._forwardParentPath&&0===a.indexOf(this._parentPropPrefix)){var d=a.substring(this._parentPropPrefix.length);Polymer.Path.root(d)in this._parentProps&&this._forwardParentPath(d,b)}Polymer.Base._pathEffector.call(this._templatized,a,b,c)},_constructorImpl:function(a,b){this._rootDataHost=b._getRootDataHost();this._setupConfigure(a);this._registerHost(b);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;
this.root.__styleScoped=!0;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();a=[];for(var c=this.root.firstChild;c;c=c.nextSibling)a.push(c),c._templateInstance=this;this._children=a;b.__hideTemplateChildren__&&this._showHideChildren(!0);this._tryReady()},_listenImpl:function(a,b,c){var d=this,e=this._rootDataHost,f=e._createEventHandler(a,b,c);e._listen(a,b,function(g){g.model=d;f(g)})},_scopeElementClassImpl:function(a,b){var c=this._rootDataHost;
return c?c._scopeElementClass(a,b):b},stamp:function(a){a=a||{};if(this._parentProps){var b=this._templatized,c;for(c in this._parentProps)void 0===a[c]&&(a[c]=b[this._parentPropPrefix+c])}return new this.ctor(a,this)},modelForElement:function(a){for(var b;a;)if(b=a._templateInstance)if(b.dataHost!=this)a=b.dataHost;else return b;else a=a.parentNode}};Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});
Polymer._collections=new WeakMap;Polymer.Collection=function(a){Polymer._collections.set(a,this);this.userArray=a;this.store=a.slice();this.initMap()};function Af(a){if(a&&"#"==a[0])return a.slice(1)}function Bf(a,b){b&&"object"==typeof b?a.omap.delete(b):delete a.pmap[b]}
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var a=this.omap=new WeakMap,b=this.pmap={},c=this.store,d=0;d<c.length;d++){var e=c[d];e&&"object"==typeof e?a.set(e,d):b[e]=d}},add:function(a){var b=this.store.push(a)-1;a&&"object"==typeof a?this.omap.set(a,b):this.pmap[a]=b;return"#"+b},removeKey:function(a){if(a=Af(a))Bf(this,this.store[a]),delete this.store[a]},remove:function(a){a=this.getKey(a);this.removeKey(a);return a},getKey:function(a){a=a&&"object"==
typeof a?this.omap.get(a):this.pmap[a];if(void 0!=a)return"#"+a},getKeys:function(){return Object.keys(this.store).map(function(a){return"#"+a})},setItem:function(a,b){if(a=Af(a)){var c=this.store[a];c&&Bf(this,c);b&&"object"==typeof b?this.omap.set(b,a):this.pmap[b]=a;this.store[a]=b}},getItem:function(a){if(a=Af(a))return this.store[a]},getItems:function(){var a=[],b=this.store,c;for(c in b)a.push(b[c]);return a}};Polymer.Collection.get=function(a){return Polymer._collections.get(a)||new Polymer.Collection(a)};
Polymer.Collection.applySplices=function(a,b){a=Polymer._collections.get(a);if(a){for(var c={},d=0,e;d<b.length&&(e=b[d]);d++){e.addedKeys=[];for(var f=0;f<e.removed.length;f++){var g=a.getKey(e.removed[f]);c[g]=c[g]?null:-1}for(f=0;f<e.addedCount;f++){var h=a.userArray[e.index+f];g=a.getKey(h);g=void 0===g?a.add(h):g;c[g]=c[g]?null:1;e.addedKeys.push(g)}}b=[];e=[];for(g in c)0>c[g]&&(a.removeKey(g),b.push(g)),0<c[g]&&e.push(g);g=[{removed:b,added:e}]}else g=null;return g};
function DomRepeatElement(){}m=DomRepeatElement.prototype;m.ctor=function(){};m.stamp=function(){};m.templatize=function(){};m.modelForElement=function(){};m._debounceTemplate=function(){};m._setRenderedItemCount=function(){};
Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},
notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var a=this;this._boundRenderChunk=function(){a._renderChunk()}},detached:function(){this.__isDetached=!0;for(var a=0;a<this._instances.length;a++)this._detachInstance(a)},attached:function(){if(this.__isDetached){this.__isDetached=!1;var a=Polymer.dom(this).parentNode;
if(a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;a=Polymer.dom(a);for(var c=0;c<this._instances.length;c++)this._attachInstance(c,a,b)}},ready:function(){this._instanceProps={__key__:!0};this._instanceProps[this.as]=!0;this._instanceProps[this.indexAs]=!0;this.ctor||this.templatize(this)},_sortChanged:function(a){var b=this._getRootDataHost();this._sortFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},
_filterChanged:function(a){var b=this._getRootDataHost();this._filterFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(a){return Math.ceil(1E3/a)},_initializeChunking:function(){this.initialCount&&(this._chunkCount=this._limit=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",
this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var a=performance.now();this._chunkCount=Math.round(this._targetFrameTime/(a-this._lastChunkTime)*this._chunkCount)||1;this._limit+=this._chunkCount;this._lastChunkTime=a;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(a){if("items"==a.path)Array.isArray(this.items)?
this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==a.path)this._keySplices=this._keySplices.concat(a.value.keySplices),this._indexSplices=this._indexSplices.concat(a.value.indexSplices),this._debounceTemplate(this._render);else{var b=
a.path.slice(6);this._forwardItemPath(b,a.value);this._checkObservedPaths(b)}},_checkObservedPaths:function(a){if(this._observePaths){a=a.substring(a.indexOf(".")+1);for(var b=this._observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c])){this._needFullRefresh=!0;this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render);break}}},render:function(){this._needFullRefresh=!0;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){this._needFullRefresh?
(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices));this._keySplices=[];this._indexSplices=[];for(var a=this._keyToInstIdx={},b=this._instances.length-1;0<=b;b--){var c=this._instances[b];c.isPlaceholder&&b<this._limit?c=this._insertInstance(b,c.__key__):!c.isPlaceholder&&b>=this._limit&&(c=this._downgradeInstance(b,c.__key__));
a[c.__key__]=b;c.isPlaceholder||c.__setProperty(this.indexAs,b,!0)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var a=this.collection;if(this._sortFn)var b=a?a.getKeys():[];else{b=[];var c=this.items;if(c)for(var d=0;d<c.length;d++)b.push(a.getKey(c[d]))}var e=this;this._filterFn&&(b=b.filter(function(g){return e._filterFn(a.getItem(g))}));
this._sortFn&&b.sort(function(g,h){return e._sortFn(a.getItem(g),a.getItem(h))});for(d=0;d<b.length;d++){c=b[d];var f=this._instances[d];f?(f.__key__=c,!f.isPlaceholder&&d<this._limit&&f.__setProperty(this.as,a.getItem(c),!0)):d<this._limit?this._insertInstance(d,c):this._insertPlaceholder(d,c)}for(b=this._instances.length-1;b>=d;b--)this._detachAndRemoveInstance(b)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(a){for(var b=this.collection,c={},d,e=0,f;e<a.length&&(f=a[e]);e++){for(var g=
0;g<f.removed.length;g++)d=f.removed[g],c[d]=c[d]?null:-1;for(g=0;g<f.added.length;g++)d=f.added[g],c[d]=c[d]?null:1}f=[];a=[];for(d in c)-1===c[d]&&f.push(this._keyToInstIdx[d]),1===c[d]&&a.push(d);if(f.length)for(f.sort(this._numericSort),e=f.length-1;0<=e;e--)c=f[e],void 0!==c&&this._detachAndRemoveInstance(c);var h=this;if(a.length)for(this._filterFn&&(a=a.filter(function(k){return h._filterFn(b.getItem(k))})),a.sort(function(k,l){return h._sortFn(b.getItem(k),b.getItem(l))}),e=c=0;e<a.length;e++)c=
this._insertRowUserSort(c,a[e])},_insertRowUserSort:function(a,b){for(var c=this.collection,d=c.getItem(b),e=this._instances.length-1,f=-1;a<=e;){var g=a+e>>1,h=this._sortFn(c.getItem(this._instances[g].__key__),d);if(0>h)a=g+1;else if(0<h)e=g-1;else{f=g;break}}0>f&&(f=e+1);this._insertPlaceholder(f,b);return f},_applySplicesArrayOrder:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++){for(var d=0;d<c.removed.length;d++)this._detachAndRemoveInstance(c.index);for(d=0;d<c.addedKeys.length;d++)this._insertPlaceholder(c.index+
d,c.addedKeys[d])}},_detachInstance:function(a){a=this._instances[a];if(!a.isPlaceholder){for(var b=0;b<a._children.length;b++){var c=a._children[b];Polymer.dom(a.root).appendChild(c)}return a}},_attachInstance:function(a,b,c){a=this._instances[a];a.isPlaceholder||b.insertBefore(a.root,c)},_detachAndRemoveInstance:function(a){var b=this._detachInstance(a);b&&this._pool.push(b);this._instances.splice(a,1)},_insertPlaceholder:function(a,b){this._instances.splice(a,0,{isPlaceholder:!0,__key__:b})},_stampInstance:function(a,
b){var c={__key__:b};c[this.as]=this.collection.getItem(b);c[this.indexAs]=a;return this.stamp(c)},_insertInstance:function(a,b){var c=this._pool.pop();c?(c.__setProperty(this.as,this.collection.getItem(b),!0),c.__setProperty("__key__",b,!0)):c=this._stampInstance(a,b);b=(b=this._instances[a+1])&&!b.isPlaceholder?b._children[0]:this;var d=Polymer.dom(this).parentNode;d.localName==this.is&&(b==this&&(b=d),d=Polymer.dom(d).parentNode);Polymer.dom(d).insertBefore(c.root,b);return this._instances[a]=
c},_downgradeInstance:function(a,b){var c=this._detachInstance(a);c&&this._pool.push(c);c={isPlaceholder:!0,__key__:b};return this._instances[a]=c},_showHideChildren:function(a){for(var b=0;b<this._instances.length;b++)this._instances[b].isPlaceholder||this._instances[b]._showHideChildren(a)},_forwardInstanceProp:function(a,b,c){b==this.as&&(a=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(a.__key__)):a[this.indexAs],this.set("items."+a,c))},_forwardInstancePath:function(a,
b,c){0===b.indexOf(this.as+".")&&this._notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),c)},_forwardParentProp:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e._notifyPath(a,b,!0)},_forwardItemPath:function(a,b){if(this._keyToInstIdx){var c=a.indexOf("."),d=this._instances[this._keyToInstIdx[a.substring(0,0>c?a.length:
c)]];d&&!d.isPlaceholder&&(0<=c?(a=this.as+"."+a.substring(c+1),d._notifyPath(a,b,!0)):d.__setProperty(this.as,b,!0))}},itemForElement:function(a){return(a=this.modelForElement(a))&&a[this.as]},keyForElement:function(a){return(a=this.modelForElement(a))&&a.__key__},indexForElement:function(a){return(a=this.modelForElement(a))&&a[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var a=0;a<this.selected.length;a++)this.unlinkPaths("selected."+a);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");if(this.multi){if(!this.selected||this.selected.length)this.selected=
[],this._selectedColl=Polymer.Collection.get(this.selected)}else this._selectedColl=this.selected=null;this.selectedItem=null},isSelected:function(a){return this.multi?void 0!==this._selectedColl.getKey(a):this.selected==a},deselect:function(a){if(this.multi){if(this.isSelected(a)){var b=this._selectedColl.getKey(a);this.arrayDelete("selected",a);this.unlinkPaths("selected."+b)}}else this.selectedItem=this.selected=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(a){var b=
Polymer.Collection.get(this.items).getKey(a);this.multi?this.isSelected(a)?this.toggle&&this.deselect(a):(this.push("selected",a),a=this._selectedColl.getKey(a),this.linkPaths("selected."+a,"items."+b)):this.toggle&&a==this.selected?this.deselect():(this.selectedItem=this.selected=a,this.linkPaths("selected","items."+b),this.linkPaths("selectedItem","items."+b))}});
Polymer({is:"dom-if",extends:"template",_template:null,properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var a=this.parentNode;a&&a.localName==this.is&&(a=Polymer.dom(a).parentNode);a&&(a.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&a instanceof ShadowRoot)||this._teardownInstance()},
attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance();!this.restamp&&this._instance&&this._showHideChildren();this.if!=this._lastIf&&(Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var a=Polymer.dom(this).parentNode;
if(a&&a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;if(a)if(this._instance){var c=this._instance._children;if(c&&c.length&&Polymer.dom(b).previousSibling!==c[c.length-1])for(var d=0,e;d<c.length&&(e=c[d]);d++)Polymer.dom(a).insertBefore(e,b)}else this._instance=this.stamp(),c=this._instance.root,Polymer.dom(a).insertBefore(c,b)},_teardownInstance:function(){if(this._instance){var a=this._instance._children;if(a&&a.length)for(var b=Polymer.dom(Polymer.dom(a[0]).parentNode),
c=0,d;c<a.length&&(d=a[c]);c++)b.removeChild(d);this._instance=null}},_showHideChildren:function(){var a=this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(a)},_forwardParentProp:function(a,b){this._instance&&this._instance.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){this._instance&&this._instance._notifyPath(a,b,!0)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},extends:"template",_template:null,created:function(){var a=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){a._markImportsReady()}):a._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){var a=
Polymer.dom(this).parentNode;if(a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;Polymer.dom(a).insertBefore(this.root,b)},_removeChildren:function(){if(this._children)for(var a=0;a<this._children.length;a++)this.root.appendChild(this._children[a])},_initFeatures:function(){},_scopeElementClass:function(a,b){return this.dataHost?this.dataHost._scopeElementClass(a,b):b},_configureInstanceProperties:function(){},_prepConfigure:function(){var a={},b;for(b in this._propertyEffects)a[b]=
this[b];var c=this._setupConfigure;this._setupConfigure=function(){c.call(this,a)}},attached:function(){this._importsReady&&this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady();this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root));this._insertChildren();
Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change")}});
</script>














<script>//~~WEBPATH~~/iron-meta/iron-meta.html.js
(function(){Polymer.IronMeta=function(b){Polymer.IronMeta[" "](b);this.type=b&&b.type||"default";this.key=b&&b.key;b&&"value"in b&&(this.value=b.value)};Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var b=this.type,c=this.key;if(b&&c)return Polymer.IronMeta.types[b]&&Polymer.IronMeta.types[b][c]},set value(b){var c=this.type,d=this.key;c&&d&&(c=Polymer.IronMeta.types[c]=Polymer.IronMeta.types[c]||{},null==b?delete c[d]:c[d]=b)},get list(){if(this.type){var b=
Polymer.IronMeta.types[this.type];return b?Object.keys(b).map(function(c){return a[this.type][c]},this):[]}},byKey:function(b){this.key=b;return this.value}};var a=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(b,c,d){b=new Polymer.IronMeta({type:b,
key:c});void 0!==d&&d!==b.value?b.value=d:this.value!==b.value&&(this.value=b.value);return b},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(b){b&&(this.value=this)},byKey:function(b){return(new Polymer.IronMeta({type:this.type,key:b})).value}})})();
</script>




<script>//~~WEBPATH~~/iron-flex-layout/iron-flex-layout.html.js
var Cf=document.createElement("style");Cf.textContent="[hidden] { display: none !important; }";document.head.appendChild(Cf);
</script>
<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>

<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>




<dom-module id="iron-icon">
  <template>
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply --iron-icon;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
  </template>

  <script>//~~WEBPATH~~/iron-icon/iron-icon.html.js
Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
</script>

</dom-module>




<script>//~~WEBPATH~~/iron-iconset-svg/iron-iconset-svg.html.js
Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);
if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(this.useGlobalRtlAttribute?this.__targetIsRTL="rtl"===(document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement).getAttribute("dir"):(a&&a.nodeType!==Node.ELEMENT_NODE&&
(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction));return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],
this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.setAttribute("focusable","false");d.style.cssText=
e;d.appendChild(a).removeAttribute("id");return d}return null}});
</script>

<iron-iconset-svg name="av" size="24">
<svg><defs>
<g id="add-to-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3h3z" /></g>
<g id="airplay"><path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="album"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z" /></g>
<g id="art-track"><path d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z" /></g>
<g id="av-timer"><path d="M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z" /></g>
<g id="branding-watermark"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16h-9v-6h9v6z" /></g>
<g id="call-to-action"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3v-3h18v3z" /></g>
<g id="closed-caption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z" /></g>
<g id="equalizer"><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z" /></g>
<g id="explicit"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z" /></g>
<g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z" /></g>
<g id="fast-rewind"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z" /></g>
<g id="featured-play-list"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 8H3V9h9v2zm0-4H3V5h9v2z" /></g>
<g id="featured-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 9H3V5h9v7z" /></g>
<g id="fiber-dvr"><path d="M17.5 10.5h2v1h-2zm-13 0h2v3h-2zM21 3H3c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h18c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zM8 13.5c0 .85-.65 1.5-1.5 1.5H3V9h3.5c.85 0 1.5.65 1.5 1.5v3zm4.62 1.5h-1.5L9.37 9h1.5l1 3.43 1-3.43h1.5l-1.75 6zM21 11.5c0 .6-.4 1.15-.9 1.4L21 15h-1.5l-.85-2H17.5v2H16V9h3.5c.85 0 1.5.65 1.5 1.5v1z" /></g>
<g id="fiber-manual-record"><circle cx="12" cy="12" r="8" /></g>
<g id="fiber-new"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z" /></g>
<g id="fiber-pin"><path d="M5.5 10.5h2v1h-2zM20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM9 11.5c0 .85-.65 1.5-1.5 1.5h-2v2H4V9h3.5c.85 0 1.5.65 1.5 1.5v1zm3.5 3.5H11V9h1.5v6zm7.5 0h-1.2l-2.55-3.5V15H15V9h1.25l2.5 3.5V9H20v6z" /></g>
<g id="fiber-smart-record"><g><circle cx="9" cy="12" r="8" /><path d="M17 4.26v2.09c2.33.82 4 3.04 4 5.65s-1.67 4.83-4 5.65v2.09c3.45-.89 6-4.01 6-7.74s-2.55-6.85-6-7.74z" /></g></g>
<g id="forward-10"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="forward-30"><path d="M9.6 13.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5zM4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8z" /></g>
<g id="forward-5"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.7.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.5.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.6z" /></g>
<g id="games"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z" /></g>
<g id="hd"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z" /></g>
<g id="hearing"><path d="M17 20c-.29 0-.56-.06-.76-.15-.71-.37-1.21-.88-1.71-2.38-.51-1.56-1.47-2.29-2.39-3-.79-.61-1.61-1.24-2.32-2.53C9.29 10.98 9 9.93 9 9c0-2.8 2.2-5 5-5s5 2.2 5 5h2c0-3.93-3.07-7-7-7S7 5.07 7 9c0 1.26.38 2.65 1.07 3.9.91 1.65 1.98 2.48 2.85 3.15.81.62 1.39 1.07 1.71 2.05.6 1.82 1.37 2.84 2.73 3.55.51.23 1.07.35 1.64.35 2.21 0 4-1.79 4-4h-2c0 1.1-.9 2-2 2zM7.64 2.64L6.22 1.22C4.23 3.21 3 5.96 3 9s1.23 5.79 3.22 7.78l1.41-1.41C6.01 13.74 5 11.49 5 9s1.01-4.74 2.64-6.36zM11.5 9c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z" /></g>
<g id="high-quality"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z" /></g>
<g id="library-add"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" /></g>
<g id="library-books"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z" /></g>
<g id="library-music"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z" /></g>
<g id="loop"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z" /></g>
<g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" /></g>
<g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" /></g>
<g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z" /></g>
<g id="movie"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z" /></g>
<g id="music-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z" /></g>
<g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z" /></g>
<g id="not-interested"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z" /></g>
<g id="note"><path d="M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z" /></g>
<g id="pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" /></g>
<g id="pause-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z" /></g>
<g id="pause-circle-outline"><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z" /></g>
<g id="play-arrow"><path d="M8 5v14l11-7z" /></g>
<g id="play-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z" /></g>
<g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="playlist-add"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z" /></g>
<g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z" /></g>
<g id="playlist-play"><path d="M19 9H2v2h17V9zm0-4H2v2h17V5zM2 15h13v-2H2v2zm15-2v6l5-3-5-3z" /></g>
<g id="queue"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" /></g>
<g id="queue-music"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z" /></g>
<g id="queue-play-next"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8l-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z" /></g>
<g id="radio"><path d="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z" /></g>
<g id="recent-actors"><path d="M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z" /></g>
<g id="remove-from-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2H8v-2h8z" /></g>
<g id="repeat"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" /></g>
<g id="repeat-one"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z" /></g>
<g id="replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" /></g>
<g id="replay-10"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="replay-30"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-2.4 8.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5c0-.1-.1-.2-.1-.3s-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="replay-5"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.3 8.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.4.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.7z" /></g>
<g id="shuffle"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z" /></g>
<g id="skip-next"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z" /></g>
<g id="skip-previous"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z" /></g>
<g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z" /></g>
<g id="snooze"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9v2z" /></g>
<g id="sort-by-alpha"><path d="M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z" /></g>
<g id="stop"><path d="M6 6h12v12H6z" /></g>
<g id="subscriptions"><path d="M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z" /></g>
<g id="subtitles"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z" /></g>
<g id="surround-sound"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.76 16.24l-1.41 1.41C4.78 16.1 4 14.05 4 12c0-2.05.78-4.1 2.34-5.66l1.41 1.41C6.59 8.93 6 10.46 6 12s.59 3.07 1.76 4.24zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm5.66 1.66l-1.41-1.41C17.41 15.07 18 13.54 18 12s-.59-3.07-1.76-4.24l1.41-1.41C19.22 7.9 20 9.95 20 12c0 2.05-.78 4.1-2.34 5.66zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="video-call"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z" /></g>
<g id="video-label"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z" /></g>
<g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z" /></g>
<g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z" /></g>
<g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z" /></g>
<g id="volume-down"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z" /></g>
<g id="volume-mute"><path d="M7 9v6h4l5 5V4l-5 5H7z" /></g>
<g id="volume-off"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" /></g>
<g id="volume-up"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" /></g>
<g id="web"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z" /></g>
<g id="web-asset"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm0 14H5V8h14v10z" /></g>
</defs></svg>
</iron-iconset-svg>



<iron-iconset-svg name="communication" size="24">
<svg><defs>
<g id="business"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z" /></g>
<g id="call"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" /></g>
<g id="call-end"><path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z" /></g>
<g id="call-made"><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z" /></g>
<g id="call-merge"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z" /></g>
<g id="call-missed"><path d="M19.59 7L12 14.59 6.41 9H11V7H3v8h2v-4.59l7 7 9-9z" /></g>
<g id="call-missed-outgoing"><path d="M3 8.41l9 9 7-7V15h2V7h-8v2h4.59L12 14.59 4.41 7 3 8.41z" /></g>
<g id="call-received"><path d="M20 5.41L18.59 4 7 15.59V9H5v10h10v-2H8.41z" /></g>
<g id="call-split"><path d="M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z" /></g>
<g id="chat"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z" /></g>
<g id="chat-bubble"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" /></g>
<g id="chat-bubble-outline"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z" /></g>
<g id="clear-all"><path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z" /></g>
<g id="comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" /></g>
<g id="contact-mail"><path d="M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z" /></g>
<g id="contact-phone"><path d="M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z" /></g>
<g id="contacts"><path d="M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z" /></g>
<g id="dialer-sip"><path d="M17 3h-1v5h1V3zm-2 2h-2V4h2V3h-3v3h2v1h-2v1h3V5zm3-2v5h1V6h2V3h-3zm2 2h-1V4h1v1zm0 10.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.01.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.27-.26.35-.65.24-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z" /></g>
<g id="dialpad"><path d="M12 19c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="email"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="forum"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z" /></g>
<g id="import-contacts"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z" /></g>
<g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z" /></g>
<g id="invert-colors-off"><path d="M20.65 20.87l-2.35-2.35-6.3-6.29-3.56-3.57-1.42-1.41L4.27 4.5 3 5.77l2.78 2.78c-2.55 3.14-2.36 7.76.56 10.69C7.9 20.8 9.95 21.58 12 21.58c1.79 0 3.57-.59 5.03-1.78l2.7 2.7L21 21.23l-.35-.36zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59c0-1.32.43-2.57 1.21-3.6L12 14.77v4.82zM12 5.1v4.58l7.25 7.26c1.37-2.96.84-6.57-1.6-9.01L12 2.27l-3.7 3.7 1.41 1.41L12 5.1z" /></g>
<g id="live-help"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" /></g>
<g id="location-off"><path d="M12 6.5c1.38 0 2.5 1.12 2.5 2.5 0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7-1.98 0-3.76.83-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6l-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z" /></g>
<g id="location-on"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="mail-outline"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z" /></g>
<g id="message"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" /></g>
<g id="no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z" /></g>
<g id="phone"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" /></g>
<g id="phonelink-erase"><path d="M13 8.2l-1-1-4 4-4-4-1 1 4 4-4 4 1 1 4-4 4 4 1-1-4-4 4-4zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z" /></g>
<g id="phonelink-lock"><path d="M19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-8.2 10V9.5C10.8 8.1 9.4 7 8 7S5.2 8.1 5.2 9.5V11c-.6 0-1.2.6-1.2 1.2v3.5c0 .7.6 1.3 1.2 1.3h5.5c.7 0 1.3-.6 1.3-1.2v-3.5c0-.7-.6-1.3-1.2-1.3zm-1.3 0h-3V9.5c0-.8.7-1.3 1.5-1.3s1.5.5 1.5 1.3V11z" /></g>
<g id="phonelink-ring"><path d="M20.1 7.7l-1 1c1.8 1.8 1.8 4.6 0 6.5l1 1c2.5-2.3 2.5-6.1 0-8.5zM18 9.8l-1 1c.5.7.5 1.6 0 2.3l1 1c1.2-1.2 1.2-3 0-4.3zM14 1H4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 19H4V4h10v16z" /></g>
<g id="phonelink-setup"><path d="M11.8 12.5v-1l1.1-.8c.1-.1.1-.2.1-.3l-1-1.7c-.1-.1-.2-.2-.3-.1l-1.3.4c-.3-.2-.6-.4-.9-.5l-.2-1.3c0-.1-.1-.2-.3-.2H7c-.1 0-.2.1-.3.2l-.2 1.3c-.3.1-.6.3-.9.5l-1.3-.5c-.1 0-.2 0-.3.1l-1 1.7c-.1.1 0 .2.1.3l1.1.8v1l-1.1.8c-.1.2-.1.3-.1.4l1 1.7c.1.1.2.2.3.1l1.4-.4c.3.2.6.4.9.5l.2 1.3c-.1.1.1.2.2.2h2c.1 0 .2-.1.3-.2l.2-1.3c.3-.1.6-.3.9-.5l1.3.5c.1 0 .2 0 .3-.1l1-1.7c.1-.1 0-.2-.1-.3l-1.1-.9zM8 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z" /></g>
<g id="portable-wifi-off"><path d="M17.56 14.24c.28-.69.44-1.45.44-2.24 0-3.31-2.69-6-6-6-.79 0-1.55.16-2.24.44l1.62 1.62c.2-.03.41-.06.62-.06 2.21 0 4 1.79 4 4 0 .21-.02.42-.05.63l1.61 1.61zM12 4c4.42 0 8 3.58 8 8 0 1.35-.35 2.62-.95 3.74l1.47 1.47C21.46 15.69 22 13.91 22 12c0-5.52-4.48-10-10-10-1.91 0-3.69.55-5.21 1.47l1.46 1.46C9.37 4.34 10.65 4 12 4zM3.27 2.5L2 3.77l2.1 2.1C2.79 7.57 2 9.69 2 12c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 17.53 4 14.96 4 12c0-1.76.57-3.38 1.53-4.69l1.43 1.44C6.36 9.68 6 10.8 6 12c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-.65.17-1.25.44-1.79l1.58 1.58L10 12c0 1.1.9 2 2 2l.21-.02.01.01 7.51 7.51L21 20.23 4.27 3.5l-1-1z" /></g>
<g id="present-to-all"><path d="M21 3H3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h18c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 16.02H3V4.98h18v14.04zM10 12H8l4-4 4 4h-2v4h-4v-4z" /></g>
<g id="ring-volume"><path d="M23.71 16.67C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73s3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.66 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71 0-.27-.11-.52-.29-.7zM21.16 6.26l-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM13 2h-2v5h2V2zM6.4 9.81L7.81 8.4 4.26 4.84 2.84 6.26c.11.03 3.56 3.55 3.56 3.55z" /></g>
<g id="rss-feed"><circle cx="6.18" cy="17.82" r="2.18" /><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z" /></g>
<g id="screen-share"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z" /></g>
<g id="speaker-phone"><path d="M7 7.07L8.43 8.5c.91-.91 2.18-1.48 3.57-1.48s2.66.57 3.57 1.48L17 7.07C15.72 5.79 13.95 5 12 5s-3.72.79-5 2.07zM12 1C8.98 1 6.24 2.23 4.25 4.21l1.41 1.41C7.28 4 9.53 3 12 3s4.72 1 6.34 2.62l1.41-1.41C17.76 2.23 15.02 1 12 1zm2.86 9.01L9.14 10C8.51 10 8 10.51 8 11.14v9.71c0 .63.51 1.14 1.14 1.14h5.71c.63 0 1.14-.51 1.14-1.14v-9.71c.01-.63-.5-1.13-1.13-1.13zM15 20H9v-8h6v8z" /></g>
<g id="stay-current-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z" /></g>
<g id="stay-current-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="stay-primary-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z" /></g>
<g id="stay-primary-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="stop-screen-share"><path d="M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z" /></g>
<g id="swap-calls"><path d="M18 4l-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3l-4-4z" /></g>
<g id="textsms"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z" /></g>
<g id="voicemail"><path d="M18.5 6C15.46 6 13 8.46 13 11.5c0 1.33.47 2.55 1.26 3.5H9.74c.79-.95 1.26-2.17 1.26-3.5C11 8.46 8.54 6 5.5 6S0 8.46 0 11.5 2.46 17 5.5 17h13c3.04 0 5.5-2.46 5.5-5.5S21.54 6 18.5 6zm-13 9C3.57 15 2 13.43 2 11.5S3.57 8 5.5 8 9 9.57 9 11.5 7.43 15 5.5 15zm13 0c-1.93 0-3.5-1.57-3.5-3.5S16.57 8 18.5 8 22 9.57 22 11.5 20.43 15 18.5 15z" /></g>
<g id="vpn-key"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
</defs></svg>
</iron-iconset-svg>




<script>//~~WEBPATH~~/iron-resizable-behavior/iron-resizable-behavior.html.js
Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",
this._boundNotifyResize);this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(){return!0},
_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b!==this&&(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,"iron-resize","_onDescendantIronResize")),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},
_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var a=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function c(){document.removeEventListener("readystatechange",c);a()})}else this.fire("iron-request-resize-notifications",
null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())}};
</script>




<dom-module id="iron-collapse">

  <template>

    <style>
      :host {
        display: block;
        transition-duration: var(--iron-collapse-transition-duration, 300ms);
        /* Safari 10 needs this property prefixed to correctly apply the custom property */
        -webkit-transition-duration: var(--iron-collapse-transition-duration, 300ms);
        overflow: visible;
      }

      :host(.iron-collapse-closed) {
        display: none;
      }

      :host(:not(.iron-collapse-opened)) {
        overflow: hidden;
      }
    </style>

    <slot></slot>

  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-collapse/iron-collapse.html.js
Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=b,this.scrollTop=
this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]="";this.updateSize(this.opened?
"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();
this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});
</script>



<iron-iconset-svg name="editor" size="24">
<svg><defs>
<g id="attach-file"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z" /></g>
<g id="attach-money"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z" /></g>
<g id="border-all"><path d="M3 3v18h18V3H3zm8 16H5v-6h6v6zm0-8H5V5h6v6zm8 8h-6v-6h6v6zm0-8h-6V5h6v6z" /></g>
<g id="border-bottom"><path d="M9 11H7v2h2v-2zm4 4h-2v2h2v-2zM9 3H7v2h2V3zm4 8h-2v2h2v-2zM5 3H3v2h2V3zm8 4h-2v2h2V7zm4 4h-2v2h2v-2zm-4-8h-2v2h2V3zm4 0h-2v2h2V3zm2 10h2v-2h-2v2zm0 4h2v-2h-2v2zM5 7H3v2h2V7zm14-4v2h2V3h-2zm0 6h2V7h-2v2zM5 11H3v2h2v-2zM3 21h18v-2H3v2zm2-6H3v2h2v-2z" /></g>
<g id="border-clear"><path d="M7 5h2V3H7v2zm0 8h2v-2H7v2zm0 8h2v-2H7v2zm4-4h2v-2h-2v2zm0 4h2v-2h-2v2zm-8 0h2v-2H3v2zm0-4h2v-2H3v2zm0-4h2v-2H3v2zm0-4h2V7H3v2zm0-4h2V3H3v2zm8 8h2v-2h-2v2zm8 4h2v-2h-2v2zm0-4h2v-2h-2v2zm0 8h2v-2h-2v2zm0-12h2V7h-2v2zm-8 0h2V7h-2v2zm8-6v2h2V3h-2zm-8 2h2V3h-2v2zm4 16h2v-2h-2v2zm0-8h2v-2h-2v2zm0-8h2V3h-2v2z" /></g>
<g id="border-color"><path d="M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29c-.39-.39-1.02-.39-1.41 0L15 2.25 18.75 6l1.96-1.96z" /><path fill-opacity=".36" d="M0 20h24v4H0z" /></g>
<g id="border-horizontal"><path d="M3 21h2v-2H3v2zM5 7H3v2h2V7zM3 17h2v-2H3v2zm4 4h2v-2H7v2zM5 3H3v2h2V3zm4 0H7v2h2V3zm8 0h-2v2h2V3zm-4 4h-2v2h2V7zm0-4h-2v2h2V3zm6 14h2v-2h-2v2zm-8 4h2v-2h-2v2zm-8-8h18v-2H3v2zM19 3v2h2V3h-2zm0 6h2V7h-2v2zm-8 8h2v-2h-2v2zm4 4h2v-2h-2v2zm4 0h2v-2h-2v2z" /></g>
<g id="border-inner"><path d="M3 21h2v-2H3v2zm4 0h2v-2H7v2zM5 7H3v2h2V7zM3 17h2v-2H3v2zM9 3H7v2h2V3zM5 3H3v2h2V3zm12 0h-2v2h2V3zm2 6h2V7h-2v2zm0-6v2h2V3h-2zm-4 18h2v-2h-2v2zM13 3h-2v8H3v2h8v8h2v-8h8v-2h-8V3zm6 18h2v-2h-2v2zm0-4h2v-2h-2v2z" /></g>
<g id="border-left"><path d="M11 21h2v-2h-2v2zm0-4h2v-2h-2v2zm0-12h2V3h-2v2zm0 4h2V7h-2v2zm0 4h2v-2h-2v2zm-4 8h2v-2H7v2zM7 5h2V3H7v2zm0 8h2v-2H7v2zm-4 8h2V3H3v18zM19 9h2V7h-2v2zm-4 12h2v-2h-2v2zm4-4h2v-2h-2v2zm0-14v2h2V3h-2zm0 10h2v-2h-2v2zm0 8h2v-2h-2v2zm-4-8h2v-2h-2v2zm0-8h2V3h-2v2z" /></g>
<g id="border-outer"><path d="M13 7h-2v2h2V7zm0 4h-2v2h2v-2zm4 0h-2v2h2v-2zM3 3v18h18V3H3zm16 16H5V5h14v14zm-6-4h-2v2h2v-2zm-4-4H7v2h2v-2z" /></g>
<g id="border-right"><path d="M7 21h2v-2H7v2zM3 5h2V3H3v2zm4 0h2V3H7v2zm0 8h2v-2H7v2zm-4 8h2v-2H3v2zm8 0h2v-2h-2v2zm-8-8h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm8 8h2v-2h-2v2zm4-4h2v-2h-2v2zm4-10v18h2V3h-2zm-4 18h2v-2h-2v2zm0-16h2V3h-2v2zm-4 8h2v-2h-2v2zm0-8h2V3h-2v2zm0 4h2V7h-2v2z" /></g>
<g id="border-style"><path d="M15 21h2v-2h-2v2zm4 0h2v-2h-2v2zM7 21h2v-2H7v2zm4 0h2v-2h-2v2zm8-4h2v-2h-2v2zm0-4h2v-2h-2v2zM3 3v18h2V5h16V3H3zm16 6h2V7h-2v2z" /></g>
<g id="border-top"><path d="M7 21h2v-2H7v2zm0-8h2v-2H7v2zm4 0h2v-2h-2v2zm0 8h2v-2h-2v2zm-8-4h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2v-2H3v2zm0-4h2V7H3v2zm8 8h2v-2h-2v2zm8-8h2V7h-2v2zm0 4h2v-2h-2v2zM3 3v2h18V3H3zm16 14h2v-2h-2v2zm-4 4h2v-2h-2v2zM11 9h2V7h-2v2zm8 12h2v-2h-2v2zm-4-8h2v-2h-2v2z" /></g>
<g id="border-vertical"><path d="M3 9h2V7H3v2zm0-4h2V3H3v2zm4 16h2v-2H7v2zm0-8h2v-2H7v2zm-4 0h2v-2H3v2zm0 8h2v-2H3v2zm0-4h2v-2H3v2zM7 5h2V3H7v2zm12 12h2v-2h-2v2zm-8 4h2V3h-2v18zm8 0h2v-2h-2v2zm0-8h2v-2h-2v2zm0-10v2h2V3h-2zm0 6h2V7h-2v2zm-4-4h2V3h-2v2zm0 16h2v-2h-2v2zm0-8h2v-2h-2v2z" /></g>
<g id="bubble-chart"><circle cx="7.2" cy="14.4" r="3.2" /><circle cx="14.8" cy="18" r="2" /><circle cx="15.2" cy="8.8" r="4.8" /></g>
<g id="drag-handle"><path d="M20 9H4v2h16V9zM4 15h16v-2H4v2z" /></g>
<g id="format-align-center"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z" /></g>
<g id="format-align-justify"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z" /></g>
<g id="format-align-left"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z" /></g>
<g id="format-align-right"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z" /></g>
<g id="format-bold"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" /></g>
<g id="format-clear"><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z" /></g>
<g id="format-color-fill"><path d="M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z" /><path fill-opacity=".36" d="M0 20h24v4H0z" /></g>
<g id="format-color-reset"><path d="M18 14c0-4-6-10.8-6-10.8s-1.33 1.51-2.73 3.52l8.59 8.59c.09-.42.14-.86.14-1.31zm-.88 3.12L12.5 12.5 5.27 5.27 4 6.55l3.32 3.32C6.55 11.32 6 12.79 6 14c0 3.31 2.69 6 6 6 1.52 0 2.9-.57 3.96-1.5l2.63 2.63 1.27-1.27-2.74-2.74z" /></g>
<g id="format-color-text"><path fill-opacity=".36" d="M0 20h24v4H0z" /><path d="M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z" /></g>
<g id="format-indent-decrease"><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z" /></g>
<g id="format-indent-increase"><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z" /></g>
<g id="format-italic"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" /></g>
<g id="format-line-spacing"><path d="M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z" /></g>
<g id="format-list-bulleted"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z" /></g>
<g id="format-list-numbered"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z" /></g>
<g id="format-paint"><path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z" /></g>
<g id="format-quote"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z" /></g>
<g id="format-shapes"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z" /></g>
<g id="format-size"><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z" /></g>
<g id="format-strikethrough"><path d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z" /></g>
<g id="format-textdirection-l-to-r"><path d="M9 10v5h2V4h2v11h2V4h2V2H9C6.79 2 5 3.79 5 6s1.79 4 4 4zm12 8l-4-4v3H5v2h12v3l4-4z" /></g>
<g id="format-textdirection-r-to-l"><path d="M10 10v5h2V4h2v11h2V4h2V2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4zm-2 7v-3l-4 4 4 4v-3h12v-2H8z" /></g>
<g id="format-underlined"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z" /></g>
<g id="functions"><path d="M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z" /></g>
<g id="highlight"><path d="M6 14l3 3v5h6v-5l3-3V9H6zm5-12h2v3h-2zM3.5 5.875L4.914 4.46l2.12 2.122L5.62 7.997zm13.46.71l2.123-2.12 1.414 1.414L18.375 8z" /></g>
<g id="insert-chart"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" /></g>
<g id="insert-comment"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" /></g>
<g id="insert-drive-file"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z" /></g>
<g id="insert-emoticon"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z" /></g>
<g id="insert-invitation"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" /></g>
<g id="insert-link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" /></g>
<g id="insert-photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" /></g>
<g id="linear-scale"><path d="M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z" /></g>
<g id="merge-type"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z" /></g>
<g id="mode-comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z" /></g>
<g id="mode-edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" /></g>
<g id="monetization-on"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z" /></g>
<g id="money-off"><path d="M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27zM5.33 4.06L4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27L5.33 4.06z" /></g>
<g id="multiline-chart"><path d="M22 6.92l-1.41-1.41-2.85 3.21C15.68 6.4 12.83 5 9.61 5 6.72 5 4.07 6.16 2 8l1.42 1.42C5.12 7.93 7.27 7 9.61 7c2.74 0 5.09 1.26 6.77 3.24l-2.88 3.24-4-4L2 16.99l1.5 1.5 6-6.01 4 4 4.05-4.55c.75 1.35 1.25 2.9 1.44 4.55H21c-.22-2.3-.95-4.39-2.04-6.14L22 6.92z" /></g>
<g id="pie-chart"><path d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z" /></g>
<g id="pie-chart-outlined"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm1 2.07c3.61.45 6.48 3.33 6.93 6.93H13V4.07zM4 12c0-4.06 3.07-7.44 7-7.93v15.87c-3.93-.5-7-3.88-7-7.94zm9 7.93V13h6.93c-.45 3.61-3.32 6.48-6.93 6.93z" /></g>
<g id="publish"><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z" /></g>
<g id="short-text"><path d="M4 9h16v2H4zm0 4h10v2H4z" /></g>
<g id="show-chart"><path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z" /></g>
<g id="space-bar"><path d="M18 9v4H6V9H4v6h16V9z" /></g>
<g id="strikethrough-s"><path d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z" /></g>
<g id="text-fields"><path d="M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z" /></g>
<g id="title"><path d="M5 4v3h5.5v12h3V7H19V4z" /></g>
<g id="vertical-align-bottom"><path d="M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z" /></g>
<g id="vertical-align-center"><path d="M8 19h3v4h2v-4h3l-4-4-4 4zm8-14h-3V1h-2v4H8l4 4 4-4zM4 11v2h16v-2H4z" /></g>
<g id="vertical-align-top"><path d="M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z" /></g>
<g id="wrap-text"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z" /></g>
</defs></svg>
</iron-iconset-svg>



<iron-iconset-svg name="hardware" size="24">
<svg><defs>
<g id="cast"><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z" /></g>
<g id="cast-connected"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="computer"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z" /></g>
<g id="desktop-mac"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z" /></g>
<g id="desktop-windows"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z" /></g>
<g id="developer-board"><path d="M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9h2zm-4 10H4V5h14v14zM6 13h5v4H6zm6-6h4v3h-4zM6 7h5v5H6zm6 4h4v6h-4z" /></g>
<g id="device-hub"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z" /></g>
<g id="devices-other"><path d="M3 6h18V4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V6zm10 6H9v1.78c-.61.55-1 1.33-1 2.22s.39 1.67 1 2.22V20h4v-1.78c.61-.55 1-1.34 1-2.22s-.39-1.67-1-2.22V12zm-2 5.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM22 8h-6c-.5 0-1 .5-1 1v10c0 .5.5 1 1 1h6c.5 0 1-.5 1-1V9c0-.5-.5-1-1-1zm-1 10h-4v-8h4v8z" /></g>
<g id="dock"><path d="M8 23h8v-2H8v2zm8-21.99L8 1c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM16 15H8V5h8v10z" /></g>
<g id="gamepad"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z" /></g>
<g id="headset"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z" /></g>
<g id="headset-mic"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z" /></g>
<g id="keyboard"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z" /></g>
<g id="keyboard-arrow-down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z" /></g>
<g id="keyboard-arrow-left"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z" /></g>
<g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z" /></g>
<g id="keyboard-arrow-up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" /></g>
<g id="keyboard-backspace"><path d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z" /></g>
<g id="keyboard-capslock"><path d="M12 8.41L16.59 13 18 11.59l-6-6-6 6L7.41 13 12 8.41zM6 18h12v-2H6v2z" /></g>
<g id="keyboard-hide"><path d="M20 3H4c-1.1 0-1.99.9-1.99 2L2 15c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 3h2v2h-2V6zm0 3h2v2h-2V9zM8 6h2v2H8V6zm0 3h2v2H8V9zm-1 2H5V9h2v2zm0-3H5V6h2v2zm9 7H8v-2h8v2zm0-4h-2V9h2v2zm0-3h-2V6h2v2zm3 3h-2V9h2v2zm0-3h-2V6h2v2zm-7 15l4-4H8l4 4z" /></g>
<g id="keyboard-return"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z" /></g>
<g id="keyboard-tab"><path d="M11.59 7.41L15.17 11H1v2h14.17l-3.59 3.59L13 18l6-6-6-6-1.41 1.41zM20 6v12h2V6h-2z" /></g>
<g id="keyboard-voice"><path d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" /></g>
<g id="laptop"><path d="M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z" /></g>
<g id="laptop-chromebook"><path d="M22 18V3H2v15H0v2h24v-2h-2zm-8 0h-4v-1h4v1zm6-3H4V5h16v10z" /></g>
<g id="laptop-mac"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" /></g>
<g id="laptop-windows"><path d="M20 18v-1c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2v1H0v2h24v-2h-4zM4 5h16v10H4V5z" /></g>
<g id="memory"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z" /></g>
<g id="mouse"><path d="M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z" /></g>
<g id="phone-android"><path d="M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-2 20h-4v-1h4v1zm3.25-3H6.75V4h10.5v14z" /></g>
<g id="phone-iphone"><path d="M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z" /></g>
<g id="phonelink"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z" /></g>
<g id="phonelink-off"><path d="M22 6V4H6.82l2 2H22zM1.92 1.65L.65 2.92l1.82 1.82C2.18 5.08 2 5.52 2 6v11H0v3h17.73l2.35 2.35 1.27-1.27L3.89 3.62 1.92 1.65zM4 6.27L14.73 17H4V6.27zM23 8h-6c-.55 0-1 .45-1 1v4.18l2 2V10h4v7h-2.18l3 3H23c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1z" /></g>
<g id="power-input"><path d="M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z" /></g>
<g id="router"><path d="M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z" /></g>
<g id="scanner"><path d="M19.8 10.7L4.2 5l-.7 1.9L17.6 12H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5.5c0-.8-.5-1.6-1.2-1.8zM7 17H5v-2h2v2zm12 0H9v-2h10v2z" /></g>
<g id="security"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" /></g>
<g id="sim-card"><path d="M19.99 4c0-1.1-.89-2-1.99-2h-8L4 8v12c0 1.1.9 2 2 2h12.01c1.1 0 1.99-.9 1.99-2l-.01-16zM9 19H7v-2h2v2zm8 0h-2v-2h2v2zm-8-4H7v-4h2v4zm4 4h-2v-4h2v4zm0-6h-2v-2h2v2zm4 2h-2v-4h2v4z" /></g>
<g id="smartphone"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="speaker"><path d="M17 2H7c-1.1 0-2 .9-2 2v16c0 1.1.9 1.99 2 1.99L17 22c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2c1.1 0 2 .9 2 2s-.9 2-2 2c-1.11 0-2-.9-2-2s.89-2 2-2zm0 16c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="speaker-group"><path d="M18.2 1H9.8C8.81 1 8 1.81 8 2.8v14.4c0 .99.81 1.79 1.8 1.79l8.4.01c.99 0 1.8-.81 1.8-1.8V2.8c0-.99-.81-1.8-1.8-1.8zM14 3c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm0 13.5c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" /><circle cx="14" cy="12.5" r="2.5" /><path d="M6 5H4v16c0 1.1.89 2 2 2h10v-2H6V5z" /></g>
<g id="tablet"><path d="M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z" /></g>
<g id="tablet-android"><path d="M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3zm-4 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z" /></g>
<g id="tablet-mac"><path d="M18.5 0h-14C3.12 0 2 1.12 2 2.5v19C2 22.88 3.12 24 4.5 24h14c1.38 0 2.5-1.12 2.5-2.5v-19C21 1.12 19.88 0 18.5 0zm-7 23c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm7.5-4H4V3h15v16z" /></g>
<g id="toys"><path d="M12 12c0-3 2.5-5.5 5.5-5.5S23 9 23 12H12zm0 0c0 3-2.5 5.5-5.5 5.5S1 15 1 12h11zm0 0c-3 0-5.5-2.5-5.5-5.5S9 1 12 1v11zm0 0c3 0 5.5 2.5 5.5 5.5S15 23 12 23V12z" /></g>
<g id="tv"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z" /></g>
<g id="videogame-asset"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="watch"><path d="M20 12c0-2.54-1.19-4.81-3.04-6.27L16 0H8l-.95 5.73C5.19 7.19 4 9.45 4 12s1.19 4.81 3.05 6.27L8 24h8l.96-5.73C18.81 16.81 20 14.54 20 12zM6 12c0-3.31 2.69-6 6-6s6 2.69 6 6-2.69 6-6 6-6-2.69-6-6z" /></g>
</defs></svg>
</iron-iconset-svg>



<iron-iconset-svg name="icons" size="24">
<svg><defs>
<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z" /></g>
<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z" /></g>
<g id="accessible"><circle cx="12" cy="4" r="2" /><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z" /></g>
<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z" /></g>
<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z" /></g>
<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" /></g>
<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" /></g>
<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z" /></g>
<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z" /></g>
<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" /></g>
<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z" /></g>
<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z" /></g>
<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z" /></g>
<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z" /></g>
<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z" /></g>
<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z" /></g>
<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z" /></g>
<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z" /></g>
<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></g>
<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" /></g>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z" /></g>
<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z" /></g>
<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z" /></g>
<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" /></g>
<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" /></g>
<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" /></g>
<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" /></g>
<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z" /></g>
<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" /></g>
<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z" /></g>
<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z" /></g>
<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z" /></g>
<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z" /></g>
<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z" /></g>
<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z" /></g>
<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z" /></g>
<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" /></g>
<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z" /></g>
<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z" /></g>
<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" /></g>
<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z" /></g>
<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z" /></g>
<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z" /></g>
<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" /></g>
<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></g>
<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z" /></g>
<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z" /></g>
<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z" /></g>
<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z" /></g>
<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z" /></g>
<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z" /></g>
<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z" /></g>
<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" /></g>
<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z" /></g>
<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" /></g>
<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z" /></g>
<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z" /></g>
<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" /></g>
<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z" /></g>
<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" /></g>
<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" /></g>
<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" /></g>
<g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z" /></g>
<g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z" /></g>
<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" /></g>
<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" /></g>
<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z" /></g>
<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z" /></g>
<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z" /></g>
<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z" /></g>
<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z" /></g>
<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" /></g>
<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z" /></g>
<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" /></g>
<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z" /></g>
<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" /></g>
<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" /></g>
<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z" /></g>
<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z" /></g>
<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z" /></g>
<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></g>
<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z" /></g>
<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z" /></g>
<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" /></g>
<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" /></g>
<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z" /></g>
<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z" /></g>
<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z" /></g>
<g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z" /></g>
<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" /></g>
<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z" /></g>
<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z" /></g>
<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z" /></g>
<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z" /></g>
<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" /></g>
<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z" /></g>
<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z" /></g>
<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z" /></g>
<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z" /></g>
<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" /></g>
<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" /></g>
<g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z" /></g>
<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z" /></g>
<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z" /></g>
<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z" /></g>
<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" /></g>
<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" /></g>
<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /></g>
<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" /></g>
<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z" /></g>
<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z" /></g>
<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z" /></g>
<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z" /></g>
<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z" /></g>
<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" /></g>
<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z" /></g>
<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z" /></g>
<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z" /></g>
<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z" /></g>
<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z" /></g>
<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z" /></g>
<g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z" /></g>
<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z" /></g>
<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z" /></g>
<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" /></g>
<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" /></g>
<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" /></g>
<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z" /></g>
<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z" /></g>
<g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z" /></g>
<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z" /></g>
<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z" /></g>
<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" /></g>
<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></g>
<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z" /></g>
<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z" /></g>
<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z" /></g>
<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z" /></g>
<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z" /></g>
<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z" /></g>
<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z" /></g>
<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z" /></g>
<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z" /></g>
<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z" /></g>
<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z" /></g>
<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z" /></g>
<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z" /></g>
<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z" /></g>
<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z" /></g>
<g id="pets"><circle cx="4.5" cy="9.5" r="2.5" /><circle cx="9" cy="5.5" r="2.5" /><circle cx="15" cy="5.5" r="2.5" /><circle cx="19.5" cy="9.5" r="2.5" /><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z" /></g>
<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z" /></g>
<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z" /></g>
<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z" /></g>
<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z" /></g>
<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z" /></g>
<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z" /></g>
<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z" /></g>
<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z" /></g>
<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z" /></g>
<g id="record-voice-over"><circle cx="9" cy="9" r="4" /><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z" /></g>
<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z" /></g>
<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" /></g>
<g id="remove"><path d="M19 13H5v-2h14v2z" /></g>
<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z" /></g>
<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z" /></g>
<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z" /></g>
<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z" /></g>
<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z" /></g>
<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z" /></g>
<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z" /></g>
<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" /></g>
<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /></g>
<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" /></g>
<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" /></g>
<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" /></g>
<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z" /></g>
<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z" /></g>
<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z" /></g>
<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z" /></g>
<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z" /></g>
<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z" /></g>
<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z" /></g>
<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z" /></g>
<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z" /></g>
<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z" /></g>
<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z" /></g>
<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z" /></g>
<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z" /></g>
<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z" /></g>
<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z" /></g>
<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" /></g>
<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z" /></g>
<g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z" /></g>
<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z" /></g>
<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z" /></g>
<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z" /></g>
<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z" /></g>
<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z" /></g>
<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z" /></g>
<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z" /></g>
<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z" /></g>
<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z" /></g>
<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z" /></g>
<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z" /></g>
<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z" /></g>
<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z" /></g>
<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z" /></g>
<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z" /></g>
<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" /></g>
<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z" /></g>
<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z" /></g>
<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z" /></g>
<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /></g>
<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z" /></g>
<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z" /></g>
<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z" /></g>
<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z" /></g>
<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z" /></g>
<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z" /></g>
<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z" /></g>
<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z" /></g>
<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z" /></g>
<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" /></g>
<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z" /></g>
<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z" /></g>
<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z" /></g>
<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z" /></g>
<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z" /></g>
<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z" /></g>
<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z" /></g>
<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z" /></g>
<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z" /></g>
<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z" /></g>
<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z" /></g>
<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z" /></g>
<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z" /></g>
<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z" /></g>
<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z" /></g>
<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z" /></g>
<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z" /></g>
<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" /></g>
<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z" /></g>
<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></g>
<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z" /></g>
</defs></svg>
</iron-iconset-svg>






<script>//~~WEBPATH~~/iron-selector/iron-selection.html.js
Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};function Df(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}}
Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&Df(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(Df(this,this.get(),!1),Df(this,a,!0))},toggle:function(a){Df(this,a,!this.isSelected(a))}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-selectable.html.js
Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,
"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&"function"===typeof this._observer.flush?
this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(b){this._updateItems();this._updateSelected();this.fire("iron-items-changed",
b,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};
</script>




<dom-module id="iron-pages">

  <template>
    <style>
      :host {
        display: block;
      }

      :host > ::slotted(:not(slot):not(.iron-selected)) {
        display: none !important;
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/iron-pages/iron-pages.html.js
Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html.js
(function(){function a(q,r){var t="";if(q)if(q=q.toLowerCase()," "===q||n.test(q))t="space";else if(p.test(q))t="esc";else if(1==q.length){if(!r||h.test(q))t=q}else t=l.test(q)?q.replace("arrow",""):"multiply"==q?"*":q;return t}function b(q,r){var t=q.hasModifiers;if(r.key)t=a(r.key,t);else if(r.detail&&r.detail.key)t=a(r.detail.key,t);else{t=r.keyIdentifier;var v="";t&&(t in e?v=e[t]:k.test(t)?(t=parseInt(t.replace("U+","0x"),16),v=String.fromCharCode(t).toLowerCase()):v=t.toLowerCase());(t=v)||
(t=r.keyCode,v="",Number(t)&&(v=65<=t&&90>=t?String.fromCharCode(32+t):112<=t&&123>=t?"f"+(t-112+1):48<=t&&57>=t?String(t-48):96<=t&&105>=t?String(t-96):f[t]),t=v);t=t||""}return t===q.key&&(!q.hasModifiers||!!r.shiftKey===!!q.shiftKey&&!!r.ctrlKey===!!q.ctrlKey&&!!r.altKey===!!q.altKey&&!!r.metaKey===!!q.metaKey)}function c(q){return 1===q.length?{combo:q,key:q,event:"keydown"}:q.split("+").reduce(function(r,t){var v=t.split(":");t=v[0];v=v[1];t in g?(r[g[t]]=!0,r.hasModifiers=!0):(r.key=t,r.event=
v||"keydown");return r},{combo:q.split(":").shift()})}function d(q){return q.trim().split(" ").map(function(r){return c(r)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},g={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},h=/[a-z0-9*]/,k=/U\+/,l=/^arrow/,n=/^space(bar)?/,p=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(q,r){this._imperativeKeyBindings[q]=r;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(q,r){r=d(r);for(var t=0;t<r.length;++t)if(b(r[t],q))return!0;return!1},_collectKeyBindings:function(){var q=this.behaviors.map(function(r){return r.keyBindings});-1===q.indexOf(this.keyBindings)&&q.push(this.keyBindings);return q},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(t){for(var v in t)this._addKeyBinding(v,t[v])},this);for(var q in this._imperativeKeyBindings)this._addKeyBinding(q,this._imperativeKeyBindings[q]);for(var r in this._keyBindings)this._keyBindings[r].sort(function(t,v){t=t[0].hasModifiers;return t===v[0].hasModifiers?0:t?-1:1})},_addKeyBinding:function(q,r){d(q).forEach(function(t){this._keyBindings[t.event]=this._keyBindings[t.event]||[];this._keyBindings[t.event].push([t,
r])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(q){var r=this._onKeyBindingEvent.bind(this,this._keyBindings[q]);this._boundKeyHandlers.push([this.keyEventTarget,q,r]);this.keyEventTarget.addEventListener(q,r)},this)},_unlistenKeyEventListeners:function(){for(var q,r,t;this._boundKeyHandlers.length;)q=this._boundKeyHandlers.pop(),
r=q[0],t=q[1],q=q[2],r.removeEventListener(t,q)},_onKeyBindingEvent:function(q,r){this.stopKeyboardEventPropagation&&r.stopPropagation();if(!r.defaultPrevented)for(var t=0;t<q.length;t++){var v=q[t][0],u=q[t][1];if(b(v,r)&&(this._triggerKeyHandler(v,u,r),r.defaultPrevented))break}},_triggerKeyHandler:function(q,r,t){var v=Object.create(q);v.keyboardEvent=t;q=new CustomEvent(q.event,{detail:v,cancelable:!0});this[r].call(this,q);q.defaultPrevented&&t.preventDefault()}}})();
</script>



<script>//~~WEBPATH~~/iron-behaviors/iron-control-state.html.js
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",
this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");
this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
</script>


<script>//~~WEBPATH~~/iron-behaviors/iron-button-state.html.js
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a);a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==
a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||
(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):
this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
</script>








<dom-module id="paper-ripple">

  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-ripple/paper-ripple.html.js
(function(){function a(d){this.element=d;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(d){this.element=d;this.color=window.getComputedStyle(d).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(d,e,f,g){d-=f;e-=g;return Math.sqrt(d*d+e*e)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(d,e){var f=c.distance(d,e,0,0),g=c.distance(d,e,this.width,0),h=c.distance(d,e,0,this.height);d=c.distance(d,e,this.width,this.height);return Math.max(f,g,h,d)}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var d=c.now()-this.mouseDownStart;this.mouseUpStart&&(d-=this.mouseUpElapsed);return d},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var d=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(d*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-d/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var d=this.radius/
(this.containerMetrics.size/2);var e=this.xNow-this.containerMetrics.width/2;var f=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+e+"px, "+f+"px)";this.waveContainer.style.transform="translate3d("+e+"px, "+f+"px, 0)";this.wave.style.webkitTransform="scale("+d+","+d+")";this.wave.style.transform="scale3d("+d+","+d+",1)"},downAction:function(d){var e=this.containerMetrics.width/2,f=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=
c.now();this.center?(this.xStart=e,this.yStart=f,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=d?d.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=d?d.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=e,this.yEnd=f,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",
behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){var d=this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;this.listen(d,"up","uiUpAction");this.listen(d,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=
null},get shouldKeepAnimating(){for(var d=0;d<this.ripples.length;++d)if(!this.ripples[d].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(d){this.noink||this.downAction(d)},downAction:function(d){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(d),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(d){this.noink||this.upAction(d)},upAction:function(d){this.holdDown||
(this.ripples.forEach(function(e){e.upAction(d)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var d=new b(this);Polymer.dom(this.$.waves).appendChild(d.waveContainer);this.$.background.style.backgroundColor=d.color;this.ripples.push(d);this._setAnimating(!0);return d},removeRipple:function(d){var e=this.ripples.indexOf(d);0>e||(this.ripples.splice(e,1),d.remove(),
this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var d;for(d=0;d<this.ripples.length;++d){var e=this.ripples[d];e.draw();this.$.background.style.opacity=e.outerOpacity;e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},
_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(d,e){void 0!==e&&(d?this.downAction():this.upAction())}})})();
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-ripple-behavior.html.js
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=
Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-button-behavior.html.js
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
</script>




<custom-style>
  <style is="custom-style">
    html {

      --shadow-transition: {
        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      };

      --shadow-none: {
        box-shadow: none;
      };

      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

      --shadow-elevation-2dp: {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
      };

      --shadow-elevation-3dp: {
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-4dp: {
        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-6dp: {
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-8dp: {
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-12dp: {
        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-16dp: {
        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-24dp: {
        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);
      };
    }
  </style>
</custom-style>




<dom-module id="paper-material-styles">
  <template>
    <style>
      :host, html {
        --paper-material: {
          display: block;
          position: relative;
        };
        --paper-material-elevation-1: {
          @apply --shadow-elevation-2dp;
        };
        --paper-material-elevation-2: {
          @apply --shadow-elevation-4dp;
        };
        --paper-material-elevation-3: {
          @apply --shadow-elevation-6dp;
        };
        --paper-material-elevation-4: {
          @apply --shadow-elevation-8dp;
        };
        --paper-material-elevation-5: {
          @apply --shadow-elevation-16dp;
        };
      }
      :host(.paper-material), .paper-material {
        @apply --paper-material;
      }
      :host(.paper-material[elevation="1"]), .paper-material[elevation="1"] {
        @apply --paper-material-elevation-1;
      }
      :host(.paper-material[elevation="2"]), .paper-material[elevation="2"] {
        @apply --paper-material-elevation-2;
      }
      :host(.paper-material[elevation="3"]), .paper-material[elevation="3"] {
        @apply --paper-material-elevation-3;
      }
      :host(.paper-material[elevation="4"]), .paper-material[elevation="4"] {
        @apply --paper-material-elevation-4;
      }
      :host(.paper-material[elevation="5"]), .paper-material[elevation="5"] {
        @apply --paper-material-elevation-5;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-button">
  <template strip-whitespace>
    <style include="paper-material-styles">
      /* Need to specify the same specificity as the styles imported from paper-material. */
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;
        box-sizing: border-box;
        min-width: 5.14em;
        margin: 0 0.29em;
        background: transparent;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;
        font: inherit;
        text-transform: uppercase;
        outline-width: 0;
        border-radius: 3px;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 0.7em 0.57em;

        @apply --paper-font-common-base;
        @apply --paper-button;
      }

      :host([elevation="1"]) {
        @apply --paper-material-elevation-1;
      }

      :host([elevation="2"]) {
        @apply --paper-material-elevation-2;
      }

      :host([elevation="3"]) {
        @apply --paper-material-elevation-3;
      }

      :host([elevation="4"]) {
        @apply --paper-material-elevation-4;
      }

      :host([elevation="5"]) {
        @apply --paper-material-elevation-5;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([raised].keyboard-focus) {
        font-weight: bold;
        @apply --paper-button-raised-keyboard-focus;
      }

      :host(:not([raised]).keyboard-focus) {
        font-weight: bold;
        @apply --paper-button-flat-keyboard-focus;
      }

      :host([disabled]) {
        background: #eaeaea;
        color: #a8a8a8;
        cursor: auto;
        pointer-events: none;

        @apply --paper-button-disabled;
      }

      :host([animated]) {
        @apply --shadow-transition;
      }

      paper-ripple {
        color: var(--paper-button-ink-color);
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-button/paper-button.html.js
Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
</script>
</dom-module>





<script>//~~WEBPATH~~/neon-animation/neon-animatable-behavior.html.js
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,
b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,f=0;e=
d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(g.isClone||(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animation-runner-behavior.html.js
Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e=0;d=a[e];e++){var f=document.createElement(d.name);if(f.isNeonAnimation){var g=null;f.configure||(f.configure=function(){return null});g=f.configure(d);c.push({result:g,config:d})}else console.warn(this.is+":",d.name,"not found!")}for(a=0;a<c.length;a++){g=c[a].result;d=c[a].config;try{"function"!=typeof g.cancel&&(g=document.timeline.play(g))}catch(h){g=null,console.warn("Couldnt play",
"(",d.name,").",h)}g&&b.push({neonAnimation:f,config:d,animation:g})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if("finished"!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{};this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);
var d=this._configureAnimations(c);if(0==d.length)this.fire("neon-animation-finish",b,{bubbles:!1});else for(this._active[a]=d,c=0;c<d.length;c++)d[c].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire("neon-animation-finish",b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a],c;for(c in b)b[c].animation.cancel()}this._active={}}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
</script>





<script>//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&("center"!==this.horizontalAlign||"middle"!==this.verticalAlign)},attached:function(){"undefined"===typeof this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction);this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):
(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||
"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,
10)||0}}}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.__shouldPosition){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing=
"border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},a,b,c);b=e.left+d.left;e=e.top+d.top;var f=Math.min(c.right-d.right,b+a.width),g=Math.min(c.bottom-d.bottom,e+a.height);b=Math.max(c.left+d.left,Math.min(b,f-this._fitInfo.sizedBy.minWidth));
e=Math.max(c.top+d.top,Math.min(e,g-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=Math.max(f-b,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(g-e,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position=
"fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto);g="Width"===e?g.width:g.height;b=b===
d;var h="offset"+e;this.sizingTarget.style["max"+e]=g-f.margin[b?c:d]-(b?g-a[d]:a[c])-(this[h]-this.sizingTarget[h])+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+
"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,
b,c,d,e,f){var g=[{verticalAlign:"top",horizontalAlign:"left",top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];
if(this.noOverlap){for(var h=0,k=g.length;h<k;h++){var l={},n;for(n in g[h])l[n]=g[h][n];g.push(l)}g[0].top=g[1].top+=e.height;g[2].top=g[3].top-=e.height;g[4].left=g[6].left+=e.width;g[5].left=g[7].left-=e.width}b="auto"===b?null:b;a="auto"===a?null:a;a&&"center"!==a||(g.push({verticalAlign:"top",horizontalAlign:"center",top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),g.push({verticalAlign:"bottom",horizontalAlign:"center",top:e.bottom-
c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}));b&&"middle"!==b||(g.push({verticalAlign:"middle",horizontalAlign:"left",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),g.push({verticalAlign:"middle",horizontalAlign:"right",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));for(h=0;h<g.length;h++){d=
g[h];e=d.verticalAlign===b;k=d.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&e&&k){var p=d;break}l=(!b||e)&&(!a||k);if(this.dynamicAlign||l){d.offscreenArea=this.__getOffscreenArea(d,c,f);if(0===d.offscreenArea&&l){p=d;break}p=p||d;l=d.offscreenArea-p.offscreenArea;if(0>l||0===l&&(e||k))p=d}}return p}};
</script>







<dom-module id="iron-overlay-backdrop">

  <template>
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--iron-overlay-backdrop-background-color, #000);
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
        @apply --iron-overlay-backdrop;
      }

      :host(.opened) {
        opacity: var(--iron-overlay-backdrop-opacity, 0.6);
        pointer-events: auto;
        @apply --iron-overlay-backdrop-opened;
      }
    </style>

    <slot></slot>
  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-backdrop.html.js
Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
function Ef(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}
function Ff(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(Ef(a,Gf(a)),a._minimumZ);Ef(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{c=a._overlays.length;d=a._overlays[c-1];e=Math.max(Ef(a,d),a._minimumZ);var f=Ef(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(Ef(a,a._overlays[c-1]),a._minimumZ));
f<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}Hf(a)}function If(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),Hf(a))}function Hf(a){var b=Jf(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=Ef(a,b)-1,a.backdropElement.opened=!!b,a.backdropElement.prepare()}function Gf(a){return a._overlays[a._overlays.length-1]}function Jf(a){for(var b=a._overlays.length-1;0<=b;b--)if(a._overlays[b].withBackdrop)return a._overlays[b]}
function Kf(a,b){b=b||[];for(var c=0;c<b.length;c++)if(b[c]._manager===a)return b[c]}
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){var a=document.activeElement;a&&!1!==a instanceof Element||(a=document.body);for(;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?Ff(this,a):If(this,a)},ensureMinimumZ:function(a){this._minimumZ=
Math.max(this._minimumZ,a)},focusOverlay:function(){var a=Gf(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return Ef(this,Jf(this))-1},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c=Polymer.dom(a).path,d;(d=this._overlays[b])&&Kf(this,c)!==d;)if(d._onCaptureClick(a),d.allowClickThrough)b--;else break},_onCaptureFocus:function(a){var b=
Gf(this);b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=Gf(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(f){var g=this.currentLockingElement;if(void 0===g)return!1;if(this._hasCachedLockedElement(f))return!0;if(this._hasCachedUnlockedElement(f))return!1;(g=!!g&&g!==f&&!this._composedTreeContains(g,f))?this._lockedElementCache.push(f):this._unlockedElementCache.push(f);
return g},pushScrollLock:function(f){0<=this._lockingElements.indexOf(f)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(f),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(f){f=this._lockingElements.indexOf(f);-1!==f&&(this._lockingElements.splice(f,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(f){return-1<this._lockedElementCache.indexOf(f)},_hasCachedUnlockedElement:function(f){return-1<this._unlockedElementCache.indexOf(f)},_composedTreeContains:function(f,g){var h,k;if(f.contains(g))return!0;f=Polymer.dom(f).querySelectorAll("content,slot");for(h=0;h<f.length;++h){var l=Polymer.dom(f[h]).getDistributedNodes();for(k=0;k<l.length;++k)if(l[k].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(l[k],g))return!0}return!1},_scrollInteractionHandler:function(f){f.cancelable&&
this._shouldPreventScrolling(f)&&f.preventDefault();f.targetTouches&&(f=f.targetTouches[0],a=f.pageX,b=f.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var f=0,g=e.length;f<g;f++)document.addEventListener(e[f],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var f=0,g=e.length;f<g;f++)document.removeEventListener(e[f],this._boundScrollHandler,{capture:!0,passive:!1})},
_shouldPreventScrolling:function(f){var g=Polymer.dom(f).rootTarget;"touchmove"!==f.type&&c!==g&&(c=g,d=this._getScrollableNodes(Polymer.dom(f).path));if(!d.length)return!0;if("touchstart"===f.type)return!1;f=this._getScrollInfo(f);return!this._getScrollingNode(d,f.deltaX,f.deltaY)},_getScrollableNodes:function(f){for(var g=[],h=f.indexOf(this.currentLockingElement),k=0;k<=h;k++)if(f[k].nodeType===Node.ELEMENT_NODE){var l=f[k],n=l.style;"scroll"!==n.overflow&&"auto"!==n.overflow&&(n=window.getComputedStyle(l));
"scroll"!==n.overflow&&"auto"!==n.overflow||g.push(l)}return g},_getScrollingNode:function(f,g,h){if(g||h)for(var k=Math.abs(h)>=Math.abs(g),l=0;l<f.length;l++){var n=f[l];if(k?0>h?0<n.scrollTop:n.scrollTop<n.scrollHeight-n.clientHeight:0>g?0<n.scrollLeft:n.scrollLeft<n.scrollWidth-n.clientWidth)return n}},_getScrollInfo:function(f){var g={deltaX:f.deltaX,deltaY:f.deltaY};"deltaX"in f||("wheelDeltaX"in f&&"wheelDeltaY"in f?(g.deltaX=-f.wheelDeltaX,g.deltaY=-f.wheelDeltaY):"wheelDelta"in f?(g.deltaX=
0,g.deltaY=-f.wheelDelta):"axis"in f?(g.deltaX=1===f.axis?f.detail:0,g.deltaY=2===f.axis?f.detail:0):f.targetTouches&&(f=f.targetTouches[0],g.deltaX=a-f.pageX,g.deltaY=b-f.pageY));return g}}})();
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-focusables-helper.html.js
(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(c){var d=[];return this._collectTabbableNodes(c,d)?this._sortByTabIndex(d):d},isFocusable:function(c){return b.call(c,"input, select, textarea, button, object")?b.call(c,":not([disabled])"):b.call(c,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(c){return this.isFocusable(c)&&
b.call(c,':not([tabindex\x3d"-1"])')&&this._isVisible(c)},_normalizedTabIndex:function(c){return this.isFocusable(c)?(c=c.getAttribute("tabindex")||0,Number(c)):-1},_collectTabbableNodes:function(c,d){if(c.nodeType!==Node.ELEMENT_NODE||!this._isVisible(c))return!1;var e=this._normalizedTabIndex(c),f=0<e;0<=e&&d.push(c);c="content"===c.localName||"slot"===c.localName?Polymer.dom(c).getDistributedNodes():Polymer.dom(c.root||c).children;for(e=0;e<c.length;e++)f=this._collectTabbableNodes(c[e],d)||f;
return f},_isVisible:function(c){var d=c.style;return"hidden"!==d.visibility&&"none"!==d.display?(d=window.getComputedStyle(c),"hidden"!==d.visibility&&"none"!==d.display):!1},_sortByTabIndex:function(c){var d=c.length;if(2>d)return c;var e=Math.ceil(d/2);d=this._sortByTabIndex(c.slice(0,e));c=this._sortByTabIndex(c.slice(e));return this._mergeSortByTabIndex(d,c)},_mergeSortByTabIndex:function(c,d){for(var e=[];0<c.length&&0<d.length;)this._hasLowerTabOrder(c[0],d[0])?e.push(d.shift()):e.push(c.shift());
return e.concat(c,d)},_hasLowerTabOrder:function(c,d){c=Math.max(c.tabIndex,0);d=Math.max(d.tabIndex,0);return 0===c||0===d?d>c:c>d}}})();
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-behavior.html.js
Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},
scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=
this.__isAnimating=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__scrollTop=this.__scrollLeft=this.__restoreFocusNode=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var a in this.__rafs)null!==
this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={};If(this._manager,this);this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=
!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=
this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Hf(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===
this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=
this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur();this._focusedChild=null;if(this.restoreFocusOnClose&&
this.__restoreFocusNode){var a=this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;(a=Gf(this._manager))&&this!==a&&a._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||
this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&
(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),Ff(this._manager,this),this._applyFocus(),this._renderOpened()):(If(this._manager,this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]);
c[a]=requestAnimationFrame(function(){c[a]=null;b.call(this)}.bind(this))},__updateScrollObservers:function(a,b,c){a&&b&&this.__isValidScrollAction(c)?("lock"===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&
a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(b){b.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this);this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(a){return"lock"===a||"refit"===
a||"cancel"===a},__onCaptureScroll:function(a){if(!(this.__isAnimating||0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case "lock":this.__restoreScrollPosition();break;case "refit":this.__deraf("refit",this.refit);break;case "cancel":this.cancel(a)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),
this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-dialog-behavior/paper-dialog-behavior.html.js
Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,
this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b=Polymer.dom(a).path,
c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];
</script>






<custom-style>
  <style is="custom-style">
    html {

      /* Material Design color palette for Google products */

      --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      /* Material Design color palette from online spec document */

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      /* opacity for dark text on a light background */
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; /* or hint text or icon */
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      /* opacity for light text on a dark background */
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; /* or hint text or icon */
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;

    }

  </style>
</custom-style>




<custom-style>
  <style is="custom-style">
    html {
      /*
       * You can use these generic variables in your elements for easy theming.
       * For example, if all your elements use `--primary-text-color` as its main
       * color, then switching from a light to a dark theme is just a matter of
       * changing the value of `--primary-text-color` in your application.
       */
      --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      /*
       * Primary and accent colors. Also see color.html for more colors.
       */
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      /*
       * Material Design Light background theme
       */
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  /* for secondary text and icons */
      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
      --light-theme-divider-color: #dbdbdb;

      /*
       * Material Design Dark background theme
       */
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
      --dark-theme-disabled-color: #646464;  /* disabled/hint text */
      --dark-theme-divider-color: #3c3c3c;

      /*
       * Deprecated values because of their confusing names.
       */
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
    }
  </style>
</custom-style>


<style>
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/uYECMKoHcO9x1wdmbyHIm3-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/sTdaA6j0Psb920Vjv-mrzH-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/_VYFx-s824kXq_Ul2BHqYH-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/tnj4SB6DNbdaQnsM8CFqBX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/oMMgfZMQthOryQo9n22dcuvvDin1pK8aKteLpeZ5c0A.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/Ks_cVxiCiwUWVsFWFA3Bjn-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/NJ4vxlgWwWbEsv18dAhqnn-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/isZ-wbCXNKAbnjo6_TwHToX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/77FXFjRbGzN4aCrSFhlh3oX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/jSN2CGVDbcVyCnfJfjSdfIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/UX6i4JxQDm3fVTc1CPuwqoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/d-6IYplOFocCacKzxwXSOJBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/97uahxiqZRoncBaCEI3aW4X0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/PwZc-YbIL414wB9rB1IAPYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcCwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/OpXUqTo0UgQQhGj_SFdLWBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/WxrXJa0C3KdtC7lMafG4dRkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/cDKhRaXnQTOVbaoxwdOr9xkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/1hZf02POANh32k2VkgEoUBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/vPcynSL0qHq_6dX7lKVByXYhjbSpvc47ee6xR_80Hnw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/vSzulfKSK0LLjjfeaxcREhkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/K23cxWVTrIFD6DJsEVi07RkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Fl4y0QdOxyyTHEGMXX8kcYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/0eC6fl06luXEYWpBSJvXCIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/I3S1wsgSg9YCurV6PUkTOYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/-L14Jk06m6pUHB-5mXQQnYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Hgo13k-tfSpn0qi1SFdUfZBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Pru33qjShpZSmG3z6VYwnYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/NYDWBdD4gIq26G5XYbHsFIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0atwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/oHi30kwQWvpCWqAhzHcCSIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/ZLqKeelYbATG60EpZBSDy4X0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/mx9Uck6uB63VIKFYnEMXrYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/rGvHdJnr2l75qb0YND9NyIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/RxZJdnzeo3R5zSexge8UUZBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/oOeFwZNlrTefzLYmlVV1UIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/mbmhprMH69Zi6eEPBYVFhYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0V4sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0fZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0Qt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0VBW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0Ygp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0aE8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0dDiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpYwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz1x-M1I1w5OMiqnVF8xBLhU.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59FzwXaAXup5mZlfK6xRLrhsco.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fzwn6Wqxo-xwxilDXPU8chVU.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz1T7aJLK6nKpn36IMwTcMMc.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz_79_ZuUxCigM2DespTnFaw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz4gd9OEPUCN3AdYW0e8tat4.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz8bIQSYZnWLaWC9QNCpTK_U.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
</style>



<custom-style>
  <style is="custom-style">
    html {

      /* Shared Styles */
      --paper-font-common-base: {
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-code: {
        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-expensive-kerning: {
        text-rendering: optimizeLegibility;
      };

      --paper-font-common-nowrap: {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      };

      /* Material Font Styles */

      --paper-font-display4: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 112px;
        font-weight: 300;
        letter-spacing: -.044em;
        line-height: 120px;
      };

      --paper-font-display3: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 56px;
        font-weight: 400;
        letter-spacing: -.026em;
        line-height: 60px;
      };

      --paper-font-display2: {
        @apply --paper-font-common-base;

        font-size: 45px;
        font-weight: 400;
        letter-spacing: -.018em;
        line-height: 48px;
      };

      --paper-font-display1: {
        @apply --paper-font-common-base;

        font-size: 34px;
        font-weight: 400;
        letter-spacing: -.01em;
        line-height: 40px;
      };

      --paper-font-headline: {
        @apply --paper-font-common-base;

        font-size: 24px;
        font-weight: 400;
        letter-spacing: -.012em;
        line-height: 32px;
      };

      --paper-font-title: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 20px;
        font-weight: 500;
        line-height: 28px;
      };

      --paper-font-subhead: {
        @apply --paper-font-common-base;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
      };

      --paper-font-body2: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-body1: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
      };

      --paper-font-caption: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
      };

      --paper-font-menu: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 13px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-button: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.018em;
        line-height: 24px;
        text-transform: uppercase;
      };

      --paper-font-code2: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
      };

      --paper-font-code1: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 500;
        line-height: 20px;
      };

    }

  </style>
</custom-style>





<dom-module id="paper-dialog-shared-styles">
  <template>
    <style>
      :host {
        display: block;
        margin: 24px 40px;

        background: var(--paper-dialog-background-color, --primary-background-color);
        color: var(--paper-dialog-color, --primary-text-color);

        @apply(--paper-font-body1);
        @apply(--shadow-elevation-16dp);
        @apply(--paper-dialog);
      }

      :host > ::content > * {
        margin-top: 20px;
        padding: 0 24px;
      }

      :host > ::content > .no-padding {
        padding: 0;
      }

      :host > ::content > *:first-child {
        margin-top: 24px;
      }

      :host > ::content > *:last-child {
        margin-bottom: 24px;
      }

      :host > ::content h2 {
        position: relative;
        margin: 0;
        @apply(--paper-font-title);

        @apply(--paper-dialog-title);
      }

      :host > ::content .buttons {
        position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;

        color: var(--paper-dialog-button-color, --primary-color);

        @apply(--layout-horizontal);
        @apply(--layout-end-justified);
      }
    </style>
  </template>
</dom-module>



<dom-module id="paper-dialog">
  <template>
    <style include="paper-dialog-shared-styles"></style>
    <slot></slot>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-dialog/paper-dialog.html.js
Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});
</script>










<script>//~~WEBPATH~~/iron-validatable-behavior/iron-validatable-behavior.html.js
Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};
</script>



<script>//~~WEBPATH~~/iron-form-element-behavior/iron-form-element-behavior.html.js
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
</script>


<script>//~~WEBPATH~~/iron-checked-element-behavior/iron-checked-element-behavior.html.js
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
</script>





<script>//~~WEBPATH~~/paper-behaviors/paper-inky-focus-behavior.html.js
Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-checked-element-behavior.html.js
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
</script>




<dom-module id="paper-toggle-button">
  <template strip-whitespace>

    <style>
      :host {
        display: inline-block;
        @apply(--layout-horizontal);
        @apply(--layout-center);
        @apply(--paper-font-common-base);
      }

      :host([disabled]) {
        pointer-events: none;
      }

      :host(:focus) {
        outline:none;
      }

      .toggle-bar {
        position: absolute;
        height: 100%;
        width: 100%;
        border-radius: 8px;
        pointer-events: none;
        opacity: 0.4;
        transition: background-color linear .08s;
        background-color: var(--paper-toggle-button-unchecked-bar-color, #000000);

        @apply(--paper-toggle-button-unchecked-bar);
      }

      .toggle-button {
        position: absolute;
        top: -3px;
        left: 0;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.6);
        transition: -webkit-transform linear .08s, background-color linear .08s;
        transition: transform linear .08s, background-color linear .08s;
        will-change: transform;
        background-color: var(--paper-toggle-button-unchecked-button-color, --paper-grey-50);

        @apply(--paper-toggle-button-unchecked-button);
      }

      .toggle-button.dragging {
        -webkit-transition: none;
        transition: none;
      }

      :host([checked]:not([disabled])) .toggle-bar {
        opacity: 0.5;
        background-color: var(--paper-toggle-button-checked-bar-color, --primary-color);

        @apply(--paper-toggle-button-checked-bar);
      }

      :host([disabled]) .toggle-bar {
        background-color: #000;
        opacity: 0.12;
      }

      :host([checked]) .toggle-button {
        -webkit-transform: translate(16px, 0);
        transform: translate(16px, 0);
      }

      :host([checked]:not([disabled])) .toggle-button {
        background-color: var(--paper-toggle-button-checked-button-color, --primary-color);

        @apply(--paper-toggle-button-checked-button);
      }

      :host([disabled]) .toggle-button {
        background-color: #bdbdbd;
        opacity: 1;
      }

      .toggle-ink {
        position: absolute;
        top: -14px;
        left: -14px;
        right: auto;
        bottom: auto;
        width: 48px;
        height: 48px;
        opacity: 0.5;
        pointer-events: none;
        color: var(--paper-toggle-button-unchecked-ink-color, --primary-text-color);

        @apply(--paper-toggle-button-unchecked-ink);
      }

      :host([checked]) .toggle-ink {
        color: var(--paper-toggle-button-checked-ink-color, --primary-color);

        @apply(--paper-toggle-button-checked-ink);
      }

      .toggle-container {
        display: inline-block;
        position: relative;
        width: 36px;
        height: 14px;
        /* The toggle button has an absolute position of -3px; The extra 1px
        /* accounts for the toggle button shadow box. */
        margin: 4px 1px;
      }

      .toggle-label {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: var(--paper-toggle-button-label-spacing, 8px);
        pointer-events: none;
        color: var(--paper-toggle-button-label-color, --primary-text-color);
      }

      /* invalid state */
      :host([invalid]) .toggle-bar {
        background-color: var(--paper-toggle-button-invalid-bar-color, --error-color);
      }

      :host([invalid]) .toggle-button {
        background-color: var(--paper-toggle-button-invalid-button-color, --error-color);
      }

      :host([invalid]) .toggle-ink {
        color: var(--paper-toggle-button-invalid-ink-color, --error-color);
      }
    </style>

    <div class="toggle-container">
      <div id="toggleBar" class="toggle-bar"></div>
      <div id="toggleButton" class="toggle-button"></div>
    </div>

    <div class="toggle-label"><content></content></div>

  </template>

  <script>//~~WEBPATH~~/paper-toggle-button/paper-toggle-button.html.js
Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{},listeners:{track:"_ontrack"},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this.setScrollDirection("y")})},_ontrack:function(a){a=a.detail;"start"===a.state?this._trackStart(a):"track"===a.state?this._trackMove(a):"end"===a.state&&this._trackEnd(a)},_trackStart:function(){this._width=this.$.toggleBar.offsetWidth/
2;this._trackChecked=this.checked;this.$.toggleButton.classList.add("dragging")},_trackMove:function(a){a=a.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+a:a));this.translate3d(this._x+"px",0,0,this.$.toggleButton);this._userActivate(this._x>this._width/2)},_trackEnd:function(){this.$.toggleButton.classList.remove("dragging");this.transform("",this.$.toggleButton)},_createRipple:function(){this._rippleContainer=this.$.toggleButton;var a=Polymer.PaperRippleBehavior._createRipple();
a.id="ink";a.setAttribute("recenters","");a.classList.add("circle","toggle-ink");return a}});
</script>
</dom-module>















<dom-module id="iron-a11y-announcer">
  <template>
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
  </template>

  <script>//~~WEBPATH~~/iron-a11y-announcer/iron-a11y-announcer.html.js
Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};
</script>
</dom-module>



<script>//~~WEBPATH~~/iron-input/iron-input.html.js
Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=
this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(a){var b=this.disabled;this.disabled=!1;a=this._origDispatchEvent(a);this.disabled=b;return a},get _patternRegExp(){if(this.allowedPattern)var a=
new RegExp(this.allowedPattern);else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:"");this.fire("bind-value-changed",{value:this.bindValue})},_allowedPatternChanged:function(){this.preventInvalidInput=this.allowedPattern?!0:!1},_onInput:function(){!this.preventInvalidInput||this._patternAlreadyChecked||this._checkPatternValidity()||
(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput);this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.preventInvalidInput||
"number"===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){var a=this.checkValidity();a&&(this.required&&
""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-behavior.html.js
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){this.$||(this.$={});this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId));return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},
attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a?a+" "+b:b},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,
b)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},
updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&
""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-addon-behavior.html.js
Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};
</script>




<dom-module id="paper-input-char-counter">
  <template>
    <style>
      :host {
        display: inline-block;
        float: right;

        @apply(--paper-font-caption);
        @apply(--paper-input-char-counter);
      }

      :host([hidden]) {
        display: none !important;
      }

      :host-context([dir="rtl"]) {
        float: left;
      }
    </style>

    <span>[[_charCounterStr]]</span>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-char-counter.html.js
Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});
</script>








<dom-module id="paper-input-container">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        @apply(--paper-input-container);
      }

      :host([inline]) {
        display: inline-block;
      }

      :host([disabled]) {
        pointer-events: none;
        opacity: 0.33;

        @apply(--paper-input-container-disabled);
      }

      :host([hidden]) {
        display: none !important;
      }

      .floated-label-placeholder {
        @apply(--paper-font-caption);
      }

      .underline {
        height: 2px;
        position: relative;
      }

      .focused-line {
        @apply(--layout-fit);

        border-bottom: 2px solid var(--paper-input-container-focus-color, --primary-color);

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);

        @apply(--paper-input-container-underline-focus);
      }

      .underline.is-highlighted .focused-line {
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply(--paper-transition-easing);
      }

      .underline.is-invalid .focused-line {
        border-color: var(--paper-input-container-invalid-color, --error-color);
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply(--paper-transition-easing);
      }

      .unfocused-line {
        @apply(--layout-fit);

        border-bottom: 1px solid var(--paper-input-container-color, --secondary-text-color);

        @apply(--paper-input-container-underline);
      }

      :host([disabled]) .unfocused-line {
        border-bottom: 1px dashed;
        border-color: var(--paper-input-container-color, --secondary-text-color);

        @apply(--paper-input-container-underline-disabled);
      }

      .label-and-input-container {
        @apply(--layout-flex-auto);
        @apply(--layout-relative);

        width: 100%;
        max-width: 100%;
      }

      .input-content {
        @apply(--layout-horizontal);
        @apply(--layout-center);

        position: relative;
      }

      .input-content ::content label,
      .input-content ::content .paper-input-label {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: var(--paper-input-container-color, --secondary-text-color);
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply(--paper-font-common-nowrap);
        @apply(--paper-font-subhead);
        @apply(--paper-input-container-label);
        @apply(--paper-transition-easing);
      }

      .input-content.label-is-floating ::content label,
      .input-content.label-is-floating ::content .paper-input-label {
        -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        /* Since we scale to 75/100 of the size, we actually have 100/75 of the
        original space now available */
        width: 133%;

        @apply(--paper-input-container-label-floating);
      }

      :host-context([dir="rtl"]) .input-content.label-is-floating ::content label,
      :host-context([dir="rtl"]) .input-content.label-is-floating ::content .paper-input-label {
        /* TODO(noms): Figure out why leaving the width at 133% before the animation
         * actually makes
         * it wider on the right side, not left side, as you would expect in RTL */
        width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
      }

      .input-content.label-is-highlighted ::content label,
      .input-content.label-is-highlighted ::content .paper-input-label {
        color: var(--paper-input-container-focus-color, --primary-color);

        @apply(--paper-input-container-label-focus);
      }

      .input-content.is-invalid ::content label,
      .input-content.is-invalid ::content .paper-input-label {
        color: var(--paper-input-container-invalid-color, --error-color);
      }

      .input-content.label-is-hidden ::content label,
      .input-content.label-is-hidden ::content .paper-input-label {
        visibility: hidden;
      }

      .input-content ::content input,
      .input-content ::content textarea,
      .input-content ::content iron-autogrow-textarea,
      .input-content ::content .paper-input-input {
        position: relative; /* to make a stacking context */
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: var(--paper-input-container-input-color, --primary-text-color);
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;

        @apply(--paper-font-subhead);
        @apply(--paper-input-container-input);
      }

      .input-content.focused ::content input,
      .input-content.focused ::content textarea,
      .input-content.focused ::content iron-autogrow-textarea,
      .input-content.focused ::content .paper-input-input {
        @apply(--paper-input-container-input-focus);
      }

      .input-content.is-invalid ::content input,
      .input-content.is-invalid ::content textarea,
      .input-content.is-invalid ::content iron-autogrow-textarea,
      .input-content.is-invalid ::content .paper-input-input {
        @apply(--paper-input-container-input-invalid);
      }

      .input-content ::content input::-webkit-outer-spin-button,
      .input-content ::content input::-webkit-inner-spin-button {
        @apply(--paper-input-container-input-webkit-spinner);
      }

      ::content [prefix] {
        @apply(--paper-font-subhead);

        @apply(--paper-input-prefix);
        @apply(--layout-flex-none);
      }

      ::content [suffix] {
        @apply(--paper-font-subhead);

        @apply(--paper-input-suffix);
        @apply(--layout-flex-none);
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-content ::content input {
        min-width: 0;
      }

      .input-content ::content textarea {
        resize: none;
      }

      .add-on-content {
        position: relative;
      }

      .add-on-content.is-invalid ::content * {
        color: var(--paper-input-container-invalid-color, --error-color);
      }

      .add-on-content.is-highlighted ::content * {
        color: var(--paper-input-container-focus-color, --primary-color);
      }
    </style>

    <template is="dom-if" if="[[!noLabelFloat]]">
      <div class="floated-label-placeholder" aria-hidden="true">&nbsp;</div>
    </template>

    <div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]">
      <content select="[prefix]" id="prefix"></content>

      <div class="label-and-input-container" id="labelAndInputContainer">
        <content select=":not([add-on]):not([prefix]):not([suffix])"></content>
      </div>

      <content select="[suffix]"></content>
    </div>

    <div class$="[[_computeUnderlineClass(focused,invalid)]]">
      <div class="unfocused-line"></div>
      <div class="focused-line"></div>
    </div>

    <div class$="[[_computeAddOnContentClass(focused,invalid)]]">
      <content id="addOnContent" select="[add-on]"></content>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-container.html.js
Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?(e&&(f+=" label-is-hidden"),d&&(f+=" is-invalid")):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):(a&&(this.$.labelAndInputContainer.style.position="relative"),d&&(f+=" is-invalid")));c&&(f+=" focused");return f},_computeUnderlineClass:function(a,
b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});
</script>








<dom-module id="paper-input-error">
  <template>
    <style>
      :host {
        display: inline-block;
        visibility: hidden;

        color: var(--paper-input-container-invalid-color, --error-color);

        @apply(--paper-font-caption);
        @apply(--paper-input-error);
        position: absolute;
        left:0;
        right:0;
      }

      :host([invalid]) {
        visibility: visible;
      };
    </style>

    <content></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-error.html.js
Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
</script>




<dom-module id="paper-input">
  <template>
    <style>
      :host {
        display: block;
      }

      :host([focused]) {
        outline: none;
      }

      :host([hidden]) {
        display: none !important;
      }

      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        @apply(--paper-input-container-input-webkit-spinner);
      }

      input::-webkit-clear-button {
        @apply(--paper-input-container-input-webkit-clear);
      }

      input::-webkit-input-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input:-moz-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input::-moz-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input::-ms-clear {
        @apply(--paper-input-container-ms-clear);
      }

      input::-webkit-calendar-picker-indicator {
        @apply --paper-input-container-input-webkit-calendar-picker-indicator;
      }

      input:-ms-input-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      label {
        pointer-events: none;
      }
    </style>

    <paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <content select="[prefix]"></content>

      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]">[[label]]</label>

      <input is="iron-input" id$="[[_inputId]]" class="input-element" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabindex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">

      <content select="[suffix]"></content>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error aria-live="assertive">[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter></paper-input-char-counter>
      </template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input.html.js
Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});
</script>













<script>//~~WEBPATH~~/neon-animation/neon-animation-behavior.html.js
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d=
{transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},complete:function(){}};
</script>




<script>//~~WEBPATH~~/neon-animation/animations/opaque-animation.html.js
Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a));b.style.opacity="0";return this._effect},complete:function(a){a.node.style.opacity=""}});
</script>



<script>//~~WEBPATH~~/iron-dropdown/iron-dropdown-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(f){var g=this.currentLockingElement;if(void 0===g)return!1;if(this._hasCachedLockedElement(f))return!0;if(this._hasCachedUnlockedElement(f))return!1;(g=!!g&&g!==f&&!this._composedTreeContains(g,f))?this._lockedElementCache.push(f):this._unlockedElementCache.push(f);
return g},pushScrollLock:function(f){0<=this._lockingElements.indexOf(f)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(f),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(f){f=this._lockingElements.indexOf(f);-1!==f&&(this._lockingElements.splice(f,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(f){return-1<this._lockedElementCache.indexOf(f)},_hasCachedUnlockedElement:function(f){return-1<this._unlockedElementCache.indexOf(f)},_composedTreeContains:function(f,g){var h,k;if(f.contains(g))return!0;f=Polymer.dom(f).querySelectorAll("content");for(h=0;h<f.length;++h){var l=Polymer.dom(f[h]).getDistributedNodes();for(k=0;k<l.length;++k)if(this._composedTreeContains(l[k],g))return!0}return!1},_scrollInteractionHandler:function(f){f.cancelable&&
this._shouldPreventScrolling(f)&&f.preventDefault();f.targetTouches&&(f=f.targetTouches[0],a=f.pageX,b=f.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var f=0,g=e.length;f<g;f++)document.addEventListener(e[f],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var f=0,g=e.length;f<g;f++)document.removeEventListener(e[f],this._boundScrollHandler,{capture:!0,passive:!1})},
_shouldPreventScrolling:function(f){var g=Polymer.dom(f).rootTarget;"touchmove"!==f.type&&c!==g&&(c=g,d=this._getScrollableNodes(Polymer.dom(f).path));if(!d.length)return!0;if("touchstart"===f.type)return!1;f=this._getScrollInfo(f);return!this._getScrollingNode(d,f.deltaX,f.deltaY)},_getScrollableNodes:function(f){for(var g=[],h=f.indexOf(this.currentLockingElement),k=0;k<=h;k++)if(f[k].nodeType===Node.ELEMENT_NODE){var l=f[k],n=l.style;"scroll"!==n.overflow&&"auto"!==n.overflow&&(n=window.getComputedStyle(l));
"scroll"!==n.overflow&&"auto"!==n.overflow||g.push(l)}return g},_getScrollingNode:function(f,g,h){if(g||h)for(var k=Math.abs(h)>=Math.abs(g),l=0;l<f.length;l++){var n=f[l];if(k?0>h?0<n.scrollTop:n.scrollTop<n.scrollHeight-n.clientHeight:0>g?0<n.scrollLeft:n.scrollLeft<n.scrollWidth-n.clientWidth)return n}},_getScrollInfo:function(f){var g={deltaX:f.deltaX,deltaY:f.deltaY};"deltaX"in f||("wheelDeltaX"in f?(g.deltaX=-f.wheelDeltaX,g.deltaY=-f.wheelDeltaY):"axis"in f?(g.deltaX=1===f.axis?f.detail:0,
g.deltaY=2===f.axis?f.detail:0):f.targetTouches&&(f=f.targetTouches[0],g.deltaX=a-f.pageX,g.deltaY=b-f.pageY));return g}}})();
</script>




<dom-module id="iron-dropdown">
  <template>
    <style>
      :host {
        position: fixed;
      }

      #contentWrapper ::content > * {
        overflow: auto;
      }

      #contentWrapper.animating ::content > * {
        overflow: hidden;
      }
    </style>

    <div id="contentWrapper">
      <content id="content" select=".dropdown-content"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/iron-dropdown/iron-dropdown.html.js
Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});
</script>
</dom-module>






<script>//~~WEBPATH~~/neon-animation/animations/fade-in-animation.html.js
Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});
</script>






<script>//~~WEBPATH~~/neon-animation/animations/fade-out-animation.html.js
Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});
</script>







<script>//~~WEBPATH~~/paper-menu-button/paper-menu-button-animations.html.js
Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});
</script>






<dom-module id="paper-menu-button">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;

        @apply(--paper-menu-button);
      }

      :host([disabled]) {
        cursor: auto;
        color: var(--disabled-text-color);

        @apply(--paper-menu-button-disabled);
      }

      iron-dropdown {
        @apply(--paper-menu-button-dropdown);
      }

      .dropdown-content {
        @apply(--shadow-elevation-2dp);

        position: relative;
        border-radius: 2px;
        background-color: var(--paper-menu-button-dropdown-background, --primary-background-color);

        @apply(--paper-menu-button-content);
      }

      :host([vertical-align="top"]) .dropdown-content {
        margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
      }

      :host([vertical-align="bottom"]) .dropdown-content {
        bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
      }
      
      #trigger {
        cursor: pointer;
      }
    </style>

    <div id="trigger" on-tap="toggle">
      <content select=".dropdown-trigger"></content>
    </div>

    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled">
      <div class="dropdown-content">
        <content id="content" select=".dropdown-content"></content>
      </div>
    </iron-dropdown>
  </template>

  <script>//~~WEBPATH~~/paper-menu-button/paper-menu-button.html.js
function Lf(){}m=Lf.prototype;m.registered=function(){};m.addOwnKeyBinding=function(){};m.removeOwnKeyBindings=function(){};m.keyboardEventMatchesKeys=function(){};m._collectKeyBindings=function(){};m._prepKeyBindings=function(){};m._addKeyBinding=function(){};m._resetKeyEventListeners=function(){};m._listenKeyEventListeners=function(){};m._unlistenKeyEventListeners=function(){};m._onKeyBindingEvent=function(){};m._triggerKeyHandler=function(){};
m._focusBlurHandler=function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};m._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};m._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Lf=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(b,c){b?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(b){Polymer.IronControlState._disabledChanged.apply(this,arguments);b&&this.opened&&this.close()},__onIronOverlayCanceled:function(b){var c=b.detail;Polymer.dom(c);var d=this.$.trigger;-1<Polymer.dom(c).path.indexOf(d)&&b.preventDefault()}});Object.keys(a).forEach(function(b){Lf[b]=a[b]});Polymer.PaperMenuButton=Lf})();
</script>
</dom-module>






<iron-iconset-svg name="paper-dropdown-menu" size="24">
<svg><defs>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
</defs></svg>
</iron-iconset-svg>



<dom-module id="paper-dropdown-menu-shared-styles">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        text-align: left;

        /* NOTE(cdata): Both values are needed, since some phones require the
         * value to be `transparent`.
         */
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;

        --paper-input-container-input: {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
        };

        @apply(--paper-dropdown-menu);
      }

      :host([disabled]) {
        @apply(--paper-dropdown-menu-disabled);
      }

      :host([noink]) paper-ripple {
        display: none;
      }

      :host([no-label-float]) paper-ripple {
        top: 8px;
      }

      paper-ripple {
        top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;

        @apply(--paper-dropdown-menu-ripple);
      }

      paper-menu-button {
        display: block;
        padding: 0;

        @apply(--paper-dropdown-menu-button);
      }

      paper-input {
        @apply(--paper-dropdown-menu-input);
      }

      iron-icon {
        color: var(--disabled-text-color);

        @apply(--paper-dropdown-menu-icon);
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-dropdown-menu">
  <template>
    <style include="paper-dropdown-menu-shared-styles"></style>

    
    <span role="button"></span>
    <paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]">
      <div class="dropdown-trigger">
        <paper-ripple></paper-ripple>
        
        <paper-input type="text" invalid="[[invalid]]" readonly disabled="[[disabled]]" value="[[selectedItemLabel]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]">
          <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix></iron-icon>
        </paper-input>
      </div>
      <content id="content" select=".dropdown-content"></content>
    </paper-menu-button>
  </template>

  <script>//~~WEBPATH~~/paper-dropdown-menu/paper-dropdown-menu.html.js
Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;
a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():
"";this._setValue(a);this._setSelectedItemLabel(a)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});
</script>
</dom-module>








<dom-module id="paper-icon-button">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        /* Because of polymer/2558, this style has lower specificity than * */
        box-sizing: border-box !important;

        @apply --paper-icon-button;
      }

      :host #ink {
        color: var(--paper-icon-button-ink-color, var(--primary-text-color));
        opacity: 0.6;
      }

      :host([disabled]) {
        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));
        pointer-events: none;
        cursor: auto;

        @apply --paper-icon-button-disabled;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:hover) {
        @apply --paper-icon-button-hover;
      }

      iron-icon {
        --iron-icon-width: 100%;
        --iron-icon-height: 100%;
      }
    </style>

    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon>
  </template>

  <script>//~~WEBPATH~~/paper-icon-button/paper-icon-button.html.js
Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});
</script>
</dom-module>










<script>//~~WEBPATH~~/paper-item/paper-item-behavior.html.js
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
</script>






<dom-module id="paper-item-shared-styles">
  <template>
    <style>
      :host, .paper-item {
        display: block;
        position: relative;
        min-height: var(--paper-item-min-height, 48px);
        padding: 0px 16px;
      }

      .paper-item {
        @apply --paper-font-subhead;
        border:none;
        outline: none;
        background: white;
        width: 100%;
        text-align: left;
      }

      :host([hidden]), .paper-item[hidden] {
        display: none !important;
      }

      :host(.iron-selected), .paper-item.iron-selected {
        font-weight: var(--paper-item-selected-weight, bold);

        @apply --paper-item-selected;
      }

      :host([disabled]), .paper-item[disabled] {
        color: var(--paper-item-disabled-color, var(--disabled-text-color));

        @apply --paper-item-disabled;
      }

      :host(:focus), .paper-item:focus {
        position: relative;
        outline: 0;

        @apply --paper-item-focused;
      }

      :host(:focus):before, .paper-item:focus:before {
        @apply --layout-fit;

        background: currentColor;
        content: '';
        opacity: var(--dark-divider-opacity);
        pointer-events: none;

        @apply --paper-item-focused-before;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-item">
  <template>
    <style include="paper-item-shared-styles">
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
      }
    </style>
    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-item/paper-item.html.js
Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});
</script>
</dom-module>






<script>//~~WEBPATH~~/iron-selector/iron-multi-selectable.html.js
Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||
null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=
a||[];a=(this._valuesToItems(a)||[]).filter(function(c){return null!==c&&void 0!==c});this._selection.clear(a);for(var b=0;b<a.length;b++)Df(this._selection,a[b],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&void 0!==a?(this._setSelectedItems([a]),this._setSelectedItem(a)):
(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(b){return this._valueToItem(b)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
</script>



<script>//~~WEBPATH~~/iron-menu-behavior/iron-menu-behavior.html.js
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:"Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown",
"iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?
this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();
a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent";e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<
a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected",
"true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex",
"-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var b=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);b?this._setFocusedItem(b):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();
a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:
0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
</script>





<dom-module id="paper-listbox">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        background: var(--paper-listbox-background-color, var(--primary-background-color));
        color: var(--paper-listbox-color, var(--primary-text-color));

        @apply --paper-listbox;
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-listbox/paper-listbox.html.js
Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});
</script>
</dom-module>








<dom-module id="paper-radio-button">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        white-space: nowrap;
        cursor: pointer;
        @apply --paper-font-common-base;
        --calculated-paper-radio-button-size: var(--paper-radio-button-size, 16px);
        /* -1px is a sentinel for the default and is replace in `attached`. */
        --calculated-paper-radio-button-ink-size: var(--paper-radio-button-ink-size, -1px);
      }

      :host(:focus) {
        outline: none;
      }

      #radioContainer {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;
        width: var(--calculated-paper-radio-button-size);
        height: var(--calculated-paper-radio-button-size);
        vertical-align: middle;

        @apply --paper-radio-button-radio-container;
      }

      #ink {
        position: absolute;
        top: 50%;
        left: 50%;
        right: auto;
        width: var(--calculated-paper-radio-button-ink-size);
        height: var(--calculated-paper-radio-button-ink-size);
        color: var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));
        opacity: 0.6;
        pointer-events: none;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
      }

      #ink[checked] {
        color: var(--paper-radio-button-checked-ink-color, var(--primary-color));
      }

      #offRadio, #onRadio {
        position: absolute;
        box-sizing: border-box;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 50%;
      }

      #offRadio {
        border: 2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));
        background-color: var(--paper-radio-button-unchecked-background-color, transparent);
        transition: border-color 0.28s;
      }

      #onRadio {
        background-color: var(--paper-radio-button-checked-color, var(--primary-color));
        -webkit-transform: scale(0);
        transform: scale(0);
        transition: -webkit-transform ease 0.28s;
        transition: transform ease 0.28s;
        will-change: transform;
      }

      :host([checked]) #offRadio {
        border-color: var(--paper-radio-button-checked-color, var(--primary-color));
      }

      :host([checked]) #onRadio {
        -webkit-transform: scale(0.5);
        transform: scale(0.5);
      }

      #radioLabel {
        line-height: normal;
        position: relative;
        display: inline-block;
        vertical-align: middle;
        margin-left: var(--paper-radio-button-label-spacing, 10px);
        white-space: normal;
        color: var(--paper-radio-button-label-color, var(--primary-text-color));

        @apply --paper-radio-button-label;
      }

      :host([checked]) #radioLabel {
        @apply --paper-radio-button-label-checked;
      }

      #radioLabel:dir(rtl) {
        margin-left: 0;
        margin-right: var(--paper-radio-button-label-spacing, 10px);
      }

      #radioLabel[hidden] {
        display: none;
      }

      /* disabled state */

      :host([disabled]) #offRadio {
        border-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));
        opacity: 0.5;
      }

      :host([disabled][checked]) #onRadio {
        background-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));
        opacity: 0.5;
      }

      :host([disabled]) #radioLabel {
        /* slightly darker than the button, so that it's readable */
        opacity: 0.65;
      }
    </style>

    <div id="radioContainer">
      <div id="offRadio"></div>
      <div id="onRadio"></div>
    </div>

    <div id="radioLabel"><slot></slot></div>
  </template>

  <script>//~~WEBPATH~~/paper-radio-button/paper-radio-button.html.js
Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var a=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),
b=Math.floor(3*a);b%2!==a%2&&b++;this.updateStyles({"--paper-radio-button-ink-size":b+"px"})}})}});
</script>
</dom-module>






<script>//~~WEBPATH~~/iron-menu-behavior/iron-menubar-behavior.html.js
Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?
this._focusPrevious():this._focusNext();a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down left right esc")||this._focusWithKeyboardEvent(a)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
</script>





<dom-module id="paper-radio-group">
  <template>
    <style>
      :host {
        display: inline-block;
      }

      :host ::slotted(*) {
        padding: var(--paper-radio-group-item-padding, 12px);
      }
    </style>

    <slot></slot>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-radio-group/paper-radio-group.html.js
Polymer({is:"paper-radio-group",behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:"radiogroup"},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!b||!b.hasAttribute("disabled")){if(this.selected){b=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a="";else{b&&
(b.checked=!0);return}b&&(b.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]);this.fire("paper-radio-group-changed")}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(a){this._focusPrevious();a.preventDefault();this._activateFocusedItem()},_onDownKey:function(a){this._focusNext();a.preventDefault();this._activateFocusedItem()},_onLeftKey:function(a){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments);
this._activateFocusedItem()},_onRightKey:function(a){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments);this._activateFocusedItem()}});
</script>







<script>//~~WEBPATH~~/iron-range-behavior/iron-range-behavior.html.js
Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
if(!this.step)return a;a=Math.round((a-this.min)/this.step);return 1>this.step?a/(1/this.step)+this.min:a*this.step+this.min},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};
</script>










<dom-module id="paper-progress">
  <template>
    <style>
      :host {
        display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
      }

      :host([hidden]), [hidden] {
        display: none !important;
      }

      #progressContainer {
        @apply --paper-progress-container;
        position: relative;
      }

      #progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after {
        height: var(--paper-progress-height, 4px);
      }

      #primaryProgress,
      #secondaryProgress,
      .indeterminate::after {
        @apply --layout-fit;
      }

      #progressContainer,
      .indeterminate::after {
        background: var(--paper-progress-container-color, var(--google-grey-300));
      }

      :host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress {
        -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        /* Duration */
        -webkit-transition-duration: var(--paper-progress-transition-duration, 0.08s);
        transition-duration: var(--paper-progress-transition-duration, 0.08s);

        /* Timing function */
        -webkit-transition-timing-function: var(--paper-progress-transition-timing-function, ease);
        transition-timing-function: var(--paper-progress-transition-timing-function, ease);

        /* Delay */
        -webkit-transition-delay: var(--paper-progress-transition-delay, 0s);
        transition-delay: var(--paper-progress-transition-delay, 0s);
      }

      #primaryProgress,
      #secondaryProgress {
        @apply --layout-fit;
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
      }

      #primaryProgress {
        background: var(--paper-progress-active-color, var(--google-green-500));
      }

      #secondaryProgress {
        background: var(--paper-progress-secondary-color, var(--google-green-100));
      }

      :host([disabled]) #primaryProgress {
        background: var(--paper-progress-disabled-active-color, var(--google-grey-500));
      }

      :host([disabled]) #secondaryProgress {
        background: var(--paper-progress-disabled-secondary-color, var(--google-grey-300));
      }

      :host(:not([disabled])) #primaryProgress.indeterminate {
        -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
        animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
      }

      :host(:not([disabled])) #primaryProgress.indeterminate::after {
        content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
        animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
      }

      @-webkit-keyframes indeterminate-bar {
        0% {
          -webkit-transform: scaleX(1) translateX(-100%);
        }
        50% {
          -webkit-transform: scaleX(1) translateX(0%);
        }
        75% {
          -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          -webkit-transform: scaleX(0) translateX(0%);
        }
      }

      @-webkit-keyframes indeterminate-splitter {
        0% {
          -webkit-transform: scaleX(.75) translateX(-125%);
        }
        30% {
          -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
        100% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
      }

      @keyframes indeterminate-bar {
        0% {
          transform: scaleX(1) translateX(-100%);
        }
        50% {
          transform: scaleX(1) translateX(0%);
        }
        75% {
          transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          transform: scaleX(0) translateX(0%);
        }
      }

      @keyframes indeterminate-splitter {
        0% {
          transform: scaleX(.75) translateX(-125%);
        }
        30% {
          transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          transform: scaleX(.75) translateX(125%);
        }
        100% {
          transform: scaleX(.75) translateX(125%);
        }
      }
    </style>

    <div id="progressContainer">
      <div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div>
      <div id="primaryProgress"></div>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-progress/paper-progress.html.js
Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",
a,this.$.primaryProgress)},_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d,e){a=this._clampValue(a);b=this._clampValue(b);var f=100*this._calcRatio(a),g=100*this._calcRatio(b);this._setSecondaryRatio(f);this._transformProgress(this.$.secondaryProgress,f);this._transformProgress(this.$.primaryProgress,g);this.secondaryProgress=a;e?this.removeAttribute("aria-valuenow"):
this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});
</script>





<dom-module id="paper-slider">
  <template strip-whitespace>
    <style>
      :host {
        @apply --layout;
        @apply --layout-justified;
        @apply --layout-center;
        width: 200px;
        cursor: default;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        --paper-progress-active-color: var(--paper-slider-active-color, var(--google-blue-700));
        --paper-progress-secondary-color: var(--paper-slider-secondary-color, var(--google-blue-300));
        --paper-progress-disabled-active-color: var(--paper-slider-disabled-active-color, var(--paper-grey-400));
        --paper-progress-disabled-secondary-color: var(--paper-slider-disabled-secondary-color, var(--paper-grey-400));
        --calculated-paper-slider-height: var(--paper-slider-height, 2px);
      }

      /* focus shows the ripple */
      :host(:focus) {
        outline: none;
      }

      /**
       * NOTE(keanulee): Though :host-context is not universally supported, some pages
       * still rely on paper-slider being flipped when dir="rtl" is set on body. For full
       * compatability, dir="rtl" must be explicitly set on paper-slider.
       */
      :dir(rtl) #sliderContainer {
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
      }

      /**
       * NOTE(keanulee): This is separate from the rule above because :host-context may
       * not be recognized.
       */
      :host([dir="rtl"]) #sliderContainer {
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
      }

      /**
       * NOTE(keanulee): Needed to override the :host-context rule (where supported)
       * to support LTR sliders in RTL pages.
       */
      :host([dir="ltr"]) #sliderContainer {
        -webkit-transform: scaleX(1);
        transform: scaleX(1);
      }

      #sliderContainer {
        position: relative;
        width: 100%;
        height: calc(30px + var(--calculated-paper-slider-height));
        margin-left: calc(15px + var(--calculated-paper-slider-height)/2);
        margin-right: calc(15px + var(--calculated-paper-slider-height)/2);
      }

      #sliderContainer:focus {
        outline: 0;
      }

      #sliderContainer.editable {
        margin-top: 12px;
        margin-bottom: 12px;
      }

      .bar-container {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
      }

      .ring > .bar-container {
        left: calc(5px + var(--calculated-paper-slider-height)/2);
        transition: left 0.18s ease;
      }

      .ring.expand.dragging > .bar-container {
        transition: none;
      }

      .ring.expand:not(.pin) > .bar-container {
        left: calc(8px + var(--calculated-paper-slider-height)/2);
      }

      #sliderBar {
        padding: 15px 0;
        width: 100%;
        background-color: var(--paper-slider-bar-color, transparent);
        --paper-progress-container-color: var(--paper-slider-container-color, var(--paper-grey-400));
        --paper-progress-height: var(--calculated-paper-slider-height);
      }

      .slider-markers {
        position: absolute;
        top: calc(14px + var(--paper-slider-height,2px)/2);
        height: var(--calculated-paper-slider-height);
        left: 0;
        right: -1px;
        box-sizing: border-box;
        pointer-events: none;
        @apply --layout-horizontal;
      }

      .slider-marker {
        @apply --layout-flex;
      }
      .slider-markers::after,
      .slider-marker::after {
        content: "";
        display: block;
        margin-left: -1px;
        width: 2px;
        height: var(--calculated-paper-slider-height);
        border-radius: 50%;
        background-color: var(--paper-slider-markers-color, #000);
      }

      .slider-knob {
        position: absolute;
        left: 0;
        top: 0;
        margin-left: calc(-15px - var(--calculated-paper-slider-height)/2);
        width: calc(30px + var(--calculated-paper-slider-height));
        height: calc(30px + var(--calculated-paper-slider-height));
      }

      .transiting > .slider-knob {
        transition: left 0.08s ease;
      }

      .slider-knob:focus {
        outline: none;
      }

      .slider-knob.dragging {
        transition: none;
      }

      .snaps > .slider-knob.dragging {
        transition: -webkit-transform 0.08s ease;
        transition: transform 0.08s ease;
      }

      .slider-knob-inner {
        margin: 10px;
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        background-color: var(--paper-slider-knob-color, var(--google-blue-700));
        border: 2px solid var(--paper-slider-knob-color, var(--google-blue-700));
        border-radius: 50%;

        -moz-box-sizing: border-box;
        box-sizing: border-box;

        transition-property: -webkit-transform, background-color, border;
        transition-property: transform, background-color, border;
        transition-duration: 0.18s;
        transition-timing-function: ease;
      }

      .expand:not(.pin) > .slider-knob > .slider-knob-inner {
        -webkit-transform: scale(1.5);
        transform: scale(1.5);
      }

      .ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));
      }

      .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-color, var(--google-blue-700));
      }

      .pin > .slider-knob > .slider-knob-inner::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -13px;
        width: 26px;
        height: 26px;
        border-radius: 50% 50% 50% 0;

        -webkit-transform: rotate(-45deg) scale(0) translate(0);
        transform: rotate(-45deg) scale(0) translate(0);
      }

      .slider-knob-inner::before,
      .slider-knob-inner::after {
        transition: -webkit-transform .18s ease, background-color .18s ease;
        transition: transform .18s ease, background-color .18s ease;
      }

      .pin.ring > .slider-knob > .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-start-color, var(--paper-grey-400));
      }

      .pin.expand > .slider-knob > .slider-knob-inner::before {
        -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);
        transform: rotate(-45deg) scale(1) translate(17px, -17px);
      }

      .pin > .slider-knob > .slider-knob-inner::after {
        content: attr(value);
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -16px;
        width: 32px;
        height: 26px;
        text-align: center;
        color: var(--paper-slider-font-color, #fff);
        font-size: 10px;

        -webkit-transform: scale(0) translate(0);
        transform: scale(0) translate(0);
      }

      .pin.expand > .slider-knob > .slider-knob-inner::after {
        -webkit-transform: scale(1) translate(0, -17px);
        transform: scale(1) translate(0, -17px);
      }

      /* paper-input */
      .slider-input {
        width: 50px;
        overflow: hidden;
        --paper-input-container-input: {
          text-align: center;
          @apply --paper-slider-input-container-input;
        };
        @apply --paper-slider-input;
      }

      /* disabled state */
      #sliderContainer.disabled {
        pointer-events: none;
      }

      .disabled > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-disabled-knob-color, var(--paper-grey-400));
        border: 2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));
        -webkit-transform: scale3d(0.75, 0.75, 1);
        transform: scale3d(0.75, 0.75, 1);
      }

      .disabled.ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));
      }

      paper-ripple {
        color: var(--paper-slider-knob-color, var(--google-blue-700));
      }
    </style>

    <div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]">
      <div class="bar-container">
        <paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_bartrack" on-tap="_barclick">
        </paper-progress>
      </div>

      <template is="dom-if" if="[[snaps]]">
        <div class="slider-markers">
          <template is="dom-repeat" items="[[markers]]">
            <div class="slider-marker"></div>
          </template>
        </div>
      </template>

      <div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd">
          <div class="slider-knob-inner" value$="[[immediateValue]]"></div>
      </div>
    </div>

    <template is="dom-if" if="[[editable]]">
      <paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float>
      </paper-input>
    </template>
  </template>

  <script>//~~WEBPATH~~/paper-slider/paper-slider.html.js
Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},
ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},
ready:function(){this.ignoreBarTouch&&Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")},increment:function(){this.value=this._clampValue(this.value+this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(100*this._calcRatio(a))},_valueChanged:function(){this.fire("value-change",{composed:!0})},_immediateValueChanged:function(){this.dragging?
this.fire("immediate-value-change",{composed:!0}):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";this.dragging&&
(this._knobstartx=this.ratio*this._w/100,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a/100+this.min},_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w/100;this._minx=-this._startx;this._maxx=
this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx*(this._isRTL?-1:1)));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w*100)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");
this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bartrack:function(a){this._allowBarEvent(a)&&this._onTrack(a)},_barclick:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();b=(a.detail.x-b.left)/this._w*100;this._isRTL&&(b=100-b);var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);
c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change",{composed:!0})});a.preventDefault();this.focus()},_bardown:function(a){this._allowBarEvent(a)&&(this.debounce("expandKnob",this._expandKnob,60),this._barclick(a))},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function(a){return!this.ignoreBarTouch||a.detail.sourceEvent instanceof MouseEvent},get _isRTL(){void 0===this.__isRTL&&(this.__isRTL="rtl"===window.getComputedStyle(this).direction);return this.__isRTL},_leftKey:function(a){this._isRTL?this._incrementKey(a):
this._decrementKey(a)},_rightKey:function(a){this._isRTL?this._decrementKey(a):this._incrementKey(a)},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},_changeValue:function(a){this.value=a.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function(a){a.stopPropagation()},
_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});
</script>
</dom-module>





<script>//~~WEBPATH~~/paper-spinner/paper-spinner-behavior.html.js
Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},__altChanged:function(a){"loading"===a?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===
a),this.setAttribute("aria-label",a))},__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.__coolingDown=this.active=!1}};
</script>

<dom-module id="paper-spinner-styles">
  <template>
    <style>
      /*
      /**************************/
      /* STYLES FOR THE SPINNER */
      /**************************/

      /*
       * Constants:
       *      ARCSIZE     = 270 degrees (amount of circle the arc takes up)
       *      ARCTIME     = 1333ms (time it takes to expand and contract arc)
       *      ARCSTARTROT = 216 degrees (how much the start location of the arc
       *                                should rotate each time, 216 gives us a
       *                                5 pointed star shape (it's 360/5 * 3).
       *                                For a 7 pointed star, we might do
       *                                360/7 * 3 = 154.286)
       *      SHRINK_TIME = 400ms
       */

      :host {
        display: inline-block;
        position: relative;
        width: 28px;
        height: 28px;

        /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */
        --paper-spinner-container-rotation-duration: 1568ms;

        /* ARCTIME */
        --paper-spinner-expand-contract-duration: 1333ms;

        /* 4 * ARCTIME */
        --paper-spinner-full-cycle-duration: 5332ms;

        /* SHRINK_TIME */
        --paper-spinner-cooldown-duration: 400ms;
      }

      #spinnerContainer {
        width: 100%;
        height: 100%;

        /* The spinner does not have any contents that would have to be
         * flipped if the direction changes. Always use ltr so that the
         * style works out correctly in both cases. */
        direction: ltr;
      }

      #spinnerContainer.active {
        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;
        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;
      }

      @-webkit-keyframes container-rotate {
        to { -webkit-transform: rotate(360deg) }
      }

      @keyframes container-rotate {
        to { transform: rotate(360deg) }
      }

      .spinner-layer {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        white-space: nowrap;
        color: var(--paper-spinner-color, var(--google-blue-500));
      }

      .layer-1 {
        color: var(--paper-spinner-layer-1-color, var(--google-blue-500));
      }

      .layer-2 {
        color: var(--paper-spinner-layer-2-color, var(--google-red-500));
      }

      .layer-3 {
        color: var(--paper-spinner-layer-3-color, var(--google-yellow-500));
      }

      .layer-4 {
        color: var(--paper-spinner-layer-4-color, var(--google-green-500));
      }

      /**
       * IMPORTANT NOTE ABOUT CSS ANIMATION PROPERTIES (keanulee):
       *
       * iOS Safari (tested on iOS 8.1) does not handle animation-delay very well - it doesn't
       * guarantee that the animation will start _exactly_ after that value. So we avoid using
       * animation-delay and instead set custom keyframes for each color (as layer-2undant as it
       * seems).
       */
      .active .spinner-layer {
        -webkit-animation-name: fill-unfill-rotate;
        -webkit-animation-duration: var(--paper-spinner-full-cycle-duration);
        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        -webkit-animation-iteration-count: infinite;
        animation-name: fill-unfill-rotate;
        animation-duration: var(--paper-spinner-full-cycle-duration);
        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        animation-iteration-count: infinite;
        opacity: 1;
      }

      .active .spinner-layer.layer-1 {
        -webkit-animation-name: fill-unfill-rotate, layer-1-fade-in-out;
        animation-name: fill-unfill-rotate, layer-1-fade-in-out;
      }

      .active .spinner-layer.layer-2 {
        -webkit-animation-name: fill-unfill-rotate, layer-2-fade-in-out;
        animation-name: fill-unfill-rotate, layer-2-fade-in-out;
      }

      .active .spinner-layer.layer-3 {
        -webkit-animation-name: fill-unfill-rotate, layer-3-fade-in-out;
        animation-name: fill-unfill-rotate, layer-3-fade-in-out;
      }

      .active .spinner-layer.layer-4 {
        -webkit-animation-name: fill-unfill-rotate, layer-4-fade-in-out;
        animation-name: fill-unfill-rotate, layer-4-fade-in-out;
      }

      @-webkit-keyframes fill-unfill-rotate {
        12.5% { -webkit-transform: rotate(135deg) } /* 0.5 * ARCSIZE */
        25%   { -webkit-transform: rotate(270deg) } /* 1   * ARCSIZE */
        37.5% { -webkit-transform: rotate(405deg) } /* 1.5 * ARCSIZE */
        50%   { -webkit-transform: rotate(540deg) } /* 2   * ARCSIZE */
        62.5% { -webkit-transform: rotate(675deg) } /* 2.5 * ARCSIZE */
        75%   { -webkit-transform: rotate(810deg) } /* 3   * ARCSIZE */
        87.5% { -webkit-transform: rotate(945deg) } /* 3.5 * ARCSIZE */
        to    { -webkit-transform: rotate(1080deg) } /* 4   * ARCSIZE */
      }

      @keyframes fill-unfill-rotate {
        12.5% { transform: rotate(135deg) } /* 0.5 * ARCSIZE */
        25%   { transform: rotate(270deg) } /* 1   * ARCSIZE */
        37.5% { transform: rotate(405deg) } /* 1.5 * ARCSIZE */
        50%   { transform: rotate(540deg) } /* 2   * ARCSIZE */
        62.5% { transform: rotate(675deg) } /* 2.5 * ARCSIZE */
        75%   { transform: rotate(810deg) } /* 3   * ARCSIZE */
        87.5% { transform: rotate(945deg) } /* 3.5 * ARCSIZE */
        to    { transform: rotate(1080deg) } /* 4   * ARCSIZE */
      }

      @-webkit-keyframes layer-1-fade-in-out {
        0% { opacity: 1 }
        25% { opacity: 1 }
        26% { opacity: 0 }
        89% { opacity: 0 }
        90% { opacity: 1 }
        to { opacity: 1 }
      }

      @keyframes layer-1-fade-in-out {
        0% { opacity: 1 }
        25% { opacity: 1 }
        26% { opacity: 0 }
        89% { opacity: 0 }
        90% { opacity: 1 }
        to { opacity: 1 }
      }

      @-webkit-keyframes layer-2-fade-in-out {
        0% { opacity: 0 }
        15% { opacity: 0 }
        25% { opacity: 1 }
        50% { opacity: 1 }
        51% { opacity: 0 }
        to { opacity: 0 }
      }

      @keyframes layer-2-fade-in-out {
        0% { opacity: 0 }
        15% { opacity: 0 }
        25% { opacity: 1 }
        50% { opacity: 1 }
        51% { opacity: 0 }
        to { opacity: 0 }
      }

      @-webkit-keyframes layer-3-fade-in-out {
        0% { opacity: 0 }
        40% { opacity: 0 }
        50% { opacity: 1 }
        75% { opacity: 1 }
        76% { opacity: 0 }
        to { opacity: 0 }
      }

      @keyframes layer-3-fade-in-out {
        0% { opacity: 0 }
        40% { opacity: 0 }
        50% { opacity: 1 }
        75% { opacity: 1 }
        76% { opacity: 0 }
        to { opacity: 0 }
      }

      @-webkit-keyframes layer-4-fade-in-out {
        0% { opacity: 0 }
        65% { opacity: 0 }
        75% { opacity: 1 }
        90% { opacity: 1 }
        to { opacity: 0 }
      }

      @keyframes layer-4-fade-in-out {
        0% { opacity: 0 }
        65% { opacity: 0 }
        75% { opacity: 1 }
        90% { opacity: 1 }
        to { opacity: 0 }
      }

      .circle-clipper {
        display: inline-block;
        position: relative;
        width: 50%;
        height: 100%;
        overflow: hidden;
      }

      /**
       * Patch the gap that appear between the two adjacent div.circle-clipper while the
       * spinner is rotating (appears on Chrome 50, Safari 9.1.1, and Edge).
       */
      .spinner-layer::after {
        left: 45%;
        width: 10%;
        border-top-style: solid;
      }

      .spinner-layer::after,
      .circle-clipper::after {
        content: '';
        box-sizing: border-box;
        position: absolute;
        top: 0;
        border-width: var(--paper-spinner-stroke-width, 3px);
        border-radius: 50%;
      }

      .circle-clipper::after {
        bottom: 0;
        width: 200%;
        border-style: solid;
        border-bottom-color: transparent !important;
      }

      .circle-clipper.left::after {
        left: 0;
        border-right-color: transparent !important;
        -webkit-transform: rotate(129deg);
        transform: rotate(129deg);
      }

      .circle-clipper.right::after {
        left: -100%;
        border-left-color: transparent !important;
        -webkit-transform: rotate(-129deg);
        transform: rotate(-129deg);
      }

      .active .gap-patch::after,
      .active .circle-clipper::after {
        -webkit-animation-duration: var(--paper-spinner-expand-contract-duration);
        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        -webkit-animation-iteration-count: infinite;
        animation-duration: var(--paper-spinner-expand-contract-duration);
        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        animation-iteration-count: infinite;
      }

      .active .circle-clipper.left::after {
        -webkit-animation-name: left-spin;
        animation-name: left-spin;
      }

      .active .circle-clipper.right::after {
        -webkit-animation-name: right-spin;
        animation-name: right-spin;
      }

      @-webkit-keyframes left-spin {
        0% { -webkit-transform: rotate(130deg) }
        50% { -webkit-transform: rotate(-5deg) }
        to { -webkit-transform: rotate(130deg) }
      }

      @keyframes left-spin {
        0% { transform: rotate(130deg) }
        50% { transform: rotate(-5deg) }
        to { transform: rotate(130deg) }
      }

      @-webkit-keyframes right-spin {
        0% { -webkit-transform: rotate(-130deg) }
        50% { -webkit-transform: rotate(5deg) }
        to { -webkit-transform: rotate(-130deg) }
      }

      @keyframes right-spin {
        0% { transform: rotate(-130deg) }
        50% { transform: rotate(5deg) }
        to { transform: rotate(-130deg) }
      }

      #spinnerContainer.cooldown {
        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);
        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);
      }

      @-webkit-keyframes fade-out {
        0% { opacity: 1 }
        to { opacity: 0 }
      }

      @keyframes fade-out {
        0% { opacity: 1 }
        to { opacity: 0 }
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-spinner-lite">
  <template strip-whitespace>
    <style include="paper-spinner-styles"></style>

    <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">
      <div class="spinner-layer">
        <div class="circle-clipper left"></div>
        <div class="circle-clipper right"></div>
      </div>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-spinner/paper-spinner-lite.html.js
Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});
</script>
</dom-module>









<dom-module id="paper-tab">
  <template>
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center;
        @apply --layout-center-justified;
        @apply --layout-flex-auto;

        position: relative;
        padding: 0 12px;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;

        @apply --paper-font-common-base;
        @apply --paper-tab;
      }

      :host(:focus) {
        outline: none;
      }

      :host([link]) {
        padding: 0;
      }

      .tab-content {
        height: 100%;
        transform: translateZ(0);
          -webkit-transform: translateZ(0);
        transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);
        @apply --layout-horizontal;
        @apply --layout-center-center;
        @apply --layout-flex-auto;
        @apply --paper-tab-content;
      }

      :host(:not(.iron-selected)) > .tab-content {
        opacity: 0.8;

        @apply --paper-tab-content-unselected;
      }

      :host(:focus) .tab-content {
        opacity: 1;
        font-weight: 700;
      }

      paper-ripple {
        color: var(--paper-tab-ink, var(--paper-yellow-a100));
      }

      .tab-content > ::slotted(a) {
        @apply --layout-flex-auto;

        height: 100%;
      }
    </style>

    <div class="tab-content">
      <slot></slot>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tab.html.js
Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren("a");
b&&a.target!==b&&b.click()}}});
</script>
</dom-module>










<iron-iconset-svg name="paper-tabs" size="24">
<svg><defs>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></g>
</defs></svg>
</iron-iconset-svg>





<dom-module id="paper-tabs">
  <template>
    <style>
      :host {
        @apply --layout;
        @apply --layout-center;

        height: 48px;
        font-size: 14px;
        font-weight: 500;
        overflow: hidden;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;

        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        @apply --paper-tabs;
      }

      :host(:dir(rtl)) {
        @apply --layout-horizontal-reverse;
      }

      #tabsContainer {
        position: relative;
        height: 100%;
        white-space: nowrap;
        overflow: hidden;
        @apply --layout-flex-auto;
        @apply --paper-tabs-container;
      }

      #tabsContent {
        height: 100%;
        -moz-flex-basis: auto;
        -ms-flex-basis: auto;
        flex-basis: auto;
        @apply --paper-tabs-content;
      }

      #tabsContent.scrollable {
        position: absolute;
        white-space: nowrap;
      }

      #tabsContent:not(.scrollable),
      #tabsContent.scrollable.fit-container {
        @apply --layout-horizontal;
      }

      #tabsContent.scrollable.fit-container {
        min-width: 100%;
      }

      #tabsContent.scrollable.fit-container > ::slotted(*) {
        /* IE - prevent tabs from compressing when they should scroll. */
        -ms-flex: 1 0 auto;
        -webkit-flex: 1 0 auto;
        flex: 1 0 auto;
      }

      .hidden {
        display: none;
      }

      .not-visible {
        opacity: 0;
        cursor: default;
      }

      paper-icon-button {
        width: 48px;
        height: 48px;
        padding: 12px;
        margin: 0 4px;
      }

      #selectionBar {
        position: absolute;
        height: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-bottom: 2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100));
          -webkit-transform: scale(0);
        transform: scale(0);
          -webkit-transform-origin: left center;
        transform-origin: left center;
          transition: -webkit-transform;
        transition: transform;

        @apply --paper-tabs-selection-bar;
      }

      #selectionBar.align-bottom {
        top: 0;
        bottom: auto;
      }

      #selectionBar.expand {
        transition-duration: 0.15s;
        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
      }

      #selectionBar.contract {
        transition-duration: 0.18s;
        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
      }

      #tabsContent > ::slotted(:not(#selectionBar)) {
        height: 100%;
      }
    </style>

    <paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button>

    <div id="tabsContainer" on-track="_scroll" on-down="_down">
      <div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]">
        <div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div>
        <slot></slot>
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button>

  </template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tabs.html.js
Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,
value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationTimeout=this._pendingActivationItem=
void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(a){Polymer.dom(this).querySelectorAll("paper-tab").forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(a){a.setAttribute("noink","")},_removeNoinkAttribute:function(a){a.removeAttribute("noink")},
_computeScrollButtonClass:function(a,b,c){return!b||c?"hidden":a?"not-visible":""},_computeTabsContentClass:function(a,b){return a?"scrollable"+(b?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(a,b){return a?"hidden":b?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab);this._previousTab=a.detail.item;
this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(a,b){this._pendingActivationItem=a;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},_delayedActivationHandler:function(){var a=this._pendingActivationItem;
this._pendingActivationTimeout=this._pendingActivationItem=void 0;a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationTimeout=this._pendingActivationItem=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},
get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){this.scrollable&&this._affectScroll(b&&-b.ddx||0)},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;a=this.$.tabsContainer.scrollLeft;this._leftHidden=0===a;this._rightHidden=a===this._tabContainerScrollSize},
_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(a,b){if(a){var c=this.$.tabsContent.getBoundingClientRect(),
d=c.width,e=a.getBoundingClientRect();c=e.left-c.left;this._pos={width:this._calcPercent(e.width,d),left:this._calcPercent(c,d)};if(this.noSlide||null==b)this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(this._pos.width,this._pos.left);else{var f=b.getBoundingClientRect();b=this.items.indexOf(b);a=this.items.indexOf(a);this.$.selectionBar.classList.add("expand");a=b<a;this._isRTL&&(a=!a);a?this._positionBar(this._calcPercent(e.left+e.width-
f.left,d)-5,this._left):this._positionBar(this._calcPercent(f.left+f.width-e.left,d)-5,this._calcPercent(c,d)+5);this.scrollable&&this._scrollToSelectedIfNeeded(e.width,c)}}else this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(0,0)},_scrollToSelectedIfNeeded:function(a,b){b-=this.$.tabsContainer.scrollLeft;0>b?this.$.tabsContainer.scrollLeft+=b:(b+=a-this.$.tabsContainer.offsetWidth,0<b&&(this.$.tabsContainer.scrollLeft+=b))},_calcPercent:function(a,
b){return 100*a/b},_positionBar:function(a,b){a=a||0;b=b||0;this._width=a;this._left=b;this.transform("translateX("+b+"%) scaleX("+a/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains("expand")?(a.remove("expand"),a.add("contract"),this._positionBar(this._pos.width,this._pos.left)):a.contains("contract")&&a.remove("contract")}});
</script>
</dom-module>







<script>//~~WEBPATH~~/vz-sorting/sorting.js
var Mf;
(function(a){function b(e,f){var g,h=g||(g={});h[h.NATURAL=0]="NATURAL";h[h.REAL=1]="REAL";h[h.EXPONENT_SIGN=2]="EXPONENT_SIGN";h[h.EXPONENT=3]="EXPONENT";for(h=g.NATURAL;f<e.length;f++)if(h===g.NATURAL)if("."===e[f])h=g.REAL;else if("e"===e[f]||"E"===e[f])h=g.EXPONENT_SIGN;else{if(!c(e[f]))break}else if(h===g.REAL)if("e"===e[f]||"E"===e[f])h=g.EXPONENT_SIGN;else{if(!c(e[f]))break}else if(h===g.EXPONENT_SIGN)if(c(e[f])||"+"===e[f]||"-"===e[f])h=g.EXPONENT;else break;else if(h===g.EXPONENT&&!c(e[f]))break;
return f}function c(e){return"0"<=e&&"9">=e}function d(e){return"/"===e||"_"===e||c(e)}a.compareTagNames=function(e,f){for(var g=0,h=0;;){if(g===e.length)return h===f.length?0:-1;if(h===f.length)return 1;if(c(e[g])&&c(f[h])){var k=g,l=h;g=b(e,g+1);h=b(f,h+1);k=parseFloat(e.slice(k,g));l=parseFloat(f.slice(l,h));if(k<l)return-1;if(k>l)return 1}else{if(d(e[g])){if(!d(f[h]))return-1}else{if(d(f[h]))return 1;if(e[g]<f[h])return-1;if(e[g]>f[h])return 1}g++;h++}}}})(Mf||(Mf={}));
</script>


<script>//~~WEBPATH~~/tf-backend/requestManager.js
var Nf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Of;
(function(a){function b(k,l,n,p){var q=new XMLHttpRequest;q.open(k,l);n&&(q.withCredentials=n);p&&q.setRequestHeader("Content-Type",p);return q}var c=function(k){function l(){var n=null!==k&&k.apply(this,arguments)||this;n.name="RequestCancellationError";return n}Nf(l,k);return l}(Error);a.RequestCancellationError=c;var d=function(k){function l(n){n=k.call(this,n)||this;n.name="InvalidRequestOptionsError";Object.setPrototypeOf(n,l.prototype);return n}Nf(l,k);return l}(Error);a.InvalidRequestOptionsError=
d;var e=function(k){function l(n,p){var q=k.call(this)||this;q.message="RequestNetworkError: "+n.status+" at "+p;q.name="RequestNetworkError";q.req=n;q.url=p;return q}Nf(l,k);return l}(Error);a.RequestNetworkError=e;var f;(function(k){k.GET="GET";k.POST="POST"})(f=a.HttpMethodType||(a.HttpMethodType={}));var g=function(){function k(){}k.prototype.validate=function(){if(this.methodType===f.GET&&this.body)throw new d("body must be missing for a GET request.");};return k}();a.RequestOptions=g;var h=
function(){function k(l,n){void 0===l&&(l=10);void 0===n&&(n=3);this._queue=[];this._nActiveRequests=0;this._nSimultaneousRequests=l;this._maxRetries=n}k.prototype.request=function(l,n){var p=new g;if(n){p.methodType=f.POST;var q=new FormData,r;for(r in n)r&&q.append(r,n[r]);p.body=q}else p.methodType=f.GET;return this.requestWithOptions(l,p)};k.prototype.requestWithOptions=function(l,n){var p=this;n.validate();return(new Promise(function(q,r){p._queue.push({resolve:q,reject:r});p.launchRequests()})).then(function(){return p.promiseWithRetries(l,
p._maxRetries,n)}).then(function(q){p._nActiveRequests--;p.launchRequests();return q},function(q){"RequestNetworkError"===q.name&&(p._nActiveRequests--,p.launchRequests());return Promise.reject(q)})};k.prototype.fetch=function(l,n){var p=this;return(new Promise(function(q,r){p._queue.push({resolve:q,reject:r});p.launchRequests()})).then(function(){var q=1;return new Promise(function(r){function t(){fetch(l,n).then(function(v){!v.ok&&p._maxRetries>q?(q++,t()):(r(v),p._nActiveRequests--,p.launchRequests())})}
t()})})};k.prototype.clearQueue=function(){for(;0<this._queue.length;)this._queue.pop().reject(new c("Request cancelled by clearQueue"))};k.prototype.activeRequests=function(){return this._nActiveRequests};k.prototype.outstandingRequests=function(){return this._nActiveRequests+this._queue.length};k.prototype.launchRequests=function(){for(;this._nActiveRequests<this._nSimultaneousRequests&&0<this._queue.length;)this._nActiveRequests++,this._queue.pop().resolve()};k.prototype.promiseWithRetries=function(l,
n,p){var q=this;return this._promiseFromUrl(l,p).then(function(r){return r},function(r){return 0<n?q.promiseWithRetries(l,n-1,p):Promise.reject(r)})};k.prototype._promiseFromUrl=function(l,n){return new Promise(function(p,q){var r=b(n.methodType,l,n.withCredentials,n.contentType);r.onload=function(){200===r.status?p(JSON.parse(r.responseText)):q(new e(r,l))};r.onerror=function(){q(new e(r,l))};n.body?r.send(n.body):r.send()})};return k}();a.RequestManager=h})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/urlPathHelpers.js
(function(a){a.addParams=function(b,c){var d=Object.keys(c).sort().filter(function(f){return void 0!==c[f]});if(!d.length)return b;var e=-1!==b.indexOf("?")?"\x26":"?";d=[].concat.apply([],d.map(function(f){var g=c[f];return(Array.isArray(g)?g:[g]).map(function(h){return f+"\x3d"+encodeURIComponent(h).replace(/\(/g,"%28").replace(/\)/g,"%29")})})).join("\x26");return b+e+d}})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/router.js
(function(a){function b(f){void 0===f&&(f="data");"/"===f[f.length-1]&&(f=f.slice(0,f.length-1));return{environment:function(){return c(f,"/environment")},experiments:function(){return c(f,"/experiments")},pluginRoute:function(g,h,k){return c(f+"/plugin","/"+g+h,k)},pluginsListing:function(){return c(f,"/plugins_listing")},runs:function(){return c(f,"/runs")},runsForExperiment:function(g){return c(f,"/experiment_runs",d({experiment:String(g)}))}}}function c(f,g,h){void 0===h&&(h=new URLSearchParams);
f+=g;String(h)&&(g=g.includes("?")?"\x26":"?",f+=g+String(h));return f}function d(f){void 0===f&&(f={});var g=Object.keys(f).sort().filter(function(k){return f[k]}),h=new URLSearchParams;g.forEach(function(k){var l=f[k];(Array.isArray(l)?l:[l]).forEach(function(n){return h.append(k,n)})});return h}var e=b();a.createRouter=b;a.getRouter=function(){return e};a.setRouter=function(f){if(null==f)throw Error("Router required, but got: "+f);e=f};a.createSearchParam=d})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/baseStore.js
(function(a){var b=function(){return function(d){this.listener=d}}();a.ListenKey=b;var c=function(){function d(){this.requestManager=new a.RequestManager(1);this._listeners=new Set;this.initialized=!1}d.prototype.refresh=function(){var e=this;return this.load().then(function(){e.initialized=!0})};d.prototype.addListener=function(e){e=new b(e);this._listeners.add(e);return e};d.prototype.removeListenerByKey=function(e){this._listeners.delete(e)};d.prototype.emitChange=function(){this._listeners.forEach(function(e){try{e.listener()}catch(f){}})};
return d}();a.BaseStore=c})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/environmentStore.js
Nf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b;(function(d){d[d.DB=0]="DB";d[d.LOGDIR=1]="LOGDIR"})(b=a.Mode||(a.Mode={}));var c=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}Nf(e,d);e.prototype.load=function(){var f=this,g=a.getRouter().environment();return this.requestManager.request(g).then(function(h){h={dataLocation:h.data_location,mode:"db"==h.mode?b.DB:b.LOGDIR,windowTitle:h.window_title};_.isEqual(f.environment,h)||(f.environment=h,f.emitChange())})};e.prototype.getDataLocation=function(){return this.environment?
this.environment.dataLocation:""};e.prototype.getMode=function(){return this.environment?this.environment.mode:null};e.prototype.getWindowTitle=function(){return this.environment?this.environment.windowTitle:""};return e}(a.BaseStore);a.EnvironmentStore=c;a.environmentStore=new c})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/experimentsStore.js
Nf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;e._experiments=[];return e}Nf(d,c);d.prototype.load=function(){var e=this,f=a.getRouter().experiments();return this.requestManager.request(f).then(function(g){_.isEqual(e._experiments,g)||(e._experiments=g,e.emitChange())})};d.prototype.getExperiments=function(){return this._experiments.slice()};return d}(a.BaseStore);a.ExperimentsStore=b;a.experimentsStore=new b})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/runsStore.js
Nf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;e._runs=[];return e}Nf(d,c);d.prototype.load=function(){var e=this,f=a.getRouter().runs();return this.requestManager.request(f).then(function(g){_.isEqual(e._runs,g)||(e._runs=g,e.emitChange())})};d.prototype.getRuns=function(){return this._runs.slice()};return d}(a.BaseStore);a.RunsStore=b;a.runsStore=new b})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/backend.js
(function(a){a.TYPES=[];a.getRunsNamed=function(b){return _.keys(b).sort(Mf.compareTagNames)};a.getTags=function(b){return _.union.apply(null,_.values(b)).sort(Mf.compareTagNames)};a.filterTags=function(b,c){var d=[];c.forEach(function(e){return d=d.concat(b[e])});return _.uniq(d).sort(Mf.compareTagNames)}})(Of||(Of={}));
</script>
<script>//~~WEBPATH~~/tf-backend/canceller.js
(function(a){var b=function(){function c(){this.cancellationCount=0}c.prototype.cancellable=function(d){var e=this,f=this.cancellationCount;return function(g){return d({value:g,cancelled:e.cancellationCount!==f})}};c.prototype.cancelAll=function(){this.cancellationCount++};return c}();a.Canceller=b})(Of||(Of={}));
</script>




<dom-module id="iron-flex">
  <template>
    <style>
      .layout.horizontal,
      .layout.vertical {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      }

      .layout.inline {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      }

      .layout.horizontal {
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      }

      .layout.vertical {
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }

      .layout.wrap {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      }

      .layout.no-wrap {
        -ms-flex-wrap: nowrap;
        -webkit-flex-wrap: nowrap;
        flex-wrap: nowrap;
      }

      .layout.center,
      .layout.center-center {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .layout.center-justified,
      .layout.center-center {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      .flex {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }

      .flex-auto {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      }

      .flex-none {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      }
    </style>
  </template>
</dom-module>


<dom-module id="iron-flex-reverse">
  <template>
    <style>
      .layout.horizontal-reverse,
      .layout.vertical-reverse {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      }

      .layout.horizontal-reverse {
        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      }

      .layout.vertical-reverse {
        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      }

      .layout.wrap-reverse {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      }
    </style>
  </template>
</dom-module>


<dom-module id="iron-flex-alignment">
  <template>
    <style>
      /**
       * Alignment in cross axis.
       */
      .layout.start {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      }

      .layout.center,
      .layout.center-center {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .layout.end {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      }

      .layout.baseline {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      }

      /**
       * Alignment in main axis.
       */
      .layout.start-justified {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      }

      .layout.center-justified,
      .layout.center-center {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      .layout.end-justified {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      }

      .layout.around-justified {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      }

      .layout.justified {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      }

      /**
       * Self alignment.
       */
      .self-start {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      }

      .self-center {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      }

      .self-end {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      }

      .self-stretch {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      }

      .self-baseline {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      }

      /**
       * multi-line alignment in main axis.
       */
      .layout.start-aligned {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      }

      .layout.end-aligned {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      }

      .layout.center-aligned {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      }

      .layout.between-aligned {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      }

      .layout.around-aligned {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      }
    </style>
  </template>
</dom-module>

<dom-module id="iron-flex-factors">
  <template>
    <style>
      .flex,
      .flex-1 {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }

      .flex-2 {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      }

      .flex-3 {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      }

      .flex-4 {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      }

      .flex-5 {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      }

      .flex-6 {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      }

      .flex-7 {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      }

      .flex-8 {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      }

      .flex-9 {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      }

      .flex-10 {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      }

      .flex-11 {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      }

      .flex-12 {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      }
    </style>
  </template>
</dom-module>


<dom-module id="iron-positioning">
  <template>
    <style>
      .block {
        display: block;
      }

      [hidden] {
        display: none !important;
      }

      .invisible {
        visibility: hidden !important;
      }

      .relative {
        position: relative;
      }

      .fit {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }

      body.fullbleed {
        margin: 0;
        height: 100vh;
      }

      .scroll {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      }

      /* fixed position */
      .fixed-bottom,
      .fixed-left,
      .fixed-right,
      .fixed-top {
        position: fixed;
      }

      .fixed-top {
        top: 0;
        left: 0;
        right: 0;
      }

      .fixed-right {
        top: 0;
        right: 0;
        bottom: 0;
      }

      .fixed-bottom {
        right: 0;
        bottom: 0;
        left: 0;
      }

      .fixed-left {
        top: 0;
        bottom: 0;
        left: 0;
      }
    </style>
  </template>
</dom-module>









<style is="custom-style">

  :root {
    --tb-orange-weak: #ffa726;
    --tb-orange-strong: #f57c00;
    --tb-orange-dark: #dc7320;
    --tb-grey-darker: #e2e2e2;
    --tb-grey-lighter: #f3f3f3;
    --tb-ui-dark-accent: #757575;
    --tb-ui-light-accent: #e0e0e0;
    --tb-graph-faded: #e0d4b3;
  }

</style>


<dom-module id="dashboard-style">
  <template>
    <style include="iron-flex"></style>
    <style>
      .sidebar {
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        overflow-x: hidden;
        padding: 5px 0;
        text-overflow: ellipsis;
      }

      tf-runs-selector {
        flex-shrink: 1;
        flex-grow: 1;
      }

      .search-input {
        margin: 10px 5px 0 10px;
      }

      .sidebar-section {
        border-top: solid 1px rgba(0, 0, 0, .12);
        padding: 15px 0 15px 30px;
      }

      .sidebar-section:first-of-type {
        border: none;
      }

      .sidebar-section:last-of-type {
        flex-grow: 1;
        display: flex;
      }

      .sidebar-section paper-button {
        margin: 5px;
      }

      .sidebar-section paper-button:first-of-type {
        margin-left: 0 !important;
      }

      .sidebar-section paper-button:last-of-type {
        margin-right: 0 !important;
      }

      .sidebar-section > :first-child {
        margin-top: 0;
        padding-top: 0;
      }

      .sidebar-section > :last-child {
        margin-bottom: 0;
        padding-bottom: 0;
      }

      .sidebar-section h3 {
        color: var(--paper-grey-800);
        display: block;
        font-size: 14px;
        font-weight: normal;
        margin: 10px 0 5px;
        pointer-events: none;
      }

      paper-checkbox {
        --paper-checkbox-checked-color: var(--tb-ui-dark-accent);
        --paper-checkbox-unchecked-color: var(--tb-ui-dark-accent);
        font-size: 15px;
        margin-top: 5px;
      }
    </style>
  </template>
</dom-module>





<dom-module id="scrollbar-style">
  <template>
    <style>
      .scrollbar::-webkit-scrollbar-track
      {
        visibility: hidden;
      }

      .scrollbar::-webkit-scrollbar
      {
        width: 10px;
      }

      .scrollbar::-webkit-scrollbar-thumb
      {
        border-radius: 10px;
        -webkit-box-shadow: inset 0 0 2px rgba(0,0,0,.3);
        background-color: var(--paper-grey-500);
        color: var(--paper-grey-900);
      }
      .scrollbar {
        box-sizing: border-box;
      }
    </style>
  </template>
</dom-module>




<dom-module id="tf-dashboard-layout">
  <template>
    <div id="sidebar">
      <content select=".sidebar"></content>
    </div>

    <div id="center">
      <content select=".center" class="scollbar"></content>
    </div>
    <style include="scrollbar-style"></style>
    <style>
      :host {
        display: flex;
        flex-direction: row;
        height: 100%;
      }

      #sidebar {
        flex: 0 0 var(--tf-dashboard-layout-sidebar-basis, 25%);
        height: 100%;
        max-width: var(--tf-dashboard-layout-sidebar-max-width, 350px);
        min-width: var(--tf-dashboard-layout-sidebar-min-width, 270px);
        overflow-y: auto;
        text-overflow: ellipsis;
      }

      #center {
        flex-grow: 1;
        flex-shrink: 1;
        height: 100%;
        overflow: hidden;
      }

      ::content.center {
        height: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        width: 100%;
        will-change: transform;
      }

      .tf-graph-dashboard #center {
        background: #fff;
      }
    </style>
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-dashboard-layout.html.js
Polymer({is:"tf-dashboard-layout"});
</script>
</dom-module>





<dom-module id="tf-option-selector">
  <template>
    <div id="wrap">
      <h3>[[name]]</h3>
      <div class="content-wrapper"><slot></slot></div>
    </div>
    <style>
      .content-wrapper ::content > * {
        background: none;
        color: var(--tb-ui-dark-accent);
        font-size: 13px;
        margin-top: 10px;
      }

      .content-wrapper ::content :first-of-type {
        margin-left: 0;
      }

      .content-wrapper ::content .selected {
        background-color: var(--tb-ui-dark-accent);
        color: white !important;
      }

      h3 {
        color: var(--paper-grey-800);
        display: block;
        font-size: 14px;
        font-weight: normal;
        margin: 0 0 5px;
        pointer-events: none;
      }
    </style>
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-option-selector.html.js
Polymer({is:"tf-option-selector",properties:{name:String,selectedId:{type:String,notify:!0,observer:"_selectedIdChanged"}},attached:function(){this.async(function(){this.getEffectiveChildren().forEach(function(a){this.listen(a,"tap","_selectTarget")}.bind(this))})},_selectTarget:function(a){this.selectedId=a.currentTarget.id},_selectedIdChanged:function(){var a=this.queryEffectiveChildren("#"+this.selectedId);a&&(this.getEffectiveChildren().forEach(function(b){b.classList.remove("selected")}),a.classList.add("selected"))}});
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-globals/globals.js
var Pf;(function(a){var b=!1;a.setUseHash=function(d){b=d};a.useHash=function(){return b};var c="";a.setFakeHash=function(d){c=d};a.getFakeHash=function(){return c};a.getEnableDataSelector=function(){return(new URLSearchParams(window.location.search)).has("EnableDataSelector")}})(Pf||(Pf={}));
</script>




<script>//~~WEBPATH~~/tf-storage/listeners.js
var Qf;
(function(a){var b=function(){return function(e){this.listener=e}}();a.ListenKey=b;var c=new Set,d=new Set;window.addEventListener("hashchange",function(){c.forEach(function(e){return e.listener()})});window.addEventListener("storage",function(){d.forEach(function(e){return e.listener()})});a.addHashListener=function(e){e=new b(e);c.add(e);return e};a.addStorageListener=function(e){e=new b(e);d.add(e);return e};a.fireStorageChanged=function(){d.forEach(function(e){return e.listener()})};a.removeHashListenerByKey=function(e){c.delete(e)};
a.removeStorageListenerByKey=function(e){d.delete(e)}})(Qf||(Qf={}));
</script>
<script>//~~WEBPATH~~/tf-storage/storage.js
var Rf=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};
(function(a){function b(k,l){function n(t,v){void 0===v&&(v={});var u=v.defaultValue;v=v.useLocalStorage;t=(void 0===v?0:v)?window.localStorage.getItem(t):g(d())[t];return void 0==t?_.cloneDeep(u):k(t)}function p(t,v,u){void 0===u&&(u={});var y=u.defaultValue,w=u.useLocalStorage;w=void 0===w?!1:w;u=u.useLocationReplace;u=void 0===u?!1:u;var x=l(v);w?(window.localStorage.setItem(t,x),a.fireStorageChanged()):_.isEqual(v,n(t,{useLocalStorage:w}))||(_.isEqual(v,y)?(v=g(d()),delete v[t],e(f(v))):(v=g(d()),
v[t]=x,e(f(v),u)))}var q=[],r=[];return{get:n,set:p,getInitializer:function(t,v){var u=Rf({defaultValue:v.defaultValue,polymerProperty:t,useLocalStorage:!1},v);return function(){function y(){var B=n(x,u);_.isEqual(B,w[u.polymerProperty])||(w[u.polymerProperty]=B)}var w=this,x=c(this,t),z=(u.useLocalStorage?a.addStorageListener:a.addHashListener)(function(){return y()});u.useLocalStorage?r.push(z):q.push(z);y();return this[u.polymerProperty]}},getObserver:function(t,v){var u=Rf({defaultValue:v.defaultValue,
polymerProperty:t,useLocalStorage:!1},v);return function(){p(c(this,t),this[u.polymerProperty],u)}},disposeBinding:function(){q.forEach(function(t){return a.removeHashListenerByKey(t)});r.forEach(function(t){return a.removeStorageListenerByKey(t)})}}}function c(k,l){k=k[a.DISAMBIGUATOR];return(null==k?[l]:[k,l]).join(".")}function d(){return Pf.useHash()?window.location.hash.slice(1):Pf.getFakeHash()}function e(k,l){void 0===l&&(l=!1);Pf.useHash()?l?window.location.replace("#"+k):window.location.hash=
k:Pf.setFakeHash(k)}function f(k){var l="";void 0!==k[a.TAB]&&(l+=k[a.TAB]);var n=Object.keys(k).map(function(p){return[p,k[p]]}).filter(function(p){return p[0]!==a.TAB}).map(function(p){return encodeURIComponent(p[0])+"\x3d"+encodeURIComponent(p[1])}).join("\x26");return 0<n.length?l+"\x26"+n:l}function g(k){var l={};k.split("\x26").forEach(function(n){n=n.split("\x3d");1===n.length?l[a.TAB]=n[0]:2===n.length&&(l[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))});return l}a.TAB="__tab__";a.DISAMBIGUATOR=
"disambiguator";var h=b(function(k){return k},function(k){return k});a.getString=h.get;a.setString=h.set;a.getStringInitializer=h.getInitializer;a.getStringObserver=h.getObserver;a.disposeStringBinding=h.disposeBinding;h=b(function(k){return"true"===k?!0:"false"===k?!1:void 0},function(k){return k.toString()});a.getBoolean=h.get;a.setBoolean=h.set;a.getBooleanInitializer=h.getInitializer;a.getBooleanObserver=h.getObserver;a.disposeBooleanBinding=h.disposeBinding;h=b(function(k){return+k},function(k){return k.toString()});
a.getNumber=h.get;a.setNumber=h.set;a.getNumberInitializer=h.getInitializer;a.getNumberObserver=h.getObserver;a.disposeNumberBinding=h.disposeBinding;h=b(function(k){return JSON.parse(atob(k))},function(k){return btoa(JSON.stringify(k))});a.getObject=h.get;a.setObject=h.set;a.getObjectInitializer=h.getInitializer;a.getObjectObserver=h.getObserver;a.disposeObjectBinding=h.disposeBinding;a.makeBindings=b})(Qf||(Qf={}));
</script>








<dom-module id="tf-inference-panel">
  <template>
    <style id="linter-paper-button-style">
      /**
       * This style preserves the styling previous to
       * https://github.com/PolymerElements/paper-button/pull/115
       * This change can break the layout of paper-button content.
       * Remove this style to apply the change.
       */
      paper-button {
        display: inline-block;
        text-align: center;
        font-family: inherit;
      }
    </style>
    <style>
      :host {
        display: block;
        font-size: 14px;
      }
      tf-option-selector .model-type-button {
        width: auto;
      }
      .flex-holder {
        display: flex;
      }
      .title {
        font-size: 32px;
        margin-bottom: 20px;
      }
      .help-icon {
        width: 15px;
        height: 15px;
        padding: 0;
        color: #757575;
      }
      .tooltip {
        width: 500px;
      }
      .input-in-row {
        margin-right: 10px;
      }
      .flex-grow {
        flex-grow: 1;
      }
      .model-type-label {
        padding-top: 10px;
      }
      .add-model-button-holder {
        display: flex;
      }
      .checkbox {
        margin-top: 30px;
        margin-left: 10px;
      }
      .predict-checkbox {
        margin-top: 43px;
        margin-left: 10px;
      }
      paper-input {
        --paper-input-container-focus-color: #f57c00;
      }
      paper-radio-button {
        --paper-radio-button-unchecked-color: #3C4043;
        --paper-radio-button-unchecked-ink-color: #3C4043;
        --paper-radio-button-checked-color: #3C4043;
        --paper-radio-button-checked-ink-color: #3C4043;
      }
    </style>
    <div class="title">Set up your data and model</div>
    <paper-input always-float-label label="Inference address" placeholder="[[inferenceAddress1]]" value="{{inferenceAddress1}}">
    </paper-input>
    <div class="flex-holder">
      <paper-input always-float-label label="Model name" placeholder="[[modelName1]]" value="{{modelName1}}" class="input-in-row">
      </paper-input>
      <paper-input always-float-label label="Model version (optional)" placeholder="[[modelVersion1]]" value="{{modelVersion1}}" class="input-in-row">
      </paper-input>
      <paper-input always-float-label label="Model signature (optional)" placeholder="[[modelSignature1]]" value="{{modelSignature1}}" class="input-in-row">
      </paper-input>
    </div>
    <div hidden$="{{hideModelPane2}}">
      <paper-input always-float-label label="Inference address" placeholder="[[inferenceAddress2]]" value="{{inferenceAddress2}}">
      </paper-input>
      <div class="flex-holder">
        <paper-input always-float-label label="Model name" placeholder="[[modelName2]]" value="{{modelName2}}" class="input-in-row">
        </paper-input>
        <paper-input always-float-label label="Model version (optional)" placeholder="[[modelVersion2]]" value="{{modelVersion2}}" class="input-in-row">
        </paper-input>
        <paper-input always-float-label label="Model signature (optional)" placeholder="[[modelSignature2]]" value="{{modelSignature2}}" class="input-in-row">
        </paper-input>
      </div>
    </div>
    <div class="add-model-button-holder" hidden$="{{!hideModelPane2}}">
      <paper-button on-tap="addModelClicked_" class="main-button">
        Add another model for comparison
      </paper-button>
    </div>
    <div class="flex-holder">
      <div>
        <div class="model-type-label">Model Type</div>
        <paper-radio-group selected="{{modelType}}">
          <paper-radio-button name="classification">Classification</paper-radio-button>
          <paper-radio-button name="regression">Regression</paper-radio-button>
        </paper-radio-group>
      </div>
      <paper-checkbox checked="{{usePredictApi}}" class="predict-checkbox">
        Uses Predict API
      </paper-checkbox>
    </div>
    <div class="flex-holder">
      <paper-input always-float-label label="Input tensor name" placeholder="[[predictInputTensor]]" value="{{predictInputTensor}}" class="input-in-row" hidden$="[[shouldDisablePredictTensorControls_(usePredictApi)]]">
      </paper-input>
      <paper-input always-float-label label="Output tensor name" placeholder="[[predictOutputTensor]]" value="{{predictOutputTensor}}" class="input-in-row" hidden$="[[shouldDisablePredictTensorControls_(usePredictApi)]]">
      </paper-input>
    </div>
    <div class="flex-holder">
      <paper-input always-float-label label="Path to examples" value="{{examplesPath}}" class="flex-grow">
      </paper-input>
      <paper-checkbox checked="{{sequenceExamples}}" class="checkbox">
        SequenceExamples
      </paper-checkbox>
    </div>
    <div class="flex-holder">
      <paper-input always-float-label type="number" class="input-in-row flex-grow" label="Maximum number of examples to load" placeholder="[[maxExamples]]" value="{{maxExamples}}">
      </paper-input>
      <paper-input always-float-label type="number" class="input-in-row flex-grow" label="Sampling ratio (0.2 = sample ~20% of examples)" placeholder="[[samplingOdds]]" value="{{samplingOdds}}">
      </paper-input>
    </div>
    <paper-input always-float-label label="Path to label dictionary (optional)" placeholder="[[labelVocabPath]]" value="{{labelVocabPath}}" disabled="[[shouldDisableClassificationControls_(modelType)]]">
    </paper-input>
    <div class="flex-holder">
      <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
      <div>Maps predicted class indices to labels from text file</div>
      <paper-tooltip class="tooltip" animation-delay="0" position="bottom" offset="0">
        An optional text file for use with the results of a classification model.
        Classification models return predicted classes as indices. If a vocab file is
        provided, each predicted class index will be mapped to a label from this file for use
        in the display. Each line in the file corresponds to a label, with the first line
        corresponding to class index 0.
      </paper-tooltip>
    </div>
    <div class="flex-holder">
      <paper-input always-float-label type="number" label="Max classes to display" placeholder="[[maxClassesToDisplay]]" value="{{maxClassesToDisplay}}" class="input-in-row" disabled="[[shouldDisableMultiClassControls_(multiClass)]]">
      </paper-input>
      <paper-checkbox disabled="[[shouldDisableClassificationControls_(modelType)]]" checked="{{multiClass}}" class="checkbox">
        Multi-class classification model
      </paper-checkbox>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-inference-panel.html.js
Polymer({is:"tf-inference-panel",properties:{examplesPath:{type:String,value:Qf.getStringInitializer("examplesPath",{defaultValue:""}),observer:"examplesPathChanged_",notify:!0},hideModelPane2:{type:Boolean,value:Qf.getBooleanInitializer("hideModelPane2",{defaultValue:!0}),observer:"hideModelPane2Changed_"},modelName:{type:String,value:"",notify:!0},modelName1:{type:String,value:Qf.getStringInitializer("modelName1",{defaultValue:""}),observer:"modelName1Changed_",notify:!0},modelName2:{type:String,
value:Qf.getStringInitializer("modelName2",{defaultValue:""}),observer:"modelName2Changed_",notify:!0},inferenceAddress:{type:String,value:"",notify:!0},inferenceAddress1:{type:String,value:Qf.getStringInitializer("inferenceAddress1",{defaultValue:""}),observer:"inferenceAddress1Changed_",notify:!0},inferenceAddress2:{type:String,value:Qf.getStringInitializer("inferenceAddress2",{defaultValue:""}),observer:"inferenceAddress2Changed_",notify:!0},modelType:{type:String,value:Qf.getStringInitializer("modelType",
{defaultValue:"classification"}),observer:"modelTypeChanged_",notify:!0},modelVersion:{type:String,value:"",notify:!0},modelVersion1:{type:String,value:Qf.getStringInitializer("modelVersion1",{defaultValue:""}),observer:"modelVersion1Changed_",notify:!0},modelVersion2:{type:String,value:Qf.getStringInitializer("modelVersion2",{defaultValue:""}),observer:"modelVersion2Changed_",notify:!0},modelSignature:{type:String,value:"",notify:!0},modelSignature1:{type:String,value:Qf.getStringInitializer("modelSignature1",
{defaultValue:""}),observer:"modelSignature1Changed_",notify:!0},modelSignature2:{type:String,value:Qf.getStringInitializer("modelSignature2",{defaultValue:""}),observer:"modelSignature2Changed_",notify:!0},maxExamples:{type:Number,value:Qf.getStringInitializer("maxExamples",{defaultValue:"1000"}),observer:"maxExamplesChanged_",notify:!0},labelVocabPath:{type:String,value:Qf.getStringInitializer("labelVocabPath",{defaultValue:""}),observer:"labelVocabPathChanged_",notify:!0},multiClass:{type:Boolean,
notify:!0,value:Qf.getBooleanInitializer("multiClass",{defaultValue:!1}),observer:"multiClassChanged_"},sequenceExamples:{type:Boolean,notify:!0,value:Qf.getBooleanInitializer("sequenceExamples",{defaultValue:!1}),observer:"sequenceExamplesChanged_"},maxClassesToDisplay:{type:Number,value:Qf.getStringInitializer("maxClassesToDisplay",{defaultValue:"5"}),observer:"maxClassesToDisplayChanged_",notify:!0},samplingOdds:{type:Number,value:Qf.getStringInitializer("samplingOdds",{defaultValue:"1"}),observer:"samplingOddsChanged_",
notify:!0},usePredictApi:{type:Boolean,notify:!0,value:Qf.getBooleanInitializer("usePredictApi",{defaultValue:!1}),observer:"usePredictApiChanged_"},predictInputTensor:{type:String,value:Qf.getStringInitializer("predictInputTensor",{defaultValue:"examples"}),observer:"predictInputTensorChanged_",notify:!0},predictOutputTensor:{type:String,value:Qf.getStringInitializer("predictOutputTensor",{defaultValue:"probabilities"}),observer:"predictOutputTensorChanged_",notify:!0}},observers:["updateModelName(modelName1, modelName2)",
"updateInferenceAddress(inferenceAddress1, inferenceAddress2)","updateModelVersion(modelVersion1, modelVersion2)","updateModelSignature(modelSignature1, modelSignature2)"],updateModelName:function(a,b){this.modelName=a+","+b;this.modelName=this.modelName.replace(/(^,)|(,$)/g,"")},updateInferenceAddress:function(a,b){this.inferenceAddress=a+","+b;this.inferenceAddress=this.inferenceAddress.replace(/(^,)|(,$)/g,"")},updateModelVersion:function(a,b){this.modelVersion=a+","+b},updateModelSignature:function(a,
b){this.modelSignature=a+","+b},addModelClicked_:function(){this.hideModelPane2=!this.hideModelPane2},examplesPathChanged_:Qf.getStringObserver("examplesPath",{defaultValue:""}),modelName1Changed_:Qf.getStringObserver("modelName1",{defaultValue:""}),modelName2Changed_:Qf.getStringObserver("modelName2",{defaultValue:""}),inferenceAddress1Changed_:Qf.getStringObserver("inferenceAddress1",{defaultValue:""}),inferenceAddress2Changed_:Qf.getStringObserver("inferenceAddress2",{defaultValue:""}),modelTypeChanged_:Qf.getStringObserver("modelType",
{defaultValue:"classification"}),modelVersion1Changed_:Qf.getStringObserver("modelVersion1",{defaultValue:""}),modelVersion2Changed_:Qf.getStringObserver("modelVersion2",{defaultValue:""}),modelSignature1Changed_:Qf.getStringObserver("modelSignature1",{defaultValue:""}),modelSignature2Changed_:Qf.getStringObserver("modelSignature2",{defaultValue:""}),maxExamplesChanged_:Qf.getStringObserver("maxExamples",{defaultValue:"1000"}),labelVocabPathChanged_:Qf.getStringObserver("labelVocabPath",{defaultValue:""}),
maxClassesToDisplayChanged_:Qf.getStringObserver("maxClassesToDisplay",{defaultValue:"5"}),samplingOddsChanged_:Qf.getStringObserver("samplingOdds",{defaultValue:"1"}),multiClassChanged_:Qf.getBooleanObserver("multiClass",{defaultValue:!1}),sequenceExamplesChanged_:Qf.getBooleanObserver("sequenceExamples",{defaultValue:!1}),hideModelPane2Changed_:Qf.getBooleanObserver("hideModelPane2",{defaultValue:!0}),usePredictApiChanged_:Qf.getBooleanObserver("usePredictApi",{defaultValue:!1}),predictOutputTensorChanged_:Qf.getStringObserver("predictOutputTensor",
{defaultValue:"probabilities"}),predictInputTensorChanged_:Qf.getStringObserver("predictInputTensor",{defaultValue:"examples"}),shouldDisableClassificationControls_:function(a){return"regression"==a},shouldDisableMultiClassControls_:function(a){return!a},shouldDisablePredictTensorControls_:function(a){return!a}});
</script>
</dom-module>





<dom-module id="tf-plugin-dialog">
  <template>
    
    <template is="dom-if" if="[[_open]]">
      <div id="dashboard-backdrop"></div>
    </template>
    <paper-dialog id="dialog" modal opened="{{_open}}" with-backdrop="[[_useNativeBackdrop]]">
      <h2 id="dialog-title">[[_title]]</h2>
      <div class="custom-message">[[_customMessage]]</div>
    </paper-dialog>
  </template>
  <style>
    /** We rely on a separate `_hidden` property instead of directly making use
        of the `_open` attribute because this CSS specification may strangely
        affect other elements throughout TensorBoard. See #899. */
    #dashboard-backdrop {
      background: rgba(0, 0, 0, 0.6);
      width: 100%;
      height: 100%;
    }

    #dialog-title {
      padding-bottom: 15px;
    }

    .custom-message {
      margin-top: 0;
      margin-bottom: 15px;
    }
  </style>
  <script>//~~WEBPATH~~/tf-tensorboard/plugin-dialog.html.js
Polymer({is:"tf-plugin-dialog",properties:{_title:{type:String,value:null},_customMessage:{type:String,value:null},_open:{type:Boolean},_hidden:{type:Boolean,computed:"_computeHidden(_open)",reflectToAttribute:!0},_useNativeBackdrop:{type:Boolean,value:!1,readOnly:!0}},openNoTensorFlowDialog:function(){this.openDialog("This plugin is disabled without TensorFlow",'To enable this plugin in TensorBoard, install TensorFlow with "pip install tensorflow" or equivalent.')},openOldTensorFlowDialog:function(a){this.openDialog("This plugin is disabled without TensorFlow "+
a,"To enable this plugin in TensorBoard, install TensorFlow "+a+' or greater with "pip install tensorflow" or equivalent.')},openDialog:function(a,b){this.set("_title",a);this.set("_customMessage",b);this.$.dialog.open()},closeDialog:function(){this.$.dialog.close()},_computeHidden:function(a){return!a}});
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-tensorboard/registry.js
var Sf;
(function(a){(function(b){b.NOT_LOADED="NOT_LOADED";b.LOADED="LOADED";b.FAILED="FAILED"})(a.ActiveDashboardsLoadState||(a.ActiveDashboardsLoadState={}));a.dashboardRegistry={};a.registerDashboard=function(){var b={plugin:"whatif",elementName:"tf-interactive-inference-dashboard",tabName:"What-If Tool"};if(!b.plugin)throw Error("Dashboard.plugin must be present");if(!b.elementName)throw Error("Dashboard.elementName must be present");if(b.plugin in a.dashboardRegistry)throw Error("Plugin already registered: "+b.plugin);
b.tabName||(b.tabName=b.plugin);a.dashboardRegistry[b.plugin]=b}})(Sf||(Sf={}));
</script>





<script>//~~WEBPATH~~/tf-imports/plottable.js
/*
 MIT
 MIT
 @fileoverview Implements the Signature API to help in comparing when two
 Plottable objects have "changed".

 Memoization in Plottable is complicated by mutable scales and datasets. We cannot simply
 reference compare two e.g. scales since it may have internally mutated. To resolve this,
 we write a recursive Signature interface that holds an immutable snapshot of whatever
 state the scale/data was in at the time. Then on memoized function invocation we sign the
 new inputs and compare the signatures to decide if we should recompute.

 We must hand-write a signature for each custom class we wish to support.
 MIT

 @fileoverview manually add d3-selection-multi to d3 default bundle. Most of this code is
 copied from d3-selection-multi@1.0.0.
 See https://github.com/d3/d3-selection-multi/issues/11 for why we have to do this
 MIT
 @fileoverview Implements a convenient thunk function to handle the common case
 of creating a memoized function that takes its inputs from mutable class properties.
 MIT
 @fileoverview Implements a function memoizer using the Signature API.
 Plottable 3.7.0 (https://github.com/palantir/plottable)
 Copyright 2014-2017 Palantir Technologies
 Licensed under MIT (https://github.com/palantir/plottable/blob/master/LICENSE)
 is-plain-object <https://github.com/jonschlinkert/is-plain-object>

 Copyright (c) 2014-2017, Jon Schlinkert.
 Released under the MIT License.
 isobject <https://github.com/jonschlinkert/isobject>

 Copyright (c) 2014-2017, Jon Schlinkert.
 Released under the MIT License.
*/
function Tf(a){return function(b){function c(e){if(d[e])return d[e].exports;var f=d[e]={i:e,l:!1,exports:{}};b[e].call(f.exports,f,f.exports,c);f.l=!0;return f.exports}var d={};c.m=b;c.c=d;c.i=function(e){return e};c.d=function(e,f,g){c.o(e,f)||Object.defineProperty(e,f,{configurable:!1,enumerable:!0,get:g})};c.n=function(e){var f=e&&e.__esModule?function(){return e["default"]}:function(){return e};c.d(f,"a",f);return f};c.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)};c.p="";return c(c.s=
140)}([function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}b=d(107);c.Array=b;b=d(110);c.Color=b;b=d(55);c.DOM=b;b=d(56);c.Math=b;b=d(113);c.Object=b;b=d(57);c.RTree=b;b=d(115);c.Stacking=b;b=d(35);c.Window=b;e(d(108));e(d(109));e(d(12));e(d(111));e(d(112));e(d(58));e(d(116))},function(b){b.exports=a},function(b,c,d){function e(y,w,x){var z=w.accessor;w=w.scale;if(null==w)return[];var B=y.data();null!=x&&(B=B.filter(function(A,C){return x(A,C,y)}));B=B.map(function(A,C){return z(A,
C,y)});return w.extentOfValues(B)}var f=this&&this.__extends||function(y,w){function x(){this.constructor=y}for(var z in w)w.hasOwnProperty(z)&&(y[z]=w[z]);y.prototype=null===w?Object.create(w):(x.prototype=w.prototype,new x)},g=d(1),h=d(7);b=d(4);var k=d(18),l=d(6),n=d(9),p=d(20),q=d(0),r=d(12),t=d(10),v=d(51),u=d(52);c.Renderer=t.makeEnum(["svg","canvas"]);d=function(y){function w(){var x=y.call(this)||this;x._dataChanged=!1;x._attrExtents={};x._animate=!1;x._animators={};x._propertyExtents={};
x._resetEntityStore=function(){x._cachedEntityStore=void 0};x._overflowHidden=!0;x.addClass("plot");x._datasetToDrawer=new q.Map;x._attrBindings=g.map();x._includedValuesProvider=function(B,A){return x._includedValuesForScale(B,A)};x._renderCallback=function(){return x.render()};x._onDatasetUpdateCallback=function(){return x._onDatasetUpdate()};x._propertyBindings=g.map();var z=(new h.Easing).maxTotalDuration(w._ANIMATION_MAX_DURATION);x.animator(v.Animator.MAIN,z);x.animator(v.Animator.RESET,new h.Null);
x._deferredResetEntityStore=q.Window.debounce(u.DeferredRenderer.DEFERRED_RENDERING_DELAY,x._resetEntityStore);return x}f(w,y);w.getTotalDrawTime=function(x,z){return z.reduce(function(B,A){return B+A.animator.totalTime(x.length)},0)};w.applyDrawSteps=function(x,z){return x.map(function(B){var A=B.attrToProjector,C={};Object.keys(A).forEach(function(E){C[E]=function(F,I){return A[E](F,I,z)}});return{attrToAppliedProjector:C,animator:B.animator}})};w.prototype.anchor=function(x){x=r.coerceExternalD3(x);
y.prototype.anchor.call(this,x);this._dataChanged=!0;this._resetEntityStore();this._updateExtents();return this};w.prototype._setup=function(){var x=this;this._isSetup||(y.prototype._setup.call(this),null!=this._canvas&&this._appendCanvasNode(),this._renderArea=this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(z){return x._createNodesForDataset(z)}))};w.prototype._appendCanvasNode=function(){var x=this.element().select(".plot-canvas-container");x.empty()&&(x=this.element().append("div").classed("plot-canvas-container",
!0),x.node().appendChild(this._canvas.node()))};w.prototype.setBounds=function(x,z,B,A){y.prototype.setBounds.call(this,x,z,B,A);this._resetEntityStore();null!=this._canvas&&(this._bufferCanvas&&!this._bufferCanvasValid&&(this._bufferCanvas.attr("width",this._canvas.attr("width")),this._bufferCanvas.attr("height",this._canvas.attr("height")),(B=this._bufferCanvas.node().getContext("2d"))&&B.drawImage(this._canvas.node(),0,0),this._bufferCanvasValid=!0),B=null!=window.devicePixelRatio?window.devicePixelRatio:
1,this._canvas.attr("width",x*B),this._canvas.attr("height",z*B),A=this._canvas.node().getContext("2d"))&&(A.setTransform(B,0,0,B,0,0),this._bufferCanvas&&A.drawImage(this._bufferCanvas.node(),0,0,x,z))};w.prototype.destroy=function(){var x=this;y.prototype.destroy.call(this);this._scales().forEach(function(z){return z.offUpdate(x._renderCallback)});this.datasets([])};w.prototype._createNodesForDataset=function(x){x=this._datasetToDrawer.get(x);"svg"===this.renderer()?x.useSVG(this._renderArea):x.useCanvas(this._canvas);
return x};w.prototype._createDrawer=function(){return new l.ProxyDrawer(function(){return new n.SVGDrawer("path","")},function(x){return new k.CanvasDrawer(x,function(){})})};w.prototype._getAnimator=function(x){return this._animateOnNextRender()?this._animators[x]||new h.Null:new h.Null};w.prototype._onDatasetUpdate=function(){this._updateExtents();this._dataChanged=!0;this._resetEntityStore();this.renderLowPriority()};w.prototype.attr=function(x,z,B){if(null==z)return this._attrBindings.get(x);
this._bindAttr(x,z,B);this.render();return this};w.prototype._bindProperty=function(x,z,B,A){var C=this._propertyBindings.get(x);C=null!=C?C.scale:null;this._propertyBindings.set(x,{accessor:"function"===typeof z?z:function(){return z},scale:B,postScale:A});null!=C&&this._uninstallScaleForKey(C,x);null!=B&&this._installScaleForKey(B,x);this._clearAttrToProjectorCache()};w.prototype._bindAttr=function(x,z,B){var A=this._attrBindings.get(x);A=null!=A?A.scale:null;this._attrBindings.set(x,{accessor:"function"===
typeof z?z:function(){return z},scale:B});null!=A&&this._uninstallScaleForKey(A,x);null!=B&&this._installScaleForKey(B,x);this._clearAttrToProjectorCache()};w.prototype._clearAttrToProjectorCache=function(){delete this._cachedAttrToProjector};w.prototype._getAttrToProjector=function(){null==this._cachedAttrToProjector&&(this._cachedAttrToProjector=this._generateAttrToProjector());return q.Object.assign({},this._cachedAttrToProjector)};w.prototype._generateAttrToProjector=function(){var x={};this._attrBindings.each(function(B,
A){x[A]=w._scaledAccessor(B)});var z=this._propertyProjectors();Object.keys(z).forEach(function(B){null==x[B]&&(x[B]=z[B])});return x};w.prototype.renderImmediately=function(){y.prototype.renderImmediately.call(this);this._isAnchored&&(this._paint(),this._dataChanged=!1);return this};w.prototype.renderLowPriority=function(){this._renderCallback()};w.prototype.animated=function(x){if(null==x)return this._animate;this._animate=x;return this};w.prototype.detach=function(){y.prototype.detach.call(this);
this._updateExtents();return this};w.prototype._scales=function(){var x=[];this._attrBindings.each(function(z){z=z.scale;null!=z&&-1===x.indexOf(z)&&x.push(z)});this._propertyBindings.each(function(z){z=z.scale;null!=z&&-1===x.indexOf(z)&&x.push(z)});return x};w.prototype._updateExtents=function(){var x=this;this._resetEntityStore();this._scales().forEach(function(z){return z.addIncludedValuesProvider(x._includedValuesProvider)})};w.prototype._filterForProperty=function(){return null};w.prototype.getExtentsForAttr=
function(x){var z=this;null==this._attrExtents[x]&&(this._attrExtents[x]=p.memThunk(function(){return z.datasets()},function(){return z._attrBindings.get(x)},function(B,A){return null==A||null==A.accessor?null:B.map(function(C){return e(C,A,null)})}));return this._attrExtents[x]()};w.prototype.getExtentsForProperty=function(x){var z=this;null==this._propertyExtents[x]&&(this._propertyExtents[x]=p.memThunk(function(){return z.datasets()},function(){return z._propertyBindings.get(x)},function(){return z._filterForProperty(x)},
function(B,A,C){return null==A||null==A.accessor?null:B.map(function(E){return e(E,A,C)})}));return this._propertyExtents[x]()};w.prototype._includedValuesForScale=function(x,z){var B=this;if(!this._isAnchored&&!z)return[];var A=[];this._attrBindings.each(function(C,E){C.scale===x&&(C=B.getExtentsForAttr(E),null!=C&&(A=A.concat(g.merge(C))))});this._propertyBindings.each(function(C,E){C.scale===x&&(C=B.getExtentsForProperty(E),null!=C&&(A=A.concat(g.merge(C))))});return A};w.prototype.animator=function(x,
z){if(void 0===z)return this._animators[x];this._animators[x]=z;return this};w.prototype.renderer=function(x){var z=this;if(void 0===x)return null==this._canvas?"svg":"canvas";null==this._canvas&&"canvas"===x?(this._canvas=g.select(document.createElement("canvas")).classed("plot-canvas",!0),this._bufferCanvas=g.select(document.createElement("canvas")),null!=this.element()&&this._appendCanvasNode(),this._datasetToDrawer.forEach(function(B){B.useCanvas(z._canvas)}),this.render()):null!=this._canvas&&
"svg"==x&&(this._canvas.remove(),this._bufferCanvas=this._canvas=null,this._datasetToDrawer.forEach(function(B){B.useSVG(z._renderArea)}),this.render());return this};w.prototype.addDataset=function(x){this._addDataset(x);this._onDatasetUpdate();return this};w.prototype._addDataset=function(x){this._removeDataset(x);var z=this._createDrawer(x);this._datasetToDrawer.set(x,z);this._isSetup&&this._createNodesForDataset(x);x.onUpdate(this._onDatasetUpdateCallback);return this};w.prototype.removeDataset=
function(x){this._removeDataset(x);this._onDatasetUpdate()};w.prototype._removeDataset=function(x){if(-1===this.datasets().indexOf(x))return this;this._removeDatasetNodes(x);x.offUpdate(this._onDatasetUpdateCallback);this._datasetToDrawer.delete(x);return this};w.prototype._removeDatasetNodes=function(x){this._datasetToDrawer.get(x).remove()};w.prototype.datasets=function(x){var z=this,B=[];this._datasetToDrawer.forEach(function(A,C){return B.push(C)});if(null==x)return B;B.forEach(function(A){return z._removeDataset(A)});
x.forEach(function(A){return z._addDataset(A)});this._onDatasetUpdate();return this};w.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new h.Null}]};w.prototype._additionalPaint=function(){};w.prototype._buildLightweightPlotEntities=function(x){var z=this,B=[];x.forEach(function(A,C){var E=z._datasetToDrawer.get(A),F=0;A.data().forEach(function(I,Q){var J=z._pixelPoint(I,Q,A);q.Math.isNaN(J.x)||q.Math.isNaN(J.y)||(B.push({datum:I,get position(){return z._pixelPoint.call(z,
I,Q,A)},index:Q,dataset:A,datasetIndex:C,component:z,drawer:E,validDatumIndex:F}),F++)})});return B};w.prototype._getDataToDraw=function(){var x=new q.Map;this.datasets().forEach(function(z){return x.set(z,z.data())});return x};w.prototype._paint=function(){var x=this;delete this._cachedAttrToProjector;var z=this._generateDrawSteps(),B=this._getDataToDraw(),A=this.datasets().map(function(E){return x._datasetToDrawer.get(E)});if("canvas"===this.renderer()){var C=this._canvas.node();C.getContext("2d").clearRect(0,
0,C.clientWidth,C.clientHeight);this._bufferCanvasValid=!1}this.datasets().forEach(function(E,F){var I=w.applyDrawSteps(z,E);A[F].draw(B.get(E),I)});C=this.datasets().map(function(E){return w.getTotalDrawTime(B.get(E),z)});C=q.Math.max(C,0);this._additionalPaint(C)};w.prototype.selections=function(x){var z=this;void 0===x&&(x=this.datasets());if("canvas"===this.renderer())return g.selectAll();var B=[];x.forEach(function(A){A=z._datasetToDrawer.get(A);null!=A&&(A=A.getVisualPrimitives(),B.push.apply(B,
A))});return g.selectAll(B)};w.prototype.entities=function(x){var z=this;return this._getEntityStore(x).entities().map(function(B){return z._lightweightPlotEntityToPlotEntity(B)})};w.prototype._getEntityStore=function(x){function z(C){return B._entityBounds(C)}var B=this;if(void 0!==x){var A=new q.EntityStore;A.addAll(this._buildLightweightPlotEntities(x),z,this._localOriginBounds());return A}void 0===this._cachedEntityStore&&(A=new q.EntityStore,A.addAll(this._buildLightweightPlotEntities(this.datasets()),
z,this._localOriginBounds()),this._cachedEntityStore=A);return this._cachedEntityStore};w.prototype._localOriginBounds=function(){return{topLeft:{x:0,y:0},bottomRight:{x:this.width(),y:this.height()}}};w.prototype._entityBounds=function(x){x=this._pixelPoint(x.datum,x.index,x.dataset);return{x:x.x,y:x.y,width:0,height:0}};w.prototype._lightweightPlotEntityToPlotEntity=function(x){return{bounds:this._entityBounds(x),component:x.component,dataset:x.dataset,datasetIndex:x.datasetIndex,datum:x.datum,
index:x.index,position:x.position,selection:g.select(x.drawer.getVisualPrimitives()[x.validDatumIndex])}};w.prototype.entitiesAt=function(){throw Error("plots must implement entitiesAt");};w.prototype.entityNearest=function(x){x=this._getEntityStore().entityNearest(x);return void 0===x?void 0:this._lightweightPlotEntityToPlotEntity(x)};w.prototype.entitiesIn=function(x,z){return this.entitiesInBounds(null==z?{x:x.topLeft.x,y:x.topLeft.y,width:x.bottomRight.x-x.topLeft.x,height:x.bottomRight.y-x.topLeft.y}:
{x:x.min,y:z.min,width:x.max-x.min,height:z.max-z.min})};w.prototype.entitiesInBounds=function(x){var z=this;if(x=this._getEntityStore().entitiesInBounds(x))return x.map(function(B){return z._lightweightPlotEntityToPlotEntity(B)})};w.prototype.entitiesInXBounds=function(x){var z=this;if(x=this._getEntityStore().entitiesInXBounds(x))return x.map(function(B){return z._lightweightPlotEntityToPlotEntity(B)})};w.prototype.entitiesInYBounds=function(x){var z=this;if(x=this._getEntityStore().entitiesInYBounds(x))return x.map(function(B){return z._lightweightPlotEntityToPlotEntity(B)})};
w.prototype._uninstallScaleForKey=function(x){x.offUpdate(this._renderCallback);x.offUpdate(this._deferredResetEntityStore);x.removeIncludedValuesProvider(this._includedValuesProvider)};w.prototype._installScaleForKey=function(x){x.onUpdate(this._renderCallback);x.onUpdate(this._deferredResetEntityStore);x.addIncludedValuesProvider(this._includedValuesProvider)};w.prototype._propertyProjectors=function(){return{}};w._scaledAccessor=function(x){var z=x.scale,B=x.accessor,A=x.postScale,C=null==z?B:
function(E,F,I){return z.scale(B(E,F,I))};return null==A?C:function(E,F,I){return A(C(E,F,I),E,F,I)}};w.prototype._pixelPoint=function(){return{x:0,y:0}};w.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged};return w}(b.Component);d._ANIMATION_MAX_DURATION=600;c.Plot=d},function(b,c,d){function e(h){for(var k in h)c.hasOwnProperty(k)||(c[k]=h[k])}b=d(105);c.TickGenerators=b;e(d(54));e(d(101));e(d(102));e(d(103));e(d(104));e(d(106));var f=d(54),g=d(11);c.isTransformable=
function(h){return h instanceof g.QuantitativeScale||h instanceof f.Category}},function(b,c,d){var e=d(1),f=d(30),g=d(0),h=d(12);b=d(10);c.XAlignment=b.makeEnum(["left","center","right"]);c.YAlignment=b.makeEnum(["top","center","bottom"]);b=function(){function k(){this._overflowHidden=!1;this._origin={x:0,y:0};this._xAlignment="left";this._yAlignment="top";this._isAnchored=this._isSetup=!1;this._cssClasses=new g.Set;this._destroyed=!1;this._onAnchorCallbacks=new g.CallbackSet;this._onDetachCallbacks=
new g.CallbackSet;this._cssClasses.add("component")}k.prototype.anchor=function(l){l=h.coerceExternalD3(l);if(this._destroyed)throw Error("Can't reuse destroy()-ed Components!");this.isRoot()&&(this._rootElement=l,this._rootElement.classed("plottable",!0));null!=this._element?l.node().appendChild(this._element.node()):(this._element=l.append("div"),this._setup());this._isAnchored=!0;this._onAnchorCallbacks.callCallbacks(this);return this};k.prototype.onAnchor=function(l){this._isAnchored&&l(this);
this._onAnchorCallbacks.add(l)};k.prototype.offAnchor=function(l){this._onAnchorCallbacks.delete(l)};k.prototype._setup=function(){var l=this;this._isSetup||(this._cssClasses.forEach(function(n){l._element.classed(n,!0)}),this._cssClasses=new g.Set,this._backgroundContainer=this._element.append("svg").classed("background-container",!0),this._content=this._element.append("svg").classed("content",!0),this._foregroundContainer=this._element.append("svg").classed("foreground-container",!0),this._overflowHidden?
this._content.classed("component-overflow-hidden",!0):this._content.classed("component-overflow-visible",!0),this._isSetup=!0)};k.prototype.requestedSpace=function(){return{minWidth:0,minHeight:0}};k.prototype.computeLayout=function(l,n,p){if(null==l||null==n||null==p){if(null==this._element)throw Error("anchor() must be called before computeLayout()");if(null!=this._rootElement)l={x:0,y:0},p=this._rootElement.node(),n=g.DOM.elementWidth(p),p=g.DOM.elementHeight(p);else throw Error("null arguments cannot be passed to computeLayout() on a non-root, unanchored node");
}var q=this._sizeFromOffer(n,p),r=q.height;q=q.width;this.setBounds(q,r,l.x+(n-q)*k._xAlignToProportion[this._xAlignment],l.y+(p-r)*k._yAlignToProportion[this._yAlignment]);return this};k.prototype.setBounds=function(l,n,p,q){void 0===p&&(p=0);void 0===q&&(q=0);this._width=l;this._height=n;this._origin={x:p,y:q};null!=this._element&&this._element.styles({left:p+"px",height:n+"px",top:q+"px",width:l+"px"});null!=this._resizeHandler&&this._resizeHandler({width:l,height:n})};k.prototype._sizeFromOffer=
function(l,n){var p=this.requestedSpace(l,n);return{width:this.fixedWidth()?Math.min(l,p.minWidth):l,height:this.fixedHeight()?Math.min(n,p.minHeight):n}};k.prototype.render=function(){this._isAnchored&&this._isSetup&&0<=this.width()&&0<=this.height()&&f.registerToRender(this);return this};k.prototype.renderLowPriority=function(){this.render()};k.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&f.registerToComputeLayoutAndRender(this)};k.prototype.onResize=function(l){this._resizeHandler=
l;return this};k.prototype.renderImmediately=function(){return this};k.prototype.redraw=function(){this._isAnchored&&this._isSetup&&(this.isRoot()?this._scheduleComputeLayout():this.parent().redraw());return this};k.prototype.invalidateCache=function(){};k.prototype.renderTo=function(l){this.detach();if(null!=l){l="string"===typeof l?e.select(l):l instanceof Element?e.select(l):h.coerceExternalD3(l);if(!l.node()||null==l.node().nodeName)throw Error("Plottable requires a valid Element to renderTo");
if("svg"===l.node().nodeName)throw Error("Plottable 3.x and later can only renderTo an HTML component; pass a div instead!");this.anchor(l)}if(null==this._element)throw Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");f.registerToComputeLayoutAndRender(this);f.flush()};k.prototype.xAlignment=function(l){if(null==l)return this._xAlignment;l=l.toLowerCase();if(null==k._xAlignToProportion[l])throw Error("Unsupported alignment: "+
l);this._xAlignment=l;this.redraw();return this};k.prototype.yAlignment=function(l){if(null==l)return this._yAlignment;l=l.toLowerCase();if(null==k._yAlignToProportion[l])throw Error("Unsupported alignment: "+l);this._yAlignment=l;this.redraw();return this};k.prototype.hasClass=function(l){return null==l?!1:null==this._element?this._cssClasses.has(l):this._element.classed(l)};k.prototype.addClass=function(l){null!=l&&(null==this._element?this._cssClasses.add(l):this._element.classed(l,!0))};k.prototype.removeClass=
function(l){null!=l&&(null==this._element?this._cssClasses.delete(l):this._element.classed(l,!1))};k.prototype.fixedWidth=function(){return!1};k.prototype.fixedHeight=function(){return!1};k.prototype.detach=function(){this.parent(null);this._isAnchored&&this._element.remove();this._isAnchored=!1;this._onDetachCallbacks.callCallbacks(this);return this};k.prototype.onDetach=function(l){this._onDetachCallbacks.add(l)};k.prototype.offDetach=function(l){this._onDetachCallbacks.delete(l)};k.prototype.parent=
function(l){if(void 0===l)return this._parent;if(null!==l&&!l.has(this))throw Error("Passed invalid parent");this._parent=l;return this};k.prototype.bounds=function(){var l=this.origin();return{topLeft:l,bottomRight:{x:l.x+this.width(),y:l.y+this.height()}}};k.prototype.destroy=function(){this._destroyed=!0;this.detach()};k.prototype.width=function(){return this._width};k.prototype.height=function(){return this._height};k.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}};k.prototype.originToRoot=
function(){for(var l=this.origin(),n=this.parent();null!=n;){var p=n.origin();l.x+=p.x;l.y+=p.y;n=n.parent()}return l};k.prototype.root=function(){for(var l=this;!l.isRoot();)l=l.parent();return l};k.prototype.isRoot=function(){return null==this.parent()};k.prototype.foreground=function(){return this._foregroundContainer};k.prototype.content=function(){return this._content};k.prototype.element=function(){return this._element};k.prototype.rootElement=function(){return this.root()._rootElement};k.prototype.background=
function(){return this._backgroundContainer};return k}();b._xAlignToProportion={left:0,center:.5,right:1};b._yAlignToProportion={top:0,center:.5,bottom:1};c.Component=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(59));e(d(62));e(d(133));e(d(21));e(d(64));e(d(66))},function(b,c){b=function(){function d(e,f){this._svgDrawerFactory=e;this._canvasDrawerFactory=f}d.prototype.useSVG=function(e){null!=this._currentDrawer&&this._currentDrawer.remove();var f=this._svgDrawerFactory();
f.attachTo(e);this._currentDrawer=f};d.prototype.useCanvas=function(e){null!=this._currentDrawer&&this._currentDrawer.remove();this._currentDrawer=this._canvasDrawerFactory(e.node().getContext("2d"))};d.prototype.getDrawer=function(){return this._currentDrawer};d.prototype.remove=function(){null!=this._currentDrawer&&this._currentDrawer.remove()};d.prototype.draw=function(e,f){this._currentDrawer.draw(e,f)};d.prototype.getVisualPrimitives=function(){return this._currentDrawer.getVisualPrimitives()};
d.prototype.getVisualPrimitiveAtIndex=function(e){return this._currentDrawer.getVisualPrimitiveAtIndex(e)};return d}();c.ProxyDrawer=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(70));e(d(71))},function(b,c,d){function e(h){void 0===h&&(h=3);f(h);return function(k){return k.toFixed(h)}}function f(h){if(0>h||20<h)throw new RangeError("Formatter precision must be between 0 and 20");if(h!==Math.floor(h))throw new RangeError("Formatter precision must be an integer");
}var g=d(1);c.currency=function(h,k,l){void 0===h&&(h=2);void 0===k&&(k="$");void 0===l&&(l=!0);var n=e(h);return function(p){var q=n(Math.abs(p));""!==q&&(q=l?k+q:q+k,0>p&&(q="-"+q));return q}};c.fixed=e;c.general=function(h){void 0===h&&(h=3);f(h);return function(k){if("number"===typeof k){var l=Math.pow(10,h);return String(Math.round(k*l)/l)}return String(k)}};c.identity=function(){return function(h){return String(h)}};c.percentage=function(h){void 0===h&&(h=0);var k=e(h);return function(l){var n=
l.toString();n=Math.pow(10,n.length-(n.indexOf(".")+1));return k(parseInt((100*l*n).toString(),10)/n)+"%"}};c.siSuffix=function(h){void 0===h&&(h=3);f(h);return function(k){return g.format("."+h+"s")(k)}};c.shortScale=function(){var h=0;void 0===h&&(h=3);f(h);var k=g.format("."+h+"e"),l=g.format("."+h+"f"),n=Math.pow(10,18),p=Math.pow(10,-h);return function(q){var r=Math.abs(q);if((r<p||r>=n)&&0!==r)return k(q);for(var t=-1;r>=Math.pow(1E3,t+2)&&4>t;)t++;r=-1===t?l(q):l(q/Math.pow(1E3,t+1))+"KMBTQ"[t];
if(0<q&&"1000"===r.substr(0,4)||0>q&&"-1000"===r.substr(0,5))4>t?(t++,r=l(q/Math.pow(1E3,t+1))+"KMBTQ"[t]):r=k(q);return r}};c.multiTime=function(){var h=[{specifier:".%L",predicate:function(k){return 0!==k.getMilliseconds()}},{specifier:":%S",predicate:function(k){return 0!==k.getSeconds()}},{specifier:"%I:%M",predicate:function(k){return 0!==k.getMinutes()}},{specifier:"%I %p",predicate:function(k){return 0!==k.getHours()}},{specifier:"%a %d",predicate:function(k){return 0!==k.getDay()&&1!==k.getDate()}},
{specifier:"%b %d",predicate:function(k){return 1!==k.getDate()}},{specifier:"%b",predicate:function(k){return 0!==k.getMonth()}}];return function(k){var l=h.filter(function(n){return n.predicate(k)});return g.timeFormat(0<l.length?l[0].specifier:"%Y")(k)}};c.time=function(h){return g.timeFormat(h)}},function(b,c,d){var e=d(1),f=d(0);b=function(){function g(h,k){this._root=e.select(document.createElementNS("http://www.w3.org/2000/svg","g"));this._className=k;this._svgElementName=h}g.prototype.draw=
function(h,k){var l=this;this._createAndDestroyDOMElements(h);var n=0;k.forEach(function(p){f.Window.setTimeout(function(){return l._drawStep(p)},n);n+=p.animator.totalTime(h.length)})};g.prototype.getVisualPrimitives=function(){null==this._cachedVisualPrimitivesNodes&&(this._cachedVisualPrimitivesNodes=this._selection.nodes());return this._cachedVisualPrimitivesNodes};g.prototype.getVisualPrimitiveAtIndex=function(h){return this.getVisualPrimitives()[h]};g.prototype.remove=function(){this._root.remove()};
g.prototype.attachTo=function(h){h.node().appendChild(this._root.node())};g.prototype.getRoot=function(){return this._root};g.prototype.selector=function(){return this._svgElementName};g.prototype._applyDefaultAttributes=function(){};g.prototype._createAndDestroyDOMElements=function(h){h=h.filter(function(k){return null!=k});h=this._root.selectAll(this.selector()).data(h);this._selection=h.enter().append(this._svgElementName).merge(h);h.exit().remove();this._cachedVisualPrimitivesNodes=null;null!=
this._className&&this._selection.classed(this._className,!0);this._applyDefaultAttributes(this._selection)};g.prototype._drawStep=function(h){var k=this;["fill","stroke"].forEach(function(l){null!=h.attrToAppliedProjector[l]&&k._selection.attr(l,h.attrToAppliedProjector[l])});h.animator.animate(this._selection,h.attrToAppliedProjector);null!=this._className&&this._selection.classed(this._className,!0)};return g}();c.SVGDrawer=b},function(b,c){c.makeEnum=function(d){return d.reduce(function(e,f){e[f]=
f;return e},{})}},function(b,c,d){var e=this&&this.__extends||function(k,l){function n(){this.constructor=k}for(var p in l)l.hasOwnProperty(p)&&(k[p]=l[p]);k.prototype=null===l?Object.create(l):(n.prototype=l.prototype,new n)},f=d(1),g=d(26),h=d(0);b=function(k){function l(){var n=k.call(this)||this;n._tickGenerator=function(p){return p.defaultTicks()};n._padProportion=.05;n._snappingDomainEnabled=!0;n._paddingExceptionsProviders=new h.Set;return n}e(l,k);l.prototype.autoDomain=function(){this._domainMax=
this._domainMin=null;k.prototype.autoDomain.call(this)};l.prototype._autoDomainIfAutomaticMode=function(){if(null!=this._domainMin&&null!=this._domainMax)this._setDomain([this._domainMin,this._domainMax]);else{var n=this._getExtent();null!=this._domainMin?(n=n[1],this._domainMin>=n&&(n=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),this._setDomain([this._domainMin,n])):null!=this._domainMax?(n=n[0],this._domainMax<=n&&(n=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),
this._setDomain([n,this._domainMax])):k.prototype._autoDomainIfAutomaticMode.call(this)}};l.prototype._getUnboundedExtent=function(n){void 0===n&&(n=!1);n=this._getAllIncludedValues(n);var p=this._defaultExtent();0!==n.length&&(n=[h.Math.min(n,p[0]),h.Math.max(n,p[1])],p=this._padDomain(n));return p};l.prototype._getExtent=function(){var n=this._getUnboundedExtent();null!=this._domainMin&&(n[0]=this._domainMin);null!=this._domainMax&&(n[1]=this._domainMax);return n};l.prototype.addPaddingExceptionsProvider=
function(n){this._paddingExceptionsProviders.add(n);this._autoDomainIfAutomaticMode()};l.prototype.removePaddingExceptionsProvider=function(n){this._paddingExceptionsProviders.delete(n);this._autoDomainIfAutomaticMode()};l.prototype.padProportion=function(n){if(null==n)return this._padProportion;if(0>n)throw Error("padProportion must be non-negative");this._padProportion=n;this._autoDomainIfAutomaticMode();return this};l.prototype._padDomain=function(n){var p=this;if(n[0].valueOf()===n[1].valueOf())return this._expandSingleValueDomain(n);
if(0===this._padProportion)return n;var q=this._padProportion/2,r=n[0],t=n[1],v=!1,u=!1;this._paddingExceptionsProviders.forEach(function(w){w(p).forEach(function(x){x.valueOf()===r.valueOf()&&(v=!0);x.valueOf()===t.valueOf()&&(u=!0)})});var y=this._backingScaleDomain();this._backingScaleDomain(n);n=v?r:this.invert(this.scale(r)-(this.scale(t)-this.scale(r))*q);q=u?t:this.invert(this.scale(t)+(this.scale(t)-this.scale(r))*q);this._backingScaleDomain(y);return this._snappingDomainEnabled?this._niceDomain([n,
q]):[n,q]};l.prototype.snappingDomainEnabled=function(n){null!=n&&(this._snappingDomainEnabled=n,this._autoDomainIfAutomaticMode())};l.prototype._expandSingleValueDomain=function(n){return n};l.prototype.invert=function(){throw Error("Subclasses should override invert");};l.prototype.domain=function(n){null!=n&&(this._domainMin=n[0],this._domainMax=n[1]);return k.prototype.domain.call(this,n)};l.prototype.domainMin=function(n){if(null==n)return this.domain()[0];this._domainMin=n;this._autoDomainIfAutomaticMode();
return this};l.prototype.domainMax=function(n){if(null==n)return this.domain()[1];this._domainMax=n;this._autoDomainIfAutomaticMode();return this};l.prototype.extentOfValues=function(n){n=f.extent(n.filter(function(p){return h.Math.isValidNumber(+p)}));return null==n[0]||null==n[1]?[]:n};l.prototype.zoom=function(n,p){var q=this;this.domain(this.range().map(function(r){return q.invert(g.zoomOut(r,n,p))}))};l.prototype.pan=function(n){var p=this;this.domain(this.range().map(function(q){return p.invert(q+
n)}))};l.prototype.scaleTransformation=function(){throw Error("Subclasses should override scaleTransformation");};l.prototype.invertedTransformation=function(){throw Error("Subclasses should override invertedTransformation");};l.prototype.getTransformationExtent=function(){throw Error("Subclasses should override getTransformationExtent");};l.prototype.getTransformationDomain=function(){throw Error("Subclasses should override getTransformationDomain");};l.prototype.setTransformationDomain=function(){throw Error("Subclasses should override setTransformationDomain");
};l.prototype._setDomain=function(n){function p(q){return h.Math.isNaN(q)||Infinity===q||-Infinity===q}p(n[0])||p(n[1])?h.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):k.prototype._setDomain.call(this,n)};l.prototype.defaultTicks=function(){throw Error("Subclasses should override _getDefaultTicks");};l.prototype.ticks=function(){return this._tickGenerator(this)};l.prototype._niceDomain=function(){throw Error("Subclasses should override _niceDomain");
};l.prototype._defaultExtent=function(){throw Error("Subclasses should override _defaultExtent");};l.prototype.tickGenerator=function(){var n=Plottable.Scales.TickGenerators.integerTickGenerator();null!=n&&(this._tickGenerator=n)};return l}(d(17).Scale);b._DEFAULT_NUM_TICKS=10;c.QuantitativeScale=b},function(b,c,d){var e=d(1);c.coerceExternalD3=function(f){if(null==f.attrs){if(null==f.nodes){var g=[];f.each(function(){g.push(this)});return e.selectAll(g)}return e.selectAll(f.nodes())}return f}},function(b,
c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(83));e(d(84));e(d(85))},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(44));e(d(45));e(d(46));e(d(18));e(d(6));e(d(33));e(d(34));e(d(47));e(d(9));e(d(48))},function(b,c){b=function(){function d(){var e=this;this._anchorCallback=function(f){return e._anchor(f)};this._enabled=!0}d.prototype.attachTo=function(e){this._disconnect();this._componentAttachedTo=e;this._connect();return this};d.prototype.detachFrom=
function(){this.detach()};d.prototype.detach=function(){this._disconnect();this._componentAttachedTo=null;return this};d.prototype.enabled=function(e){if(null==e)return this._enabled;(this._enabled=e)?this._connect():this._disconnect();return this};d.prototype._anchor=function(){this._isAnchored=!0};d.prototype._unanchor=function(){this._isAnchored=!1};d.prototype._translateToComponentSpace=function(e){var f=this._componentAttachedTo.originToRoot();return{x:e.x-f.x,y:e.y-f.y}};d.prototype._isInsideComponent=
function(e){return 0<=e.x&&0<=e.y&&e.x<=this._componentAttachedTo.width()&&e.y<=this._componentAttachedTo.height()};d.prototype._connect=function(){if(this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored)this._componentAttachedTo.onAnchor(this._anchorCallback)};d.prototype._disconnect=function(){this._isAnchored&&this._unanchor();null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)};return d}();c.Interaction=b},function(b,c,d){var e=this&&this.__extends||
function(l,n){function p(){this.constructor=l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(3),g=d(0),h=d(52),k=d(2);b=function(l){function n(){var p=l.call(this)||this;p._autoAdjustXScaleDomain=!1;p._autoAdjustYScaleDomain=!1;p._deferredRendering=!1;p._applyDeferredRenderingTransform=function(q,r,t,v){p._isAnchored&&(null!=p._renderArea&&p._renderArea.attr("transform","translate("+q+", "+r+") scale("+t+", "+v+")"),null!=
p._canvas&&p._canvas.style("transform","translate("+q+"px, "+r+"px) scale("+t+", "+v+")"))};p.addClass("xy-plot");p._adjustYDomainOnChangeFromXCallback=function(){return p._adjustYDomainOnChangeFromX()};p._adjustXDomainOnChangeFromYCallback=function(){return p._adjustXDomainOnChangeFromY()};p._renderCallback=function(){if(p.deferredRendering()){var q=p.x()&&p.x().scale,r=p.y()&&p.y().scale;p._deferredRenderer.updateDomains(q,r)}else p.render()};p._deferredRenderer=new h.DeferredRenderer(function(){return p.render()},
p._applyDeferredRenderingTransform);return p}e(n,l);n.prototype.render=function(){this.deferredRendering()&&this._deferredRenderer.resetTransforms();return l.prototype.render.call(this)};n.prototype.deferredRendering=function(){return this._deferredRendering};n.prototype.x=function(p,q,r){if(null==p)return this._propertyBindings.get(n._X_KEY);this._bindProperty(n._X_KEY,p,q,r);p=this.width();null!=q&&null!=p&&q.range([0,p]);this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain();this.render();
return this};n.prototype.y=function(p,q,r){if(null==p)return this._propertyBindings.get(n._Y_KEY);this._bindProperty(n._Y_KEY,p,q,r);p=this.height();null!=q&&null!=p&&(q instanceof f.Category?q.range([0,p]):q.range([p,0]));this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain();this.render();return this};n.prototype._filterForProperty=function(p){return"x"===p&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"===p&&this._autoAdjustYScaleDomain?this._makeFilterByProperty("x"):
null};n.prototype._makeFilterByProperty=function(p){p=this._propertyBindings.get(p);if(null!=p){var q=p.accessor,r=p.scale;if(null!=r)return function(t,v,u){var y=r.range();return g.Math.inRange(r.scale(q(t,v,u)),y[0],y[1])}}return null};n.prototype._uninstallScaleForKey=function(p,q){l.prototype._uninstallScaleForKey.call(this,p,q);p.offUpdate(q===n._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};n.prototype._installScaleForKey=function(p,q){l.prototype._installScaleForKey.call(this,
p,q);p.onUpdate(q===n._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};n.prototype.destroy=function(){l.prototype.destroy.call(this);this.x().scale&&this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback);this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback);return this};n.prototype.autorangeMode=function(p){if(null==p)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(p){case "x":this._autoAdjustXScaleDomain=
!0;this._autoAdjustYScaleDomain=!1;this._adjustXDomainOnChangeFromY();break;case "y":this._autoAdjustXScaleDomain=!1;this._autoAdjustYScaleDomain=!0;this._adjustYDomainOnChangeFromX();break;case "none":this._autoAdjustYScaleDomain=this._autoAdjustXScaleDomain=!1;break;default:throw Error("Invalid scale name '"+p+"', must be 'x', 'y' or 'none'");}return this};n.prototype.computeLayout=function(p,q,r){l.prototype.computeLayout.call(this,p,q,r);p=(p=this.x())&&p.scale;null!=p&&p.range([0,this.width()]);
p=(p=this.y())&&p.scale;null!=p&&(p instanceof f.Category?p.range([0,this.height()]):p.range([this.height(),0]));return this};n.prototype._updateXExtentsAndAutodomain=function(){var p=this.x().scale;null!=p&&p.autoDomain()};n.prototype._updateYExtentsAndAutodomain=function(){var p=this.y().scale;null!=p&&p.autoDomain()};n.prototype.showAllData=function(){this._updateXExtentsAndAutodomain();this._updateYExtentsAndAutodomain();return this};n.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&
this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()};n.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()};n.prototype._projectorsReady=function(){var p=this.x(),q=this.y();return null!=p&&null!=p.accessor&&null!=q&&null!=q.accessor};n.prototype._pixelPoint=function(p,q,r){var t=k.Plot._scaledAccessor(this.x()),v=k.Plot._scaledAccessor(this.y());return{x:t(p,q,r),y:v(p,q,r)}};n.prototype._getDataToDraw=
function(){var p=this,q=l.prototype._getDataToDraw.call(this);this.datasets().forEach(function(r){q.set(r,q.get(r).filter(function(t,v){var u=k.Plot._scaledAccessor(p.x())(t,v,r);t=k.Plot._scaledAccessor(p.y())(t,v,r);return g.Math.isValidNumber(u)&&g.Math.isValidNumber(t)}))});return q};return n}(k.Plot);b._X_KEY="x";b._Y_KEY="y";c.XYPlot=b},function(b,c,d){var e=d(0);b=function(){function f(){this._autoDomainAutomatically=!0;this._domainModificationInProgress=!1;this._updateId=0;this._callbacks=
new e.CallbackSet;this._includedValuesProviders=new e.Set}f.prototype.extentOfValues=function(){return[]};f.prototype._getAllIncludedValues=function(g){var h=this;void 0===g&&(g=!1);var k=[];this._includedValuesProviders.forEach(function(l){l=l(h,g);k=k.concat(l)});return k};f.prototype._getExtent=function(){return[]};f.prototype.onUpdate=function(g){this._callbacks.add(g);return this};f.prototype.offUpdate=function(g){this._callbacks.delete(g);return this};f.prototype._dispatchUpdate=function(){this._updateId++;
this._callbacks.callCallbacks(this)};f.prototype.autoDomain=function(){this._autoDomainAutomatically=!0;this._setDomain(this._getExtent())};f.prototype._autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()};f.prototype.scale=function(){throw Error("Subclasses should override scale");};f.prototype.ticks=function(){return this.domain()};f.prototype.domain=function(g){if(null==g)return this._getDomain();this._autoDomainAutomatically=!1;this._setDomain(g);return this};
f.prototype._getDomain=function(){throw Error("Subclasses should override _getDomain");};f.prototype._setDomain=function(g){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._backingScaleDomain(g),this._dispatchUpdate(),this._domainModificationInProgress=!1)};f.prototype._backingScaleDomain=function(){throw Error("Subclasses should override _backingDomain");};f.prototype.range=function(g){if(null==g)return this._getRange();this._setRange(g);return this};f.prototype._getRange=
function(){throw Error("Subclasses should override _getRange");};f.prototype._setRange=function(){throw Error("Subclasses should override _setRange");};f.prototype.addIncludedValuesProvider=function(g){this._includedValuesProviders.add(g);this._autoDomainIfAutomaticMode();return this};f.prototype.removeIncludedValuesProvider=function(g){this._includedValuesProviders.delete(g);this._autoDomainIfAutomaticMode()};f.prototype.updateId=function(){return this._updateId};return f}();c.Scale=b},function(b,
c,d){function e(k,l,n,p){for(var q={},r=0;r<l.length;r++){var t=l[r];k.hasOwnProperty(t)&&(q[t]=k[t](n,p))}return q}function f(k){return null!=k["stroke-width"]?parseFloat(k["stroke-width"]):1}function g(k,l){if(l.stroke){k.lineWidth=f(l);var n=h.color(l.stroke);n.opacity=n.opacity*(null!=l["stroke-opacity"]?parseFloat(l["stroke-opacity"]):1)*(null!=l.opacity?parseFloat(l.opacity):1);k.strokeStyle=n.toString();k.stroke()}l.fill&&(n=h.color(l.fill),n.opacity=n.opacity*(null!=l["fill-opacity"]?parseFloat(l["fill-opacity"]):
1)*(null!=l.opacity?parseFloat(l.opacity):1),k.fillStyle=n.toString(),k.fill())}var h=d(1);b=function(){function k(l,n){this._context=l;this._drawStep=n}k.prototype.getDrawStep=function(){return this._drawStep};k.prototype.draw=function(l,n){n=n[n.length-1].attrToAppliedProjector;this._context.save();this._drawStep(this._context,l,n);this._context.restore()};k.prototype.getVisualPrimitives=function(){return[]};k.prototype.getVisualPrimitiveAtIndex=function(){return null};k.prototype.remove=function(){};
return k}();c.CanvasDrawer=b;c.ContextStyleAttrs="fill-opacity fill opacity stroke-opacity stroke-width stroke".split(" ");c.resolveAttributesSubsetWithStyles=function(k,l,n,p){return e(k,c.ContextStyleAttrs.concat(l),n,p)};c.resolveAttributes=e;c.getStrokeWidth=f;c.renderArea=function(k,l,n,p){k.save();k.beginPath();l.context(k);l(n);k.lineJoin="round";g(k,p);k.restore()};c.renderLine=function(k,l,n,p){k.save();k.beginPath();l.context(k);l(n);k.lineJoin="round";g(k,p);k.restore()};c.renderPathWithStyle=
g},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(50));e(d(27));e(d(51));e(d(93));e(d(53));e(d(94));e(d(95));e(d(96));e(d(97));e(d(98));e(d(99));e(d(100))},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(92));e(d(91));b=d(49);c.sign=b.sign},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(134));e(d(135));e(d(136));e(d(137))},function(b,c,d){var e=this&&this.__extends||function(l,n){function p(){this.constructor=
l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(1),g=d(5);b=d(4);var h=d(8),k=d(0);d=d(10);c.AxisOrientation=d.makeEnum(["bottom","left","right","top"]);d=function(l){function n(p,q){var r=l.call(this)||this;r._endTickLength=5;r._innerTickLength=5;r._tickLabelPadding=10;r._margin=15;r._showEndTickLabels=!1;r._annotationsEnabled=!1;r._annotationTierCount=1;if(null==p||null==q)throw Error("Axis requires a scale and orientation");
r._scale=p;r.orientation(q);r._setDefaultAlignment();r.addClass("axis");r.isHorizontal()?r.addClass("x-axis"):r.addClass("y-axis");r.formatter(h.identity());r._rescaleCallback=function(){return r._rescale()};r._scale.onUpdate(r._rescaleCallback);r._annotatedTicks=[];r._annotationFormatter=h.identity();return r}e(n,l);n.prototype.destroy=function(){l.prototype.destroy.call(this);this._scale.offUpdate(this._rescaleCallback)};n.prototype.tickLabelDataOnElement=function(p){if(null!=p){for(var q;null!=
p&&p.classList&&void 0===q;)p.classList.contains(n.TICK_LABEL_CLASS)?q=p:p=p.parentNode;return void 0===p?void 0:f.select(p).datum()}};n.prototype._computeWidth=function(){return this._maxLabelTickLength()};n.prototype._computeHeight=function(){return this._maxLabelTickLength()};n.prototype.requestedSpace=function(){var p=0,q=0;if(this.isHorizontal()){if(q=this._computeHeight()+this._margin,this.annotationsEnabled()){var r=this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING;q+=
r*this.annotationTierCount()}}else p=this._computeWidth()+this._margin,this.annotationsEnabled()&&(r=this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING,p+=r*this.annotationTierCount());return{minWidth:p,minHeight:q}};n.prototype.fixedHeight=function(){return this.isHorizontal()};n.prototype.fixedWidth=function(){return!this.isHorizontal()};n.prototype._rescale=function(){this.render()};n.prototype.computeLayout=function(p,q,r){l.prototype.computeLayout.call(this,p,q,r);this.isHorizontal()?
this._scale.range([0,this.width()]):this._scale.range([this.height(),0]);return this};n.prototype._sizeFromOffer=function(p,q){var r=this.requestedSpace(p,q);return this.isHorizontal()?{width:p,height:r.minHeight}:{height:q,width:r.minWidth}};n.prototype._setup=function(){l.prototype._setup.call(this);this._tickMarkContainer=this.content().append("g").classed(n.TICK_MARK_CLASS+"-container",!0);this._tickLabelContainer=this.content().append("g").classed(n.TICK_LABEL_CLASS+"-container",!0);this._baseline=
this.content().append("line").classed("baseline",!0);this._annotationContainer=this.content().append("g").classed("annotation-container",!0);this._annotationContainer.append("g").classed("annotation-line-container",!0);this._annotationContainer.append("g").classed("annotation-circle-container",!0);this._annotationContainer.append("g").classed("annotation-rect-container",!0);var p=this._annotationContainer.append("g").classed("annotation-label-container",!0);p=new g.SvgContext(p.node());this._annotationMeasurer=
new g.CacheMeasurer(p);this._annotationWriter=new g.Writer(this._annotationMeasurer,p)};n.prototype._getTickValues=function(){return[]};n.prototype.renderImmediately=function(){var p=this._getTickValues(),q=this._tickMarkContainer.selectAll("."+n.TICK_MARK_CLASS).data(p),r=q.enter().append("line").classed(n.TICK_MARK_CLASS,!0).merge(q);r.attrs(this._generateTickMarkAttrHash());f.select(r.nodes()[0]).classed(n.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));f.select(r.nodes()[p.length-
1]).classed(n.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));q.exit().remove();this._baseline.attrs(this._generateBaselineAttrHash());this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};n.prototype.annotatedTicks=function(){return this._annotatedTicks};n.prototype.annotationFormatter=function(p){if(null==p)return this._annotationFormatter;this._annotationFormatter=p;this.render();return this};n.prototype.annotationsEnabled=function(){return this._annotationsEnabled};
n.prototype.annotationTierCount=function(){return this._annotationTierCount};n.prototype._drawAnnotations=function(){function p(L){switch(u.orientation()){case "bottom":case "right":return t(L);case "top":case "left":return t(L)-w.get(L).height}}function q(L){return A.has(L)?"hidden":"visible"}function r(L){return u._scale.scale(L)}function t(L){switch(u.orientation()){case "bottom":case "right":return B.get(L)*z+E;case "top":case "left":return C-E-B.get(L)*z}}function v(L,H,S){L=L.selectAll("."+
S).data(x);H=L.enter().append(H).classed(S,!0).merge(L);L.exit().remove();return H}var u=this,y=n._ANNOTATION_LABEL_PADDING,w=new k.Map,x=this._annotatedTicksToRender();x.forEach(function(L){var H=u._annotationMeasurer.measure(u.annotationFormatter()(L));w.set(L,{width:H.width+2*y,height:H.height+2*y})});var z=this._annotationMeasurer.measure().height+2*y,B=this._annotationToTier(w),A=new k.Set,C=this.isHorizontal()?this.height():this.width(),E=this._coreSize(),F=Math.min(this.annotationTierCount(),
Math.floor((C-E)/z));B.forEach(function(L,H){(-1===L||L>=F)&&A.add(H)});switch(this.orientation()){case "bottom":case "right":var I=0;break;case "top":I=this.height();break;case "left":I=this.width()}var Q=this.isHorizontal();v(this._annotationContainer.select(".annotation-line-container"),"line",n.ANNOTATION_LINE_CLASS).attrs({x1:Q?r:I,x2:Q?r:t,y1:Q?I:r,y2:Q?t:r,visibility:q});v(this._annotationContainer.select(".annotation-circle-container"),"circle",n.ANNOTATION_CIRCLE_CLASS).attrs({cx:Q?r:I,cy:Q?
I:r,r:3});v(this._annotationContainer.select(".annotation-rect-container"),"rect",n.ANNOTATION_RECT_CLASS).attrs({x:Q?r:p,y:Q?p:r,width:Q?function(L){return w.get(L).width}:function(L){return w.get(L).height},height:Q?function(L){return w.get(L).height}:function(L){return w.get(L).width},visibility:q});var J=this._annotationWriter,R=this.annotationFormatter();I=v(this._annotationContainer.select(".annotation-label-container"),"g",n.ANNOTATION_LABEL_CLASS);I.selectAll(".text-container").remove();I.attrs({transform:function(L){var H=
Q?r(L):p(L);L=Q?p(L):r(L);return"translate("+H+","+L+")"},visibility:q}).each(function(L){J.write(R(L),Q?w.get(L).width:w.get(L).height,Q?w.get(L).height:w.get(L).width,{xAlign:"center",yAlign:"center",textRotation:Q?0:90},f.select(this).node())})};n.prototype._annotatedTicksToRender=function(){var p=this,q=this._scale.range();return k.Array.uniq(this.annotatedTicks().filter(function(r){return null==r?!1:k.Math.inRange(p._scale.scale(r),q[0],q[1])}))};n.prototype._coreSize=function(){var p=this.isHorizontal()?
this.height():this.width(),q=this.isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(q,p)};n.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+2*n._ANNOTATION_LABEL_PADDING};n.prototype._annotationToTier=function(p){var q=this,r=[[]],t=new k.Map,v=this.isHorizontal()?this.width():this.height();this._annotatedTicksToRender().forEach(function(u){var y=q._scale.scale(u),w=p.get(u).width;if(0>y||y+w>v)t.set(u,-1);else{for(var x=function(B){return r[B].some(function(A){var C=
q._scale.scale(A);A=p.get(A).width;return y+w>=C&&y<=C+A})},z=0;x(z);)z++,r.length===z&&r.push([]);r[z].push(u);t.set(u,z)}});return t};n.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove();this._annotationContainer.selectAll(".annotation-circle").remove();this._annotationContainer.selectAll(".annotation-rect").remove();this._annotationContainer.selectAll(".annotation-label").remove()};n.prototype._generateBaselineAttrHash=function(){var p={x1:0,
y1:0,x2:0,y2:0};switch(this._orientation){case "bottom":p.x2=this.width();break;case "top":p.x2=this.width();p.y1=this.height();p.y2=this.height();break;case "left":p.x1=this.width();p.x2=this.width();p.y2=this.height();break;case "right":p.y2=this.height()}return p};n.prototype._generateTickMarkAttrHash=function(p){function q(v){return r._scale.scale(v)}var r=this;void 0===p&&(p=!1);var t={x1:0,y1:0,x2:0,y2:0};this.isHorizontal()?(t.x1=q,t.x2=q):(t.y1=q,t.y2=q);p=p?this._endTickLength:this._innerTickLength;
switch(this._orientation){case "bottom":t.y2=p;break;case "top":t.y1=this.height();t.y2=this.height()-p;break;case "left":t.x1=this.width();t.x2=this.width()-p;break;case "right":t.x2=p}return t};n.prototype._setDefaultAlignment=function(){switch(this._orientation){case "bottom":this.yAlignment("top");break;case "top":this.yAlignment("bottom");break;case "left":this.xAlignment("right");break;case "right":this.xAlignment("left")}};n.prototype.isHorizontal=function(){return"top"===this._orientation||
"bottom"===this._orientation};n.prototype.getScale=function(){return this._scale};n.prototype.formatter=function(p){if(null==p)return this._formatter;this._formatter=p;this.redraw();return this};n.prototype.innerTickLength=function(){return this._innerTickLength};n.prototype.endTickLength=function(){return this._endTickLength};n.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()};n.prototype.tickLabelPadding=
function(p){if(null==p)return this._tickLabelPadding;if(0>p)throw Error("tick label padding must be positive");this._tickLabelPadding=p;this.redraw();return this};n.prototype.margin=function(p){if(null==p)return this._margin;if(0>p)throw Error("margin size must be positive");this._margin=p;this.redraw();return this};n.prototype.orientation=function(p){if(null==p)return this._orientation;p=p.toLowerCase();if("top"!==p&&"bottom"!==p&&"left"!==p&&"right"!==p)throw Error("unsupported orientation");this._orientation=
p;this.redraw();return this};n.prototype.showEndTickLabels=function(){return this._showEndTickLabels};n.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+n.TICK_MARK_CLASS).each(function(){f.select(this).style("visibility","inherit")})};n.prototype._showAllTickLabels=function(){this._tickLabelContainer.selectAll("."+n.TICK_LABEL_CLASS).each(function(){f.select(this).style("visibility","inherit")})};n.prototype._hideOverflowingTickLabels=function(){var p=this.element().node().getBoundingClientRect(),
q=this._tickLabelContainer.selectAll("."+n.TICK_LABEL_CLASS);q.empty()||q.each(function(){k.DOM.clientRectInside(this.getBoundingClientRect(),p)||f.select(this).style("visibility","hidden")})};n.prototype._hideTickMarksWithoutLabel=function(){var p=this._tickMarkContainer.selectAll("."+n.TICK_MARK_CLASS),q=this._tickLabelContainer.selectAll("."+n.TICK_LABEL_CLASS).filter(function(){var r=f.select(this).style("visibility");return"inherit"===r||"visible"===r}).data();p.each(function(r){-1===q.indexOf(r)&&
f.select(this).style("visibility","hidden")})};n.prototype.invalidateCache=function(){l.prototype.invalidateCache.call(this);this._annotationMeasurer.reset()};return n}(b.Component);d.END_TICK_MARK_CLASS="end-tick-mark";d.TICK_MARK_CLASS="tick-mark";d.TICK_LABEL_CLASS="tick-label";d.ANNOTATION_LINE_CLASS="annotation-line";d.ANNOTATION_RECT_CLASS="annotation-rect";d.ANNOTATION_CIRCLE_CLASS="annotation-circle";d.ANNOTATION_LABEL_CLASS="annotation-label";d._ANNOTATION_LABEL_PADDING=4;c.Axis=d},function(b,
c){c.SHOW_WARNINGS=!0;c.ADD_TITLE_ELEMENTS=!0},function(b,c,d){var e=d(0);b=function(){function f(){this._eventToProcessingFunction={};this._eventTarget=document;this._eventNameToCallbackSet={};this._connected=!1}f.prototype._hasNoCallbacks=function(){for(var g=Object.keys(this._eventNameToCallbackSet),h=0;h<g.length;h++)if(0!==this._eventNameToCallbackSet[g[h]].size)return!1;return!0};f.prototype._connect=function(){var g=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(h){g._eventTarget.addEventListener(h,
g._eventToProcessingFunction[h])}),this._connected=!0)};f.prototype._disconnect=function(){var g=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(h){g._eventTarget.removeEventListener(h,g._eventToProcessingFunction[h])}),this._connected=!1)};f.prototype._addCallbackForEvent=function(g,h){null==this._eventNameToCallbackSet[g]&&(this._eventNameToCallbackSet[g]=new e.CallbackSet);this._eventNameToCallbackSet[g].add(h);this._connect()};f.prototype._removeCallbackForEvent=
function(g,h){null!=this._eventNameToCallbackSet[g]&&this._eventNameToCallbackSet[g].delete(h);this._disconnect()};f.prototype._callCallbacksForEvent=function(g){for(var h=[],k=1;k<arguments.length;k++)h[k-1]=arguments[k];k=this._eventNameToCallbackSet[g];null!=k&&k.callCallbacks.apply(k,h)};return f}();c.Dispatcher=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(87));e(d(88));e(d(40));e(d(89));e(d(90));b=d(26);c.zoomOut=b.zoomOut},function(b,c){function d(h,k,
l){return l-(l-h)*k}function e(h,k,l,n){var p=1<k;l=p?n:l;if(null==l)return k;h=h.getTransformationDomain();return(p?Math.min:Math.max)(k,l/Math.abs(h[1]-h[0]))}function f(h,k,l,n,p){if(1>=k)return{centerPoint:l,zoomAmount:k};if(null==n&&null==p)return{centerPoint:l,zoomAmount:k};var q=g(h),r,t=h.getTransformationDomain();t=(r=t[1]<t[0])?Infinity:-Infinity;r=r?-Infinity:Infinity;n=null==n?t:n;p=null==p?r:p;r=h.getTransformationDomain();t=r[0];r=r[1];p=h.scaleTransformation(p);r=h.scaleTransformation(r);
var v=d(r,k,l);n=h.scaleTransformation(n);h=h.scaleTransformation(t);t=d(h,k,l);return Math.abs(v-t)>Math.abs(p-n)?(k=(p-n)/(r-h),1!==k?{centerPoint:(r*k-p)/(k-1),zoomAmount:k}:{centerPoint:l,zoomAmount:k}):v>p!=q?{centerPoint:(r*k-p)/(k-1),zoomAmount:k}:t<n!=q?{centerPoint:(h*k-n)/(k-1),zoomAmount:k}:{centerPoint:l,zoomAmount:k}}function g(h){h=h.range();return h[1]<h[0]}c.zoomOut=d;c.constrainedZoom=function(h,k,l,n,p,q,r){k=e(h,k,n,p);return f(h,k,l,q,r)};c.constrainZoomExtents=e;c.constrainZoomValues=
f;c.constrainedTranslation=function(h,k,l,n){var p=h.getTransformationDomain(),q=p[0],r=p[1];p=g(h);0<k!==p?(l=n,null!=l&&(q=h.scaleTransformation(r),h=h.scaleTransformation(l),k=(p?Math.max:Math.min)(q+k,h)-q)):null!=l&&(q=h.scaleTransformation(q),h=h.scaleTransformation(l),k=(p?Math.min:Math.max)(q+k,h)-q);return k}},function(b,c,d){function e(z,B,A){var C=z.scale;if(C instanceof t.Category)A=C.rangeBand();else{var E=z.accessor;z=g.set(u.Array.flatten(B.map(function(F){return F.data().map(function(I,
Q){return E(I,Q,F)}).filter(function(I){return null!=I}).map(function(I){return I.valueOf()})}))).values().map(function(F){return+F});z.sort(function(F,I){return F-I});z=z.map(function(F){return C.scale(F)});z=g.pairs(z);A=u.Math.min(z,function(F){return Math.abs(F[1]-F[0])},A*x._SINGLE_BAR_DIMENSION_RATIO);A*=x._BAR_THICKNESS_RATIO}return A}var f=this&&this.__extends||function(z,B){function A(){this.constructor=z}for(var C in B)B.hasOwnProperty(C)&&(z[C]=B[C]);z.prototype=null===B?Object.create(B):
(A.prototype=B.prototype,new A)},g=d(1),h=d(5),k=d(7),l=d(8),n=d(14),p=d(6),q=d(34),r=d(20),t=d(3),v=d(11),u=d(0);b=d(10);var y=d(19),w=d(2);d=d(16);c.BarOrientation=b.makeEnum(["vertical","horizontal"]);c.LabelsPosition=b.makeEnum(["start","middle","end","outside"]);c.BarAlignment=b.makeEnum(["start","middle","end"]);var x=function(z){function B(A){void 0===A&&(A="vertical");var C=z.call(this)||this;C._labelFormatter=l.identity();C._labelsEnabled=!1;C._labelsPosition=c.LabelsPosition.end;C._hideBarsIfAnyAreTooWide=
!0;C._barAlignment="middle";C._computeBarPixelThickness=r.memoize(e);C._fixedBarPixelThickness=!0;C.addClass("bar-plot");if("vertical"!==A&&"horizontal"!==A)throw Error(A+" is not a valid orientation for Plots.Bar");C._isVertical="vertical"===A;C.animator("baseline",new k.Null);C.attr("fill",(new t.Color).range()[0]);C.attr(B._BAR_THICKNESS_KEY,function(){return C._barPixelThickness()});C._labelConfig=new u.Map;C._baselineValueProvider=function(){return[C.baselineValue()]};return C}f(B,z);B.prototype.computeLayout=
function(A,C,E){z.prototype.computeLayout.call(this,A,C,E);this._updateExtents();return this};B.prototype.x=function(A,C){if(null==A)return z.prototype.x.call(this);null==C?z.prototype.x.call(this,A):z.prototype.x.call(this,A,C);this._updateThicknessAttr();this._updateLengthScale();return this};B.prototype.y=function(A,C){if(null==A)return z.prototype.y.call(this);null==C?z.prototype.y.call(this,A):z.prototype.y.call(this,A,C);this._updateLengthScale();return this};B.prototype.length=function(){return this._isVertical?
this.y():this.x()};B.prototype.position=function(){return this._isVertical?this.x():this.y()};B.prototype.barEnd=function(){return this._propertyBindings.get(B._BAR_END_KEY)};B.prototype.barAlignment=function(A){if(null==A)return this._barAlignment;this._barAlignment=A;this._clearAttrToProjectorCache();this.render();return this};B.prototype.orientation=function(){return this._isVertical?"vertical":"horizontal"};B.prototype._createDrawer=function(){return new p.ProxyDrawer(function(){return new q.RectangleSVGDrawer(B._BAR_AREA_CLASS)},
function(A){return new n.RectangleCanvasDrawer(A)})};B.prototype._setup=function(){z.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};B.prototype.baselineValue=function(){if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var A=this.length().scale;return A?A instanceof t.Time?new Date(0):0:0};B.prototype.addDataset=function(A){z.prototype.addDataset.call(this,A);return this};B.prototype._addDataset=function(A){z.prototype._addDataset.call(this,
A);return this};B.prototype.removeDataset=function(A){z.prototype.removeDataset.call(this,A)};B.prototype._removeDataset=function(A){z.prototype._removeDataset.call(this,A);return this};B.prototype.datasets=function(A){if(null==A)return z.prototype.datasets.call(this);z.prototype.datasets.call(this,A);return this};B.prototype.labelsEnabled=function(A,C){if(null==A)return this._labelsEnabled;this._labelsEnabled=A;null!=C&&(this._labelsPosition=C);this._clearAttrToProjectorCache();this.render();return this};
B.prototype.labelFormatter=function(A){if(null==A)return this._labelFormatter;this._labelFormatter=A;this._clearAttrToProjectorCache();this.render();return this};B.prototype._createNodesForDataset=function(A){var C=z.prototype._createNodesForDataset.call(this,A),E=this._renderArea.append("g").classed(B._LABEL_AREA_CLASS,!0),F=new h.SvgContext(E.node()),I=new h.CacheMeasurer(F);F=new h.Writer(I,F);this._labelConfig.set(A,{labelArea:E,measurer:I,writer:F});return C};B.prototype._removeDatasetNodes=
function(A){z.prototype._removeDatasetNodes.call(this,A);var C=this._labelConfig.get(A);null!=C&&(C.labelArea.remove(),this._labelConfig.delete(A))};B.prototype.entityNearest=function(A){var C=this;return this._computeBarPixelThickness.doLocked(function(){var E=C._isVertical?A.x:A.y,F=C._isVertical?A.y:A.x,I=C.bounds(),Q={min:0,max:I.bottomRight.x-I.topLeft.x},J={min:0,max:I.bottomRight.y-I.topLeft.y},R=w.Plot._scaledAccessor(C.length()),L=C.length().scale.scale(C.baselineValue()),H=Infinity,S=Infinity,
T;C._getEntityStore().entities().forEach(function(O){var P=C._entityBounds(O);if(u.DOM.intersectsBBox(Q,J,P)){var U=0,X=0;if(!u.DOM.intersectsBBox(A.x,A.y,P,.5)){X=C._pixelPointBar(R(O.datum,O.index,O.dataset),L,P);U=Math.abs(E-(C._isVertical?X.x:X.y));var V=C._isVertical?P.y:P.x;P=V+(C._isVertical?P.height:P.width);X=F>=V-.5&&F<=P+.5?0:Math.abs(F-(C._isVertical?X.y:X.x))}if(U<H||U===H&&X<S)T=O,H=U,S=X}});if(void 0!==T)return C._lightweightPlotEntityToPlotEntity(T)})};B.prototype.entitiesAt=function(A){return this._entitiesIntersecting(A.x,
A.y)};B.prototype._entitiesIntersecting=function(A,C){var E=this,F=[];this._getEntityStore().entities().forEach(function(I){u.DOM.intersectsBBox(A,C,E._entityBounds(I))&&F.push(E._lightweightPlotEntityToPlotEntity(I))});return F};B.prototype._updateLengthScale=function(){if(this._projectorsReady()){var A=this.length().scale;A instanceof v.QuantitativeScale&&(A.addPaddingExceptionsProvider(this._baselineValueProvider),A.addIncludedValuesProvider(this._baselineValueProvider))}};B.prototype.renderImmediately=
function(){var A=this;this._barPixelThickness();return this._computeBarPixelThickness.doLocked(function(){return z.prototype.renderImmediately.call(A)})};B.prototype._additionalPaint=function(A){var C=this,E=this.length().scale.scale(this.baselineValue());E={x1:this._isVertical?0:E,y1:this._isVertical?E:0,x2:this._isVertical?this.width():E,y2:this._isVertical?E:this.height()};this._getAnimator("baseline").animate(this._baseline,E);this.datasets().forEach(function(F){return C._labelConfig.get(F).labelArea.selectAll("g").remove()});
this._labelsEnabled&&u.Window.setTimeout(function(){return C._drawLabels()},A)};B.prototype.getExtentsForProperty=function(A){var C=this,E=z.prototype.getExtentsForProperty.call(this,A);if("x"===A&&this._isVertical)A=this.x();else{if("y"!==A||this._isVertical)return E;A=this.y()}if(!(A&&A.scale&&A.scale instanceof v.QuantitativeScale))return E;var F=A.scale,I=this._barPixelThickness();return E=E.map(function(Q){return g.extent([F.invert(C._getPositionAttr(F.scale(Q[0]),I)),F.invert(C._getPositionAttr(F.scale(Q[0]),
I)+I),F.invert(C._getPositionAttr(F.scale(Q[1]),I)),F.invert(C._getPositionAttr(F.scale(Q[1]),I)+I)])})};B.prototype._getPositionAttr=function(A,C){this._isVertical||(A-=C,C*=-1);switch(this._barAlignment){case "start":return A;case "end":return A-C;default:return A-C/2}};B.prototype._drawLabels=function(){var A=this,C=this._getDataToDraw(),E=this._getAttrToProjector(),F=this.datasets().some(function(I){return C.get(I).some(function(Q,J){return null==Q?!1:A._drawLabel(Q,J,I,E)})});this._hideBarsIfAnyAreTooWide&&
F&&this.datasets().forEach(function(I){return A._labelConfig.get(I).labelArea.selectAll("g").remove()})};B.prototype._drawLabel=function(A,C,E,F){var I=this._labelConfig.get(E),Q=I.labelArea,J=I.measurer;I=I.writer;var R=this.length().accessor,L=R(A,C,E);R=this.length().scale;var H=null!=R?R.scale(L):L,S=null!=R?R.scale(this.baselineValue()):this.baselineValue(),T={x:F.x(A,C,E),y:F.y(A,C,E)};R={width:F.width(A,C,E),height:F.height(A,C,E)};L=this._labelFormatter(L,A,C,E);J=J.measure(L);var O=this._shouldShowLabelOnBar(T,
R,J);T=this._calculateLabelProperties(T,R,J,O,this._isVertical?H<=S:H<S);H=T.containerDimensions;S=T.labelContainerOrigin;T=T.alignment;A=F.fill(A,C,E);Q=this._createLabelContainer(Q,S,O,A);I.write(L,H.width,H.height,{xAlign:T.x,yAlign:T.y},Q.node());return this._isVertical?R.width<J.width:R.height<J.height};B.prototype._shouldShowLabelOnBar=function(A,C,E){if(this._labelsPosition===c.LabelsPosition.outside)return!1;A=this._isVertical?A.y:A.x;var F=this._isVertical?C.height:C.width;C=this._isVertical?
this.height():this.width();E=this._isVertical?E.height:E.width;var I=A+F;I>C?F=C-A:0>A&&(F=I);return E+B._LABEL_MARGIN_INSIDE_BAR<=F};B.prototype._calculateLabelProperties=function(A,C,E,F,I){function Q(U){switch(U){case "topLeft":S=J._isVertical?"top":"left";O+=B._LABEL_MARGIN_INSIDE_BAR;P+=B._LABEL_MARGIN_INSIDE_BAR;break;case "center":P+=(L+H)/2;break;case "bottomRight":S=J._isVertical?"bottom":"right",O-=B._LABEL_MARGIN_INSIDE_BAR,P+=T-B._LABEL_MARGIN_INSIDE_BAR-H}}var J=this,R=this._isVertical?
A.y:A.x,L=this._isVertical?C.height:C.width,H=this._isVertical?E.height:E.width,S="center",T=L,O=R,P=R;if(F)switch(this._labelsPosition){case c.LabelsPosition.start:I?Q("bottomRight"):Q("topLeft");break;case c.LabelsPosition.middle:Q("center");break;case c.LabelsPosition.end:I?Q("topLeft"):Q("bottomRight")}else I?(S=this._isVertical?"top":"left",T=L+B._LABEL_MARGIN_INSIDE_BAR+H,O-=B._LABEL_MARGIN_INSIDE_BAR+H,P-=B._LABEL_MARGIN_INSIDE_BAR+H):(S=this._isVertical?"bottom":"right",T=L+B._LABEL_MARGIN_INSIDE_BAR+
H,P+=L+B._LABEL_MARGIN_INSIDE_BAR);return{containerDimensions:{width:this._isVertical?C.width:T,height:this._isVertical?T:C.height},labelContainerOrigin:{x:this._isVertical?A.x:O,y:this._isVertical?O:A.y},labelOrigin:{x:this._isVertical?A.x+C.width/2-E.width/2:P,y:this._isVertical?P:A.y+C.height/2-E.height/2},alignment:{x:this._isVertical?"center":S,y:this._isVertical?S:"center"}}};B.prototype._createLabelContainer=function(A,C,E,F){A=A.append("g").attr("transform","translate("+C.x+", "+C.y+")");
E?(A.classed("on-bar-label",!0),E=1.6*u.Color.contrast("white",F)<u.Color.contrast("black",F),A.classed(E?"dark-label":"light-label",!0)):A.classed("off-bar-label",!0);return A};B.prototype._generateDrawSteps=function(){var A=[];if(this._animateOnNextRender()){var C=this._getAttrToProjector(),E=this.length().scale.scale(this.baselineValue()),F=this._isVertical?"height":"width";C[this._isVertical?"y":"x"]=function(){return E};C[F]=function(){return 0};A.push({attrToProjector:C,animator:this._getAnimator(y.Animator.RESET)})}A.push({attrToProjector:this._getAttrToProjector(),
animator:this._getAnimator(y.Animator.MAIN)});return A};B.prototype._generateAttrToProjector=function(){function A(T,O,P){return Math.abs(F-R(T,O,P))}var C=this,E=z.prototype._generateAttrToProjector.call(this),F=this.length().scale.scale(this.baselineValue()),I=this._isVertical?"y":"x",Q=this._isVertical?"x":"y",J=w.Plot._scaledAccessor(this.position()),R=w.Plot._scaledAccessor(this.length()),L=E[B._BAR_THICKNESS_KEY],H=E.gap,S=null==H?L:function(T,O,P){return L(T,O,P)-H(T,O,P)};E.width=this._isVertical?
S:A;E.height=this._isVertical?A:S;E[I]=function(T,O,P){T=R(T,O,P);return T>F?F:T};E[Q]=function(T,O,P){return C._getPositionAttr(J(T,O,P),L(T,O,P))};return E};B.prototype._updateThicknessAttr=function(){var A=this,C=this.position(),E=this.barEnd();null!=C&&null!=E?(this._fixedBarPixelThickness=!1,this.attr(B._BAR_THICKNESS_KEY,function(F,I,Q){var J=C.accessor(F,I,Q);F=E.accessor(F,I,Q);J=C.scale?C.scale.scale(J):J;F=E.scale?E.scale.scale(F):F;return Math.abs(F-J)})):(this._fixedBarPixelThickness=
!0,this.attr(B._BAR_THICKNESS_KEY,function(){return A._barPixelThickness()}))};B.prototype._barPixelThickness=function(){return this._fixedBarPixelThickness?this._projectorsReady()?this._computeBarPixelThickness(this.position(),this.datasets(),this._isVertical?this.width():this.height()):0:0};B.prototype.entities=function(A){void 0===A&&(A=this.datasets());return this._projectorsReady()?z.prototype.entities.call(this,A):[]};B.prototype._entityBounds=function(A){return this._pixelBounds(A.datum,A.index,
A.dataset)};B.prototype._pixelBounds=function(A,C,E){var F=this._getAttrToProjector();return{x:F.x(A,C,E),y:F.y(A,C,E),width:F.width(A,C,E),height:F.height(A,C,E)}};B.prototype._pixelPoint=function(A,C,E){var F=this._pixelBounds(A,C,E);A=(this._isVertical?w.Plot._scaledAccessor(this.y()):w.Plot._scaledAccessor(this.x()))(A,C,E);C=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());return this._pixelPointBar(A,C,F)};B.prototype._pixelPointBar=function(A,C,E){if(this._isVertical){var F=
E.x+E.width/2;A=A<=C?E.y:E.y+E.height}else F=A>=C?E.x+E.width:E.x,A=E.y+E.height/2;return{x:F,y:A}};B.prototype._uninstallScaleForKey=function(A,C){z.prototype._uninstallScaleForKey.call(this,A,C)};B.prototype._getDataToDraw=function(){var A=this,C=new u.Map,E=this._getAttrToProjector(),F=this.width(),I=this.height();this.datasets().forEach(function(Q){var J=Q.data().map(function(R,L){return A._isDatumOnScreen(E,F,I,R,L,Q)?R:null});C.set(Q,J)});return C};B.prototype._isDatumOnScreen=function(A,C,
E,F,I,Q){var J=A.x(F,I,Q),R=A.y(F,I,Q),L=A.width(F,I,Q);A=A.height(F,I,Q);return u.Math.isValidNumber(J)&&u.Math.isValidNumber(R)&&u.Math.isValidNumber(L)&&u.Math.isValidNumber(A)?u.Math.boundsIntersects(J,R,L,A,C,E):!1};return B}(d.XYPlot);x._BAR_THICKNESS_RATIO=.95;x._SINGLE_BAR_DIMENSION_RATIO=.4;x._BAR_AREA_CLASS="bar-area";x._BAR_END_KEY="barEnd";x._BAR_THICKNESS_KEY="width";x._LABEL_AREA_CLASS="bar-label-text-area";x._LABEL_MARGIN_INSIDE_BAR=10;c.Bar=x},function(b,c,d){var e=this&&this.__extends||
function(q,r){function t(){this.constructor=q}for(var v in r)r.hasOwnProperty(v)&&(q[v]=r[v]);q.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},f=d(1),g=d(5),h=d(8),k=d(3),l=d(0);b=d(10);var n=d(22);c.TimeInterval=b.makeEnum("second minute hour day week month year".split(" "));c.TimeAxisOrientation=b.makeEnum(["top","bottom"]);c.TierLabelPosition=b.makeEnum(["between","center"]);d=function(q){function r(t,v){t=q.call(this,t,v)||this;t._maxTimeIntervalPrecision=null;t._tierLabelPositions=
[];t.addClass("time-axis");t.tickLabelPadding(5);t.axisConfigurations(r._DEFAULT_TIME_AXIS_CONFIGURATIONS);t.annotationFormatter(h.time("%a %b %d, %Y"));return t}e(r,q);r.prototype.tierLabelPositions=function(t){if(null==t)return this._tierLabelPositions;if(!t.every(function(v){return"between"===v.toLowerCase()||"center"===v.toLowerCase()}))throw Error("Unsupported position for tier labels");this._tierLabelPositions=t;this.redraw();return this};r.prototype.maxTimeIntervalPrecision=function(t){if(null==
t)return this._maxTimeIntervalPrecision;this._maxTimeIntervalPrecision=t;this.redraw();return this};r.prototype.currentAxisConfiguration=function(){return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex]};r.prototype.axisConfigurations=function(t){if(null!=t){this._possibleTimeAxisConfigurations=t;this._numTiers=l.Math.max(this._possibleTimeAxisConfigurations.map(function(y){return y.length}),0);this._isAnchored&&this._setupDomElements();t=this.tierLabelPositions();for(var v=[],
u=0;u<this._numTiers;u++)v.push(t[u]||"between");this.tierLabelPositions(v);this.redraw()}};r.prototype._getMostPreciseConfigurationIndex=function(){var t=this,v=this._possibleTimeAxisConfigurations.length;this._possibleTimeAxisConfigurations.forEach(function(u,y){y<v&&u.every(function(w){return t._checkTimeAxisTierConfiguration(w)})&&(v=y)});v===this._possibleTimeAxisConfigurations.length&&(l.Window.warn("zoomed out too far: could not find suitable interval to display labels"),--v);return v};r.prototype.orientation=
function(t){if(t&&("right"===t.toLowerCase()||"left"===t.toLowerCase()))throw Error(t+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return q.prototype.orientation.call(this,t)};r.prototype._computeHeight=function(){var t=this._measurer.measure().height;this._tierHeights=[];for(var v=0;v<this._numTiers;v++)this._tierHeights.push(t+this.tickLabelPadding()+("between"===this._tierLabelPositions[v]?0:this._maxLabelTickLength()));return f.sum(this._tierHeights)};
r.prototype._getIntervalLength=function(t){var v=this._scale.domain()[0];t=k.Time.timeIntervalToD3Time(t.interval).offset(v,t.step);return t>this._scale.domain()[1]?this.width():Math.abs(this._scale.scale(t)-this._scale.scale(v))};r.prototype._maxWidthForInterval=function(t){return this._measurer.measure(t.formatter(r._LONG_DATE)).width};r.prototype._checkTimeAxisTierConfiguration=function(t){if(null!=this._maxTimeIntervalPrecision){var v=r._SORTED_TIME_INTERVAL_INDEX[this._maxTimeIntervalPrecision],
u=r._SORTED_TIME_INTERVAL_INDEX[t.interval];if(null!=v&&null!=u&&u<v)return!1}v=this._maxWidthForInterval(t)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(t),this.width())>=v};r.prototype._sizeFromOffer=function(t,v){var u=q.prototype._sizeFromOffer.call(this,t,v);t=this._tierHeights.reduce(function(y,w){return y+w>u.height?y:y+w});v=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);u.height=Math.min(u.height,t+v);return u};r.prototype._setup=
function(){q.prototype._setup.call(this);this._setupDomElements()};r.prototype._setupDomElements=function(){this.content().selectAll("."+r.TIME_AXIS_TIER_CLASS).remove();this._tierLabelContainers=[];this._tierMarkContainers=[];this._tierBaselines=[];this._tickLabelContainer.remove();this._baseline.remove();for(var t=0;t<this._numTiers;++t){var v=this.content().append("g").classed(r.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(v.append("g").classed(n.Axis.TICK_LABEL_CLASS+"-container",!0));
this._tierMarkContainers.push(v.append("g").classed(n.Axis.TICK_MARK_CLASS+"-container",!0));this._tierBaselines.push(v.append("line").classed("baseline",!0))}t=new g.SvgContext(this._tierLabelContainers[0].node());this._measurer=new g.CacheMeasurer(t)};r.prototype._getTickIntervalValues=function(t){return this._scale.tickInterval(t.interval,t.step)};r.prototype._getTickValues=function(){var t=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(v,u){return v.concat(t._getTickIntervalValues(u))},
[])};r.prototype._cleanTiers=function(){for(var t=0;t<this._tierLabelContainers.length;t++)this._tierLabelContainers[t].selectAll("."+n.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[t].selectAll("."+n.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[t].style("visibility","hidden")};r.prototype._getTickValuesForConfiguration=function(t){t=this._scale.tickInterval(t.interval,t.step);var v=this._scale.domain(),u=t.map(function(y){return y.valueOf()});-1===u.indexOf(v[0].valueOf())&&t.unshift(v[0]);
-1===u.indexOf(v[1].valueOf())&&t.push(v[1]);return t};r.prototype._renderTierLabels=function(t,v,u){var y=this,w=this._getTickValuesForConfiguration(v),x=[];"between"===this._tierLabelPositions[u]&&1===v.step?w.map(function(E,F){F+1>=w.length||x.push(new Date((w[F+1].valueOf()-w[F].valueOf())/2+w[F].valueOf()))}):x=w;t=t.selectAll("."+n.Axis.TICK_LABEL_CLASS).data(x,function(E){return String(E.valueOf())});var z=t.enter().append("g").classed(n.Axis.TICK_LABEL_CLASS,!0);z.append("text");var B="center"===
this._tierLabelPositions[u]||1===v.step?0:this.tickLabelPadding();var A="bottom"===this.orientation()?f.sum(this._tierHeights.slice(0,u+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[u]?this.height()-f.sum(this._tierHeights.slice(0,u))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-f.sum(this._tierHeights.slice(0,u))-this.tickLabelPadding();z=t.merge(z);var C=z.selectAll("text");0<C.size()&&C.attr("transform","translate("+B+","+A+")");t.exit().remove();z.attr("transform",
function(E){return"translate("+y._scale.scale(E)+",0)"});u="center"===this._tierLabelPositions[u]||1===v.step?"middle":"start";z.selectAll("text").text(v.formatter).style("text-anchor",u)};r.prototype._renderTickMarks=function(t,v){t=this._tierMarkContainers[v].selectAll("."+n.Axis.TICK_MARK_CLASS).data(t);var u=t.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(t),y=this._generateTickMarkAttrHash(),w=this._tierHeights.slice(0,v).reduce(function(x,z){return x+z},0);"bottom"===this.orientation()?
(y.y1=w,y.y2=w+("center"===this._tierLabelPositions[v]?this.innerTickLength():this._tierHeights[v])):(y.y1=this.height()-w,y.y2=this.height()-(w+("center"===this._tierLabelPositions[v]?this.innerTickLength():this._tierHeights[v])));u.attrs(y);"bottom"===this.orientation()?(y.y1=w,y.y2=w+("center"===this._tierLabelPositions[v]?this.endTickLength():this._tierHeights[v])):(y.y1=this.height()-w,y.y2=this.height()-(w+("center"===this._tierLabelPositions[v]?this.endTickLength():this._tierHeights[v])));
f.select(u.nodes()[0]).attrs(y);f.select(u.nodes()[u.size()-1]).attrs(y);f.select(u.nodes()[0]).classed(n.Axis.END_TICK_MARK_CLASS,!0);f.select(u.nodes()[u.size()-1]).classed(n.Axis.END_TICK_MARK_CLASS,!0);t.exit().remove()};r.prototype._renderLabellessTickMarks=function(t){t=this._tickMarkContainer.selectAll("."+n.Axis.TICK_MARK_CLASS).data(t);var v=t.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(t),u=this._generateTickMarkAttrHash();u.y2="bottom"===this.orientation()?this.tickLabelPadding():
this.height()-this.tickLabelPadding();v.attrs(u);t.exit().remove()};r.prototype._generateLabellessTicks=function(){return 1>this._mostPreciseConfigIndex?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])};r.prototype.renderImmediately=function(){var t=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var v=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers();v.forEach(function(z,B){return t._renderTierLabels(t._tierLabelContainers[B],
z,B)});for(var u=v.map(function(z){return t._getTickValuesForConfiguration(z)}),y=0,w=0;w<Math.max(v.length,1);++w){var x=this._generateBaselineAttrHash();x.y1+="bottom"===this.orientation()?y:-y;x.y2=x.y1;this._tierBaselines[w].attrs(x).style("visibility","inherit");y+=this._tierHeights[w]}y=[];w=this._scale.domain();w=this._scale.scale(w[1])-this._scale.scale(w[0]);1.5*this._getIntervalLength(v[0])>=w&&(y=this._generateLabellessTicks());this._renderLabellessTickMarks(y);this._hideOverflowingTiers();
for(w=0;w<v.length;++w)this._renderTickMarks(u[w],w),this._hideOverlappingAndCutOffLabels(w);this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};r.prototype._hideOverflowingTiers=function(){var t=this,v=this.height(),u=0;this.content().selectAll("."+r.TIME_AXIS_TIER_CLASS).attr("visibility",function(y,w){u+=t._tierHeights[w];return u<=v?"inherit":"hidden"})};r.prototype._hideOverlappingAndCutOffLabels=function(t){var v=this,u=this.element().node().getBoundingClientRect(),
y=this._tierMarkContainers[t].selectAll("."+n.Axis.TICK_MARK_CLASS).filter(function(){var x=f.select(this).style("visibility");return"visible"===x||"inherit"===x}).nodes().map(function(x){return x.getBoundingClientRect()}),w;this._tierLabelContainers[t].selectAll("."+n.Axis.TICK_LABEL_CLASS).filter(function(){var x=f.select(this).style("visibility");return"visible"===x||"inherit"===x}).each(function(x,z){x=this.getBoundingClientRect();var B=f.select(this),A=y[z],C=y[z+1];z=null!=w&&l.DOM.clientRectsOverlap(x,
w);A=null!=A&&l.DOM.clientRectsOverlap(x,A);C=null!=C&&l.DOM.clientRectsOverlap(x,C);!(Math.floor(u.left)<=Math.ceil(x.left)&&Math.floor(u.top)<=Math.ceil(x.top)&&Math.floor(x.right)<=Math.ceil(u.left+v.width())&&Math.floor(x.bottom)<=Math.ceil(u.top+v.height()))||z||A||C?B.style("visibility","hidden"):(w=x,B.style("visibility","inherit"))})};r.prototype.invalidateCache=function(){q.prototype.invalidateCache.call(this);this._measurer.reset()};return r}(n.Axis);d.TIME_AXIS_TIER_CLASS="time-axis-tier";
d._SORTED_TIME_INTERVAL_INDEX=(p={},p[c.TimeInterval.second]=0,p[c.TimeInterval.minute]=1,p[c.TimeInterval.hour]=2,p[c.TimeInterval.day]=3,p[c.TimeInterval.week]=4,p[c.TimeInterval.month]=5,p[c.TimeInterval.year]=6,p);d._DEFAULT_TIME_AXIS_CONFIGURATIONS=[[{interval:c.TimeInterval.second,step:1,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:5,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,
formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:10,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:15,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:30,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:1,formatter:h.time("%I:%M %p")},
{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:5,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:10,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:15,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,
step:30,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:1,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:3,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:6,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],
[{interval:c.TimeInterval.hour,step:12,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:h.time("%a %e")},{interval:c.TimeInterval.month,step:1,formatter:h.time("%B %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:h.time("%e")},{interval:c.TimeInterval.month,step:1,formatter:h.time("%B %Y")}],[{interval:c.TimeInterval.month,step:1,formatter:h.time("%B")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],
[{interval:c.TimeInterval.month,step:1,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.month,step:3,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.month,step:6,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:h.time("%y")}],
[{interval:c.TimeInterval.year,step:5,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:25,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:50,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:100,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:200,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:500,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1E3,formatter:h.time("%Y")}]];d._LONG_DATE=new Date(9999,8,29,12,59,9999);c.Time=
d;var p},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(12);b=function(g){function h(){var k=g.call(this)||this;k._detachCallback=function(l){return k.remove(l)};return k}e(h,g);h.prototype.anchor=function(k){var l=this;k=f.coerceExternalD3(k);g.prototype.anchor.call(this,k);this._forEach(function(n){return n.anchor(l.element())});return this};
h.prototype.render=function(){this._forEach(function(k){return k.render()});return this};h.prototype.has=function(){throw Error("has() is not implemented on ComponentContainer");};h.prototype._adoptAndAnchor=function(k){k.parent(this);k.onDetach(this._detachCallback);this._isAnchored&&k.anchor(this.element())};h.prototype.remove=function(k){this.has(k)&&(k.offDetach(this._detachCallback),this._remove(k),k.detach(),this.redraw());return this};h.prototype._remove=function(){};h.prototype._forEach=function(){throw Error("_forEach() is not implemented on ComponentContainer");
};h.prototype.destroy=function(){g.prototype.destroy.call(this);this._forEach(function(k){return k.destroy()})};h.prototype.invalidateCache=function(){this._forEach(function(k){return k.invalidateCache()})};return h}(d(4).Component);c.ComponentContainer=b},function(b,c,d){function e(q){k.add(q);h.add(q);l||(l=!0,p.render())}var f=d(0);b=d(10);var g=d(39),h=new f.Set,k=new f.Set,l=!1,n=!1;c.Policy=b.makeEnum(["immediate","animationFrame","timeout"]);var p=new g.AnimationFrame;c.renderPolicy=function(){var q=
Plottable.RenderController.Policy.immediate;if(null!=q)switch(q){case c.Policy.immediate:p=new g.Immediate;break;case c.Policy.animationFrame:p=new g.AnimationFrame;break;case c.Policy.timeout:p=new g.Timeout;break;default:f.Window.warn("Unrecognized renderPolicy: "+q)}};c.registerToRender=function(q){n&&f.Window.warn("Registered to render while other components are flushing: request may be ignored");h.add(q);l||(l=!0,p.render())};c.registerToComputeLayoutAndRender=e;c.registerToComputeLayout=function(q){e(q)};
c.flush=function(){if(l){k.forEach(function(r){return r.computeLayout()});h.forEach(function(r){return r.render()});n=!0;var q=new f.Set;h.forEach(function(r){try{r.renderImmediately()}catch(t){window.setTimeout(function(){throw t;},0),q.add(r)}});k=new f.Set;h=q;n=l=!1}}},function(b,c,d){var e=d(1);c.circle=function(){return function(g){return e.symbol().type(e.symbolCircle).size(Math.PI*Math.pow(g/2,2))}};c.square=function(){return function(g){return e.symbol().type(e.symbolSquare).size(Math.pow(g,
2))}};c.cross=function(){return function(g){return e.symbol().type(e.symbolCross).size(5/9*Math.pow(g,2))}};c.diamond=function(){return function(g){return e.symbol().type(e.symbolDiamond).size(Math.tan(Math.PI/6)*Math.pow(g,2)/2)}};c.triangle=function(){return function(g){return e.symbol().type(e.symbolTriangle).size(Math.sqrt(3)*Math.pow(g/2,2))}};c.star=function(){return function(g){return e.symbol().type(e.symbolStar).size(.8908130915292852*Math.pow(g/2,2))}};var f=3*(1/Math.sqrt(12)/2+1);c.wye=
function(){return function(g){return e.symbol().type(e.symbolWye).size(f*Math.pow(g/2.4,2))}}},function(b,c,d){var e=this&&this.__extends||function(l,n){function p(){this.constructor=l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(25),g=d(0),h=d(12),k=d(37);b=function(l){function n(){var p=l.call(this)||this;p._detectionRadius=3;p._resizable=!1;p._movable=!1;p._hasCorners=!0;p.addClass("drag-box-layer");p._dragInteraction=
new f.Drag;p._setUpCallbacks();p._dragInteraction.attachTo(p);p._dragStartCallbacks=new g.CallbackSet;p._dragCallbacks=new g.CallbackSet;p._dragEndCallbacks=new g.CallbackSet;return p}e(n,l);n.prototype._setUpCallbacks=function(){function p(z,B){0===x&&z.x===B.x&&z.y===B.y&&t.boxVisible(!1);t._dragEndCallbacks.callCallbacks(t.bounds())}function q(z,B){switch(x){case 0:y.x=B.x;y.y=B.y;break;case 1:v.bottom?y.y=B.y:v.top&&(u.y=B.y);v.right?y.x=B.x:v.left&&(u.x=B.x);break;case 2:z=B.x-w.x;var A=B.y-
w.y;u.x+=z;u.y+=A;y.x+=z;y.y+=A;w=B}t._setBounds({topLeft:u,bottomRight:y});t._xBoundsMode===k.PropertyMode.VALUE&&null!=t.xScale()&&t._setXExtent([t.xScale().invert(u.x),t.xScale().invert(y.x)]);t._yBoundsMode===k.PropertyMode.VALUE&&null!=t.yScale()&&t._setYExtent([t.yScale().invert(u.y),t.yScale().invert(y.y)]);t.render();t._dragCallbacks.callCallbacks(t.bounds())}function r(z){v=t._getResizingEdges(z);var B=t.bounds();B=B.topLeft.x<=z.x&&z.x<=B.bottomRight.x&&B.topLeft.y<=z.y&&z.y<=B.bottomRight.y;
t.boxVisible()&&(v.top||v.bottom||v.left||v.right)?x=1:t.boxVisible()&&t.movable()&&B?x=2:(x=0,t._setBounds({topLeft:z,bottomRight:z}),t._xBoundsMode===k.PropertyMode.VALUE&&null!=t.xScale()&&t._setXExtent([t.xScale().invert(z.x),t.xScale().invert(z.x)]),t._yBoundsMode===k.PropertyMode.VALUE&&null!=t.yScale()&&t._setYExtent([t.yScale().invert(z.y),t.yScale().invert(z.y)]),t.render());t.boxVisible(!0);B=t.bounds();u={x:B.topLeft.x,y:B.topLeft.y};y={x:B.bottomRight.x,y:B.bottomRight.y};w=z;t._dragStartCallbacks.callCallbacks(B)}
var t=this,v,u,y,w,x=0;this._dragInteraction.onDragStart(r);this._dragInteraction.onDrag(q);this._dragInteraction.onDragEnd(p);this._disconnectInteraction=function(){t._dragInteraction.offDragStart(r);t._dragInteraction.offDrag(q);t._dragInteraction.offDragEnd(p);t._dragInteraction.detach()}};n.prototype._setup=function(){function p(){return q._box.append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})}var q=this;l.prototype._setup.call(this);this._detectionEdgeT=p().classed("drag-edge-tb",
!0);this._detectionEdgeB=p().classed("drag-edge-tb",!0);this._detectionEdgeL=p().classed("drag-edge-lr",!0);this._detectionEdgeR=p().classed("drag-edge-lr",!0);if(this._hasCorners){var r=function(){return q._box.append("circle").styles({opacity:0,fill:"pink","pointer-events":"visibleFill"})};this._detectionCornerTL=r().classed("drag-corner-tl",!0);this._detectionCornerTR=r().classed("drag-corner-tr",!0);this._detectionCornerBL=r().classed("drag-corner-bl",!0);this._detectionCornerBR=r().classed("drag-corner-br",
!0)}};n.prototype._getResizingEdges=function(p){var q={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return q;var r=this.bounds(),t=r.topLeft.y,v=r.bottomRight.y,u=r.topLeft.x;r=r.bottomRight.x;var y=this._detectionRadius;u-y<=p.x&&p.x<=r+y&&(q.top=t-y<=p.y&&p.y<=t+y,q.bottom=v-y<=p.y&&p.y<=v+y);t-y<=p.y&&p.y<=v+y&&(q.left=u-y<=p.x&&p.x<=u+y,q.right=r-y<=p.x&&p.x<=r+y);return q};n.prototype.renderImmediately=function(){l.prototype.renderImmediately.call(this);if(this.boxVisible()){var p=
this.bounds(),q=p.topLeft.y,r=p.bottomRight.y,t=p.topLeft.x;p=p.bottomRight.x;this._detectionEdgeT.attrs({x1:t,y1:q,x2:p,y2:q,"stroke-width":2*this._detectionRadius});this._detectionEdgeB.attrs({x1:t,y1:r,x2:p,y2:r,"stroke-width":2*this._detectionRadius});this._detectionEdgeL.attrs({x1:t,y1:q,x2:t,y2:r,"stroke-width":2*this._detectionRadius});this._detectionEdgeR.attrs({x1:p,y1:q,x2:p,y2:r,"stroke-width":2*this._detectionRadius});this._hasCorners&&(this._detectionCornerTL.attrs({cx:t,cy:q,r:this._detectionRadius}),
this._detectionCornerTR.attrs({cx:p,cy:q,r:this._detectionRadius}),this._detectionCornerBL.attrs({cx:t,cy:r,r:this._detectionRadius}),this._detectionCornerBR.attrs({cx:p,cy:r,r:this._detectionRadius}))}return this};n.prototype.detectionRadius=function(){return this._detectionRadius};n.prototype.resizable=function(){return this._resizable};n.prototype._setResizableClasses=function(p){p&&this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))};
n.prototype.movable=function(){return this._movable};n.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")};n.prototype.onDragStart=function(p){this._dragStartCallbacks.add(p)};n.prototype.offDragStart=function(p){this._dragStartCallbacks.delete(p)};n.prototype.onDrag=function(p){this._dragCallbacks.add(p)};n.prototype.offDrag=function(p){this._dragCallbacks.delete(p)};n.prototype.onDragEnd=function(p){this._dragEndCallbacks.add(p)};
n.prototype.offDragEnd=function(p){this._dragEndCallbacks.delete(p)};n.prototype.dragInteraction=function(){return this._dragInteraction};n.prototype.enabled=function(p){if(null==p)return this._dragInteraction.enabled();this._dragInteraction.enabled(p);this._setResizableClasses(this.resizable());this._setMovableClass();return this};n.prototype.destroy=function(){var p=this;l.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(q){return p._dragCallbacks.delete(q)});this._dragCallbacks.forEach(function(q){return p._dragCallbacks.delete(q)});
this._dragEndCallbacks.forEach(function(q){return p._dragEndCallbacks.delete(q)});this._disconnectInteraction()};n.prototype.detach=function(){this._resetState();this._dragInteraction.detach();l.prototype.detach.call(this);return this};n.prototype.anchor=function(p){p=h.coerceExternalD3(p);this._dragInteraction.attachTo(this);l.prototype.anchor.call(this,p);return this};n.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})};return n}(d(43).SelectionBoxLayer);c.DragBoxLayer=
b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(18);b=function(h){function k(){return h.call(this,"path","line")||this}e(k,h);k.prototype._applyDefaultAttributes=function(l){l.style("fill","none")};k.prototype.getVisualPrimitiveAtIndex=function(){return h.prototype.getVisualPrimitiveAtIndex.call(this,0)};return k}(d(9).SVGDrawer);c.LineSVGDrawer=
b;var g=["opacity","stroke-opacity","stroke-width","stroke"];c.makeLineCanvasDrawStep=function(h){return function(k,l,n){n=f.resolveAttributes(n,g,l[0],0);f.renderLine(k,h(),l[0],n)}}},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(18);b=function(h){function k(l){void 0===l&&(l="");var n=h.call(this,"rect","")||this;n._rootClassName=
l;n._root.classed(n._rootClassName,!0);return n}e(k,h);return k}(d(9).SVGDrawer);c.RectangleSVGDrawer=b;var g=["x","y","width","height"];c.RectangleCanvasDrawStep=function(h,k,l){h.save();k.forEach(function(n,p){null!=n&&(n=f.resolveAttributesSubsetWithStyles(l,g,n,p),h.beginPath(),h.rect(n.x,n.y,n.width,n.height),f.renderPathWithStyle(h,n))});h.restore()};b=function(h){function k(l){return h.call(this,l,c.RectangleCanvasDrawStep)||this}e(k,h);return k}(f.CanvasDrawer);c.RectangleCanvasDrawer=b},
function(b,c,d){function e(h){g.SHOW_WARNINGS&&console.warn(h)}function f(h,k){for(var l=[],n=2;n<arguments.length;n++)l[n-2]=arguments[n];return 0===k?(h(l),-1):window.setTimeout(h,k,l)}var g=d(23);c.warn=e;c.setTimeout=f;c.debounce=function(h,k,l){function n(){k.apply(l,q)}var p=null,q=[];return function(){q=Array.prototype.slice.call(arguments);clearTimeout(p);p=f(n,h)}};c.deprecated=function(h,k,l){void 0===l&&(l="");e("Method "+h+" has been deprecated in version "+k+". Please refer to the release notes. "+
l)}},function(b,c){b=function(){function d(e){this.ruler=null!=e.createRuler?e.createRuler():e}d.prototype.measure=function(e){void 0===e&&(e=d.HEIGHT_TEXT);return this.ruler(e)};return d}();b.HEIGHT_TEXT="bdpql";c.AbstractMeasurer=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(32));e(d(74));e(d(75));e(d(41));e(d(42));e(d(76));e(d(77));e(d(78));e(d(79));e(d(43));e(d(80));e(d(81));e(d(82))},function(b,c,d){var e=d(0);b=function(){function f(g,h){void 0===g&&(g=
[]);void 0===h&&(h={});this._updateId=0;this._data=g;this._metadata=h;this._callbacks=new e.CallbackSet}f.prototype.onUpdate=function(g){this._callbacks.add(g);return this};f.prototype.offUpdate=function(g){this._callbacks.delete(g);return this};f.prototype.data=function(g){if(null==g)return this._data;this._data=g;this._dispatchUpdate();return this};f.prototype.metadata=function(g){if(null==g)return this._metadata;this._metadata=g;this._dispatchUpdate();return this};f.prototype.updateId=function(){return this._updateId};
f.prototype._dispatchUpdate=function(){this._updateId++;this._callbacks.callCallbacks(this)};return f}();c.Dataset=b},function(b,c,d){var e=d(0),f=d(30);b=function(){function g(){}g.prototype.render=function(){f.flush()};return g}();c.Immediate=b;b=function(){function g(){}g.prototype.render=function(){e.DOM.requestAnimationFramePolyfill(f.flush)};return g}();c.AnimationFrame=b;b=function(){function g(){this._timeoutMsec=e.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}g.prototype.render=function(){setTimeout(f.flush,
this._timeoutMsec)};return g}();c.Timeout=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(13),g=d(0);b=function(h){function k(){var l=null!==h&&h.apply(this,arguments)||this;l._keyPressCallbacks={};l._keyReleaseCallbacks={};l._mouseMoveCallback=function(){return!1};l._downedKeys=new g.Set;l._keyDownCallback=function(n,p){return l._handleKeyDownEvent(n,
p)};l._keyUpCallback=function(n){return l._handleKeyUpEvent(n)};return l}e(k,h);k.prototype._anchor=function(l){h.prototype._anchor.call(this,l);this._positionDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._positionDispatcher.onMouseMove(this._mouseMoveCallback);this._keyDispatcher=f.Key.getDispatcher();this._keyDispatcher.onKeyDown(this._keyDownCallback);this._keyDispatcher.onKeyUp(this._keyUpCallback)};k.prototype._unanchor=function(){h.prototype._unanchor.call(this);this._positionDispatcher.offMouseMove(this._mouseMoveCallback);
this._positionDispatcher=null;this._keyDispatcher.offKeyDown(this._keyDownCallback);this._keyDispatcher.offKeyUp(this._keyUpCallback);this._keyDispatcher=null};k.prototype._handleKeyDownEvent=function(l,n){var p=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(p)&&!n.repeat&&(this._keyPressCallbacks[l]&&this._keyPressCallbacks[l].callCallbacks(l),this._downedKeys.add(l))};k.prototype._handleKeyUpEvent=function(l){this._downedKeys.has(l)&&this._keyReleaseCallbacks[l]&&
this._keyReleaseCallbacks[l].callCallbacks(l);this._downedKeys.delete(l)};k.prototype.onKeyPress=function(l,n){this._keyPressCallbacks[l]||(this._keyPressCallbacks[l]=new g.CallbackSet);this._keyPressCallbacks[l].add(n);return this};k.prototype.offKeyPress=function(l,n){this._keyPressCallbacks[l].delete(n);0===this._keyPressCallbacks[l].size&&delete this._keyPressCallbacks[l];return this};k.prototype.onKeyRelease=function(l,n){this._keyReleaseCallbacks[l]||(this._keyReleaseCallbacks[l]=new g.CallbackSet);
this._keyReleaseCallbacks[l].add(n);return this};k.prototype.offKeyRelease=function(l,n){this._keyReleaseCallbacks[l].delete(n);0===this._keyReleaseCallbacks[l].size&&delete this._keyReleaseCallbacks[l];return this};return k}(d(15).Interaction);c.Key=b},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(0);b=function(g){function h(k){void 0===
k&&(k=[]);var l=g.call(this)||this;l._components=[];l.addClass("component-group");k.forEach(function(n){return l.append(n)});return l}e(h,g);h.prototype._forEach=function(k){this.components().forEach(k)};h.prototype.has=function(k){return 0<=this._components.indexOf(k)};h.prototype.requestedSpace=function(k,l){var n=this._components.map(function(p){return p.requestedSpace(k,l)});return{minWidth:f.Math.max(n,function(p){return p.minWidth},0),minHeight:f.Math.max(n,function(p){return p.minHeight},0)}};
h.prototype.computeLayout=function(k,l,n){var p=this;g.prototype.computeLayout.call(this,k,l,n);this._forEach(function(q){q.computeLayout({x:0,y:0},p.width(),p.height())});return this};h.prototype._sizeFromOffer=function(k,l){return{width:k,height:l}};h.prototype.fixedWidth=function(){return this._components.every(function(k){return k.fixedWidth()})};h.prototype.fixedHeight=function(){return this._components.every(function(k){return k.fixedHeight()})};h.prototype.components=function(){return this._components.slice()};
h.prototype.append=function(k){null==k||this.has(k)||(k.detach(),this._components.push(k),this._adoptAndAnchor(k),this.redraw());return this};h.prototype._remove=function(k){k=this._components.indexOf(k);0<=k&&this._components.splice(k,1)};return h}(d(29).ComponentContainer);c.Group=b},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)};d(0);
b=d(4);var f;(function(g){g[g.VALUE=0]="VALUE";g[g.PIXEL=1]="PIXEL"})(f||(f={}));b=function(g){function h(k){var l=g.call(this)||this;l._mode=f.VALUE;if(k!==h.ORIENTATION_VERTICAL&&k!==h.ORIENTATION_HORIZONTAL)throw Error(k+" is not a valid orientation for GuideLineLayer");l._orientation=k;l._overflowHidden=!0;l.addClass("guide-line-layer");l._isVertical()?l.addClass("vertical"):l.addClass("horizontal");l._scaleUpdateCallback=function(){l._syncPixelPositionAndValue();l.render()};return l}e(h,g);h.prototype._setup=
function(){g.prototype._setup.call(this);this._guideLine=this.content().append("line").classed("guide-line",!0)};h.prototype._sizeFromOffer=function(k,l){return{width:k,height:l}};h.prototype._isVertical=function(){return this._orientation===h.ORIENTATION_VERTICAL};h.prototype.fixedWidth=function(){return!0};h.prototype.fixedHeight=function(){return!0};h.prototype.computeLayout=function(k,l,n){g.prototype.computeLayout.call(this,k,l,n);null!=this.scale()&&(this._isVertical()?this.scale().range([0,
this.width()]):this.scale().range([this.height(),0]));return this};h.prototype.renderImmediately=function(){g.prototype.renderImmediately.call(this);this._syncPixelPositionAndValue();this._guideLine.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()});return this};h.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===
f.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===f.PIXEL&&null!=this.pixelPosition()&&(this._value=this.scale().invert(this.pixelPosition())))};h.prototype._setPixelPositionWithoutChangingMode=function(k){this._pixelPosition=k;null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition()));this.render()};h.prototype.scale=function(k){if(null==k)return this._scale;var l=this._scale;null!=l&&l.offUpdate(this._scaleUpdateCallback);this._scale=
k;this._scale.onUpdate(this._scaleUpdateCallback);this._syncPixelPositionAndValue();this.redraw();return this};h.prototype.value=function(k){if(null==k)return this._value;this._value=k;this._mode=f.VALUE;this._syncPixelPositionAndValue();this.render();return this};h.prototype.pixelPosition=function(){return this._pixelPosition};h.prototype.destroy=function(){g.prototype.destroy.call(this);null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)};return h}(b.Component);b.ORIENTATION_VERTICAL=
"vertical";b.ORIENTATION_HORIZONTAL="horizontal";c.GuideLineLayer=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(0);b=d(4);var g;(function(h){h[h.VALUE=0]="VALUE";h[h.PIXEL=1]="PIXEL"})(g=c.PropertyMode||(c.PropertyMode={}));b=function(h){function k(){var l=h.call(this)||this;l._boxVisible=!1;l._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,
y:0}};l._xBoundsMode=g.PIXEL;l._yBoundsMode=g.PIXEL;l.addClass("selection-box-layer");l._adjustBoundsCallback=function(){l.render()};l._overflowHidden=!0;l._xExtent=[void 0,void 0];l._yExtent=[void 0,void 0];return l}e(k,h);k.prototype._setup=function(){h.prototype._setup.call(this);this._box=this.content().append("g").classed("selection-box",!0).remove();this._boxArea=this._box.append("rect").classed("selection-area",!0)};k.prototype._sizeFromOffer=function(l,n){return{width:l,height:n}};k.prototype.bounds=
function(l){if(null==l)return this._getBounds();this._setBounds(l);this._yBoundsMode=this._xBoundsMode=g.PIXEL;this.render();return this};k.prototype._setBounds=function(l){this._boxBounds={topLeft:{x:Math.min(l.topLeft.x,l.bottomRight.x),y:Math.min(l.topLeft.y,l.bottomRight.y)},bottomRight:{x:Math.max(l.topLeft.x,l.bottomRight.x),y:Math.max(l.topLeft.y,l.bottomRight.y)}}};k.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?
0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.bottomRight.y:null==
this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}};k.prototype.renderImmediately=function(){h.prototype.renderImmediately.call(this);if(this._boxVisible){var l=this.bounds(),n=l.topLeft.y,p=l.bottomRight.y,q=l.topLeft.x;l=l.bottomRight.x;if(!(f.Math.isValidNumber(n)&&f.Math.isValidNumber(p)&&f.Math.isValidNumber(q)&&f.Math.isValidNumber(l)))throw Error("bounds have not been properly set");this._boxArea.attrs({x:q,y:n,width:l-q,height:p-n});this.content().node().appendChild(this._box.node())}else this._box.remove();
return this};k.prototype.boxVisible=function(l){if(null==l)return this._boxVisible;this._boxVisible=l;this.render();return this};k.prototype.fixedWidth=function(){return!0};k.prototype.fixedHeight=function(){return!0};k.prototype.xScale=function(l){if(null==l)return this._xScale;null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback);this._xScale=l;this._xBoundsMode=g.VALUE;this._xScale.onUpdate(this._adjustBoundsCallback);this.render();return this};k.prototype.yScale=function(l){if(null==
l)return this._yScale;null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback);this._yScale=l;this._yBoundsMode=g.VALUE;this._yScale.onUpdate(this._adjustBoundsCallback);this.render();return this};k.prototype.xExtent=function(){return this._getXExtent()};k.prototype._getXExtent=function(){return this._xBoundsMode===g.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]};k.prototype._setXExtent=
function(l){this._xExtent=l};k.prototype.yExtent=function(){return this._getYExtent()};k.prototype._getYExtent=function(){return this._yBoundsMode===g.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]};k.prototype._setYExtent=function(l){this._yExtent=l};k.prototype.destroy=function(){h.prototype.destroy.call(this);null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback);null!=this._yScale&&
this.yScale().offUpdate(this._adjustBoundsCallback)};return k}(b.Component);c.SelectionBoxLayer=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return f.call(this,"path","arc fill")||this}e(g,f);g.prototype._applyDefaultAttributes=function(h){h.style("stroke","none")};return g}(d(9).SVGDrawer);c.ArcSVGDrawer=
b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return f.call(this,"path","arc outline")||this}e(g,f);g.prototype._applyDefaultAttributes=function(h){h.style("fill","none")};return g}(d(9).SVGDrawer);c.ArcOutlineSVGDrawer=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=
h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(18);b=function(h){function k(){return h.call(this,"path","area")||this}e(k,h);k.prototype._applyDefaultAttributes=function(l){l.style("stroke","none")};k.prototype.getVisualPrimitiveAtIndex=function(){return h.prototype.getVisualPrimitiveAtIndex.call(this,0)};return k}(d(9).SVGDrawer);c.AreaSVGDrawer=b;var g=["fill","opacity","fill-opacity"];c.makeAreaCanvasDrawStep=function(h){return function(k,
l,n){n=f.resolveAttributes(n,g,l[0],0);f.renderArea(k,h(),l[0],n)}}},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return f.call(this,"line","")||this}e(g,f);return g}(d(9).SVGDrawer);c.SegmentSVGDrawer=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&
(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(86),g=d(18);b=function(h){function k(){return h.call(this,"path","symbol")||this}e(k,h);return k}(d(9).SVGDrawer);c.SymbolSVGDrawer=b;c.makeSymbolCanvasDrawStep=function(h,k,l){var n=this;return function(p,q,r){var t=p.canvas,v=t.clientWidth;t=t.clientHeight;for(var u=new f.CanvasBuffer(0,0),y=k(),w=l(),x=null,z=null,B=null,A=0;A<q.length;A++){var C=q[A];if(null!=C){var E=g.resolveAttributesSubsetWithStyles(r,["x",
"y"],C,A),F=w(C,A,h),I=E.x,Q=E.y;if(0<=I+F&&I-F<=v&&0<=Q+F&&Q-F<=t){a:if(I=g.ContextStyleAttrs,null==x)I=!1;else{for(Q=0;Q<I.length;Q++){var J=I[Q];if(x[J]!=E[J]){I=!1;break a}}I=!0}C=y(C,A,n._dataset);I&&B==F&&z==C||(x=g.getStrokeWidth(E),x=F+x+1,(x>u.screenWidth||x>u.screenHeight)&&u.resize(x,x,!0),u.clear(),x=u.ctx,x.beginPath(),C(F).context(x)(null),x.closePath(),g.renderPathWithStyle(x,E),z=C,B=F,x=E);u.blitCenter(p,E.x,E.y)}}}}}},function(b,c,d){function e(w){return w instanceof t?w:w instanceof
Date?h(w.valueOf()):w instanceof r.Scale?f(w):w instanceof q.Dataset?g(w):p(w)?l(w):Array.isArray(w)?k(w):h(w)}function f(w){w={domain:w.domain(),range:w.range(),updateId:w.updateId(),ref:h(w)};return l(w)}function g(w){w={ref:h(w),updateId:w.updateId()};return l(w)}function h(w){return new u(w)}function k(w){return new v(w.map(function(x){return e(x)}))}function l(w){var x={},z;for(z in w)w.hasOwnProperty(z)&&(x[z]=e(w[z]));return new y(x)}var n=this&&this.__extends||function(w,x){function z(){this.constructor=
w}for(var B in x)x.hasOwnProperty(B)&&(w[B]=x[B]);w.prototype=null===x?Object.create(x):(z.prototype=x.prototype,new z)},p=d(128),q=d(38),r=d(17);c.sign=e;c.signScale=f;c.signDataset=g;c.signRef=h;c.signArray=k;c.signObj=l;var t=function(){function w(){}w.prototype.isDifferent=function(x){return x instanceof this.constructor?this.isSignatureDifferent(x):!0};return w}();c.Signature=t;var v=function(w){function x(z){var B=w.call(this)||this;B.array=z;return B}n(x,w);x.prototype.isSignatureDifferent=
function(z){if(z.array.length!==this.array.length)return!0;for(var B=0;B<this.array.length;B++)if(this.array[B].isDifferent(z.array[B]))return!0;return!1};return x}(t);c.ArraySignature=v;var u=function(w){function x(z){var B=w.call(this)||this;B.ref=z;return B}n(x,w);x.prototype.isSignatureDifferent=function(z){return this.ref!==z.ref};return x}(t);c.ReferenceSignature=u;var y=function(w){function x(z){var B=w.call(this)||this;B.obj=z;return B}n(x,w);x.prototype.isSignatureDifferent=function(z){var B=
Object.keys(this.obj),A=Object.keys(z.obj);if(B.length!==A.length)return!0;for(A=0;A<B.length;A++){var C=B[A];if(!z.obj.hasOwnProperty(C)||this.obj[C].isDifferent(z.obj[C]))return!0}return!1};return x}(t);c.ObjectSignature=y},function(b,c,d){var e=this&&this.__extends||function(t,v){function u(){this.constructor=t}for(var y in v)v.hasOwnProperty(y)&&(t[y]=v[y]);t.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)},f=d(1),g=d(3),h=d(0),k=d(14),l=d(46),n=d(6),p=d(33),q=d(19);b=d(53);
var r=d(2);d=function(t){function v(){var u=t.call(this)||this;u.addClass("area-plot");u.y0(0);u.attr("fill-opacity",.25);u.attr("fill",(new g.Color).range()[0]);u._lineDrawers=new h.Map;return u}e(v,t);v.prototype.y=function(u,y){if(null==u)return t.prototype.y.call(this);null==y?t.prototype.y.call(this,u):t.prototype.y.call(this,u,y);null!=y&&(u=this.y0().accessor,null!=u&&this._bindProperty(v._Y0_KEY,u,y),this._updateYScale());return this};v.prototype.y0=function(u){if(null==u)return this._propertyBindings.get(v._Y0_KEY);
var y=this.y();this._bindProperty(v._Y0_KEY,u,y&&y.scale);this._updateYScale();this.render();return this};v.prototype._onDatasetUpdate=function(){t.prototype._onDatasetUpdate.call(this);this._updateYScale()};v.prototype._addDataset=function(u){var y=this;this._lineDrawers.set(u,new k.ProxyDrawer(function(){return new p.LineSVGDrawer},function(w){return new k.CanvasDrawer(w,p.makeLineCanvasDrawStep(function(){var x=r.Plot._scaledAccessor(y.x()),z=r.Plot._scaledAccessor(y.y());return y._d3LineFactory(u,
x,z)}))}));t.prototype._addDataset.call(this,u);return this};v.prototype._createNodesForDataset=function(u){t.prototype._createNodesForDataset.call(this,u);u=this._lineDrawers.get(u);"svg"===this.renderer()?u.useSVG(this._renderArea):u.useCanvas(this._canvas);return u};v.prototype._removeDatasetNodes=function(u){t.prototype._removeDatasetNodes.call(this,u);this._lineDrawers.get(u).remove()};v.prototype._additionalPaint=function(){var u=this,y=this._generateLineDrawSteps(),w=this._getDataToDraw();
this.datasets().forEach(function(x){var z=r.Plot.applyDrawSteps(y,x);u._lineDrawers.get(x).draw(w.get(x),z)})};v.prototype._generateLineDrawSteps=function(){var u=[];if(this._animateOnNextRender()){var y=this._generateLineAttrToProjector();y.d=this._constructLineProjector(r.Plot._scaledAccessor(this.x()),this._getResetYFunction());u.push({attrToProjector:y,animator:this._getAnimator(q.Animator.RESET)})}u.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(q.Animator.MAIN)});
return u};v.prototype._generateLineAttrToProjector=function(){var u=this._getAttrToProjector();u.d=this._constructLineProjector(r.Plot._scaledAccessor(this.x()),r.Plot._scaledAccessor(this.y()));return u};v.prototype._createDrawer=function(u){var y=this;return new n.ProxyDrawer(function(){return new l.AreaSVGDrawer},function(w){return new k.CanvasDrawer(w,l.makeAreaCanvasDrawStep(function(){var x=r.Plot._scaledAccessor(y.x()),z=r.Plot._scaledAccessor(y.y()),B=r.Plot._scaledAccessor(y.y0());return y._createAreaGenerator(x,
z,B,y._createDefinedProjector(x,z),u)}))})};v.prototype._generateDrawSteps=function(){var u=[];if(this._animateOnNextRender()){var y=this._getAttrToProjector();y.d=this._constructAreaProjector(r.Plot._scaledAccessor(this.x()),this._getResetYFunction(),r.Plot._scaledAccessor(this.y0()));u.push({attrToProjector:y,animator:this._getAnimator(q.Animator.RESET)})}u.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(q.Animator.MAIN)});return u};v.prototype._updateYScale=function(){var u=
this.getExtentsForProperty("y0");u=h.Array.flatten(u);u=h.Array.uniq(u);var y=1===u.length?u[0]:null;u=(u=this.y())&&u.scale;null!=u&&(null!=this._constantBaselineValueProvider&&(u.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=y&&(this._constantBaselineValueProvider=function(){return[y]},u.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))};v.prototype._getResetYFunction=function(){return r.Plot._scaledAccessor(this.y0())};
v.prototype._propertyProjectors=function(){var u=t.prototype._propertyProjectors.call(this);u.d=this._constructAreaProjector(r.Plot._scaledAccessor(this.x()),r.Plot._scaledAccessor(this.y()),r.Plot._scaledAccessor(this.y0()));return u};v.prototype.selections=function(u){var y=this;void 0===u&&(u=this.datasets());if("canvas"===this.renderer())return f.selectAll();var w=t.prototype.selections.call(this,u).nodes();u.map(function(x){return y._lineDrawers.get(x)}).filter(function(x){return null!=x}).forEach(function(x){return w.push.apply(w,
x.getVisualPrimitives())});return f.selectAll(w)};v.prototype._constructAreaProjector=function(u,y,w){var x=this,z=this._createDefinedProjector(r.Plot._scaledAccessor(this.x()),r.Plot._scaledAccessor(this.y()));return function(B,A,C){return x._createAreaGenerator(u,y,w,z,C)(B)}};v.prototype._createDefinedProjector=function(u,y){return function(w,x,z){var B=u(w,x,z);w=y(w,x,z);return h.Math.isValidNumber(B)&&h.Math.isValidNumber(w)}};v.prototype._createAreaGenerator=function(u,y,w,x,z){var B=this._getCurveFactory();
return f.area().x(function(A,C){return u(A,C,z)}).y1(function(A,C){return y(A,C,z)}).y0(function(A,C){return w(A,C,z)}).curve(B).defined(function(A,C){return x(A,C,z)})};return v}(b.Line);d._Y0_KEY="y0";c.Area=d},function(b,c){b=c.Animator||(c.Animator={});b.MAIN="main";b.RESET="reset"},function(b,c){var d=function(){function e(){var f=this;this.translate=this.scale=0;this.cachedDomain=[null,null];this.lastSeenDomain=[null,null];this.updateDomain=function(g){f.lastSeenDomain=g.getTransformationDomain();
var h=g.scaleTransformation(f.cachedDomain[1])-g.scaleTransformation(f.cachedDomain[0]),k=g.scaleTransformation(f.lastSeenDomain[1])-g.scaleTransformation(f.lastSeenDomain[0]);f.scale=h/k||1;f.translate=g.scaleTransformation(f.cachedDomain[0])-g.scaleTransformation(f.lastSeenDomain[0])*f.scale||0}}e.prototype.reset=function(){this.scale=1;this.translate=0;this.cachedDomain=this.lastSeenDomain};e.prototype.setDomain=function(f){this.cachedDomain=f.getTransformationDomain()};return e}();b=function(){function e(f,
g){var h=this;this.renderCallback=f;this.applyTransformCallback=g;this.domainTransformX=new d;this.domainTransformY=new d;this.renderDeferred=function(){h.applyTransform();clearTimeout(h.timeoutToken);h.timeoutToken=setTimeout(function(){h.renderCallback()},e.DEFERRED_RENDERING_DELAY)}}e.prototype.setDomains=function(f,g){f&&this.domainTransformX.setDomain(f);g&&this.domainTransformY.setDomain(g);this.renderDeferred()};e.prototype.updateDomains=function(f,g){f&&this.domainTransformX.updateDomain(f);
g&&this.domainTransformY.updateDomain(g);this.renderDeferred()};e.prototype.resetTransforms=function(){this.domainTransformX.reset();this.domainTransformY.reset();this.applyTransform()};e.prototype.applyTransform=function(){this.applyTransformCallback(this.domainTransformX.translate,this.domainTransformY.translate,this.domainTransformX.scale,this.domainTransformY.scale)};return e}();b.DEFERRED_RENDERING_DELAY=200;c.DeferredRenderer=b},function(b,c,d){var e=this&&this.__extends||function(u,y){function w(){this.constructor=
u}for(var x in y)y.hasOwnProperty(x)&&(u[x]=y[x]);u.prototype=null===y?Object.create(y):(w.prototype=y.prototype,new w)},f=d(1),g=d(7),h=d(14),k=d(6),l=d(33),n=d(3),p=d(11),q=d(0);b=d(10);var r=d(19),t=d(2);d=d(16);var v={linear:f.curveLinear,linearClosed:f.curveLinearClosed,step:f.curveStep,stepBefore:f.curveStepBefore,stepAfter:f.curveStepAfter,basis:f.curveBasis,basisOpen:f.curveBasisOpen,basisClosed:f.curveBasisClosed,bundle:f.curveBundle,cardinal:f.curveCardinal,cardinalOpen:f.curveCardinalOpen,
cardinalClosed:f.curveCardinalClosed,monotone:f.curveMonotoneX};c.CurveName=b.makeEnum("linear linearClosed step stepBefore stepAfter basis basisOpen basisClosed bundle cardinal cardinalOpen cardinalClosed monotone".split(" "));d=function(u){function y(){var w=u.call(this)||this;w._curve="linear";w._autorangeSmooth=!1;w._croppedRenderingEnabled=!0;w._collapseDenseVerticalLinesEnabled=!1;w._downsamplingEnabled=!1;w.addClass("line-plot");var x=new g.Easing;x.stepDuration(t.Plot._ANIMATION_MAX_DURATION);
x.easingMode("expInOut");x.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION);w.animator(r.Animator.MAIN,x);w.attr("stroke",(new n.Color).range()[0]);w.attr("stroke-width","2px");return w}e(y,u);y.prototype.x=function(w,x,z){if(null==w)return u.prototype.x.call(this);u.prototype.x.call(this,w,x,z);this._setScaleSnapping();return this};y.prototype.y=function(w,x,z){if(null==w)return u.prototype.y.call(this);u.prototype.y.call(this,w,x,z);this._setScaleSnapping();return this};y.prototype.autorangeMode=
function(w){if(null==w)return u.prototype.autorangeMode.call(this);u.prototype.autorangeMode.call(this,w);this._setScaleSnapping();return this};y.prototype.autorangeSmooth=function(){return this._autorangeSmooth};y.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&this.x().scale instanceof p.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth());"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof p.QuantitativeScale&&
this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())};y.prototype.curve=function(w){if(null==w)return this._curve;this._curve=w;this.render();return this};y.prototype.downsamplingEnabled=function(){return this._downsamplingEnabled};y.prototype.croppedRenderingEnabled=function(w){if(null==w)return this._croppedRenderingEnabled;this._croppedRenderingEnabled=w;this.render();return this};y.prototype.collapseDenseLinesEnabled=function(w){if(null==w)return this._collapseDenseVerticalLinesEnabled;
this._collapseDenseVerticalLinesEnabled=w;this.render();return this};y.prototype._createDrawer=function(w){var x=this;return new k.ProxyDrawer(function(){return new l.LineSVGDrawer},function(z){return new h.CanvasDrawer(z,l.makeLineCanvasDrawStep(function(){return x._d3LineFactory(w)}))})};y.prototype.getExtentsForProperty=function(w){var x=u.prototype.getExtentsForProperty.call(this,w);if(!this._autorangeSmooth||this.autorangeMode()!==w||"x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return x;
w=this._getEdgeIntersectionPoints();var z="y"===this.autorangeMode()?w.left.concat(w.right).map(function(B){return B.y}):w.top.concat(w.bottom).map(function(B){return B.x});return x.map(function(B){return f.extent(f.merge([B,z]))})};y.prototype._getEdgeIntersectionPoints=function(){var w=this;if(!(this.y().scale instanceof p.QuantitativeScale&&this.x().scale instanceof p.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var x=this.y().scale,z=this.x().scale,B={left:[],right:[],top:[],bottom:[]},
A=z.scale(z.domain()[0]),C=z.scale(z.domain()[1]),E=x.scale(x.domain()[0]),F=x.scale(x.domain()[1]);this.datasets().forEach(function(I){for(var Q=I.data(),J,R,L,H,S,T,O,P=1;P<Q.length;P++)H=T||z.scale(w.x().accessor(Q[P-1],P-1,I)),S=O||x.scale(w.y().accessor(Q[P-1],P-1,I)),T=z.scale(w.x().accessor(Q[P],P,I)),O=x.scale(w.y().accessor(Q[P],P,I)),H<A===A<=T&&(J=A-H,R=T-H,L=O-S,J=J*L/R,B.left.push({x:A,y:x.invert(S+J)})),H<C===C<=T&&(J=C-H,R=T-H,L=O-S,J=J*L/R,B.right.push({x:C,y:x.invert(S+J)})),S<F===
F<=O&&(R=T-H,J=F-S,L=O-S,J=J*R/L,B.top.push({x:z.invert(H+J),y:F})),S<E===E<=O&&(R=T-H,J=E-S,L=O-S,J=J*R/L,B.bottom.push({x:z.invert(H+J),y:E}))});return B};y.prototype._getResetYFunction=function(){var w=this.y().scale.domain(),x=Math.max(w[0],w[1]);w=Math.min(w[0],w[1]);x=0>x&&x||0<w&&w||0;var z=this.y().scale.scale(x);return function(){return z}};y.prototype._generateDrawSteps=function(){var w=[];if(this._animateOnNextRender()){var x=this._getAttrToProjector();x.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),
this._getResetYFunction());w.push({attrToProjector:x,animator:this._getAnimator(r.Animator.RESET)})}w.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(r.Animator.MAIN)});return w};y.prototype._generateAttrToProjector=function(){var w=u.prototype._generateAttrToProjector.call(this);Object.keys(w).forEach(function(x){if("d"!==x){var z=w[x];w[x]=function(B,A,C){return 0<B.length?z(B[0],A,C):null}}});return w};y.prototype.entitiesAt=function(w){w=this.entityNearestByXThenY(w);
return null!=w?[w]:[]};y.prototype.entityNearestByXThenY=function(w){var x=Infinity,z=Infinity,B,A=this.bounds();this.entities().forEach(function(C){if(q.Math.within(C.position,A)){var E=Math.abs(w.x-C.position.x),F=Math.abs(w.y-C.position.y);if(E<x||E===x&&F<z)B=C,x=E,z=F}});return B};y.prototype._propertyProjectors=function(){var w=u.prototype._propertyProjectors.call(this);w.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()));return w};y.prototype._constructLineProjector=
function(w,x){var z=this;return function(B,A,C){return z._d3LineFactory(C,w,x)(B)}};y.prototype._d3LineFactory=function(w,x,z){void 0===x&&(x=t.Plot._scaledAccessor(this.x()));void 0===z&&(z=t.Plot._scaledAccessor(this.y()));return f.line().x(function(B,A){return x(B,A,w)}).y(function(B,A){return z(B,A,w)}).curve(this._getCurveFactory()).defined(function(B,A){var C=x(B,A,w);B=z(B,A,w);return q.Math.isValidNumber(C)&&q.Math.isValidNumber(B)})};y.prototype._getCurveFactory=function(){var w=this.curve();
return"string"===typeof w?(w=v[w],null==w?v.linear:w):w};y.prototype._getDataToDraw=function(){var w=this,x=new q.Map;this.datasets().forEach(function(z){var B=z.data();if(w._croppedRenderingEnabled||w._downsamplingEnabled){var A=B.map(function(C,E){return E});w._croppedRenderingEnabled&&(A=w._filterCroppedRendering(z,A));w._downsamplingEnabled&&(A=w._filterDownsampling(z,A));w._collapseDenseVerticalLinesEnabled&&(A=w._filterDenseLines(z,A));x.set(z,[A.map(function(C){return B[C]})])}else x.set(z,
[B])});return x};y.prototype._filterCroppedRendering=function(w,x){function z(L,H){return q.Math.inRange(L,0,B.width())&&q.Math.inRange(H,0,B.height())}for(var B=this,A=t.Plot._scaledAccessor(this.x()),C=t.Plot._scaledAccessor(this.y()),E=w.data(),F=[],I=0;I<x.length;I++){var Q=A(E[x[I]],x[I],w),J=C(E[x[I]],x[I],w);Q=z(Q,J);if(!Q&&null!=x[I-1]&&null!=E[x[I-1]]){J=A(E[x[I-1]],x[I-1],w);var R=C(E[x[I-1]],x[I-1],w);Q=Q||z(J,R)}Q||null==x[I+1]||null==E[x[I+1]]||(J=A(E[x[I+1]],x[I+1],w),R=C(E[x[I+1]],
x[I+1],w),Q=Q||z(J,R));Q&&F.push(x[I])}return F};y.prototype._filterDownsampling=function(w,x){function z(O,P){var U=A(B[x[O]],x[O],w),X=C(B[x[O]],x[O],w),V=A(B[x[O+1]],x[O+1],w);O=C(B[x[O+1]],x[O+1],w);return Infinity===P?Math.floor(U)===Math.floor(V):Math.floor(O)===Math.floor(X+(V-U)*P)}if(0===x.length)return[];for(var B=w.data(),A=t.Plot._scaledAccessor(this.x()),C=t.Plot._scaledAccessor(this.y()),E=[x[0]],F=0;F<x.length-1;){var I=x[F],Q=A(B[x[F]],x[F],w),J=C(B[x[F]],x[F],w),R=A(B[x[F+1]],x[F+
1],w),L=C(B[x[F+1]],x[F+1],w);L=Math.floor(Q)===Math.floor(R)?Infinity:(L-J)/(R-Q);R=x[F];J=Infinity===L?J:Q;Q=R;for(var H=J,S=!0;F<x.length-1&&(S||z(F,L));){F++;S=!1;var T=Infinity===L?C(B[x[F]],x[F],w):A(B[x[F]],x[F],w);T>H&&(H=T,Q=x[F]);T<J&&(J=T,R=x[F])}L=x[F];R!==I&&E.push(R);Q!==R&&Q!==I&&E.push(Q);L!==I&&L!==R&&L!==Q&&E.push(L)}return E};y.prototype._filterDenseLines=function(w,x){if(0===x.length)return[];var z=w.data(),B=t.Plot._scaledAccessor(this.x()),A=t.Plot._scaledAccessor(this.y());
return this._bucketByX(w,x,function(C){return B(z[C],C,w)},function(C){return A(z[C],C,w)})};y.prototype._bucketByX=function(w,x,z,B){var A=[];w=w.data();for(var C=null,E=0;E<=x.length;++E){var F=x[E];if(null!=w[F]){var I=Math.floor(z(F)),Q=B(F);null==C?C=new q.Bucket(F,I,Q):C.isInBucket(I)?C.addToBucket(Q,F):(A.push.apply(A,C.getUniqueIndices()),C=new q.Bucket(F,I,Q))}}null!=C&&A.push.apply(A,C.getUniqueIndices());return A};return y}(d.XYPlot);c.Line=d},function(b,c,d){var e=this&&this.__extends||
function(l,n){function p(){this.constructor=l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(1),g=d(26),h=d(0),k=[0,1];b=function(l){function n(){var p=l.call(this)||this;p._range=[0,1];p._d3Scale=f.scaleBand();p._d3Scale.range(k);p._d3TransformationScale=f.scaleLinear();p._d3TransformationScale.domain(k);p._innerPadding=n._convertToPlottableInnerPadding();p._outerPadding=n._convertToPlottableOuterPadding();return p}e(n,l);
n.prototype.cloneWithoutProviders=function(){var p=(new n).domain(this.domain()).range(this.range()).innerPadding(this.innerPadding()).outerPadding(this.outerPadding());p._d3TransformationScale.domain(this._d3TransformationScale.domain());return p};n.prototype.extentOfValues=function(p){return h.Array.uniq(p)};n.prototype._getExtent=function(){return h.Array.uniq(this._getAllIncludedValues())};n.prototype.domain=function(p){return l.prototype.domain.call(this,p)};n.prototype.invertRange=function(){var p,
q=this;void 0===p&&(p=this.range());var r=this._d3Scale.bandwidth(),t=this.invertedTransformation(p[0]),v=this.invertedTransformation(p[1]);p=this._d3Scale.domain();var u=p.map(function(y){return q._d3Scale(y)+r/2});t=f.bisect(u,t);v=f.bisect(u,v);return p.slice(t,v)};n.prototype.range=function(p){return l.prototype.range.call(this,p)};n._convertToPlottableInnerPadding=function(){return 1/.7-1};n._convertToPlottableOuterPadding=function(){return.5/.7};n.prototype._setBands=function(){var p=1-1/(1+
this.innerPadding()),q=this.outerPadding()/(1+this.innerPadding());this._d3Scale.paddingInner(p);this._d3Scale.paddingOuter(q)};n.prototype.rangeBand=function(){return this._rescaleBand(this._d3Scale.bandwidth())};n.prototype.stepWidth=function(){return this._rescaleBand(this._d3Scale.bandwidth()*(1+this.innerPadding()))};n.prototype.ticks=function(){return this.domain()};n.prototype.innerPadding=function(p){if(null==p)return this._innerPadding;this._innerPadding=p;this.range(this.range());this._dispatchUpdate();
return this};n.prototype.outerPadding=function(p){if(null==p)return this._outerPadding;this._outerPadding=p;this.range(this.range());this._dispatchUpdate();return this};n.prototype.scale=function(p){p=this._d3Scale(p)+this._d3Scale.bandwidth()/2;return this._d3TransformationScale(p)};n.prototype.zoom=function(p,q){var r=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(t){return r._d3TransformationScale.invert(g.zoomOut(t,p,q))}));this._dispatchUpdate()};n.prototype.pan=
function(p){var q=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(r){return q._d3TransformationScale.invert(r+p)}));this._dispatchUpdate()};n.prototype.scaleTransformation=function(p){return this._d3TransformationScale(p)};n.prototype.invertedTransformation=function(p){return this._d3TransformationScale.invert(p)};n.prototype.getTransformationExtent=function(){return k};n.prototype.getTransformationDomain=function(){return this._d3TransformationScale.domain()};
n.prototype.setTransformationDomain=function(p){this._d3TransformationScale.domain(p);this._dispatchUpdate()};n.prototype._getDomain=function(){return this._backingScaleDomain()};n.prototype._backingScaleDomain=function(p){if(null==p)return this._d3Scale.domain();this._d3Scale.domain(p);this._setBands();return this};n.prototype._getRange=function(){return this._range};n.prototype._setRange=function(p){this._range=p;this._d3TransformationScale.range(p);this._setBands()};n.prototype._rescaleBand=function(p){return Math.abs(this._d3TransformationScale(p)-
this._d3TransformationScale(0))};return n}(d(17).Scale);c.Category=b},function(b,c,d){function e(v){try{var u=v.node().getBBox()}catch(y){u={x:0,y:0,width:0,height:0}}return u}function f(v){if("number"===typeof v)return{min:v,max:v};if(v instanceof Object&&"min"in v&&"max"in v)return v;throw Error("input '"+v+"' can't be parsed as an Range");}function g(v,u){v=v.getPropertyValue(u);return parseFloat(v)||0}function h(v){if(null==v||"none"===v)return null;v=v.match(r);if(null==v||2>v.length)return null;
v=v[1].split(t).map(function(u){return parseFloat(u)});return 6!=v.length?null:v}var k=d(1),l=Math;c.contains=function(v,u){for(;null!=u&&u!==v;)u=u.parentNode;return u===v};c.elementBBox=e;c.entityBounds=function(v){return v instanceof SVGElement?e(k.select(v)):v instanceof HTMLElement?(v=v.getBoundingClientRect(),{x:v.left,y:v.top,width:v.width,height:v.height}):{x:0,y:0,width:0,height:0}};c.SCREEN_REFRESH_RATE_MILLISECONDS=1E3/60;c.requestAnimationFramePolyfill=function(v){null!=window.requestAnimationFrame?
window.requestAnimationFrame(v):setTimeout(v,c.SCREEN_REFRESH_RATE_MILLISECONDS)};c.elementWidth=function(v){v=v instanceof k.selection?v.node():v;v=window.getComputedStyle(v);return g(v,"width")+g(v,"padding-left")+g(v,"padding-right")+g(v,"border-left-width")+g(v,"border-right-width")};c.elementHeight=function(v){v=v instanceof k.selection?v.node():v;v=window.getComputedStyle(v);return g(v,"height")+g(v,"padding-top")+g(v,"padding-bottom")+g(v,"border-top-width")+g(v,"border-bottom-width")};var n=
/translate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/,p=/rotate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))\s*\)/,q=/scale\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/;c.getTranslateValues=function(v){v=n.exec(v.attr("transform"));if(null!=v){var u=v[2];return[+v[1],+(void 0===u?0:u)]}return[0,0]};c.getRotate=function(v){v=p.exec(v.attr("transform"));return null!=v?+v[1]:0};c.getScaleValues=function(v){var u=
q.exec(v.attr("transform"));return null!=u?(v=u[1],u=u[2],[+v,null==u?+v:+u]):[0,0]};c.clientRectsOverlap=function(v,u){return l.floor(v.right)<=l.ceil(u.left)||l.ceil(v.left)>=l.floor(u.right)||l.floor(v.bottom)<=l.ceil(u.top)||l.ceil(v.top)>=l.floor(u.bottom)?!1:!0};c.expandRect=function(v,u){return{left:v.left-u,top:v.top-u,right:v.right+u,bottom:v.bottom+u,width:v.width+2*u,height:v.height+2*u}};c.clientRectInside=function(v,u){return l.floor(u.left)<=l.ceil(v.left)&&l.floor(u.top)<=l.ceil(v.top)&&
l.floor(v.right)<=l.ceil(u.right)&&l.floor(v.bottom)<=l.ceil(u.bottom)};c.intersectsBBox=function(v,u,y,w){void 0===w&&(w=.5);v=f(v);u=f(u);return y.x+y.width>=v.min-w&&y.x<=v.max+w&&y.y+y.height>=u.min-w&&y.y<=u.max+w};c.getHtmlElementAncestors=function(v){for(var u=[];v&&v instanceof HTMLElement;)u.push(v),v=v.parentElement;return u};c.getElementTransform=function(v){v=window.getComputedStyle(v,null);v=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("-moz-transform")||v.getPropertyValue("-ms-transform")||
v.getPropertyValue("-o-transform")||v.getPropertyValue("transform");return h(v)};var r=/^matrix\(([^)]+)\)$/,t=/[, ]+/},function(b,c,d){function e(p,q){return[p[0]*q[0]+p[2]*q[1],p[1]*q[0]+p[3]*q[1],p[0]*q[2]+p[2]*q[3],p[1]*q[2]+p[3]*q[3],p[0]*q[4]+p[2]*q[5]+p[4],p[1]*q[4]+p[3]*q[5]+p[5]]}function f(p,q){return[p[0],p[1],p[2],p[3],p[0]*q[0]+p[2]*q[1]+p[4],p[1]*q[0]+p[3]*q[1]+p[5]]}function g(p){var q=p[0]*p[3]-p[1]*p[2];if(0===q)throw Error("singular matrix");q=1/q;return[q*p[3],q*-p[1],q*-p[2],q*
p[0],q*(-p[3]*p[4]+p[2]*p[5]),q*(p[1]*p[4]+-p[0]*p[5])]}var h=d(1),k=d(55),l=Math,n=[1,0,0,1,0,0];c.inRange=function(p,q,r){return l.min(q,r)<=p&&p<=l.max(q,r)};c.clamp=function(p,q,r){return l.min(l.max(q,p),r)};c.max=function(p,q,r){var t="function"===typeof q?q:null;q=null==t?q:r;p=null==t?h.max(p):h.max(p,t);return void 0!==p?p:q};c.min=function(p,q,r){var t="function"===typeof q?q:null;q=null==t?q:r;p=null==t?h.min(p):h.min(p,t);return void 0!==p?p:q};c.isNaN=function(p){return p!==p};c.isValidNumber=
function(p){return"number"===typeof p&&1>p-p};c.range=function(p,q,r){void 0===r&&(r=1);if(0===r)throw Error("step cannot be 0");q=l.max(l.ceil((q-p)/r),0);for(var t=[],v=0;v<q;++v)t[v]=p+r*v;return t};c.distanceSquared=function(p,q){return l.pow(q.y-p.y,2)+l.pow(q.x-p.x,2)};c.degreesToRadians=function(p){return p/360*l.PI*2};c.within=function(p,q){return q.topLeft.x<=p.x&&q.bottomRight.x>=p.x&&q.topLeft.y<=p.y&&q.bottomRight.y>=p.y};c.boundsIntersects=function(p,q,r,t,v,u){return p<=0+v&&0<=p+r&&
q<=0+u&&0<=q+t};c.getCumulativeTransform=function(p){p=k.getHtmlElementAncestors(p);for(var q=n,r=null,t=0;t<p.length;t++){var v=p[t],u=k.getElementTransform(v);if(null!=u){var y=v.clientWidth/2,w=v.clientHeight/2;q=f(q,[y,w]);q=e(q,g(u));q=f(q,[-y,-w])}u=v.scrollLeft;y=v.scrollTop;if(null===r||v===r)u-=v.offsetLeft+v.clientLeft,y-=v.offsetTop+v.clientTop,r=v.offsetParent;q=f(q,[u,y])}return q};c.multiplyMatrix=e;c.premultiplyTranslate=function(p,q){return[q[0],q[1],q[2],q[3],q[4]+p[0],q[5]+p[1]]};
c.multiplyTranslate=f;c.invertMatrix=g;c.applyTransform=function(p,q){return{x:p[0]*q.x+p[2]*q.y+p[4],y:p[1]*q.x+p[3]*q.y+p[5]}}},function(b,c,d){var e=new (d(114).SplitStrategyLinear);b=function(){function h(k,l){void 0===k&&(k=5);void 0===l&&(l=e);this.maxNodeChildren=k;this.splitStrategy=l;this.root=new f(!0);this.size=0}h.prototype.getRoot=function(){return this.root};h.prototype.clear=function(){this.root=new f(!0);this.size=0};h.prototype.insert=function(k,l){for(var n=this.root;!n.leaf;)n=
n.subtree(k);k=f.valueNode(k,l);n.insert(k);for(this.size+=1;n.overflow(this.maxNodeChildren);)n=n.split(this.splitStrategy),null==n.parent&&(this.root=n)};h.prototype.locate=function(k){return this.query(function(l){return l.contains(k)})};h.prototype.intersect=function(k){return this.query(function(l){return g.isBoundsOverlapBounds(l,k)})};h.prototype.intersectX=function(k){return this.query(function(l){return g.isBoundsOverlapX(l,k)})};h.prototype.intersectY=function(k){return this.query(function(l){return g.isBoundsOverlapY(l,
k)})};h.prototype.query=function(k){var l=[];if(null!=this.root.bounds&&!k(this.root.bounds))return l;for(var n=[this.root];0<n.length;)for(var p=n.shift(),q=0;q<p.entries.length;q++){var r=p.entries[q];k(r.bounds)&&(p.leaf?l.push(r.value):n.push(r))}return l};return h}();c.RTree=b;var f=function(){function h(k){this.leaf=k;this.bounds=null;this.entries=[];this.value=this.parent=null}h.valueNode=function(k,l){var n=new h(!0);n.bounds=k;n.value=l;return n};h.prototype.overflow=function(k){return this.entries.length>
k};h.prototype.insert=function(k){this.entries.push(k);k.parent=this;for(var l=this;null!=l;)l.bounds=g.unionAll([l.bounds,k.bounds]),l=l.parent};h.prototype.remove=function(k){k=this.entries.indexOf(k);if(0<=k)for(this.entries.splice(k,1),k=this;null!=k;)k.bounds=g.unionAll(k.entries.map(function(l){return l.bounds})),k=k.parent;return this};h.prototype.subtree=function(k){for(var l=null,n=0;n<this.entries.length;n++){var p=this.entries[n],q=p.unionAreaDifference(k);if(Infinity>q||Infinity===q&&
null!=l&&p.entries.length<l.entries.length)l=p}return l};h.prototype.split=function(k){null!=this.parent&&this.parent.remove(this);var l=[new h(this.leaf),new h(this.leaf)];k.split(this.entries,l);k=null!=this.parent?this.parent:new h(!1);k.insert(l[0]);k.insert(l[1]);return k};h.prototype.unionAreaDifference=function(k){return Math.abs(g.union(this.bounds,k).area()-this.bounds.area())};h.prototype.maxDepth=function(){return this.leaf?1:1+this.entries.map(function(k){return k.maxDepth()}).reduce(function(k,
l){return Math.max(k,l)})};return h}();c.RTreeNode=f;var g=function(){function h(k,l,n,p){this.xl=k;this.yl=l;this.xh=n;this.yh=p;this.width=this.xh-this.xl;this.height=this.yh-this.yl}h.xywh=function(k,l,n,p){return new h(k,l,k+n,l+p)};h.entityBounds=function(k){return new h(k.x,k.y,k.x+k.width,k.y+k.height)};h.bounds=function(k){return h.pointPair(k.topLeft,k.bottomRight)};h.pointPair=function(k,l){return new h(Math.min(k.x,l.x),Math.min(k.y,l.y),Math.max(k.x,l.x),Math.max(k.y,l.y))};h.points=function(k){if(2>
k.length)throw Error("need at least 2 points to create bounds");var l=k.map(function(n){return n.x});k=k.map(function(n){return n.y});return new h(l.reduce(function(n,p){return Math.min(n,p)}),k.reduce(function(n,p){return Math.min(n,p)}),l.reduce(function(n,p){return Math.max(n,p)}),k.reduce(function(n,p){return Math.max(n,p)}))};h.union=function(k,l){return new h(Math.min(k.xl,l.xl),Math.min(k.yl,l.yl),Math.max(k.xh,l.xh),Math.max(k.yh,l.yh))};h.unionAll=function(k){k=k.filter(function(l){return null!=
l});return 0===k.length?null:k.reduce(function(l,n){return h.union(l,n)})};h.isBoundsOverlapBounds=function(k,l){return h.isBoundsOverlapX(k,l)&&h.isBoundsOverlapY(k,l)};h.isBoundsOverlapX=function(k,l){return!(k.xh<l.xl)&&!(k.xl>l.xh)};h.isBoundsOverlapY=function(k,l){return!(k.yh<l.yl)&&!(k.yl>l.yh)};h.prototype.area=function(){null==this.areaCached&&(this.areaCached=(this.xh-this.xl)*(this.yh-this.yl));return this.areaCached};h.prototype.contains=function(k){return this.xl<=k.x&&this.xh>=k.x&&
this.yl<=k.y&&this.yh>=k.y};return h}();c.RTreeBounds=g},function(b,c){b=function(){function d(){"function"===typeof window.Set?this._es6Set=new window.Set:this._values=[];this.size=0}d.prototype.add=function(e){if(null!=this._es6Set)return this._es6Set.add(e),this.size=this._es6Set.size,this;this.has(e)||(this._values.push(e),this.size=this._values.length);return this};d.prototype.delete=function(e){if(null!=this._es6Set)return e=this._es6Set.delete(e),this.size=this._es6Set.size,e;e=this._values.indexOf(e);
return-1!==e?(this._values.splice(e,1),this.size=this._values.length,!0):!1};d.prototype.has=function(e){return null!=this._es6Set?this._es6Set.has(e):-1!==this._values.indexOf(e)};d.prototype.forEach=function(e,f){var g=this;null!=this._es6Set?this._es6Set.forEach(function(h,k){return e.call(f,h,k,g)},f):this._values.forEach(function(h){e.call(f,h,h,g)})};return d}();c.Set=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(131));e(d(130))},function(b,c,d){var e=
this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(21);b=function(g){function h(k,l){var n=g.call(this,k,l)||this;n.cache=new f.Cache(function(p){return n._measureCharacterNotFromCache(p)});return n}e(h,g);h.prototype._measureCharacterNotFromCache=function(k){return g.prototype._measureCharacter.call(this,k)};h.prototype._measureCharacter=function(k){return this.cache.get(k)};
h.prototype.reset=function(){this.cache.clear()};return h}(d(61).CharacterMeasurer);c.CacheCharacterMeasurer=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return f.apply(this,arguments)||this}e(g,f);g.prototype._measureCharacter=function(h){return f.prototype._measureLine.call(this,h)};g.prototype._measureLine=
function(h){var k=this;h=h.split("").map(function(l){return k._measureCharacter(l)});return{height:h.reduce(function(l,n){return Math.max(l,n.height)},0),width:h.reduce(function(l,n){return l+n.width},0)}};return g}(d(63).Measurer);c.CharacterMeasurer=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(36));e(d(60));e(d(132));e(d(61));e(d(63))},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&
(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(36);b=function(g){function h(k,l){void 0===l&&(l=!1);k=g.call(this,k)||this;k.useGuards=l;return k}e(h,g);h.prototype._addGuards=function(k){return f.AbstractMeasurer.HEIGHT_TEXT+k+f.AbstractMeasurer.HEIGHT_TEXT};h.prototype._measureLine=function(k){var l;void 0===l&&(l=!1);l=this.useGuards||l||/^[\t ]$/.test(k);k=g.prototype.measure.call(this,l?this._addGuards(k):k);k.width-=l?2*this.getGuardWidth():0;return k};
h.prototype.measure=function(k){var l=this;void 0===k&&(k=f.AbstractMeasurer.HEIGHT_TEXT);if(""===k.trim())return{width:0,height:0};k=k.trim().split("\n").map(function(n){return l._measureLine(n)});return{height:k.reduce(function(n,p){return n+p.height},0),width:k.reduce(function(n,p){return Math.max(n,p.width)},0)}};h.prototype.getGuardWidth=function(){null==this.guardWidth&&(this.guardWidth=g.prototype.measure.call(this).width);return this.guardWidth};return h}(f.AbstractMeasurer);c.Measurer=b},
function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(138));e(d(65))},function(b,c,d){var e=d(21);b=function(){function f(){this.maxLines(Infinity);this.textTrimming();this.allowBreakingWords();this._tokenizer=new e.Tokenizer;this._breakingCharacter="-"}f.prototype.maxLines=function(g){if(null==g)return this._maxLines;this._maxLines=g;return this};f.prototype.textTrimming=function(){this._textTrimming="ellipsis"};f.prototype.allowBreakingWords=function(){this._allowBreakingWords=
!0};f.prototype.wrap=function(g,h,k,l){var n=this;void 0===l&&(l=Infinity);var p={noBrokeWords:0,noLines:0,originalText:g,truncatedText:"",wrappedText:""};k={availableLines:Math.min(Math.floor(l/h.measure().height),this._maxLines),availableWidth:k,canFitText:!0,currentLine:"",wrapping:p};var q=g.split("\n");return q.reduce(function(r,t,v){return n.breakLineToFitWidth(r,t,v!==q.length-1,h)},k).wrapping};f.prototype.breakLineToFitWidth=function(g,h,k,l){var n=this;g.canFitText||""===g.wrapping.truncatedText||
(g.wrapping.truncatedText+="\n");g=this._tokenizer.tokenize(h).reduce(function(p,q){return n.wrapNextToken(q,p,l)},g);h=e.StringMethods.trimEnd(g.currentLine);g.wrapping.noLines+=+(""!==h);g.wrapping.noLines===g.availableLines&&"none"!==this._textTrimming&&k?g.canFitText=!1:g.wrapping.wrappedText+=h;g.currentLine="\n";return g};f.prototype.canFitToken=function(g,h,k){var l=this,n=this._allowBreakingWords?g.split("").map(function(p,q){return q!==g.length-1?p+l._breakingCharacter:p}):[g];return k.measure(g).width<=
h||n.every(function(p){return k.measure(p).width<=h})};f.prototype.addEllipsis=function(g,h,k){if("none"===this._textTrimming)return{remainingToken:"",wrappedToken:g};var l=g.substring(0).trim(),n=k.measure(l).width,p=k.measure("...").width,q=0<g.length&&"\n"===g[0]?"\n":"";if(h<=p)return{remainingToken:g,wrappedToken:q+"...".substr(0,Math.floor(h/(p/3)))};for(;n+p>h;)l=e.StringMethods.trimEnd(l.substr(0,l.length-1)),n=k.measure(l).width;return{remainingToken:e.StringMethods.trimEnd(g.substring(l.length),
"-").trim(),wrappedToken:q+l+"..."}};f.prototype.wrapNextToken=function(g,h,k){if(!h.canFitText||h.availableLines===h.wrapping.noLines||!this.canFitToken(g,h.availableWidth,k))return this.finishWrapping(g,h,k);for(;g;){var l=this.breakTokenToFitInWidth(g,h.currentLine,h.availableWidth,k);h.currentLine=l.line;g=l.remainingToken;if(null!=g)if(h.wrapping.noBrokeWords+=+l.breakWord,++h.wrapping.noLines,h.availableLines===h.wrapping.noLines){k=this.addEllipsis(h.currentLine,h.availableWidth,k);h.wrapping.wrappedText+=
k.wrappedToken;h.wrapping.truncatedText+=k.remainingToken+g;h.currentLine="\n";break}else h.wrapping.wrappedText+=e.StringMethods.trimEnd(h.currentLine),h.currentLine="\n"}return h};f.prototype.finishWrapping=function(g,h,k){h.canFitText&&h.availableLines!==h.wrapping.noLines&&this._allowBreakingWords&&"none"!==this._textTrimming?(k=this.addEllipsis(h.currentLine+g,h.availableWidth,k),h.wrapping.wrappedText+=k.wrappedToken,h.wrapping.truncatedText+=k.remainingToken,h.wrapping.noBrokeWords+=+(k.remainingToken.length<
g.length),h.wrapping.noLines+=+(0<k.wrappedToken.length),h.currentLine=""):h.wrapping.truncatedText+=g;h.canFitText=!1;return h};f.prototype.breakTokenToFitInWidth=function(g,h,k,l){if(void 0===n)var n=this._breakingCharacter;if(l.measure(h+g).width<=k)return{breakWord:!1,line:h+g,remainingToken:null};if(""===g.trim())return{breakWord:!1,line:h,remainingToken:""};if(!this._allowBreakingWords)return{breakWord:!1,line:h,remainingToken:g};for(var p=0;p<g.length;)if(l.measure(h+g.substring(0,p+1)+n).width<=
k)++p;else break;k="";0<p&&(k=n);return{breakWord:0<p,line:h+g.substring(0,p)+k,remainingToken:g.substring(p)}};return f}();c.Wrapper=b},function(b,c,d){b=d(139);for(var e in b)c.hasOwnProperty(e)||(c[e]=b[e])},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}e(d(72));e(d(73));e(d(28))},function(b,c){c.version="3.7.0"},function(b,c,d){function e(v,u){return v.each(function(){var y=u.apply(this,arguments),w=t.select(this),x;for(x in y)w.attr(x,y[x])})}function f(v,u){for(var y in u)v.attr(y,
u[y]);return v}function g(v,u,y){return v.each(function(){var w=u.apply(this,arguments),x=t.select(this),z;for(z in w)x.style(z,w[z],y)})}function h(v,u,y){for(var w in u)v.style(w,u[w],y);return v}function k(v,u){return v.each(function(){var y=u.apply(this,arguments),w=t.select(this),x;for(x in y)w.property(x,y[x])})}function l(v,u){for(var y in u)v.property(y,u[y]);return v}function n(v,u){return v.each(function(){var y=u.apply(this,arguments),w=t.select(this).transition(v),x;for(x in y)w.attr(x,
y[x])})}function p(v,u){for(var y in u)v.attr(y,u[y]);return v}function q(v,u,y){return v.each(function(){var w=u.apply(this,arguments),x=t.select(this).transition(v),z;for(z in w)x.style(z,w[z],y)})}function r(v,u,y){for(var w in u)v.style(w,u[w],y);return v}var t=b=d(1);t.selection.prototype.attrs=function(v){return("function"===typeof v?e:f)(this,v)};t.selection.prototype.styles=function(v,u){return("function"===typeof v?g:h)(this,v,null==u?"":u)};t.selection.prototype.properties=function(v){return("function"===
typeof v?k:l)(this,v)};b.transition.prototype.attrs=function(v){return("function"===typeof v?n:p)(this,v)};b.transition.prototype.styles=function(v,u){return("function"===typeof v?q:r)(this,v,null==u?"":u)}},function(b,c,d){b=d(117);var e=d(12);d=d(10);var f={linear:b.easeLinear,quad:b.easeQuad,quadIn:b.easeQuadIn,quadOut:b.easeQuadOut,quadInOut:b.easeQuadInOut,cubic:b.easeCubic,cubicIn:b.easeCubicIn,cubicOut:b.easeCubicOut,cubicInOut:b.easeCubicInOut,poly:b.easePoly,polyIn:b.easePolyIn,polyOut:b.easePolyOut,
polyInOut:b.easePolyInOut,sin:b.easeSin,sinIn:b.easeSinIn,sinOut:b.easeSinOut,sinInOut:b.easeSinInOut,exp:b.easeExp,expIn:b.easeExpIn,expOut:b.easeExpOut,expInOut:b.easeExpInOut,circle:b.easeCircle,circleIn:b.easeCircleIn,circleOut:b.easeCircleOut,circleInOut:b.easeCircleInOut,bounce:b.easeBounce,bounceIn:b.easeBounceIn,bounceOut:b.easeBounceOut,bounceInOut:b.easeBounceInOut,back:b.easeBack,backIn:b.easeBackIn,backOut:b.easeBackOut,backInOut:b.easeBackInOut,elastic:b.easeElastic,elasticIn:b.easeElasticIn,
elasticOut:b.easeElasticOut,elasticInOut:b.easeElasticInOut};c.EaseName=d.makeEnum("linear quad quadIn quadOut quadInOut cubic cubicIn cubicOut cubicInOut poly polyIn polyOut polyInOut sin sinIn sinOut sinInOut exp expIn expOut expInOut circle circleIn circleOut circleInOut bounce bounceIn bounceOut bounceInOut back backIn backOut backInOut elastic elasticIn elasticOut elasticInOut".split(" "));d=function(){function g(){this._startDelay=g._DEFAULT_START_DELAY_MILLISECONDS;this._stepDuration=g._DEFAULT_STEP_DURATION_MILLISECONDS;
this._stepDelay=g._DEFAULT_ITERATIVE_DELAY_MILLISECONDS;this._maxTotalDuration=g._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS;this._easingMode=g._DEFAULT_EASING_MODE}g.prototype.totalTime=function(h){var k=this._getAdjustedIterativeDelay(h);return this.startDelay()+k*Math.max(h-1,0)+this.stepDuration()};g.prototype.animate=function(h,k){var l=this;h=e.coerceExternalD3(h);var n=h.size(),p=this._getAdjustedIterativeDelay(n);return h.transition().ease(this._getEaseFactory()).duration(this.stepDuration()).delay(function(q,
r){return l.startDelay()+p*r}).attrs(k)};g.prototype.startDelay=function(h){if(null==h)return this._startDelay;this._startDelay=h;return this};g.prototype.stepDuration=function(h){if(null==h)return Math.min(this._stepDuration,this._maxTotalDuration);this._stepDuration=h;return this};g.prototype.stepDelay=function(){return this._stepDelay};g.prototype.maxTotalDuration=function(h){if(null==h)return this._maxTotalDuration;this._maxTotalDuration=h;return this};g.prototype.easingMode=function(h){if(null==
h)return this._easingMode;this._easingMode=h;return this};g.prototype._getEaseFactory=function(){var h=this.easingMode();return"string"===typeof h?(h=f[h],null==h?f.linear:h):h};g.prototype._getAdjustedIterativeDelay=function(h){var k=this.maxTotalDuration()-this.stepDuration();k=Math.max(k,0);h=k/Math.max(h-1,1);return Math.min(this.stepDelay(),h)};return g}();d._DEFAULT_START_DELAY_MILLISECONDS=0;d._DEFAULT_STEP_DURATION_MILLISECONDS=300;d._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15;d._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=
Infinity;d._DEFAULT_EASING_MODE="expOut";c.Easing=d},function(b,c,d){var e=d(12);b=function(){function f(){}f.prototype.totalTime=function(){return 0};f.prototype.animate=function(g,h){g=e.coerceExternalD3(g);return g.attrs(h)};return f}();c.Null=b},function(b,c,d){var e=this&&this.__extends||function(n,p){function q(){this.constructor=n}for(var r in p)p.hasOwnProperty(r)&&(n[r]=p[r]);n.prototype=null===p?Object.create(p):(q.prototype=p.prototype,new q)},f=d(1),g=d(5),h=d(4),k=d(0),l=d(22);b=function(n){function p(q,
r){void 0===r&&(r="bottom");q=n.call(this,q,r)||this;q._tickLabelAngle=0;q._tickLabelShearAngle=0;q.addClass("category-axis");return q}e(p,n);Object.defineProperty(p.prototype,"_wrapper",{get:function(){var q=new g.Wrapper;null!=this._tickLabelMaxLines&&q.maxLines(this._tickLabelMaxLines);return q},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"_writer",{get:function(){return new g.Writer(this._measurer,this._typesetterContext,this._wrapper)},enumerable:!0,configurable:!0});p.prototype._setup=
function(){n.prototype._setup.call(this);this._typesetterContext=new g.SvgContext(this._tickLabelContainer.node());this._measurer=new g.CacheMeasurer(this._typesetterContext)};p.prototype._rescale=function(){return this.redraw()};p.prototype.requestedSpace=function(q,r){var t=this.isHorizontal()?0:this._tickSpaceRequired()+this.margin(),v=this.isHorizontal()?this._tickSpaceRequired()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};if(this.annotationsEnabled()){var u=
this._annotationTierHeight()*this.annotationTierCount();this.isHorizontal()?v+=u:t+=u}q=this._measureTickLabels(q,r);return{minWidth:q.usedWidth+t,minHeight:q.usedHeight+v}};p.prototype._coreSize=function(){var q=this.isHorizontal()?this.height():this.width(),r=this.isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth,t=this.margin()+this._annotationTierHeight();return Math.min(r-t,q)};p.prototype._getTickValues=function(){return this.getDownsampleInfo().domain};
p.prototype._sizeFromOffer=function(q,r){return h.Component.prototype._sizeFromOffer.call(this,q,r)};p.prototype.getDownsampleInfo=function(q){var r;void 0===q&&(q=this._scale);void 0===r&&(r=q.invertRange());var t=Math.ceil(p._MINIMUM_WIDTH_PER_LABEL_PX*(0===this._tickLabelAngle?1:1/Math.cos(this._tickLabelShearAngle/180*Math.PI))/q.stepWidth());return{domain:r.filter(function(v,u){return 0===u%t}),stepWidth:t*q.stepWidth()}};p.prototype.tickLabelAngle=function(){return this._tickLabelAngle;throw Error("Angle undefined not supported; only 0, 90, and -90 are valid values");
};p.prototype.tickLabelShearAngle=function(){return this._tickLabelShearAngle};p.prototype.tickLabelMaxWidth=function(q){if(0===arguments.length)return this._tickLabelMaxWidth;this._tickLabelMaxWidth=q;this.redraw();return this};p.prototype.tickLabelMaxLines=function(q){if(0===arguments.length)return this._tickLabelMaxLines;this._tickLabelMaxLines=q;this.redraw();return this};p.prototype._tickSpaceRequired=function(){return this._maxLabelTickLength()+this.tickLabelPadding()};p.prototype._drawTicks=
function(q,r){var t=this;switch(this.tickLabelAngle()){case 0:var v={left:"right",right:"left",top:"center",bottom:"center"};var u={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:v={left:"center",right:"center",top:"right",bottom:"left"};u={left:"top",right:"bottom",top:"center",bottom:"center"};break;case -90:v={left:"center",right:"center",top:"left",bottom:"right"},u={left:"bottom",right:"top",top:"center",bottom:"center"}}r.each(function(y){var w=f.select(this),x=t.isHorizontal()?
q:t.width()-t._tickSpaceRequired(),z=t.isHorizontal()?t.height()-t._tickSpaceRequired():q,B={xAlign:v[t.orientation()],yAlign:u[t.orientation()],textRotation:t.tickLabelAngle(),textShear:t.tickLabelShearAngle()};if(null!=t._tickLabelMaxWidth){if("left"===t.orientation()&&x>t._tickLabelMaxWidth){var A=x-t._tickLabelMaxWidth;A=w.attr("transform")+" translate("+A+", 0)";w.attr("transform",A)}x=Math.min(x,t._tickLabelMaxWidth)}t._writer.write(t.formatter()(y),x,z,B,w.node())})};p.prototype._measureTickLabels=
function(q,r){var t=this,v=this._scale.cloneWithoutProviders().range([0,this.isHorizontal()?q:r]),u=this.getDownsampleInfo(v);v=u.domain;u=u.stepWidth;var y=q-this._tickSpaceRequired();this.isHorizontal()&&(y=u,0!==this._tickLabelAngle&&(y=r-this._tickSpaceRequired()),y=Math.max(y,0));var w=u;this.isHorizontal()&&(w=r-this._tickSpaceRequired(),0!==this._tickLabelAngle&&(w=q-this._tickSpaceRequired()),w=Math.max(w,0));null!=this._tickLabelMaxWidth&&(y=Math.min(y,this._tickLabelMaxWidth));r=v.map(function(x){return t._wrapper.wrap(t.formatter()(x),
t._measurer,y,w)});v=this.isHorizontal()&&0===this._tickLabelAngle?k.Math.max:f.sum;q=(this.isHorizontal()&&0===this._tickLabelAngle?f.sum:k.Math.max)(r,function(x){return t._measurer.measure(x.wrappedText).width},0);r=v(r,function(x){return t._measurer.measure(x.wrappedText).height},0);0!==this._tickLabelAngle&&(r=[r,q],q=r[0],r=r[1]);return{usedWidth:q,usedHeight:r}};p.prototype.renderImmediately=function(){var q=this;n.prototype.renderImmediately.call(this);var r=this._scale,t=this.getDownsampleInfo(r),
v=t.domain,u=t=t.stepWidth;this.isHorizontal()&&null!=this._tickLabelMaxWidth&&(u=Math.min(u,this._tickLabelMaxWidth));v=this._tickLabelContainer.selectAll("."+l.Axis.TICK_LABEL_CLASS).data(v);var y=v.enter().append("g").classed(l.Axis.TICK_LABEL_CLASS,!0).merge(v);v.exit().remove();y.attr("transform",function(w){w=r.scale(w)-u/2;return"translate("+(q.isHorizontal()?w:0)+","+(q.isHorizontal()?0:w)+")"});y.text("");this._drawTicks(t,y);t="right"===this.orientation()?this._tickSpaceRequired():0;v="bottom"===
this.orientation()?this._tickSpaceRequired():0;this._tickLabelContainer.attr("transform","translate("+t+","+v+")");this._showAllTickMarks();this._showAllTickLabels();this._hideTickMarksWithoutLabel();return this};p.prototype.computeLayout=function(q,r,t){n.prototype.computeLayout.call(this,q,r,t);this.isHorizontal()||this._scale.range([0,this.height()]);return this};p.prototype.invalidateCache=function(){n.prototype.invalidateCache.call(this);this._measurer.reset()};return p}(l.Axis);b._MINIMUM_WIDTH_PER_LABEL_PX=
15;c.Category=b},function(b,c,d){var e=this&&this.__extends||function(n,p){function q(){this.constructor=n}for(var r in p)p.hasOwnProperty(r)&&(n[r]=p[r]);n.prototype=null===p?Object.create(p):(q.prototype=p.prototype,new q)},f=d(1),g=d(5),h=d(8),k=d(0),l=d(22);b=function(n){function p(q,r){q=n.call(this,q,r)||this;q._tickLabelPositioning="center";q._usesTextWidthApproximation=!1;q.formatter(h.general());return q}e(p,n);p.prototype._setup=function(){n.prototype._setup.call(this);var q=new g.SvgContext(this._tickLabelContainer.node(),
l.Axis.TICK_LABEL_CLASS);this._measurer=new g.CacheMeasurer(q);this._wrapper=(new g.Wrapper).maxLines(1)};p.prototype._computeWidth=function(){var q=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+q:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+q)};p.prototype._computeExactTextWidth=function(){var q=this,r=this._getTickValues().map(function(t){t=
q.formatter()(t);return q._measurer.measure(t).width});return k.Math.max(r,0)};p.prototype._computeApproximateTextWidth=function(){var q=this,r=this._getTickValues(),t=this._measurer.measure("M").width;r=r.map(function(v){return q.formatter()(v).length*t});return k.Math.max(r,0)};p.prototype._computeHeight=function(){var q=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+q:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+
q)};p.prototype._getTickValues=function(){var q=this._scale,r=q.domain(),t=r[0]<=r[1]?r[0]:r[1],v=r[0]>=r[1]?r[0]:r[1];return q.ticks().filter(function(u){return u>=t&&u<=v})};p.prototype._rescale=function(){if(this._isSetup){if(!this.isHorizontal()){var q=this._computeWidth();if(q>this.width()||q<this.width()-this.margin()){this.redraw();return}}this.render()}};p.prototype.renderImmediately=function(){var q=this;n.prototype.renderImmediately.call(this);var r={x:0,y:0,dx:"0em",dy:"0.3em"},t=this._maxLabelTickLength(),
v=this.tickLabelPadding(),u="middle",y=0,w=0,x=0,z=0;if(this.isHorizontal())switch(this._tickLabelPositioning){case "left":u="end";y=-v;z=v;break;case "center":z=t+v;break;case "right":u="start",z=y=v}else switch(this._tickLabelPositioning){case "top":r.dy="-0.3em";x=v;w=-v;break;case "center":x=t+v;break;case "bottom":r.dy="1em",w=x=v}t=this._generateTickMarkAttrHash();switch(this.orientation()){case "bottom":r.x=t.x1;r.dy="0.95em";w=t.y1+z;break;case "top":r.x=t.x1;r.dy="-.25em";w=t.y1-z;break;
case "left":u="end";y=t.x1-x;r.y=t.y1;break;case "right":u="start",y=t.x1+x,r.y=t.y1}x=this._getTickValues();x=this._tickLabelContainer.selectAll("."+l.Axis.TICK_LABEL_CLASS).data(x);x.exit().remove();x.enter().append("text").classed(l.Axis.TICK_LABEL_CLASS,!0).merge(x).style("text-anchor",u).style("visibility","inherit").attrs(r).text(function(B){return q.formatter()(B)});this._tickLabelContainer.attr("transform","translate("+y+", "+w+")");this._showAllTickMarks();this.showEndTickLabels()||this._hideEndTickLabels();
this._hideOverflowingTickLabels();this._hideOverlappingTickLabels();"center"!==this._tickLabelPositioning&&this._hideTickMarksWithoutLabel();return this};p.prototype.tickLabelPosition=function(q){if(null==q)return this._tickLabelPositioning;q=q.toLowerCase();if(this.isHorizontal()){if("left"!==q&&"center"!==q&&"right"!==q)throw Error(q+" is not a valid tick label position for a horizontal NumericAxis");}else if("top"!==q&&"center"!==q&&"bottom"!==q)throw Error(q+" is not a valid tick label position for a vertical NumericAxis");
this._tickLabelPositioning=q;this.redraw();return this};p.prototype.usesTextWidthApproximation=function(){this._usesTextWidthApproximation=!0};p.prototype._hideEndTickLabels=function(){var q=this.element().node().getBoundingClientRect(),r=this._tickLabelContainer.selectAll("."+l.Axis.TICK_LABEL_CLASS);if(0!==r.size()){var t=r.nodes()[0];k.DOM.clientRectInside(t.getBoundingClientRect(),q)||f.select(t).style("visibility","hidden");r=r.nodes()[r.size()-1];k.DOM.clientRectInside(r.getBoundingClientRect(),
q)||f.select(r).style("visibility","hidden")}};p.prototype._hideOverlappingTickLabels=function(){for(var q=this._tickLabelContainer.selectAll("."+l.Axis.TICK_LABEL_CLASS).filter(function(){var v=f.select(this).style("visibility");return"inherit"===v||"visible"===v}),r=q.nodes().map(function(v){return v.getBoundingClientRect()}),t=1;!this._hasOverlapWithInterval(t,r)&&t<r.length;)t+=1;q.each(function(v,u){v=f.select(this);0!==u%t&&v.style("visibility","hidden")})};p.prototype._hasOverlapWithInterval=
function(q,r){var t="center"===this._tickLabelPositioning?this.tickLabelPadding():3*this.tickLabelPadding();r=r.map(function(u){return k.DOM.expandRect(u,t)});for(var v=0;v<r.length-q;v+=q)if(k.DOM.clientRectsOverlap(r[v],r[v+q]))return!1;return!0};p.prototype.invalidateCache=function(){n.prototype.invalidateCache.call(this);this._measurer.reset()};return p}(l.Axis);c.Numeric=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&
(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)};b=d(42);var f=d(25),g=d(0);d=function(h){function k(l){function n(){t&&(t=!1,r._dragEndCallbacks.callCallbacks(r))}function p(v,u){t&&(r._setPixelPositionWithoutChangingMode(r._isVertical()?u.x:u.y),r._dragCallbacks.callCallbacks(r))}function q(v){if(r._isVertical()&&r.pixelPosition()-r.detectionRadius()<=v.x&&v.x<=r.pixelPosition()+r.detectionRadius()||!r._isVertical()&&r.pixelPosition()-r.detectionRadius()<=v.y&&
v.y<=r.pixelPosition()+r.detectionRadius())t=!0,r._dragStartCallbacks.callCallbacks(r)}var r=h.call(this,l)||this;r._detectionRadius=3;r._enabled=!0;r.addClass("drag-line-layer");r.addClass("enabled");r._dragInteraction=new f.Drag;r._dragInteraction.attachTo(r);var t=!1;r._dragInteraction.onDragStart(q);r._dragInteraction.onDrag(p);r._dragInteraction.onDragEnd(n);r._disconnectInteraction=function(){r._dragInteraction.offDragStart(q);r._dragInteraction.offDrag(p);r._dragInteraction.offDragEnd(n);r._dragInteraction.detach()};
r._dragStartCallbacks=new g.CallbackSet;r._dragCallbacks=new g.CallbackSet;r._dragEndCallbacks=new g.CallbackSet;return r}e(k,h);k.prototype._setup=function(){h.prototype._setup.call(this);this._detectionEdge=this.content().append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)};k.prototype.renderImmediately=function(){h.prototype.renderImmediately.call(this);this._detectionEdge.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?
0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius});return this};k.prototype.detectionRadius=function(){return this._detectionRadius};k.prototype.enabled=function(l){if(null==l)return this._enabled;(this._enabled=l)?this.addClass("enabled"):this.removeClass("enabled");this._dragInteraction.enabled(l);return this};k.prototype.onDragStart=function(l){this._dragStartCallbacks.add(l)};
k.prototype.offDragStart=function(l){this._dragStartCallbacks.delete(l)};k.prototype.onDrag=function(l){this._dragCallbacks.add(l)};k.prototype.offDrag=function(l){this._dragCallbacks.delete(l)};k.prototype.onDragEnd=function(l){this._dragEndCallbacks.add(l)};k.prototype.offDragEnd=function(l){this._dragEndCallbacks.delete(l)};k.prototype.destroy=function(){var l=this;h.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(n){return l._dragStartCallbacks.delete(n)});this._dragCallbacks.forEach(function(n){return l._dragCallbacks.delete(n)});
this._dragEndCallbacks.forEach(function(n){return l._dragEndCallbacks.delete(n)});this._disconnectInteraction()};return k}(b.GuideLineLayer);c.DragLineLayer=d},function(b,c,d){function e(g,h,k){var l={};if(void 0!==k)for(var n=0;n<k.length;n++)l[k[n]]=k[n-1];return function(p){var q=g.scale(p);if(!h)return q;var r;p=void 0===l[p]?void 0:g.scale(l[p]);void 0!==p&&(r=p+(q-p)/2);return r}}var f=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=
h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)};b=function(g){function h(k,l){var n=g.call(this)||this;n.addClass("gridlines");n._xScale=k;n._yScale=l;n._renderCallback=function(){return n.render()};if(n._xScale)n._xScale.onUpdate(n._renderCallback);if(n._yScale)n._yScale.onUpdate(n._renderCallback);return n}f(h,g);h.prototype.betweenX=function(){return this._betweenX};h.prototype.betweenY=function(){return this._betweenY};h.prototype.destroy=function(){g.prototype.destroy.call(this);
this._xScale&&this._xScale.offUpdate(this._renderCallback);this._yScale&&this._yScale.offUpdate(this._renderCallback);return this};h.prototype._setup=function(){g.prototype._setup.call(this);this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0);this._yLinesContainer=this.content().append("g").classed("y-gridlines",!0)};h.prototype.renderImmediately=function(){g.prototype.renderImmediately.call(this);this._redrawXLines();this._redrawYLines();return this};h.prototype.computeLayout=
function(k,l,n){g.prototype.computeLayout.call(this,k,l,n);null!=this._xScale&&this._xScale.range([0,this.width()]);null!=this._yScale&&this._yScale.range([this.height(),0]);return this};h.prototype._redrawXLines=function(){if(this._xScale){var k=this.betweenX(),l=this._xScale.ticks().slice(k?1:0);l=this._xLinesContainer.selectAll("line").data(l);l.enter().append("line").merge(l).attr("x1",e(this._xScale,k,this._xScale.ticks())).attr("y1",0).attr("x2",e(this._xScale,k,this._xScale.ticks())).attr("y2",
this.height()).classed("betweenline",k).classed("zeroline",function(n){return 0===n});l.exit().remove()}};h.prototype._redrawYLines=function(){if(this._yScale){var k=this.betweenY(),l=this._yScale.ticks().slice(k?1:0);l=this._yLinesContainer.selectAll("line").data(l);l.enter().append("line").merge(l).attr("x1",0).attr("y1",e(this._yScale,k,this._yScale.ticks())).attr("x2",this.width()).attr("y2",e(this._yScale,k,this._yScale.ticks())).classed("betweenline",k).classed("zeroline",function(n){return 0===
n});l.exit().remove()}};return h}(d(4).Component);c.Gridlines=b},function(b,c,d){var e=this&&this.__extends||function(l,n){function p(){this.constructor=l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(5),g=d(23),h=d(8),k=d(0);b=function(l){function n(p){var q=l.call(this)||this;q._textPadding=5;if(null==p)throw Error("InterpolatedColorLegend requires a interpolatedColorScale");q._scale=p;q._redrawCallback=function(){return q.redraw()};
q._scale.onUpdate(q._redrawCallback);q._formatter=h.general();q._orientation="horizontal";q._expands=!1;q.addClass("legend");q.addClass("interpolated-color-legend");return q}e(n,l);n.prototype.destroy=function(){l.prototype.destroy.call(this);this._scale.offUpdate(this._redrawCallback)};n.prototype.formatter=function(p){if(void 0===p)return this._formatter;this._formatter=p;this.redraw();return this};n.prototype.expands=function(){return this._expands};n._ensureOrientation=function(p){p=p.toLowerCase();
if("horizontal"===p||"left"===p||"right"===p)return p;throw Error('"'+p+'" is not a valid orientation for InterpolatedColorLegend');};n.prototype.orientation=function(p){if(null==p)return this._orientation;this._orientation=n._ensureOrientation(p);this.redraw();return this};n.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()};n.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()};n.prototype._generateTicks=function(p){void 0===p&&(p=n._DEFAULT_NUM_SWATCHES);
var q=this._scale.domain();if(1===p)return[q[0]];for(var r=(q[1]-q[0])/(p-1),t=[],v=0;v<p;v++)t.push(q[0]+r*v);return t};n.prototype._setup=function(){l.prototype._setup.call(this);this._swatchContainer=this.content().append("g").classed("swatch-container",!0);this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0);this._lowerLabel=this.content().append("g").classed(n.LEGEND_LABEL_CLASS,!0);this._upperLabel=this.content().append("g").classed(n.LEGEND_LABEL_CLASS,!0);
var p=new f.SvgContext(this.content().node());this._measurer=new f.Measurer(p);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,p,this._wrapper)};n.prototype.requestedSpace=function(){var p=this,q=this._measurer.measure().height,r=this._scale.domain().map(function(u){return p._measurer.measure(p._formatter(u)).width}),t=n._DEFAULT_NUM_SWATCHES;if(this._isVertical()){var v=k.Math.max(r,0);r=q+q+this._textPadding+v+this._textPadding;v=t*q}else v=q+q+q,r=this._textPadding+r[0]+t*
q+r[1]+this._textPadding;return{minWidth:r,minHeight:v}};n.prototype._isVertical=function(){return"horizontal"!==this._orientation};n.prototype.renderImmediately=function(){var p=this;l.prototype.renderImmediately.call(this);var q=this._scale.domain(),r=this._formatter(q[0]),t=this._measurer.measure(r).width,v=this._formatter(q[1]);q=this._measurer.measure(v).width;var u=this._measurer.measure().height,y=this._textPadding,w=0,x=0,z=0,B=0,A={xAlign:"center",yAlign:"center",textRotation:0},C={xAlign:"center",
yAlign:"center",textRotation:0},E={x:0,y:0,width:0,height:0};if(this._isVertical()){var F=Math.floor(this.height());var I=Math.max(t,q);var Q=(this.width()-I-2*this._textPadding)/2;q=Math.max(this.width()-Q-2*y-I,0);u=1;var J=function(L,H){return p.height()-(H+1)};C.yAlign="top";x=0;A.yAlign="bottom";B=0;if("left"===this._orientation){var R=function(){return y+I+y};C.xAlign="right";w=-(Q+q+y);A.xAlign="right";z=-(Q+q+y)}else R=function(){return Q},C.xAlign="left",w=Q+q+y,A.xAlign="left",z=Q+q+y;E.width=
q;E.height=F*u}else Q=Math.max(y,(this.height()-u)/2),F=Math.max(Math.floor(this.width()-4*y-t-q),0),q=1,u=Math.max(this.height()-2*Q,0),R=function(L,H){return Math.floor(t+2*y)+H},J=function(){return Q},C.xAlign="right",w=-y,A.xAlign="left",z=y,E.y=Q,E.width=F*q,E.height=u;E.x=R(null,0);this._upperLabel.text("");this._writer.write(v,this.width(),this.height(),C,this._upperLabel.node());this._upperLabel.attr("transform","translate("+w+", "+x+")");this._lowerLabel.text("");this._writer.write(r,this.width(),
this.height(),A,this._lowerLabel.node());this._lowerLabel.attr("transform","translate("+z+", "+B+")");this._swatchBoundingBox.attrs(E);r=this._generateTicks(F);r=this._swatchContainer.selectAll("rect.swatch").data(r);v=r.enter().append("rect").classed("swatch",!0);w=r.merge(v);r.exit().remove();w.attrs({fill:function(L){return p._scale.scale(L)},width:q,height:u,x:R,y:J,"shape-rendering":"crispEdges"});g.ADD_TITLE_ELEMENTS&&v.append("title").text(function(L){return p._formatter(L)});return this};
return n}(d(4).Component);b._DEFAULT_NUM_SWATCHES=11;b.LEGEND_LABEL_CLASS="legend-label";c.InterpolatedColorLegend=b},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(5);b=function(g){function h(k,l){void 0===k&&(k="");void 0===l&&(l=0);var n=g.call(this)||this;n.addClass("label");n.text(k);n.angle(l);n.xAlignment("center").yAlignment("center");
n._padding=0;return n}e(h,g);h.prototype.requestedSpace=function(){var k=this._measurer.measure(this._text),l=(0===this.angle()?k.width:k.height)+2*this.padding();k=(0===this.angle()?k.height:k.width)+2*this.padding();return{minWidth:l,minHeight:k}};h.prototype._setup=function(){g.prototype._setup.call(this);this._textContainer=this.content().append("g");var k=new f.SvgContext(this._textContainer.node());this._measurer=new f.CacheMeasurer(k);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,
k,this._wrapper);this.text(this._text)};h.prototype.text=function(k){if(null==k)return this._text;if("string"!==typeof k)throw Error("Label.text() only takes strings as input");this._text=k;this.redraw();return this};h.prototype.angle=function(k){if(null==k)return this._angle;k%=360;180<k?k-=360:-180>k&&(k+=360);if(-90===k||0===k||90===k)this._angle=k;else throw Error(k+" is not a valid angle for Label");this.redraw();return this};h.prototype.padding=function(k){if(null==k)return this._padding;k=
+k;if(0>k)throw Error(k+" is not a valid padding value. Cannot be less than 0.");this._padding=k;this.redraw();return this};h.prototype.fixedWidth=function(){return!0};h.prototype.fixedHeight=function(){return!0};h.prototype.renderImmediately=function(){g.prototype.renderImmediately.call(this);this._textContainer.selectAll("g").remove();var k=this._measurer.measure(this._text),l=Math.max(Math.min((this.height()-k.height)/2,this.padding()),0);k=Math.max(Math.min((this.width()-k.width)/2,this.padding()),
0);this._textContainer.attr("transform","translate("+k+","+l+")");k=this.width()-2*k;l=this.height()-2*l;var n={xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};this._writer.write(this._text,k,l,n);return this};h.prototype.invalidateCache=function(){g.prototype.invalidateCache.call(this);this._measurer.reset()};return h}(d(4).Component);c.Label=b;d=function(g){function h(k,l){k=g.call(this,k,l)||this;k.addClass(h.TITLE_LABEL_CLASS);return k}e(h,g);return h}(b);d.TITLE_LABEL_CLASS=
"title-label";c.TitleLabel=d;b=function(g){function h(k,l){k=g.call(this,k,l)||this;k.addClass(h.AXIS_LABEL_CLASS);return k}e(h,g);return h}(b);b.AXIS_LABEL_CLASS="axis-label";c.AxisLabel=b},function(b,c,d){var e=this&&this.__extends||function(r,t){function v(){this.constructor=r}for(var u in t)t.hasOwnProperty(u)&&(r[u]=t[u]);r.prototype=null===t?Object.create(t):(v.prototype=t.prototype,new v)},f=d(1),g=d(5),h=d(23),k=d(8),l=d(31),n=d(0);b=d(4);var p=function(){function r(t,v,u){void 0===t&&(t=
[]);void 0===v&&(v=0);void 0===u&&(u=Infinity);this.columns=t;this.bottomPadding=v;this.maxWidth=u}r.prototype.addColumn=function(t){var v=t.width,u=this.getWidthAvailable();t.width=Math.min(u,v);this.columns.push(t)};r.prototype.getBounds=function(t){for(var v=this.columns[t],u=0,y=0;y<t;y++)u+=this.columns[y].width;return{topLeft:{x:u,y:0},bottomRight:{x:u+v.width,y:v.height}}};r.prototype.getHeight=function(){return n.Math.max(this.columns.map(function(t){return t.height}),0)+this.bottomPadding};
r.prototype.getWidth=function(){return Math.min(this.columns.reduce(function(t,v){return t+v.width},0),this.maxWidth)};r.prototype.getWidthAvailable=function(){var t=this.getWidth();return Math.max(this.maxWidth-t,0)};return r}(),q=function(){function r(t,v,u,y){void 0===t&&(t=Infinity);void 0===v&&(v=Infinity);void 0===u&&(u=0);void 0===y&&(y=[]);this.maxWidth=t;this.maxHeight=v;this.padding=u;this.rows=y}r.prototype.addRow=function(t){t.maxWidth=this.maxWidth-2*this.padding;this.rows.push(t)};r.prototype.getColumnBounds=
function(t,v){var u=this.getRowBounds(t);t=this.rows[t].getBounds(v);t.topLeft.x+=u.topLeft.x;t.bottomRight.x+=u.topLeft.x;t.topLeft.y+=u.topLeft.y;t.bottomRight.y+=u.topLeft.y;return t};r.prototype.getRowBounds=function(t){for(var v=this.padding,u=this.padding,y=0;y<t;y++)u+=this.rows[y].getHeight();return{topLeft:{x:v,y:u},bottomRight:{x:v+this.rows[t].getWidth(),y:u+this.rows[t].getHeight()}}};r.prototype.getHeight=function(){return Math.min(this.rows.reduce(function(t,v){return t+v.getHeight()},
0)+2*this.padding,this.maxHeight)};r.prototype.getWidth=function(){return Math.min(n.Math.max(this.rows.map(function(t){return t.getWidth()}),0)+2*this.padding,this.maxWidth)};return r}();b=function(r){function t(v){var u=r.call(this)||this;u._padding=5;u._rowBottomPadding=3;u.addClass("legend");u.maxEntriesPerRow(1);if(null==v)throw Error("Legend requires a colorScale");u._colorScale=v;u._redrawCallback=function(){return u.redraw()};u._colorScale.onUpdate(u._redrawCallback);u._formatter=k.identity();
u.maxLinesPerEntry(1);u.xAlignment("right").yAlignment("top");u.comparator(function(y,w){var x=u._colorScale.domain().slice().map(function(z){return u._formatter(z)});return x.indexOf(y)-x.indexOf(w)});u._symbolFactoryAccessor=function(){return l.circle()};u._symbolOpacityAccessor=function(){return 1};return u}e(t,r);t.prototype._setup=function(){r.prototype._setup.call(this);var v=this.content().append("g").classed(t.LEGEND_ROW_CLASS,!0);v.append("g").classed(t.LEGEND_ENTRY_CLASS,!0).append("text");
v=new g.SvgContext(v.node(),null,h.ADD_TITLE_ELEMENTS);this._measurer=new g.CacheMeasurer(v);this._wrapper=(new g.Wrapper).maxLines(this.maxLinesPerEntry());this._writer=new g.Writer(this._measurer,v,this._wrapper)};t.prototype.formatter=function(v){if(null==v)return this._formatter;this._formatter=v;this.redraw();return this};t.prototype.maxEntriesPerRow=function(v){if(null==v)return this._maxEntriesPerRow;this._maxEntriesPerRow=v;this.redraw();return this};t.prototype.maxLinesPerEntry=function(v){if(null==
v)return this._maxLinesPerEntry;this._maxLinesPerEntry=v;this.redraw();return this};t.prototype.maxWidth=function(v){if(null==v)return this._maxWidth;this._maxWidth=v;this.redraw();return this};t.prototype.comparator=function(v){null!=v&&(this._comparator=v,this.redraw())};t.prototype.colorScale=function(v){return null!=v?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=v,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale};t.prototype.destroy=function(){r.prototype.destroy.call(this);
this._colorScale.offUpdate(this._redrawCallback)};t.prototype._buildLegendTable=function(v,u){var y=this,w=this._measurer.measure().height,x=new q(v,u,this._padding);v=this._colorScale.domain().slice().sort(function(B,A){return y._comparator(y._formatter(B),y._formatter(A))});var z=new p;x.addRow(z);z.bottomPadding=this._rowBottomPadding;v.forEach(function(B){z.columns.length/2===y.maxEntriesPerRow()&&(z=new p,z.bottomPadding=y._rowBottomPadding,x.addRow(z));var A=z.getWidthAvailable(),C=y._formatter(B),
E=y._measurer.measure(C).width;0>A-w-E&&1<z.columns.length&&(z=new p,z.bottomPadding=y._rowBottomPadding,x.addRow(z));z.addColumn({width:w,height:w,data:{name:B,type:"symbol"}});A=z.getWidthAvailable();A=Math.min(A,E);y._wrapper.maxLines(y.maxLinesPerEntry());C=y._wrapper.wrap(C,y._measurer,A).noLines*w;z.addColumn({width:A,height:C,data:{name:B,type:"text"}})});return x};t.prototype.requestedSpace=function(v,u){v=this._buildLegendTable(n.Math.min([this.maxWidth(),v],v),u);return{minHeight:v.getHeight(),
minWidth:v.getWidth()}};t.prototype.entitiesAt=function(v){var u=this;if(!this._isSetup)return[];var y=this._buildLegendTable(this.width(),this.height());return y.rows.reduce(function(w,x,z){if(0!==w.length)return w;var B=y.getRowBounds(z);return n.Math.within(v,B)?x.columns.reduce(function(A,C,E){var F=y.getColumnBounds(z,E);if(n.Math.within(v,F)){A=u.content().selectAll("."+t.LEGEND_ROW_CLASS).nodes()[z];E=f.select(A).selectAll("."+t.LEGEND_ENTRY_CLASS).nodes()[Math.floor(E/2)];var I=f.select(E).select("."+
t.LEGEND_SYMBOL_CLASS);F=n.DOM.getTranslateValues(f.select(A));I=n.DOM.getTranslateValues(I);return[{bounds:n.DOM.elementBBox(f.select(A)),datum:C.data.name,position:{x:F[0]+I[0],y:F[1]+I[1]},selection:f.select(E),component:u}]}return A},w):w},[])};t.prototype.renderImmediately=function(){r.prototype.renderImmediately.call(this);var v=this._buildLegendTable(this.width(),this.height());this.content().selectAll("*").remove();var u=this.content().selectAll("g."+t.LEGEND_ROW_CLASS).data(v.rows),y=u.enter().append("g").classed(t.LEGEND_ROW_CLASS,
!0).merge(u);u.exit().remove();y.attr("transform",function(x,z){x=v.getRowBounds(z);return"translate("+x.topLeft.x+", "+x.topLeft.y+")"});var w=this;y.each(function(x,z){for(var B=[],A=0;A<x.columns.length;A+=2)B.push([x.columns[A],x.columns[A+1]]);x=f.select(this).selectAll("g."+t.LEGEND_ENTRY_CLASS).data(B);B=x.enter().append("g").classed(t.LEGEND_ENTRY_CLASS,!0).merge(x);B.append("path").attr("d",function(C){C=C[0];return w.symbol()(C.data.name,z)(.6*C.height)(null)}).attr("transform",function(C){C=
C[0];return"translate("+(v.getColumnBounds(z,v.rows[z].columns.indexOf(C)).topLeft.x+C.width/2)+", "+C.height/2+")"}).attr("fill",function(C){return w._colorScale.scale(C[0].data.name)}).attr("opacity",function(C){return w.symbolOpacity()(C[0].data.name,z)}).classed(t.LEGEND_SYMBOL_CLASS,!0);B.append("g").classed("text-container",!0).attr("transform",function(C){return"translate("+v.getColumnBounds(z,v.rows[z].columns.indexOf(C[1])).topLeft.x+", 0)"}).each(function(C){var E=f.select(this);C=C[1];
w._writer.write(w._formatter(C.data.name),C.width,w.height(),{xAlign:"left",yAlign:"top",textRotation:0},E.node())});x.exit().remove()});return this};t.prototype.symbol=function(v){if(null==v)return this._symbolFactoryAccessor;this._symbolFactoryAccessor=v;this.render();return this};t.prototype.symbolOpacity=function(){return this._symbolOpacityAccessor};t.prototype.fixedWidth=function(){return!0};t.prototype.fixedHeight=function(){return!0};t.prototype.invalidateCache=function(){this._measurer.reset()};
return t}(b.Component);b.LEGEND_ROW_CLASS="legend-row";b.LEGEND_ENTRY_CLASS="legend-entry";b.LEGEND_SYMBOL_CLASS="legend-symbol";c.Legend=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(2),g=d(0);b=function(h){function k(){return null!==h&&h.apply(this,arguments)||this}e(k,h);k.prototype.entityNearest=function(l){var n,p=Infinity;this.components().forEach(function(q){q=
q.entityNearest(l);if(null!=q){var r=g.Math.distanceSquared(q.position,l);r<=p&&(p=r,n=q)}});return n};k.prototype.append=function(l){if(null!=l&&!(l instanceof f.Plot))throw Error("Plot Group only accepts plots");h.prototype.append.call(this,l);return this};return k}(d(41).Group);c.PlotGroup=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},
f=d(1),g=d(0);b=function(h){function k(l){void 0===l&&(l=[]);var n=h.call(this)||this;n._rowPadding=0;n._columnPadding=0;n._rows=[];n._rowWeights=[];n._columnWeights=[];n._nRows=0;n._nCols=0;n._calculatedLayout=null;n.addClass("table");l.forEach(function(p,q){p.forEach(function(r,t){null!=r&&n.add(r,q,t)})});return n}e(k,h);k.prototype._forEach=function(l){for(var n=0;n<this._nRows;n++)for(var p=0;p<this._nCols;p++)null!=this._rows[n][p]&&l(this._rows[n][p])};k.prototype.has=function(l){for(var n=
0;n<this._nRows;n++)for(var p=0;p<this._nCols;p++)if(this._rows[n][p]===l)return!0;return!1};k.prototype.componentAt=function(l){return 0>=this._nRows||0>l||l>=this._nCols?null:this._rows[0][l]};k.prototype.add=function(l,n,p){if(null==l)throw Error("Cannot add null to a table cell");if(!this.has(l)){if(null!=(this._rows[n]&&this._rows[n][p]))throw Error("cell is occupied");l.detach();this._nRows=Math.max(n+1,this._nRows);this._nCols=Math.max(p+1,this._nCols);this._padTableToSize(this._nRows,this._nCols);
this._rows[n][p]=l;this._adoptAndAnchor(l);this.redraw()}return this};k.prototype._remove=function(l){for(var n=0;n<this._nRows;n++)for(var p=0;p<this._nCols;p++)if(this._rows[n][p]===l){this._rows[n][p]=null;return}};k.prototype._iterateLayout=function(l,n,p){void 0===p&&(p=!1);var q=this._rows,r=f.transpose(this._rows);l-=this._columnPadding*(this._nCols-1);n-=this._rowPadding*(this._nRows-1);q=k._calcComponentWeights(this._rowWeights,q,function(I){return null==I||I.fixedHeight()});r=k._calcComponentWeights(this._columnWeights,
r,function(I){return null==I||I.fixedWidth()});var t=r.map(function(I){return 0===I?.5:I}),v=q.map(function(I){return 0===I?.5:I});t=k._calcProportionalSpace(t,l);var u=k._calcProportionalSpace(v,n),y=g.Array.createFilledArray(0,this._nCols),w=g.Array.createFilledArray(0,this._nRows);v=0;for(var x,z,B;;){w=g.Array.add(w,u);t=g.Array.add(y,t);x=this._determineGuarantees(t,w,p);y=x.guaranteedWidths;w=x.guaranteedHeights;z=x.wantsWidthArr.some(function(I){return I});B=x.wantsHeightArr.some(function(I){return I});
var A=E,C=F;var E=l-f.sum(x.guaranteedWidths);var F=n-f.sum(x.guaranteedHeights);t=void 0;z?(t=x.wantsWidthArr.map(function(I){return I?.1:0}),t=g.Array.add(t,r)):t=r;u=void 0;B?(u=x.wantsHeightArr.map(function(I){return I?.1:0}),u=g.Array.add(u,q)):u=q;t=k._calcProportionalSpace(t,E);u=k._calcProportionalSpace(u,F);v++;C=0<F&&F!==C;if(!(0<E&&E!==A||C))break;if(5<v)break}E=l-f.sum(x.guaranteedWidths);F=n-f.sum(x.guaranteedHeights);t=k._calcProportionalSpace(r,E);u=k._calcProportionalSpace(q,F);return{colProportionalSpace:t,
rowProportionalSpace:u,guaranteedWidths:x.guaranteedWidths,guaranteedHeights:x.guaranteedHeights,wantsWidth:z,wantsHeight:B}};k.prototype._determineGuarantees=function(l,n,p){void 0===p&&(p=!1);var q=g.Array.createFilledArray(0,this._nCols),r=g.Array.createFilledArray(0,this._nRows),t=g.Array.createFilledArray(!1,this._nCols),v=g.Array.createFilledArray(!1,this._nRows);this._rows.forEach(function(u,y){u.forEach(function(w,x){w=null!=w?w.requestedSpace(l[x],n[y]):{minWidth:0,minHeight:0};q[x]=Math.max(q[x],
p?Math.min(w.minWidth,l[x]):w.minWidth);r[y]=Math.max(r[y],p?Math.min(w.minHeight,n[y]):w.minHeight);var z=w.minWidth>l[x];t[x]=t[x]||z;x=w.minHeight>n[y];v[y]=v[y]||x})});return{guaranteedWidths:q,guaranteedHeights:r,wantsWidthArr:t,wantsHeightArr:v}};k.prototype.requestedSpace=function(l,n){this._calculatedLayout=this._iterateLayout(l,n);return{minWidth:f.sum(this._calculatedLayout.guaranteedWidths),minHeight:f.sum(this._calculatedLayout.guaranteedHeights)}};k.prototype.computeLayout=function(l,
n,p){var q=this;h.prototype.computeLayout.call(this,l,n,p);l=f.sum(this._calculatedLayout.guaranteedWidths);n=f.sum(this._calculatedLayout.guaranteedHeights);p=this._calculatedLayout;if(l>this.width()||n>this.height())p=this._iterateLayout(this.width(),this.height(),!0);var r=0,t=g.Array.add(p.rowProportionalSpace,p.guaranteedHeights),v=g.Array.add(p.colProportionalSpace,p.guaranteedWidths);this._rows.forEach(function(u,y){var w=0;u.forEach(function(x,z){null!=x&&x.computeLayout({x:w,y:r},v[z],t[y]);
w+=v[z]+q._columnPadding});r+=t[y]+q._rowPadding});return this};k.prototype.rowPadding=function(l){if(null==l)return this._rowPadding;if(!g.Math.isValidNumber(l)||0>l)throw Error("rowPadding must be a non-negative finite value");this._rowPadding=l;this.redraw();return this};k.prototype.columnPadding=function(l){if(null!=l){if(!g.Math.isValidNumber(l)||0>l)throw Error("columnPadding must be a non-negative finite value");this._columnPadding=l;this.redraw()}};k.prototype.rowWeight=function(l,n){if(null==
n)return this._rowWeights[l];if(!g.Math.isValidNumber(n)||0>n)throw Error("rowWeight must be a non-negative finite value");this._rowWeights[l]=n;this.redraw();return this};k.prototype.columnWeight=function(l,n){if(null==n)return this._columnWeights[l];if(!g.Math.isValidNumber(n)||0>n)throw Error("columnWeight must be a non-negative finite value");this._columnWeights[l]=n;this.redraw();return this};k.prototype.fixedWidth=function(){var l=f.transpose(this._rows);return k._fixedSpace(l,function(n){return null==
n||n.fixedWidth()})};k.prototype.fixedHeight=function(){return k._fixedSpace(this._rows,function(l){return null==l||l.fixedHeight()})};k.prototype._padTableToSize=function(l,n){for(var p=0;p<l;p++){void 0===this._rows[p]&&(this._rows[p]=[],this._rowWeights[p]=null);for(var q=0;q<n;q++)void 0===this._rows[p][q]&&(this._rows[p][q]=null)}for(q=0;q<n;q++)void 0===this._columnWeights[q]&&(this._columnWeights[q]=null)};k._calcComponentWeights=function(l,n,p){return l.map(function(q,r){return null!=q?q:
n[r].map(p).reduce(function(t,v){return t&&v},!0)?0:1})};k._calcProportionalSpace=function(l,n){var p=f.sum(l);return 0===p?g.Array.createFilledArray(0,l.length):l.map(function(q){return n*q/p})};k._fixedSpace=function(l,n){function p(q){return q.reduce(function(r,t){return r&&t},!0)}return p(l.map(function(q){return p(q.map(n))}))};return k}(d(29).ComponentContainer);c.Table=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&
(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){var h=f.call(this)||this;h.addClass("x-drag-box-layer");h._hasCorners=!1;return h}e(g,f);g.prototype.computeLayout=function(h,k,l){f.prototype.computeLayout.call(this,h,k,l);this._setBounds(this.bounds());return this};g.prototype._setBounds=function(h){f.prototype._setBounds.call(this,{topLeft:{x:h.topLeft.x,y:0},bottomRight:{x:h.bottomRight.x,y:this.height()}})};g.prototype._setResizableClasses=
function(h){h&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")};g.prototype.yScale=function(h){if(null==h)return f.prototype.yScale.call(this);throw Error("yScales cannot be set on an XDragBoxLayer");};g.prototype.yExtent=function(){return f.prototype.yExtent.call(this);throw Error("XDragBoxLayer has no yExtent");};return g}(d(32).DragBoxLayer);c.XDragBoxLayer=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&
(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){var h=f.call(this)||this;h.addClass("y-drag-box-layer");h._hasCorners=!1;return h}e(g,f);g.prototype.computeLayout=function(h,k,l){f.prototype.computeLayout.call(this,h,k,l);this._setBounds(this.bounds());return this};g.prototype._setBounds=function(h){f.prototype._setBounds.call(this,{topLeft:{x:0,y:h.topLeft.y},bottomRight:{x:this.width(),y:h.bottomRight.y}})};g.prototype._setResizableClasses=
function(h){h&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")};g.prototype.xScale=function(h){if(null==h)return f.prototype.xScale.call(this);throw Error("xScales cannot be set on an YDragBoxLayer");};g.prototype.xExtent=function(){return f.prototype.xExtent.call(this);throw Error("YDragBoxLayer has no xExtent");};return g}(d(32).DragBoxLayer);c.YDragBoxLayer=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&
(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){var h=f.call(this)||this;h._eventToProcessingFunction[g._KEYDOWN_EVENT_NAME]=function(k){return h._processKeydown(k)};h._eventToProcessingFunction[g._KEYUP_EVENT_NAME]=function(k){return h._processKeyup(k)};return h}e(g,f);g.getDispatcher=function(){var h=document[g._DISPATCHER_KEY];null==h&&(h=new g,document[g._DISPATCHER_KEY]=h);return h};g.prototype._processKeydown=function(h){this._callCallbacksForEvent(g._KEYDOWN_EVENT_NAME,
h.keyCode,h)};g.prototype._processKeyup=function(h){this._callCallbacksForEvent(g._KEYUP_EVENT_NAME,h.keyCode,h)};g.prototype.onKeyDown=function(h){this._addCallbackForEvent(g._KEYDOWN_EVENT_NAME,h)};g.prototype.offKeyDown=function(h){this._removeCallbackForEvent(g._KEYDOWN_EVENT_NAME,h)};g.prototype.onKeyUp=function(h){this._addCallbackForEvent(g._KEYUP_EVENT_NAME,h)};g.prototype.offKeyUp=function(h){this._removeCallbackForEvent(g._KEYUP_EVENT_NAME,h)};return g}(d(24).Dispatcher);b._DISPATCHER_KEY=
"__Plottable_Dispatcher_Key";b._KEYDOWN_EVENT_NAME="keydown";b._KEYUP_EVENT_NAME="keyup";c.Key=b},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(0);b=function(g){function h(k){function l(p){return n._measureAndDispatch(k,p,h._MOUSEMOVE_EVENT_NAME,"page")}var n=g.call(this)||this;n._lastMousePosition={x:-1,y:-1};n._translator=f.getTranslator(k);
n._eventToProcessingFunction[h._MOUSEOVER_EVENT_NAME]=l;n._eventToProcessingFunction[h._MOUSEMOVE_EVENT_NAME]=l;n._eventToProcessingFunction[h._MOUSEOUT_EVENT_NAME]=l;n._eventToProcessingFunction[h._MOUSEDOWN_EVENT_NAME]=function(p){return n._measureAndDispatch(k,p,h._MOUSEDOWN_EVENT_NAME)};n._eventToProcessingFunction[h._MOUSEUP_EVENT_NAME]=function(p){return n._measureAndDispatch(k,p,h._MOUSEUP_EVENT_NAME,"page")};n._eventToProcessingFunction[h._WHEEL_EVENT_NAME]=function(p){return n._measureAndDispatch(k,
p,h._WHEEL_EVENT_NAME)};n._eventToProcessingFunction[h._DBLCLICK_EVENT_NAME]=function(p){return n._measureAndDispatch(k,p,h._DBLCLICK_EVENT_NAME)};return n}e(h,g);h.getDispatcher=function(k){var l=k.root().rootElement(),n=l[h._DISPATCHER_KEY];null==n&&(n=new h(k),l[h._DISPATCHER_KEY]=n);return n};h.prototype.onMouseMove=function(k){this._addCallbackForEvent(h._MOUSEMOVE_EVENT_NAME,k)};h.prototype.offMouseMove=function(k){this._removeCallbackForEvent(h._MOUSEMOVE_EVENT_NAME,k)};h.prototype.onMouseDown=
function(k){this._addCallbackForEvent(h._MOUSEDOWN_EVENT_NAME,k)};h.prototype.offMouseDown=function(k){this._removeCallbackForEvent(h._MOUSEDOWN_EVENT_NAME,k)};h.prototype.onMouseUp=function(k){this._addCallbackForEvent(h._MOUSEUP_EVENT_NAME,k)};h.prototype.offMouseUp=function(k){this._removeCallbackForEvent(h._MOUSEUP_EVENT_NAME,k)};h.prototype.onWheel=function(k){this._addCallbackForEvent(h._WHEEL_EVENT_NAME,k)};h.prototype.offWheel=function(k){this._removeCallbackForEvent(h._WHEEL_EVENT_NAME,k)};
h.prototype.onDblClick=function(k){this._addCallbackForEvent(h._DBLCLICK_EVENT_NAME,k)};h.prototype.offDblClick=function(k){this._removeCallbackForEvent(h._DBLCLICK_EVENT_NAME,k)};h.prototype._measureAndDispatch=function(k,l,n,p){void 0===p&&(p="element");if("page"!==p&&"element"!==p)throw Error("Invalid scope '"+p+"', must be 'element' or 'page'");if("page"===p||this.eventInside(k,l))this._lastMousePosition=this._translator.computePosition(l.clientX,l.clientY),this._callCallbacksForEvent(n,this.lastMousePosition(),
l)};h.prototype.eventInside=function(k,l){return f.Translator.isEventInside(k,l)};h.prototype.lastMousePosition=function(){return this._lastMousePosition};return h}(d(24).Dispatcher);b._DISPATCHER_KEY="__Plottable_Dispatcher_Mouse";b._MOUSEOVER_EVENT_NAME="mouseover";b._MOUSEMOVE_EVENT_NAME="mousemove";b._MOUSEOUT_EVENT_NAME="mouseout";b._MOUSEDOWN_EVENT_NAME="mousedown";b._MOUSEUP_EVENT_NAME="mouseup";b._WHEEL_EVENT_NAME="wheel";b._DBLCLICK_EVENT_NAME="dblclick";c.Mouse=b},function(b,c,d){var e=
this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(0);b=function(g){function h(k){var l=g.call(this)||this;l._translator=f.getTranslator(k);l._eventToProcessingFunction[h._TOUCHSTART_EVENT_NAME]=function(n){return l._measureAndDispatch(k,n,h._TOUCHSTART_EVENT_NAME,"page")};l._eventToProcessingFunction[h._TOUCHMOVE_EVENT_NAME]=function(n){return l._measureAndDispatch(k,
n,h._TOUCHMOVE_EVENT_NAME,"page")};l._eventToProcessingFunction[h._TOUCHEND_EVENT_NAME]=function(n){return l._measureAndDispatch(k,n,h._TOUCHEND_EVENT_NAME,"page")};l._eventToProcessingFunction[h._TOUCHCANCEL_EVENT_NAME]=function(n){return l._measureAndDispatch(k,n,h._TOUCHCANCEL_EVENT_NAME,"page")};return l}e(h,g);h.getDispatcher=function(k){var l=k.root().rootElement(),n=l[h._DISPATCHER_KEY];null==n&&(n=new h(k),l[h._DISPATCHER_KEY]=n);return n};h.prototype.onTouchStart=function(k){this._addCallbackForEvent(h._TOUCHSTART_EVENT_NAME,
k)};h.prototype.offTouchStart=function(k){this._removeCallbackForEvent(h._TOUCHSTART_EVENT_NAME,k)};h.prototype.onTouchMove=function(k){this._addCallbackForEvent(h._TOUCHMOVE_EVENT_NAME,k)};h.prototype.offTouchMove=function(k){this._removeCallbackForEvent(h._TOUCHMOVE_EVENT_NAME,k)};h.prototype.onTouchEnd=function(k){this._addCallbackForEvent(h._TOUCHEND_EVENT_NAME,k)};h.prototype.offTouchEnd=function(k){this._removeCallbackForEvent(h._TOUCHEND_EVENT_NAME,k)};h.prototype.onTouchCancel=function(k){this._addCallbackForEvent(h._TOUCHCANCEL_EVENT_NAME,
k)};h.prototype.offTouchCancel=function(k){this._removeCallbackForEvent(h._TOUCHCANCEL_EVENT_NAME,k)};h.prototype._measureAndDispatch=function(k,l,n,p){void 0===p&&(p="element");if("page"!==p&&"element"!==p)throw Error("Invalid scope '"+p+"', must be 'element' or 'page'");if("element"!==p||this.eventInside(k,l)){k=l.changedTouches;p={};for(var q=[],r=0;r<k.length;r++){var t=k[r],v=t.identifier;t=this._translator.computePosition(t.clientX,t.clientY);null!=t&&(p[v]=t,q.push(v))}0<q.length&&this._callCallbacksForEvent(n,
q,p,l)}};h.prototype.eventInside=function(k,l){return f.Translator.isEventInside(k,l)};return h}(d(24).Dispatcher);b._DISPATCHER_KEY="__Plottable_Dispatcher_Touch";b._TOUCHSTART_EVENT_NAME="touchstart";b._TOUCHMOVE_EVENT_NAME="touchmove";b._TOUCHEND_EVENT_NAME="touchend";b._TOUCHCANCEL_EVENT_NAME="touchcancel";c.Touch=b},function(b,c){b=function(){function d(e,f,g){void 0===g&&(g=window.devicePixelRatio);this.screenWidth=e;this.screenHeight=f;this.devicePixelRatio=g;this.pixelWidth=e*g;this.pixelHeight=
f*g;this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");d.sizePixels(this.ctx,e,f,g)}d.sizePixels=function(e,f,g,h){var k=e.canvas;k.width=f*h;k.height=g*h;k.style.width=f+"px";k.style.height=g+"px";e.setTransform(1,0,0,1,0,0);e.scale(h,h)};d.prototype.blit=function(e,f,g){void 0===f&&(f=0);void 0===g&&(g=0);e.drawImage(this.canvas,f,g,this.screenWidth,this.screenHeight)};d.prototype.blitCenter=function(e,f,g){void 0===f&&(f=0);void 0===g&&(g=0);this.blit(e,Math.floor(f-
this.screenWidth/2),Math.floor(g-this.screenHeight/2))};d.prototype.resize=function(e,f,g){void 0===g&&(g=!1);var h=this.devicePixelRatio;this.screenWidth=e;this.screenHeight=f;this.pixelWidth=e*h;this.pixelHeight=f*h;d.sizePixels(this.ctx,e,f,h);g&&this.ctx.translate(e/2,e/2);return this};d.prototype.clear=function(e){var f=this.pixelWidth,g=this.pixelHeight,h=this.ctx;h.save();h.setTransform(1,0,0,1,0,0);null==e?h.clearRect(0,0,f,g):(h.fillStyle=e,h.fillRect(0,0,f,g));h.restore();return this};d.prototype.getImageData=
function(){return this.ctx.getImageData(0,0,this.pixelWidth,this.pixelHeight)};return d}();c.CanvasBuffer=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(13),g=d(0);b=function(h){function k(){var l=null!==h&&h.apply(this,arguments)||this;l._clickedDown=!1;l._doubleClicking=!1;l._onClickCallbacks=new g.CallbackSet;l._onDoubleClickCallbacks=
new g.CallbackSet;l._mouseDownCallback=function(n){return l._handleClickDown(n)};l._mouseUpCallback=function(n,p){return l._handleClickUp(n,p)};l._dblClickCallback=function(n,p){return l._handleDblClick(n,p)};l._touchStartCallback=function(n,p){return l._handleClickDown(p[n[0]])};l._touchEndCallback=function(n,p,q){return l._handleClickUp(p[n[0]],q)};l._touchCancelCallback=function(){return l._clickedDown=!1};return l}e(k,h);k.prototype._anchor=function(l){h.prototype._anchor.call(this,l);this._mouseDispatcher=
f.Mouse.getDispatcher(l);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);this._mouseDispatcher.onDblClick(this._dblClickCallback);this._touchDispatcher=f.Touch.getDispatcher(l);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};k.prototype._unanchor=function(){h.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);
this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher.offDblClick(this._dblClickCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null};k.prototype._handleClickDown=function(l){l=this._translateToComponentSpace(l);this._isInsideComponent(l)&&(this._clickedDown=!0,this._clickedPoint=l)};
k.prototype._handleClickUp=function(l,n){var p=this,q=this._translateToComponentSpace(l);this._clickedDown&&k._pointsEqual(q,this._clickedPoint)&&setTimeout(function(){p._doubleClicking||p._onClickCallbacks.callCallbacks(q,n)},0);this._clickedDown=!1};k.prototype._handleDblClick=function(l,n){var p=this;l=this._translateToComponentSpace(l);this._doubleClicking=!0;this._onDoubleClickCallbacks.callCallbacks(l,n);setTimeout(function(){return p._doubleClicking=!1},0)};k._pointsEqual=function(l,n){return l.x===
n.x&&l.y===n.y};k.prototype.onClick=function(l){this._onClickCallbacks.add(l)};k.prototype.offClick=function(l){this._onClickCallbacks.delete(l)};k.prototype.onDoubleClick=function(l){this._onDoubleClickCallbacks.add(l)};k.prototype.offDoubleClick=function(l){this._onDoubleClickCallbacks.delete(l);return this};return k}(d(15).Interaction);c.Click=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=
null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(13),g=d(0);b=function(h){function k(){var l=null!==h&&h.apply(this,arguments)||this;l._dragging=!1;l._constrainedToComponent=!0;l._mouseFilter=k._DEFAULT_MOUSE_FILTER;l._dragStartCallbacks=new g.CallbackSet;l._dragCallbacks=new g.CallbackSet;l._dragEndCallbacks=new g.CallbackSet;l._mouseDownCallback=function(n,p){return l._startDrag(n,p)};l._mouseMoveCallback=function(n){return l._doDrag(n)};l._mouseUpCallback=function(n,p){return l._endDrag(n,
p)};l._touchStartCallback=function(n,p,q){return l._startDrag(p[n[0]],q)};l._touchMoveCallback=function(n,p){return l._doDrag(p[n[0]])};l._touchEndCallback=function(n,p,q){return l._endDrag(p[n[0]],q)};return l}e(k,h);k.prototype._anchor=function(l){h.prototype._anchor.call(this,l);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);
this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback)};k.prototype._unanchor=function(){h.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher=
null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher=null};k.prototype._translateAndConstrain=function(l){l=this._translateToComponentSpace(l);return this._constrainedToComponent?{x:g.Math.clamp(l.x,0,this._componentAttachedTo.width()),y:g.Math.clamp(l.y,0,this._componentAttachedTo.height())}:l};k.prototype._startDrag=function(l,n){n instanceof MouseEvent&&
!this._mouseFilter(n)||(l=this._translateToComponentSpace(l),this._isInsideComponent(l)&&(n.preventDefault(),this._dragging=!0,this._dragOrigin=l,this._dragStartCallbacks.callCallbacks(this._dragOrigin)))};k.prototype._doDrag=function(l){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(l))};k.prototype._endDrag=function(l,n){n instanceof MouseEvent&&0!==n.button||!this._dragging||(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,
this._translateAndConstrain(l)))};k.prototype.constrainedToComponent=function(){this._constrainedToComponent=!1};k.prototype.mouseFilter=function(l){if(0===arguments.length)return this._mouseFilter;this._mouseFilter=l;return this};k.prototype.onDragStart=function(l){this._dragStartCallbacks.add(l)};k.prototype.offDragStart=function(l){this._dragStartCallbacks.delete(l)};k.prototype.onDrag=function(l){this._dragCallbacks.add(l)};k.prototype.offDrag=function(l){this._dragCallbacks.delete(l)};k.prototype.onDragEnd=
function(l){this._dragEndCallbacks.add(l)};k.prototype.offDragEnd=function(l){this._dragEndCallbacks.delete(l)};return k}(d(15).Interaction);b._DEFAULT_MOUSE_FILTER=function(h){return 0===h.button};c.Drag=b},function(b,c,d){var e=this&&this.__extends||function(p,q){function r(){this.constructor=p}for(var t in q)q.hasOwnProperty(t)&&(p[t]=q[t]);p.prototype=null===q?Object.create(q):(r.prototype=q.prototype,new r)},f=d(1),g=d(13),h=d(3),k=d(0),l=d(25);b=d(15);var n=d(26);d=function(p){function q(r,
t){var v=p.call(this)||this;v._wheelFilter=function(){return!0};v._wheelCallback=function(u,y){return v._handleWheelEvent(u,y)};v._touchStartCallback=function(u,y){return v._handleTouchStart(u,y)};v._touchMoveCallback=function(u,y){return v._handlePinch(u,y)};v._touchEndCallback=function(u){return v._handleTouchEnd(u)};v._touchCancelCallback=function(u){return v._handleTouchEnd(u)};v._panEndCallbacks=new k.CallbackSet;v._zoomEndCallbacks=new k.CallbackSet;v._panZoomUpdateCallbacks=new k.CallbackSet;
v._xScales=new k.Set;v._yScales=new k.Set;v._dragInteraction=new l.Drag;v._setupDragInteraction();v._touchIds=f.map();v._minDomainExtents=new k.Map;v._maxDomainExtents=new k.Map;v._minDomainValues=new k.Map;v._maxDomainValues=new k.Map;null!=r&&v.addXScale(r);null!=t&&v.addYScale(t);return v}e(q,p);q.prototype.dragInteraction=function(){return this._dragInteraction};q.prototype.wheelFilter=function(r){if(0===arguments.length)return this._wheelFilter;this._wheelFilter=r;return this};q.prototype.pan=
function(r){var t=this;this.xScales().forEach(function(v){v.pan(t._constrainedTranslation(v,r.x))});this.yScales().forEach(function(v){v.pan(t._constrainedTranslation(v,r.y))});this._panZoomUpdateCallbacks.callCallbacks()};q.prototype.zoom=function(r,t,v){var u=this;void 0===v&&(v=!0);if(null!=t){var y=t.x;var w=t.y;v&&(this.xScales().forEach(function(x){x=u._constrainedZoom(x,r,y);y=x.centerPoint;r=x.zoomAmount}),this.yScales().forEach(function(x){x=u._constrainedZoom(x,r,w);w=x.centerPoint;r=x.zoomAmount}))}this.xScales().forEach(function(x){var z=
x.range();x.zoom(r,null==y?(z[1]+z[0])/2:y)});this.yScales().forEach(function(x){var z=x.range();x.zoom(r,null==w?(z[1]+z[0])/2:w)});this._panZoomUpdateCallbacks.callCallbacks();return{zoomAmount:r,centerValue:{centerX:y,centerY:w}}};q.prototype._anchor=function(r){p.prototype._anchor.call(this,r);this._dragInteraction.attachTo(r);this._mouseDispatcher=g.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onWheel(this._wheelCallback);this._touchDispatcher=g.Touch.getDispatcher(this._componentAttachedTo);
this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};q.prototype._unanchor=function(){p.prototype._unanchor.call(this);this._mouseDispatcher.offWheel(this._wheelCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);
this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null;this._dragInteraction.detach()};q.prototype._handleTouchStart=function(r,t){for(var v=0;v<r.length&&2>this._touchIds.size();v++){var u=r[v];this._touchIds.set(u.toString(),this._translateToComponentSpace(t[u]))}};q.prototype._handlePinch=function(r,t){var v=this;if(!(2>this._touchIds.size())){var u=this._touchIds.values();if(this._isInsideComponent(this._translateToComponentSpace(u[0]))&&
this._isInsideComponent(this._translateToComponentSpace(u[1]))){var y=q._pointDistance(u[0],u[1]);if(0!==y){r.forEach(function(A){v._touchIds.has(A.toString())&&v._touchIds.set(A.toString(),v._translateToComponentSpace(t[A]))});r=this._touchIds.values();var w=q._pointDistance(r[0],r[1]);if(0!==w){var x=y/w,z=r.map(function(A,C){return{x:(A.x-u[C].x)/x,y:(A.y-u[C].y)/x}});y=q.centerPoint(u[0],u[1]);y=this.zoom(x,y);r=y.centerValue;var B=y.zoomAmount;y=r.centerX;r=r.centerY;w=u.map(function(A,C){return{x:z[C].x*
B+A.x,y:z[C].y*B+A.y}});this.pan({x:y-(w[0].x+w[1].x)/2,y:r-(w[0].y+w[1].y)/2})}}}}};q.centerPoint=function(r,t){return{x:(Math.min(r.x,t.x)+Math.max(r.x,t.x))/2,y:(Math.max(r.y,t.y)+Math.min(r.y,t.y))/2}};q._pointDistance=function(r,t){return Math.sqrt(Math.pow(Math.max(r.x,t.x)-Math.min(r.x,t.x),2)+Math.pow(Math.max(r.y,t.y)-Math.min(r.y,t.y),2))};q.prototype._handleTouchEnd=function(r){var t=this;r.forEach(function(v){t._touchIds.remove(v.toString())});0<this._touchIds.size()&&this._zoomEndCallbacks.callCallbacks()};
q.prototype._handleWheelEvent=function(r,t){this._wheelFilter(t)&&(r=this._translateToComponentSpace(r),this._isInsideComponent(r)&&(t.preventDefault(),this.zoom(Math.pow(2,(0!==t.deltaY?t.deltaY:t.deltaX)*(t.deltaMode?q._PIXELS_PER_LINE:1)*.002),r),this._zoomEndCallbacks.callCallbacks()))};q.prototype._constrainedZoom=function(r,t,v){return n.constrainedZoom(r,t,v,this.minDomainExtent(r),this.maxDomainExtent(r),this.minDomainValue(r),this.maxDomainValue(r))};q.prototype._constrainedTranslation=function(r,
t){return n.constrainedTranslation(r,t,this.minDomainValue(r),this.maxDomainValue(r))};q.prototype._setupDragInteraction=function(){var r=this;this._dragInteraction.constrainedToComponent();var t;this._dragInteraction.onDragStart(function(){return t=null});this._dragInteraction.onDrag(function(v,u){2<=r._touchIds.size()||(r.pan({x:(null==t?v.x:t.x)-u.x,y:(null==t?v.y:t.y)-u.y}),t=u)});this._dragInteraction.onDragEnd(function(){return r._panEndCallbacks.callCallbacks()})};q.prototype._nonLinearScaleWithExtents=
function(r){return null!=this.minDomainExtent(r)&&null!=this.maxDomainExtent(r)&&!(r instanceof h.Linear)&&!(r instanceof h.Time)};q.prototype.xScales=function(){var r=[];this._xScales.forEach(function(t){r.push(t)});return r};q.prototype.yScales=function(){var r=[];this._yScales.forEach(function(t){r.push(t)});return r};q.prototype.addXScale=function(r){this._xScales.add(r)};q.prototype.removeXScale=function(r){this._xScales.delete(r);this._minDomainExtents.delete(r);this._maxDomainExtents.delete(r);
this._minDomainValues.delete(r);this._maxDomainValues.delete(r);return this};q.prototype.addYScale=function(r){this._yScales.add(r)};q.prototype.removeYScale=function(r){this._yScales.delete(r);this._minDomainExtents.delete(r);this._maxDomainExtents.delete(r);this._minDomainValues.delete(r);this._maxDomainValues.delete(r);return this};q.prototype.minDomainExtent=function(r){return this._minDomainExtents.get(r)};q.prototype.maxDomainExtent=function(r){return this._maxDomainExtents.get(r)};q.prototype.minDomainValue=
function(r,t){if(null==t)return this._minDomainValues.get(r);this._minDomainValues.set(r,t);return this};q.prototype.maxDomainValue=function(r,t){if(null==t)return this._maxDomainValues.get(r);this._maxDomainValues.set(r,t);return this};q.prototype.setMinMaxDomainValuesTo=function(r){this._minDomainValues.delete(r);this._maxDomainValues.delete(r);var t=r.getTransformationDomain(),v=t[1];this.minDomainValue(r,t[0]);this.maxDomainValue(r,v);return this};q.prototype.onPanEnd=function(r){this._panEndCallbacks.add(r);
return this};q.prototype.offPanEnd=function(r){this._panEndCallbacks.delete(r);return this};q.prototype.onZoomEnd=function(r){this._zoomEndCallbacks.add(r);return this};q.prototype.offZoomEnd=function(r){this._zoomEndCallbacks.delete(r);return this};q.prototype.onPanZoomUpdate=function(r){this._panZoomUpdateCallbacks.add(r);return this};q.prototype.offPanZoomUpdate=function(r){this._panZoomUpdateCallbacks.delete(r);return this};return q}(b.Interaction);d._PIXELS_PER_LINE=120;c.PanZoom=d},function(b,
c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(13),g=d(0);b=function(h){function k(){var l=null!==h&&h.apply(this,arguments)||this;l._overComponent=!1;l._pointerEnterCallbacks=new g.CallbackSet;l._pointerMoveCallbacks=new g.CallbackSet;l._pointerExitCallbacks=new g.CallbackSet;l._mouseMoveCallback=function(n,p){return l._handleMouseEvent(n,p)};
l._touchStartCallback=function(n,p,q){return l._handleTouchEvent(p[n[0]],q)};return l}e(k,h);k.prototype._anchor=function(l){h.prototype._anchor.call(this,l);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback)};k.prototype._unanchor=function(){h.prototype._unanchor.call(this);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);
this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher=null};k.prototype._handleMouseEvent=function(l,n){n=this._mouseDispatcher.eventInside(this._componentAttachedTo,n);this._handlePointerEvent(l,n)};k.prototype._handleTouchEvent=function(l,n){n=this._touchDispatcher.eventInside(this._componentAttachedTo,n);this._handlePointerEvent(l,n)};k.prototype._handlePointerEvent=function(l,n){l=this._translateToComponentSpace(l);var p=this._isInsideComponent(l);
p&&n?(this._overComponent||this._pointerEnterCallbacks.callCallbacks(l),this._pointerMoveCallbacks.callCallbacks(l)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(l);this._overComponent=p&&n};k.prototype.onPointerEnter=function(l){this._pointerEnterCallbacks.add(l);return this};k.prototype.offPointerEnter=function(l){this._pointerEnterCallbacks.delete(l);return this};k.prototype.onPointerMove=function(l){this._pointerMoveCallbacks.add(l)};k.prototype.offPointerMove=function(l){this._pointerMoveCallbacks.delete(l)};
k.prototype.onPointerExit=function(l){this._pointerExitCallbacks.add(l)};k.prototype.offPointerExit=function(l){this._pointerExitCallbacks.delete(l);return this};return k}(d(15).Interaction);c.Pointer=b},function(b,c,d){var e=d(20);c.memThunk=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];var h=f.slice(0,-1),k=e.memoize(f[f.length-1]);return function(){var l=this,n=h.map(function(p){return p.apply(l)});return k.apply(void 0,n)}}},function(b,c,d){var e=d(49);c.memoize=function(f){function g(){for(var p=
[],q=0;q<arguments.length;q++)p[q]=arguments[q];if(l)return k;q=e.signArray(p);void 0===h||h.isDifferent(q)?(n&&console.log("cache miss! computing"),h=q,k=f.apply(this,p)):n&&console.log("cache hit!");return k}var h=void 0,k,l=!1,n=!1;g.doLocked=function(p){if(l)throw Error("Locking an already locked memoize function!");l=!0;p=p.apply(this);l=!1;return p};g.logPerformance=function(p){void 0===p&&(p=!0);n=p;return this};return g}},function(b,c,d){var e=this&&this.__extends||function(l,n){function p(){this.constructor=
l}for(var q in n)n.hasOwnProperty(q)&&(l[q]=n[q]);l.prototype=null===n?Object.create(n):(p.prototype=n.prototype,new p)},f=d(3),g=d(0),h=d(27),k=d(2);b=function(l){function n(p){void 0===p&&(p="vertical");p=l.call(this,p)||this;p._clusterOffsets=new g.Map;return p}e(n,l);n.prototype._generateAttrToProjector=function(){function p(){return t.rangeBand()}var q=this,r=l.prototype._generateAttrToProjector.call(this),t=this._makeInnerScale();r.width=this._isVertical?p:r.width;r.height=this._isVertical?
r.height:p;var v=r.x,u=r.y;r.x=this._isVertical?function(y,w,x){return v(y,w,x)+q._clusterOffsets.get(x)}:function(y,w,x){return v(y,w,x)};r.y=this._isVertical?function(y,w,x){return u(y,w,x)}:function(y,w,x){return u(y,w,x)+q._clusterOffsets.get(x)};return r};n.prototype._updateClusterPosition=function(){var p=this,q=this._makeInnerScale();this.datasets().forEach(function(r,t){return p._clusterOffsets.set(r,q.scale(String(t))-q.rangeBand()/2)})};n.prototype._makeInnerScale=function(){var p=new f.Category;
p.domain(this.datasets().map(function(r,t){return String(t)}));var q=k.Plot._scaledAccessor(this.attr(h.Bar._BAR_THICKNESS_KEY));p.range([0,q(null,0,null)]);return p};n.prototype._getDataToDraw=function(){this._updateClusterPosition();return l.prototype._getDataToDraw.call(this)};return n}(h.Bar);c.ClusteredBar=b},function(b,c,d){var e=this&&this.__extends||function(u,y){function w(){this.constructor=u}for(var x in y)y.hasOwnProperty(x)&&(u[x]=y[x]);u.prototype=null===y?Object.create(y):(w.prototype=
y.prototype,new w)},f=d(1),g=d(5),h=d(7),k=d(8),l=d(3),n=d(0),p=d(44),q=d(45),r=d(6),t=d(35),v=d(2);b=function(u){function y(){var w=u.call(this)||this;w._startAngle=0;w._endAngle=2*Math.PI;w._labelFormatter=k.identity();w._labelsEnabled=!1;w.innerRadius(0);w.outerRadius(function(){var x=w._pieCenter();return Math.min(Math.max(w.width()-x.x,x.x),Math.max(w.height()-x.y,x.y))});w.addClass("pie-plot");w.attr("fill",function(x,z){return String(z)},new l.Color);w._strokeDrawers=new n.Map;return w}e(y,
u);y.prototype._setup=function(){var w=this;u.prototype._setup.call(this);this._strokeDrawers.forEach(function(x){return x.attachTo(w._renderArea)})};y.prototype.computeLayout=function(w,x,z){u.prototype.computeLayout.call(this,w,x,z);w=this._pieCenter();this._renderArea.attr("transform","translate("+w.x+","+w.y+")");w=Math.min(Math.max(this.width()-w.x,w.x),Math.max(this.height()-w.y,w.y));null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,w]);null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,
w]);return this};y.prototype.addDataset=function(w){u.prototype.addDataset.call(this,w);return this};y.prototype._addDataset=function(w){if(1===this.datasets().length)return n.Window.warn("Only one dataset is supported in Pie plots"),this;this._updatePieAngles();var x=new q.ArcOutlineSVGDrawer;this._isSetup&&x.attachTo(this._renderArea);this._strokeDrawers.set(w,x);u.prototype._addDataset.call(this,w);return this};y.prototype.removeDataset=function(w){u.prototype.removeDataset.call(this,w)};y.prototype._removeDatasetNodes=
function(w){u.prototype._removeDatasetNodes.call(this,w);this._strokeDrawers.get(w).remove()};y.prototype._removeDataset=function(w){u.prototype._removeDataset.call(this,w);this._startAngles=[];this._endAngles=[];return this};y.prototype.selections=function(w){var x=this;void 0===w&&(w=this.datasets());var z=u.prototype.selections.call(this,w).nodes();w.forEach(function(B){B=x._strokeDrawers.get(B);null!=B&&z.push.apply(z,B.getVisualPrimitives())});return f.selectAll(z)};y.prototype._onDatasetUpdate=
function(){u.prototype._onDatasetUpdate.call(this);this._updatePieAngles();this.render()};y.prototype._createDrawer=function(){return new r.ProxyDrawer(function(){return new p.ArcSVGDrawer},function(){t.warn("canvas renderer is not supported on Pie Plot!");return null})};y.prototype.entities=function(w){var x=this;void 0===w&&(w=this.datasets());return u.prototype.entities.call(this,w).map(function(z){z.position.x+=x.width()/2;z.position.y+=x.height()/2;var B=f.select(x._strokeDrawers.get(z.dataset).getVisualPrimitiveAtIndex(z.index));
z.strokeSelection=B;return z})};y.prototype.sectorValue=function(){return this._propertyBindings.get(y._SECTOR_VALUE_KEY)};y.prototype.innerRadius=function(w,x){if(null==w)return this._propertyBindings.get(y._INNER_RADIUS_KEY);this._bindProperty(y._INNER_RADIUS_KEY,w,x);this.render();return this};y.prototype.outerRadius=function(w,x){if(null==w)return this._propertyBindings.get(y._OUTER_RADIUS_KEY);this._bindProperty(y._OUTER_RADIUS_KEY,w,x);this.render();return this};y.prototype.startAngle=function(w){if(null==
w)return this._startAngle;this._startAngle=w;this._updatePieAngles();this.render();return this};y.prototype.endAngle=function(w){if(null==w)return this._endAngle;this._endAngle=w;this._updatePieAngles();this.render();return this};y.prototype.labelsEnabled=function(w){if(null==w)return this._labelsEnabled;this._labelsEnabled=w;this.render();return this};y.prototype.labelFormatter=function(w){if(null==w)return this._labelFormatter;this._labelFormatter=w;this.render();return this};y.prototype.entitiesAt=
function(w){var x=this.width()/2,z=this.height()/2;w=this._sliceIndexForPoint({x:w.x-x,y:w.y-z});return null==w?[]:[this.entities()[w]]};y.prototype._propertyProjectors=function(){var w=this,x=u.prototype._propertyProjectors.call(this),z=v.Plot._scaledAccessor(this.innerRadius()),B=v.Plot._scaledAccessor(this.outerRadius());x.d=function(A,C,E){return f.arc().innerRadius(z(A,C,E)).outerRadius(B(A,C,E)).startAngle(w._startAngles[C]).endAngle(w._endAngles[C])(A,C)};return x};y.prototype._updatePieAngles=
function(){if(null!=this.sectorValue()&&0!==this.datasets().length){var w=v.Plot._scaledAccessor(this.sectorValue()),x=this.datasets()[0],z=this._getDataToDraw().get(x);z=f.pie().sort(null).startAngle(this._startAngle).endAngle(this._endAngle).value(function(B,A){return w(B,A,x)})(z);this._startAngles=z.map(function(B){return B.startAngle});this._endAngles=z.map(function(B){return B.endAngle})}};y.prototype._pieCenter=function(){var w=this._startAngle<this._endAngle?this._startAngle:this._endAngle,
x=this._startAngle<this._endAngle?this._endAngle:this._startAngle,z=Math.sin(w);w=Math.cos(w);var B=Math.sin(x);x=Math.cos(x);var A;if(0<=z&&0<=B)if(0<=w&&0<=x){var C=w;var E=A=0;var F=B}else 0>w&&0>x?(C=0,A=-x,E=0,F=z):0<=w&&0>x?(C=w,A=-x,E=0,F=z):0>w&&0<=x&&(E=A=C=1,F=Math.max(z,B));else 0<=z&&0>B?0<=w&&0<=x?(C=Math.max(w,x),F=E=A=1):0>w&&0>x?(C=0,A=1,E=-B,F=z):0<=w&&0>x?(C=w,A=1,E=-B,F=1):0>w&&0<=x&&(C=x,E=A=1,F=z):0>z&&0<=B?0<=w&&0<=x?(C=1,A=0,E=-z,F=B):0>w&&0>x?(C=1,A=Math.max(-w,-x),F=E=1):
0<=w&&0>x?(C=1,A=-x,E=-z,F=1):0>w&&0<=x&&(C=1,A=-w,E=1,F=B):0>z&&0>B&&(0<=w&&0<=x?(C=x,A=0,E=-z,F=0):0>w&&0>x?(C=0,A=-w,E=-B,F=0):0<=w&&0>x?(A=C=1,E=Math.max(w,-x),F=1):0>w&&0<=x&&(C=x,A=-w,E=1,F=0));return{x:0==E+F?0:E/(E+F)*this.width(),y:0==C+A?0:C/(C+A)*this.height()}};y.prototype._getDataToDraw=function(){var w=u.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return w;var x=v.Plot._scaledAccessor(this.sectorValue()),z=this.datasets()[0],B=w.get(z).filter(function(A,C){return y._isValidData(x(A,
C,z))});w.set(z,B);return w};y._isValidData=function(w){return n.Math.isValidNumber(w)&&0<=w};y.prototype._pixelPoint=function(w,x,z){var B=v.Plot._scaledAccessor(this.sectorValue());if(!y._isValidData(B(w,x,z)))return{x:NaN,y:NaN};var A=v.Plot._scaledAccessor(this.innerRadius())(w,x,z);w=v.Plot._scaledAccessor(this.outerRadius())(w,x,z);A=(A+w)/2;w=f.pie().sort(null).value(function(C,E){C=B(C,E,z);return y._isValidData(C)?C:0}).startAngle(this._startAngle).endAngle(this._endAngle)(z.data());x=(w[x].startAngle+
w[x].endAngle)/2;return{x:A*Math.sin(x),y:-A*Math.cos(x)}};y.prototype._additionalPaint=function(w){var x=this;this._renderArea.select(".label-area").remove();this._labelsEnabled&&n.Window.setTimeout(function(){return x._drawLabels()},w);var z=this._generateStrokeDrawSteps(),B=this._getDataToDraw();this.datasets().forEach(function(A){var C=v.Plot.applyDrawSteps(z,A);x._strokeDrawers.get(A).draw(B.get(A),C)})};y.prototype._generateStrokeDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),
animator:new h.Null}]};y.prototype._sliceIndexForPoint=function(w){var x=Math.sqrt(Math.pow(w.x,2)+Math.pow(w.y,2)),z=Math.acos(-w.y/x);0>w.x&&(z=2*Math.PI-z);for(w=0;w<this._startAngles.length;w++)if(this._startAngles[w]<z&&this._endAngles[w]>z){var B=w;break}if(void 0!==B){w=this.datasets()[0];var A=w.data()[B];z=this.innerRadius().accessor(A,B,w);w=this.outerRadius().accessor(A,B,w);if(x>z&&x<w)return B}return null};y.prototype._drawLabels=function(){var w=this,x=this._getAttrToProjector(),z=this._renderArea.append("g").classed("label-area",
!0),B=new g.SvgContext(z.node()),A=new g.CacheMeasurer(B),C=new g.Writer(A,B),E=this.datasets()[0];this._getDataToDraw().get(E).forEach(function(F,I){var Q=w.sectorValue().accessor(F,I,E);if(n.Math.isValidNumber(Q)){Q=w._labelFormatter(Q,F,I,E);var J=A.measure(Q),R=(w._endAngles[I]+w._startAngles[I])/2,L=w.outerRadius().accessor(F,I,E);w.outerRadius().scale&&(L=w.outerRadius().scale.scale(L));var H=w.innerRadius().accessor(F,I,E);w.innerRadius().scale&&(H=w.innerRadius().scale.scale(H));H=(L+H)/2;
L=Math.sin(R)*H-J.width/2;H=-Math.cos(R)*H-J.height/2;var S=[{x:L,y:H},{x:L,y:H+J.height},{x:L+J.width,y:H},{x:L+J.width,y:H+J.height}];(R=S.every(function(T){return Math.abs(T.x)<=w.width()/2&&Math.abs(T.y)<=w.height()/2}))&&(R=S.map(function(T){return w._sliceIndexForPoint(T)}).every(function(T){return T===I}));F=x.fill(F,I,E);F=1.6*n.Color.contrast("white",F)<n.Color.contrast("black",F);L=z.append("g").attr("transform","translate("+L+","+H+")");L.classed(F?"dark-label":"light-label",!0);L.style("visibility",
R?"inherit":"hidden");C.write(Q,J.width,J.height,{xAlign:"center",yAlign:"center"},L.node())}})};return y}(v.Plot);b._INNER_RADIUS_KEY="inner-radius";b._OUTER_RADIUS_KEY="outer-radius";b._SECTOR_VALUE_KEY="sector-value";c.Pie=b},function(b,c,d){var e=this&&this.__extends||function(t,v){function u(){this.constructor=t}for(var y in v)v.hasOwnProperty(y)&&(t[y]=v[y]);t.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)},f=d(1),g=d(5),h=d(7),k=d(14),l=d(6),n=d(34),p=d(3),q=d(0),r=d(2);
b=function(t){function v(){var u=t.call(this)||this;u._labelsEnabled=!1;u._label=null;u.animator("rectangles",new h.Null);u.addClass("rectangle-plot");u.attr("fill",(new p.Color).range()[0]);return u}e(v,t);v.prototype._createDrawer=function(){return new l.ProxyDrawer(function(){return new n.RectangleSVGDrawer},function(u){return new k.RectangleCanvasDrawer(u)})};v.prototype._generateAttrToProjector=function(){var u=this,y=t.prototype._generateAttrToProjector.call(this),w=r.Plot._scaledAccessor(this.x()),
x=y[v._X2_KEY],z=r.Plot._scaledAccessor(this.y()),B=y[v._Y2_KEY],A=this.x().scale,C=this.y().scale;null!=x?(y.width=function(E,F,I){return Math.abs(x(E,F,I)-w(E,F,I))},y.x=function(E,F,I){return Math.min(x(E,F,I),w(E,F,I))}):(y.width=function(){return u._rectangleWidth(A)},y.x=function(E,F,I){return w(E,F,I)-.5*y.width(E,F,I)});null!=B?(y.height=function(E,F,I){return Math.abs(B(E,F,I)-z(E,F,I))},y.y=function(E,F,I){return Math.max(B(E,F,I),z(E,F,I))-y.height(E,F,I)}):(y.height=function(){return u._rectangleWidth(C)},
y.y=function(E,F,I){return z(E,F,I)-.5*y.height(E,F,I)});delete y[v._X2_KEY];delete y[v._Y2_KEY];return y};v.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:this._getAnimator("rectangles")}]};v.prototype._filterForProperty=function(u){return"x2"===u?t.prototype._filterForProperty.call(this,"x"):"y2"===u?t.prototype._filterForProperty.call(this,"y"):t.prototype._filterForProperty.call(this,u)};v.prototype.x=function(u,y,w){if(null==u)return t.prototype.x.call(this);
null==y?t.prototype.x.call(this,u):t.prototype.x.call(this,u,y,w);null!=y&&(w=(u=this.x2())&&u.accessor,null!=w&&this._bindProperty(v._X2_KEY,w,y,u.postScale));y instanceof p.Category&&y.innerPadding(0).outerPadding(0);return this};v.prototype.x2=function(u){if(null==u)return this._propertyBindings.get(v._X2_KEY);var y=this.x();this._bindProperty(v._X2_KEY,u,y&&y.scale,void 0);this.render();return this};v.prototype.y=function(u,y,w){if(null==u)return t.prototype.y.call(this);null==y?t.prototype.y.call(this,
u):t.prototype.y.call(this,u,y,w);null!=y&&(w=(u=this.y2())&&u.accessor,null!=w&&this._bindProperty(v._Y2_KEY,w,y,u.postScale));y instanceof p.Category&&y.innerPadding(0).outerPadding(0);return this};v.prototype.y2=function(u){if(null==u)return this._propertyBindings.get(v._Y2_KEY);var y=this.y();this._bindProperty(v._Y2_KEY,u,y&&y.scale,void 0);this.render();return this};v.prototype.entitiesAt=function(u){var y=this._getAttrToProjector();return this.entities().filter(function(w){var x=w.datum,z=
w.index,B=w.dataset;w=y.x(x,z,B);var A=y.y(x,z,B),C=y.width(x,z,B);x=y.height(x,z,B);return w<=u.x&&u.x<=w+C&&A<=u.y&&u.y<=A+x})};v.prototype._entityBounds=function(u){return this._entityBBox(u.datum,u.index,u.dataset,this._getAttrToProjector())};v.prototype._entityBBox=function(u,y,w,x){return{x:x.x(u,y,w),y:x.y(u,y,w),width:x.width(u,y,w),height:x.height(u,y,w)}};v.prototype.label=function(u){if(null==u)return this._label;this._label=u;this.render();return this};v.prototype.labelsEnabled=function(u){if(null==
u)return this._labelsEnabled;this._labelsEnabled=u;this.render();return this};v.prototype._propertyProjectors=function(){var u=t.prototype._propertyProjectors.call(this);null!=this.x2()&&(u.x2=r.Plot._scaledAccessor(this.x2()));null!=this.y2()&&(u.y2=r.Plot._scaledAccessor(this.y2()));return u};v.prototype._pixelPoint=function(u,y,w){var x=this._getAttrToProjector(),z=x.x(u,y,w),B=x.y(u,y,w),A=x.width(u,y,w);u=x.height(u,y,w);return{x:z+A/2,y:B+u/2}};v.prototype._rectangleWidth=function(u){if(u instanceof
p.Category)return u.rangeBand();var y=u===this.x().scale?this.x().accessor:this.y().accessor,w=f.set(q.Array.flatten(this.datasets().map(function(B){return B.data().map(function(A,C){return y(A,C,B).valueOf()})}))).values().map(function(B){return+B}),x=q.Math.min(w,0);w=q.Math.max(w,0);var z=u.scale(x);return(u.scale(w)-z)/Math.abs(w-x)};v.prototype._getDataToDraw=function(){var u=new q.Map,y=this._getAttrToProjector();this.datasets().forEach(function(w){var x=w.data().map(function(z,B){return q.Math.isValidNumber(y.x(z,
B,w))&&q.Math.isValidNumber(y.y(z,B,w))&&q.Math.isValidNumber(y.width(z,B,w))&&q.Math.isValidNumber(y.height(z,B,w))?z:null});u.set(w,x)});return u};v.prototype._additionalPaint=function(u){var y=this;this._renderArea.selectAll(".label-area").remove();this._labelsEnabled&&null!=this.label()&&q.Window.setTimeout(function(){return y._drawLabels()},u)};v.prototype._drawLabels=function(){var u=this,y=this._getDataToDraw();this.datasets().forEach(function(w,x){return u._drawLabel(y,w,x)})};v.prototype._drawLabel=
function(u,y,w){var x=this,z=this._getAttrToProjector(),B=this._renderArea.append("g").classed("label-area",!0),A=new g.SvgContext(B.node()),C=new g.CacheMeasurer(A),E=new g.Writer(C,A);A=this.x().scale.range();var F=this.y().scale.range(),I=Math.min.apply(null,A),Q=Math.max.apply(null,A),J=Math.min.apply(null,F),R=Math.max.apply(null,F);u.get(y).forEach(function(L,H){if(null!=L){var S=""+x.label()(L,H,y),T=C.measure(S),O=z.x(L,H,y),P=z.y(L,H,y),U=z.width(L,H,y),X=z.height(L,H,y);T.height<=X&&T.width<=
U&&(X=(X-T.height)/2,O+=(U-T.width)/2,P+=X,U={min:O,max:O+T.width},X={min:P,max:P+T.height},U.min<I||U.max>Q||X.min<J||X.max>R||x._overlayLabel(U,X,H,w,u)||(L=z.fill(L,H,y),L=1.6*q.Color.contrast("white",L)<q.Color.contrast("black",L),O=B.append("g").attr("transform","translate("+O+","+P+")"),O.classed(L?"dark-label":"light-label",!0),E.write(S,T.width,T.height,{xAlign:"center",yAlign:"center"},O.node())))}})};v.prototype._overlayLabel=function(u,y,w,x,z){for(var B=this._getAttrToProjector(),A=this.datasets(),
C=x;C<A.length;C++)for(var E=A[C],F=z.get(E),I=C===x?w+1:0;I<F.length;I++)if(q.DOM.intersectsBBox(u,y,this._entityBBox(F[I],I,E,B)))return!0;return!1};return v}(d(16).XYPlot);b._X2_KEY="x2";b._Y2_KEY="y2";c.Rectangle=b},function(b,c,d){var e=this&&this.__extends||function(t,v){function u(){this.constructor=t}for(var y in v)v.hasOwnProperty(y)&&(t[y]=v[y]);t.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)},f=d(31),g=d(6),h=d(48),k=d(7),l=d(14),n=d(3),p=d(0),q=d(19),r=d(2);b=function(t){function v(){var u=
t.call(this)||this;u.addClass("scatter-plot");var y=new k.Easing;y.startDelay(5);y.stepDuration(250);y.maxTotalDuration(r.Plot._ANIMATION_MAX_DURATION);u.animator(q.Animator.MAIN,y);u.attr("opacity",.6);u.attr("fill",(new n.Color).range()[0]);u.size(6);var w=f.circle();u.symbol(function(){return w});return u}e(v,t);v.prototype._buildLightweightPlotEntities=function(u){var y=this;return t.prototype._buildLightweightPlotEntities.call(this,u).map(function(w){var x=r.Plot._scaledAccessor(y.size())(w.datum,
w.index,w.dataset);w.diameter=x;return w})};v.prototype._createDrawer=function(u){var y=this;return new g.ProxyDrawer(function(){return new h.SymbolSVGDrawer},function(w){return new l.CanvasDrawer(w,h.makeSymbolCanvasDrawStep(u,function(){return r.Plot._scaledAccessor(y.symbol())},function(){return r.Plot._scaledAccessor(y.size())}))})};v.prototype.size=function(u,y){if(null==u)return this._propertyBindings.get(v._SIZE_KEY);this._bindProperty(v._SIZE_KEY,u,y);this.render();return this};v.prototype.symbol=
function(u){if(null==u)return this._propertyBindings.get(v._SYMBOL_KEY);this._propertyBindings.set(v._SYMBOL_KEY,{accessor:u});this.render();return this};v.prototype._generateDrawSteps=function(){var u=[];if(this._animateOnNextRender()){var y=this._getAttrToProjector(),w=r.Plot._scaledAccessor(this.symbol());y.d=function(x,z,B){return w(x,z,B)(0)(null)};u.push({attrToProjector:y,animator:this._getAnimator(q.Animator.RESET)})}u.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(q.Animator.MAIN)});
return u};v.prototype._propertyProjectors=function(){var u=t.prototype._propertyProjectors.call(this),y=r.Plot._scaledAccessor(this.x()),w=r.Plot._scaledAccessor(this.y());u.x=y;u.y=w;u.transform=function(x,z,B){return"translate("+y(x,z,B)+","+w(x,z,B)+")"};u.d=this._constructSymbolGenerator();return u};v.prototype._constructSymbolGenerator=function(){var u=r.Plot._scaledAccessor(this.symbol()),y=r.Plot._scaledAccessor(this.size());return function(w,x,z){return u(w,x,z)(y(w,x,z))(null)}};v.prototype._entityBounds=
function(u){return{x:u.position.x-u.diameter/2,y:u.position.y-u.diameter/2,width:u.diameter,height:u.diameter}};v.prototype._entityVisibleOnPlot=function(u,y){var w={min:y.topLeft.x,max:y.bottomRight.x};y={min:y.topLeft.y,max:y.bottomRight.y};u=this._entityBounds(u);return p.DOM.intersectsBBox(w,y,u)};v.prototype.entitiesAt=function(u){var y=r.Plot._scaledAccessor(this.x()),w=r.Plot._scaledAccessor(this.y()),x=r.Plot._scaledAccessor(this.size());return this.entities().filter(function(z){var B=z.datum,
A=z.index,C=z.dataset;z=y(B,A,C);var E=w(B,A,C);B=x(B,A,C);return z-B/2<=u.x&&u.x<=z+B/2&&E-B/2<=u.y&&u.y<=E+B/2})};return v}(d(16).XYPlot);b._SIZE_KEY="size";b._SYMBOL_KEY="symbol";c.Scatter=b},function(b,c,d){var e=this&&this.__extends||function(p,q){function r(){this.constructor=p}for(var t in q)q.hasOwnProperty(t)&&(p[t]=q[t]);p.prototype=null===q?Object.create(q):(r.prototype=q.prototype,new r)},f=d(7),g=d(6),h=d(47),k=d(3),l=d(35),n=d(2);b=function(p){function q(){var r=p.call(this)||this;r.addClass("segment-plot");
r.attr("stroke",(new k.Color).range()[0]);r.attr("stroke-width","2px");return r}e(q,p);q.prototype._createDrawer=function(){return new g.ProxyDrawer(function(){return new h.SegmentSVGDrawer},function(){l.warn("canvas renderer is not supported on Segment Plot!");return null})};q.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new f.Null}]};q.prototype._filterForProperty=function(r){return"x2"===r?p.prototype._filterForProperty.call(this,"x"):"y2"===
r?p.prototype._filterForProperty.call(this,"y"):p.prototype._filterForProperty.call(this,r)};q.prototype.x=function(r,t){if(null==r)return p.prototype.x.call(this);null==t?p.prototype.x.call(this,r):(p.prototype.x.call(this,r,t),r=(r=this.x2())&&r.accessor,null!=r&&this._bindProperty(q._X2_KEY,r,t));return this};q.prototype.x2=function(r){if(null==r)return this._propertyBindings.get(q._X2_KEY);var t=this.x();this._bindProperty(q._X2_KEY,r,t&&t.scale);this.render();return this};q.prototype.y=function(r,
t){if(null==r)return p.prototype.y.call(this);null==t?p.prototype.y.call(this,r):(p.prototype.y.call(this,r,t),r=(r=this.y2())&&r.accessor,null!=r&&this._bindProperty(q._Y2_KEY,r,t));return this};q.prototype.y2=function(r){if(null==r)return this._propertyBindings.get(q._Y2_KEY);var t=this.y();this._bindProperty(q._Y2_KEY,r,t&&t.scale);this.render();return this};q.prototype._propertyProjectors=function(){var r=p.prototype._propertyProjectors.call(this);r.x1=n.Plot._scaledAccessor(this.x());r.x2=null==
this.x2()?n.Plot._scaledAccessor(this.x()):n.Plot._scaledAccessor(this.x2());r.y1=n.Plot._scaledAccessor(this.y());r.y2=null==this.y2()?n.Plot._scaledAccessor(this.y()):n.Plot._scaledAccessor(this.y2());return r};q.prototype.entitiesAt=function(r){r=this.entityNearest(r);return null!=r?[r]:[]};q.prototype.entitiesIn=function(r,t){if(null==t){var v={min:r.topLeft.x,max:r.bottomRight.x};r={min:r.topLeft.y,max:r.bottomRight.y}}else v=r,r=t;return this._entitiesIntersecting(v,r)};q.prototype._entitiesIntersecting=
function(r,t){var v=this,u=[],y=this._getAttrToProjector();this.entities().forEach(function(w){v._lineIntersectsBox(w,r,t,y)&&u.push(w)});return u};q.prototype._lineIntersectsBox=function(r,t,v,u){var y=this,w=u.x1(r.datum,r.index,r.dataset),x=u.x2(r.datum,r.index,r.dataset),z=u.y1(r.datum,r.index,r.dataset);r=u.y2(r.datum,r.index,r.dataset);if(t.min<=w&&w<=t.max&&v.min<=z&&z<=v.max||t.min<=x&&x<=t.max&&v.min<=r&&r<=v.max)return!0;var B={x:w,y:z},A={x:x,y:r},C=[{x:t.min,y:v.min},{x:t.min,y:v.max},
{x:t.max,y:v.max},{x:t.max,y:v.min}];return 0<C.filter(function(E,F){return 0!==F?y._lineIntersectsSegment(B,A,E,C[F-1])&&y._lineIntersectsSegment(E,C[F-1],B,A):!1}).length};q.prototype._lineIntersectsSegment=function(r,t,v,u){return 0>((t.x-r.x)*(v.y-t.y)-(t.y-r.y)*(v.x-t.x))*((t.x-r.x)*(u.y-t.y)-(t.y-r.y)*(u.x-t.x))};return q}(d(16).XYPlot);b._X2_KEY="x2";b._Y2_KEY="y2";c.Segment=b},function(b,c,d){var e=this&&this.__extends||function(n,p){function q(){this.constructor=n}for(var r in p)p.hasOwnProperty(r)&&
(n[r]=p[r]);n.prototype=null===p?Object.create(p):(q.prototype=p.prototype,new q)},f=d(1),g=d(7),h=d(20),k=d(0);b=d(50);var l=d(2);d=function(n){function p(){var q=n.call(this)||this;q._stackingResult=h.memThunk(function(){return q.datasets()},function(){return q.x().accessor},function(){return q.y().accessor},function(){return q._stackingOrder},function(r,t,v,u){return k.Stacking.stack(r,t,v,u)});q._stackedExtent=h.memThunk(q._stackingResult,function(){return q.x().accessor},function(){return q._filterForProperty("y")},
function(r,t,v){return k.Stacking.stackedExtent(r,t,v)});q._baselineValue=0;q._stackingOrder="bottomup";q.addClass("stacked-area-plot");q.attr("fill-opacity",1);q._baselineValueProvider=function(){return[q._baselineValue]};q.croppedRenderingEnabled(!1);return q}e(p,n);p.prototype.croppedRenderingEnabled=function(q){return null==q?n.prototype.croppedRenderingEnabled.call(this):q?(k.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):n.prototype.croppedRenderingEnabled.call(this,
q)};p.prototype._getAnimator=function(){return new g.Null};p.prototype._setup=function(){n.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};p.prototype.x=function(q,r){if(null==q)return n.prototype.x.call(this);null==r?n.prototype.x.call(this,q):n.prototype.x.call(this,q,r);this._checkSameDomain();return this};p.prototype.y=function(q,r){if(null==q)return n.prototype.y.call(this);null==r?n.prototype.y.call(this,q):n.prototype.y.call(this,q,r);this._checkSameDomain();
return this};p.prototype.stackingOrder=function(q){if(null==q)return this._stackingOrder;this._stackingOrder=q;this._onDatasetUpdate();return this};p.prototype.downsamplingEnabled=function(){return n.prototype.downsamplingEnabled.call(this)};p.prototype._additionalPaint=function(){var q=this.y().scale.scale(this._baselineValue);q={x1:0,y1:q,x2:this.width(),y2:q};this._getAnimator("baseline").animate(this._baseline,q)};p.prototype._updateYScale=function(){var q=this.y();q=q&&q.scale;null!=q&&(q.addPaddingExceptionsProvider(this._baselineValueProvider),
q.addIncludedValuesProvider(this._baselineValueProvider))};p.prototype._onDatasetUpdate=function(){this._checkSameDomain();n.prototype._onDatasetUpdate.call(this);return this};p.prototype.getExtentsForProperty=function(q){return"y"===q?[this._stackedExtent()]:n.prototype.getExtentsForProperty.call(this,q)};p.prototype._checkSameDomain=function(){if(this._projectorsReady()){var q=this.datasets(),r=this.x().accessor,t=q.map(function(u){return f.set(u.data().map(function(y,w){return r(y,w,u).toString()})).values()}),
v=p._domainKeys(q,r);t.some(function(u){return u.length!==v.length})&&k.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior.")}};p._domainKeys=function(q,r){var t=f.set();q.forEach(function(v){v.data().forEach(function(u,y){t.add(r(u,y,v))})});return t.values()};p.prototype._propertyProjectors=function(){var q=this,r=n.prototype._propertyProjectors.call(this),t=this.y().accessor,v=this.x().accessor,u=this._stackingResult();r.d=this._constructAreaProjector(l.Plot._scaledAccessor(this.x()),
function(y,w,x){return q.y().scale.scale(+t(y,w,x)+u.get(x).get(k.Stacking.normalizeKey(v(y,w,x))).offset)},function(y,w,x){return q.y().scale.scale(u.get(x).get(k.Stacking.normalizeKey(v(y,w,x))).offset)});return r};p.prototype._pixelPoint=function(q,r,t){var v=n.prototype._pixelPoint.call(this,q,r,t),u=this.x().accessor(q,r,t);q=this.y().accessor(q,r,t);t=this.y().scale.scale(+q+this._stackingResult().get(t).get(k.Stacking.normalizeKey(u)).offset);return{x:v.x,y:t}};return p}(b.Area);c.StackedArea=
d},function(b,c,d){var e=this&&this.__extends||function(p,q){function r(){this.constructor=p}for(var t in q)q.hasOwnProperty(t)&&(p[t]=q[t]);p.prototype=null===q?Object.create(q):(r.prototype=q.prototype,new r)},f=d(5),g=d(8),h=d(20),k=d(0),l=d(27),n=d(2);b=function(p){function q(r){void 0===r&&(r="vertical");var t=p.call(this,r)||this;t._extremaFormatter=g.identity();t._stackingResult=h.memThunk(function(){return t.datasets()},function(){return t.position().accessor},function(){return t.length().accessor},
function(){return t._stackingOrder},function(v,u,y,w){return k.Stacking.stack(v,u,y,w)});t._stackedExtent=h.memThunk(t._stackingResult,function(){return t.position().accessor},function(){return t._filterForProperty(t._isVertical?"y":"x")},function(v,u,y){return k.Stacking.stackedExtent(v,u,y)});t.addClass("stacked-bar-plot");t._stackingOrder="bottomup";return t}e(q,p);q.prototype.stackingOrder=function(r){if(null==r)return this._stackingOrder;this._stackingOrder=r;this._onDatasetUpdate();return this};
q.prototype.extremaFormatter=function(r){if(0===arguments.length)return this._extremaFormatter;this._extremaFormatter=r;this.render();return this};q.prototype._setup=function(){p.prototype._setup.call(this);this._labelArea=this._renderArea.append("g").classed(l.Bar._LABEL_AREA_CLASS,!0);var r=new f.SvgContext(this._labelArea.node());this._measurer=new f.CacheMeasurer(r);this._writer=new f.Writer(this._measurer,r)};q.prototype._drawLabels=function(){function r(B,A){var C=t._generateAttrToProjector(),
E=t.width(),F=t.height();B.forEach(function(I){if(I.extent!==v){var Q=t.extremaFormatter()(I.extent),J=t._measurer.measure(Q),R=I.stackedDatum,L=R.originalDatum,H=R.originalIndex;R=R.originalDataset;if(t._isDatumOnScreen(C,E,F,L,H,R)){L=n.Plot._scaledAccessor(t.attr(l.Bar._BAR_THICKNESS_KEY))(L,H,R);H=y.scale(I.extent);I=t._getPositionAttr(u.scale(I.axisValue),L)+L/2;var S=A(t._isVertical?{x:I,y:H}:{x:H,y:I},J,L);H=S.x;R=S.y;I=S.x+J.width-S.x;J=S.y+J.height-S.y;L=t._isVertical?I>L:J>L;L||(H=t._labelArea.append("g").attr("transform",
"translate("+H+", "+R+")"),H.classed("stacked-bar-label",!0),t._writer.write(Q,I,J,{xAlign:"center",yAlign:"center"},H.node()));z.push(L)}}})}var t=this;p.prototype._drawLabels.call(this);this._labelArea.selectAll("g").remove();var v=+this.baselineValue(),u=this.position().scale,y=this.length().scale,w=k.Stacking.stackedExtents(this._stackingResult()),x=w.minimumExtents,z=[];r(w.maximumExtents,function(B,A){var C=t._isVertical?A.width:A.height;A=t._isVertical?A.height:A.width;return{x:t._isVertical?
B.x-C/2:B.x+q._EXTREMA_LABEL_MARGIN_FROM_BAR,y:t._isVertical?B.y-A:B.y-C/2}});r(x,function(B,A){var C=t._isVertical?A.width:A.height;A=t._isVertical?A.height:A.width;return{x:t._isVertical?B.x-C/2:B.x-A,y:t._isVertical?B.y+q._EXTREMA_LABEL_MARGIN_FROM_BAR:B.y-C/2}});z.some(function(B){return B})&&this._labelArea.selectAll("g").remove()};q.prototype._generateAttrToProjector=function(){function r(E,F,I){return 0>+B(E,F,I)?u(E,F,I):v(E,F,I)}function t(E,F,I){return Math.abs(v(E,F,I)-u(E,F,I))}function v(E,
F,I){return z.scale(+B(E,F,I)+C.get(I).get(k.Stacking.normalizeKey(A(E,F,I))).offset)}function u(E,F,I){return z.scale(C.get(I).get(k.Stacking.normalizeKey(A(E,F,I))).offset)}var y=this,w=p.prototype._generateAttrToProjector.call(this),x=this._isVertical?"y":"x",z=this.length().scale,B=this.length().accessor,A=this.position().accessor,C=this._stackingResult();w[this._isVertical?"height":"width"]=t;w[x]=function(E,F,I){return y._isVertical?r(E,F,I):r(E,F,I)-t(E,F,I)};return w};q.prototype.getExtentsForProperty=
function(r){return r===(this._isVertical?"y":"x")?[this._stackedExtent()]:p.prototype.getExtentsForProperty.call(this,r)};q.prototype.invalidateCache=function(){p.prototype.invalidateCache.call(this);this._measurer.reset()};return q}(l.Bar);b._EXTREMA_LABEL_MARGIN_FROM_BAR=5;c.StackedBar=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},
f=d(0);b=d(27);var g=d(2);d=function(h){function k(){var l=h.call(this)||this;l._connectorsEnabled=!1;l.addClass("waterfall-plot");return l}e(k,h);k.prototype.connectorsEnabled=function(l){if(null==l)return this._connectorsEnabled;this._connectorsEnabled=l;return this};k.prototype.total=function(l){if(null==l)return this._propertyBindings.get(k._TOTAL_KEY);this._bindProperty(k._TOTAL_KEY,l,null);return this};k.prototype._additionalPaint=function(l){var n=this;this._connectorArea.selectAll("line").remove();
this._connectorsEnabled&&f.Window.setTimeout(function(){return n._drawConnectors()},l)};k.prototype._createNodesForDataset=function(l){l=h.prototype._createNodesForDataset.call(this,l);this._connectorArea=this._renderArea.append("g").classed(k._CONNECTOR_AREA_CLASS,!0);return l};k.prototype.getExtentsForProperty=function(l){return"y"===l?[this._extent]:h.prototype.getExtentsForProperty.call(this,l)};k.prototype._generateAttrToProjector=function(){var l=this,n=h.prototype._generateAttrToProjector.call(this),
p=this.y().scale,q=g.Plot._scaledAccessor(this.total());null==this.attr("y")&&(n.y=function(r,t,v){var u=l.y().accessor(r,t,v);if(q(r,t,v))return Math.min(p.scale(u),p.scale(0));r=l._subtotals[t];if(0===t)return 0>u?p.scale(r-u):p.scale(r);t=l._subtotals[t-1];return r>t?p.scale(r):p.scale(t)});null==this.attr("height")&&(n.height=function(r,t,v){var u=q(r,t,v);r=l.y().accessor(r,t,v);if(u)return Math.abs(p.scale(r)-p.scale(0));u=l._subtotals[t];if(0===t)return Math.abs(p.scale(u)-p.scale(u-r));t=
l._subtotals[t-1];return Math.abs(p.scale(u)-p.scale(t))});n["class"]=function(r,t,v){var u="";null!=l.attr("class")&&(u=l.attr("class").accessor(r,t,v)+" ");if(q(r,t,v))return u+k._BAR_TOTAL_CLASS;r=l.y().accessor(r,t,v);return u+(0<r?k._BAR_GROWTH_CLASS:k._BAR_DECLINE_CLASS)};return n};k.prototype._onDatasetUpdate=function(){this._updateSubtotals();h.prototype._onDatasetUpdate.call(this);return this};k.prototype._calculateSubtotalsAndExtent=function(l){var n=this,p=Number.MAX_VALUE,q=Number.MIN_VALUE,
r=0,t=!1;l.data().forEach(function(v,u){var y=n.y().accessor(v,u,l);(v=n.total().accessor(v,u,l))&&0!==u||(r+=y);n._subtotals.push(r);r<p&&(p=r);r>q&&(q=r);v&&(y<p&&(p=y),y>q&&(q=y));if(!t&&v){u=y-r;for(y=0;y<n._subtotals.length;y++)n._subtotals[y]+=u;t=!0;r+=u;p+=u;q+=u}});this._extent=[p,q]};k.prototype._drawConnectors=function(){for(var l=this._getAttrToProjector(),n=this.datasets()[0],p=1;p<n.data().length;p++){var q=p-1,r=n.data()[p],t=n.data()[q];t=l.x(t,q,n);var v=l.x(r,p,n)+l.width(r,p,n),
u=l.y(r,p,n);if(0<this._subtotals[p]&&this._subtotals[p]>this._subtotals[q]||0>this._subtotals[p]&&this._subtotals[p]>=this._subtotals[q])u=l.y(r,p,n)+l.height(r,p,n);this._connectorArea.append("line").classed(k._CONNECTOR_CLASS,!0).attr("x1",t).attr("x2",v).attr("y1",u).attr("y2",u)}};k.prototype._updateSubtotals=function(){var l=this.datasets();0<l.length&&(l=l[l.length-1],this._subtotals=[],this._calculateSubtotalsAndExtent(l))};return k}(b.Bar);d._BAR_DECLINE_CLASS="waterfall-decline";d._BAR_GROWTH_CLASS=
"waterfall-growth";d._BAR_TOTAL_CLASS="waterfall-total";d._CONNECTOR_CLASS="connector";d._CONNECTOR_AREA_CLASS="connector-area";d._TOTAL_KEY="total";c.Waterfall=d},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(1),g=d(0);b=function(h){function k(l){var n=h.call(this)||this;switch(l){case null:case void 0:null==k._plottableColorCache&&
(k._plottableColorCache=k._getPlottableColors());l=f.scaleOrdinal().range(k._plottableColorCache);break;case "Category10":case "category10":case "10":l=f.scaleOrdinal(f.schemeCategory10);break;case "Category20":case "category20":case "20":l=f.scaleOrdinal(f.schemeCategory20);break;case "Category20b":case "category20b":case "20b":l=f.scaleOrdinal(f.schemeCategory20b);break;case "Category20c":case "category20c":case "20c":l=f.scaleOrdinal(f.schemeCategory20c);break;default:throw Error("Unsupported ColorScale type");
}n._d3Scale=l;return n}e(k,h);k.prototype.extentOfValues=function(l){return g.Array.uniq(l)};k.prototype._getExtent=function(){return g.Array.uniq(this._getAllIncludedValues())};k.invalidateColorCache=function(){k._plottableColorCache=null};k._getPlottableColors=function(){for(var l=[],n=f.select("body").append("plottable-color-tester"),p=g.Color.colorTest(n,""),q=0,r=g.Color.colorTest(n,"plottable-colors-0");null!=r&&q<this._MAXIMUM_COLORS_FROM_CSS&&(r!==p||r!==l[l.length-1]);)l.push(r),q++,r=g.Color.colorTest(n,
"plottable-colors-"+q);n.remove();return l};k.prototype.scale=function(l){var n=this._d3Scale(l);l=this.domain().indexOf(l);l=Math.floor(l/this.range().length);return g.Color.lightenColor(n,Math.log(l*k._LOOP_LIGHTEN_FACTOR+1))};k.prototype._getDomain=function(){return this._backingScaleDomain()};k.prototype._backingScaleDomain=function(l){if(null==l)return this._d3Scale.domain();this._d3Scale.domain(l);return this};k.prototype._getRange=function(){return this._d3Scale.range()};k.prototype._setRange=
function(l){this._d3Scale.range(l)};return k}(d(17).Scale);b._LOOP_LIGHTEN_FACTOR=1.6;b._MAXIMUM_COLORS_FROM_CSS=256;c.Color=b},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(1),g=d(0);b=function(h){function k(l){void 0===l&&(l="linear");var n=h.call(this)||this;switch(l){case "linear":n._colorScale=f.scaleLinear();break;case "log":n._colorScale=
f.scaleLog();break;case "sqrt":n._colorScale=f.scaleSqrt();break;case "pow":n._colorScale=f.scalePow()}if(null==n._colorScale)throw Error("unknown QuantitativeScale scale type "+l);n.range(k.REDS);return n}e(k,h);k.prototype.extentOfValues=function(l){l=f.extent(l);return null==l[0]||null==l[1]?[]:l};k.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,1]).interpolate(this._interpolateColors())};k.prototype._interpolateColors=function(){var l=this._colorRange;if(2>l.length)throw Error("Color scale arrays must have at least two elements.");
return function(){return function(n){n=Math.max(0,Math.min(1,n));n*=l.length-1;var p=Math.floor(n),q=n-p;return f.interpolateLab(l[p],l[Math.ceil(n)])(q)}}};k.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale();this._autoDomainIfAutomaticMode();this._dispatchUpdate()};k.prototype.autoDomain=function(){var l=this._getAllIncludedValues();0<l.length&&this._setDomain([g.Math.min(l,0),g.Math.max(l,0)])};k.prototype.scale=function(l){return this._d3Scale(l)};k.prototype._getDomain=
function(){return this._backingScaleDomain()};k.prototype._backingScaleDomain=function(l){if(null==l)return this._d3Scale.domain();this._d3Scale.domain(l);return this};k.prototype._getRange=function(){return this._colorRange};k.prototype._setRange=function(l){this._colorRange=l;this._resetScale()};return k}(d(17).Scale);b.REDS="#FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");b.BLUES="#FFFFFF #CCFFFF #A5FFFD #85F7FB #6ED3EF #55A7E0 #417FD0 #2545D3 #0B02E1".split(" ");
b.POSNEG="#0B02E1 #2545D3 #417FD0 #55A7E0 #6ED3EF #85F7FB #A5FFFD #CCFFFF #FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");c.InterpolatedColor=b},function(b,c,d){var e=this&&this.__extends||function(g,h){function k(){this.constructor=g}for(var l in h)h.hasOwnProperty(l)&&(g[l]=h[l]);g.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)},f=d(1);b=function(g){function h(){var k=g.call(this)||this;k._d3Scale=f.scaleLinear();return k}e(h,g);h.prototype._defaultExtent=
function(){return[0,1]};h.prototype._expandSingleValueDomain=function(k){return k[0]===k[1]?[k[0]-1,k[1]+1]:k};h.prototype.scale=function(k){return this._d3Scale(k)};h.prototype.scaleTransformation=function(k){return this.scale(k)};h.prototype.invertedTransformation=function(k){return this.invert(k)};h.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)};h.prototype.getTransformationDomain=function(){return this.domain()};h.prototype.setTransformationDomain=function(k){this.domain(k)};
h.prototype._getDomain=function(){return this._backingScaleDomain()};h.prototype._backingScaleDomain=function(k){if(null==k)return this._d3Scale.domain();this._d3Scale.domain(k);return this};h.prototype._getRange=function(){return this._d3Scale.range()};h.prototype._setRange=function(k){this._d3Scale.range(k)};h.prototype.invert=function(k){return this._d3Scale.invert(k)};h.prototype.defaultTicks=function(){return this._d3Scale.ticks()};h.prototype._niceDomain=function(k){return this._d3Scale.copy().domain(k).nice(void 0).domain()};
return h}(d(11).QuantitativeScale);c.Linear=b},function(b,c,d){var e=this&&this.__extends||function(k,l){function n(){this.constructor=k}for(var p in l)l.hasOwnProperty(p)&&(k[p]=l[p]);k.prototype=null===l?Object.create(l):(n.prototype=l.prototype,new n)},f=d(1),g=d(0),h=d(3);b=function(k){function l(n){void 0===n&&(n=10);var p=k.call(this)||this;p._d3Scale=f.scaleLinear();p._base=n;p._pivot=p._base;p._setDomain(p._defaultExtent());if(1>=n)throw Error("ModifiedLogScale: The base must be \x3e 1");
return p}e(l,k);l.prototype._adjustedLog=function(n){var p=0>n?-1:1;n*=p;n<this._pivot&&(n+=(this._pivot-n)/this._pivot);n=Math.log(n)/Math.log(this._base);return n*p};l.prototype._invertedAdjustedLog=function(n){var p=0>n?-1:1;n=Math.pow(this._base,n*p);n<this._pivot&&(n=this._pivot*(n-1)/(this._pivot-1));return n*p};l.prototype.scale=function(n){return this._d3Scale(this._adjustedLog(n))};l.prototype.invert=function(n){return this._invertedAdjustedLog(this._d3Scale.invert(n))};l.prototype.scaleTransformation=
function(n){return this.scale(n)};l.prototype.invertedTransformation=function(n){return this.invert(n)};l.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)};l.prototype.getTransformationDomain=function(){return this.domain()};l.prototype.setTransformationDomain=function(n){this.domain(n)};l.prototype._getDomain=function(){return this._untransformedDomain};l.prototype._setDomain=function(n){this._untransformedDomain=n;k.prototype._setDomain.call(this,[this._adjustedLog(n[0]),
this._adjustedLog(n[1])])};l.prototype._backingScaleDomain=function(n){if(null==n)return this._d3Scale.domain();this._d3Scale.domain(n);return this};l.prototype.ticks=function(){function n(y,w,x){return[y,w,x].sort(function(z,B){return z-B})[1]}var p=g.Math.min(this._untransformedDomain,0),q=g.Math.max(this._untransformedDomain,0),r=n(p,q,-this._pivot),t=n(p,q,this._pivot);r=this._logTicks(-r,-p).map(function(y){return-y}).reverse();t=this._logTicks(t,q);var v=Math.max(p,-this._pivot),u=Math.min(q,
this._pivot);v=f.scaleLinear().domain([v,u]).ticks(this._howManyTicks(v,u));r=r.concat(v).concat(t);1>=r.length&&(r=f.scaleLinear().domain([p,q]).ticks());return r};l.prototype._logTicks=function(n,p){var q=this,r=this._howManyTicks(n,p);if(0===r)return[];var t=Math.floor(Math.log(n)/Math.log(this._base)),v=Math.ceil(Math.log(p)/Math.log(this._base));r=f.range(v,t,-Math.ceil((v-t)/r));t=f.range(this._base,1,-(this._base-1)).map(Math.floor);var u=g.Array.uniq(t);r=r.map(function(y){return u.map(function(w){return Math.pow(q._base,
y-1)*w})});return g.Array.flatten(r).filter(function(y){return n<=y&&y<=p}).sort(function(y,w){return y-w})};l.prototype._howManyTicks=function(n,p){var q=this._adjustedLog(g.Math.min(this._untransformedDomain,0)),r=this._adjustedLog(g.Math.max(this._untransformedDomain,0));return Math.ceil((this._adjustedLog(p)-this._adjustedLog(n))/(r-q)*h.ModifiedLog._DEFAULT_NUM_TICKS)};l.prototype._niceDomain=function(n){return n};l.prototype._defaultExtent=function(){return[0,this._base]};l.prototype._expandSingleValueDomain=
function(n){return n[0]===n[1]?(n=n[0],0<n?[n/this._base,n*this._base]:0===n?[-this._base,this._base]:[n*this._base,n/this._base]):n};l.prototype._getRange=function(){return this._d3Scale.range()};l.prototype._setRange=function(n){this._d3Scale.range(n)};l.prototype.defaultTicks=function(){return this._d3Scale.ticks()};return l}(d(11).QuantitativeScale);c.ModifiedLog=b},function(b,c,d){var e=d(0);c.intervalTickGenerator=function(f){if(0>=f)throw Error("interval must be positive number");return function(g){g=
g.domain();var h=Math.min(g[0],g[1]);g=Math.max(g[0],g[1]);var k=Math.ceil(h/f)*f;h=0===h%f?[]:[h];var l=e.Math.range(0,Math.floor((g-k)/f)+1).map(function(n){return k+n*f});return h.concat(l).concat(0===g%f?[]:[g])}};c.integerTickGenerator=function(){return function(f){var g=f.defaultTicks();return g.filter(function(h,k){return 0===h%1||0===k||k===g.length-1})}}},function(b,c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);
h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(1),g=d(28);b=function(h){function k(){var l=h.call(this)||this;l._d3Scale=f.scaleTime();l.autoDomain();return l}e(k,h);k.prototype.tickInterval=function(l,n){void 0===n&&(n=1);var p=f.scaleTime();k.timeIntervalToD3Time(l).every(n);p.domain(this.domain());p.range(this.range());return p.ticks()};k.prototype._setDomain=function(l){if(l[1]<l[0])throw Error("Scale.Time domain values must be in chronological order");return h.prototype._setDomain.call(this,
l)};k.prototype._defaultExtent=function(){return[new Date("1970-01-01"),new Date("1970-01-02")]};k.prototype._expandSingleValueDomain=function(l){var n=l[0].getTime(),p=l[1].getTime();return n===p?(l=new Date(n),l.setDate(l.getDate()-1),p=new Date(p),p.setDate(p.getDate()+1),[l,p]):l};k.prototype.scale=function(l){return this._d3Scale(l)};k.prototype.scaleTransformation=function(l){return this.scale(new Date(l))};k.prototype.invertedTransformation=function(l){return this.invert(l).getTime()};k.prototype.getTransformationExtent=
function(){var l=this._getUnboundedExtent(!0);return[l[0].valueOf(),l[1].valueOf()]};k.prototype.getTransformationDomain=function(){var l=this.domain();return[l[0].valueOf(),l[1].valueOf()]};k.prototype.setTransformationDomain=function(l){this.domain([new Date(l[0]),new Date(l[1])])};k.prototype._getDomain=function(){return this._backingScaleDomain()};k.prototype._backingScaleDomain=function(l){if(null==l)return this._d3Scale.domain();this._d3Scale.domain(l);return this};k.prototype._getRange=function(){return this._d3Scale.range()};
k.prototype._setRange=function(l){this._d3Scale.range(l)};k.prototype.invert=function(l){return this._d3Scale.invert(l)};k.prototype.defaultTicks=function(){return this._d3Scale.ticks()};k.prototype._niceDomain=function(l){return this._d3Scale.copy().domain(l).nice().domain()};k.timeIntervalToD3Time=function(l){switch(l){case g.TimeInterval.second:return f.timeSecond;case g.TimeInterval.minute:return f.timeMinute;case g.TimeInterval.hour:return f.timeHour;case g.TimeInterval.day:return f.timeDay;
case g.TimeInterval.week:return f.timeWeek;case g.TimeInterval.month:return f.timeMonth;case g.TimeInterval.year:return f.timeYear;default:throw Error("TimeInterval specified does not exist: "+l);}};return k}(d(11).QuantitativeScale);c.Time=b},function(b,c,d){var e=d(1),f=Array;c.add=function(g,h){if(g.length!==h.length)throw Error("attempted to add arrays of unequal length");return g.map(function(k,l){return g[l]+h[l]})};c.uniq=function(g){var h=e.set(),k=[];g.forEach(function(l){h.has(String(l))||
(h.add(String(l)),k.push(l))});return k};c.flatten=function(g){return f.prototype.concat.apply([],g)};c.createFilledArray=function(g,h){for(var k=[],l=0;l<h;l++)k[l]="function"===typeof g?g(l):g;return k}},function(b,c){b=function(){function d(e,f,g){this.maxIndex=this.minIndex=this.exitIndex=this.entryIndex=e;this.bucketValue=f;this.maxValue=this.minValue=g}d.prototype.isInBucket=function(e){return e==this.bucketValue};d.prototype.addToBucket=function(e,f){e<this.minValue&&(this.minValue=e,this.minIndex=
f);e>this.maxValue&&(this.maxValue=e,this.maxIndex=f);this.exitIndex=f};d.prototype.getUniqueIndices=function(){var e=[this.entryIndex,this.maxIndex,this.minIndex,this.exitIndex];return e.filter(function(f,g){return 0==g||f!=e[g-1]})};return d}();c.Bucket=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return null!==
f&&f.apply(this,arguments)||this}e(g,f);g.prototype.callCallbacks=function(){for(var h=this,k=[],l=0;l<arguments.length;l++)k[l]=arguments[l];this.forEach(function(n){n.apply(h,k)});return this};return g}(d(58).Set);c.CallbackSet=b},function(b,c,d){function e(h){function k(l){l/=255;return.03928>=l?l/12.92:g.pow((l+.055)/1.055,2.4)}h=f.rgb(h);return.2126*k(h.r)+.7152*k(h.g)+.0722*k(h.b)}var f=d(1),g=Math;c.contrast=function(h,k){h=e(h)+.05;k=e(k)+.05;return h>k?h/k:k/h};c.lightenColor=function(h,
k){return f.color(h).brighter(k).rgb().toString()};c.colorTest=function(h,k){h.classed(k,!0);var l=h.style("background-color");if("transparent"===l)return null;l=/\((.+)\)/.exec(l);if(!l)return null;l=l[1].split(",").map(function(n){n=+n;var p=n.toString(16);return 16>n?"0"+p:p});if(4===l.length&&"00"===l[3])return null;l="#"+l.join("");h.classed(k,!1);return l}},function(b,c,d){var e=d(1),f=d(57);b=function(){function g(){this._entities=[];this._rtree=new f.RTree;this._tree=e.quadtree().x(function(h){return Math.floor(h.position.x)}).y(function(h){return Math.floor(h.position.y)})}
g.prototype.addAll=function(h,k,l){(q=this._entities).push.apply(q,h);if(void 0!==l)for(l=f.RTreeBounds.bounds(l),q=0;q<h.length;q++){var n=h[q],p=f.RTreeBounds.entityBounds(k(n));f.RTreeBounds.isBoundsOverlapBounds(l,p)&&(this._tree.add(n),this._rtree.insert(p,n))}else for(this._tree.addAll(h),q=0;q<h.length;q++)n=h[q],p=f.RTreeBounds.entityBounds(k(n)),this._rtree.insert(p,n);var q};g.prototype.entityNearest=function(h){return this._tree.find(h.x,h.y)};g.prototype.entitiesInBounds=function(h){return this._rtree.intersect(f.RTreeBounds.entityBounds(h))};
g.prototype.entitiesInXBounds=function(h){return this._rtree.intersectX(f.RTreeBounds.entityBounds(h))};g.prototype.entitiesInYBounds=function(h){return this._rtree.intersectY(f.RTreeBounds.entityBounds(h))};g.prototype.entities=function(){return this._entities};return g}();c.EntityStore=b},function(b,c,d){var e=d(56);b=function(){function f(){"function"===typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}f.prototype.set=function(g,h){if(e.isNaN(g))throw Error("NaN may not be used as a key to the Map");
if(null!=this._es6Map)return this._es6Map.set(g,h),this;for(var k=0;k<this._keyValuePairs.length;k++)if(this._keyValuePairs[k].key===g)return this._keyValuePairs[k].value=h,this;this._keyValuePairs.push({key:g,value:h});return this};f.prototype.get=function(g){if(null!=this._es6Map)return this._es6Map.get(g);for(var h=0;h<this._keyValuePairs.length;h++)if(this._keyValuePairs[h].key===g)return this._keyValuePairs[h].value};f.prototype.has=function(g){if(null!=this._es6Map)return this._es6Map.has(g);
for(var h=0;h<this._keyValuePairs.length;h++)if(this._keyValuePairs[h].key===g)return!0;return!1};f.prototype.forEach=function(g,h){var k=this;null!=this._es6Map?this._es6Map.forEach(function(l,n){return g.call(h,l,n,k)},h):this._keyValuePairs.forEach(function(l){g.call(h,l.value,l.key,k)})};f.prototype.delete=function(g){if(null!=this._es6Map)return this._es6Map.delete(g);for(var h=0;h<this._keyValuePairs.length;h++)if(this._keyValuePairs[h].key===g)return this._keyValuePairs.splice(h,1),!0;return!1};
return f}();c.Map=b},function(b,c){c.assign=function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];e={};for(var f=0;f<d.length;f++)for(var g=d[f],h=0,k=Object.keys(g);h<k.length;h++){var l=k[h];e[l]=g[l]}return e}},function(b,c){b=function(){function d(){}d.prototype.split=function(e,f){for(var g=Math.ceil(e.length/2),h=0;h<g;h++)f[0].insert(e[h]);for(h=g;h<e.length;h++)f[1].insert(e[h])};return d}();c.SplitStrategyTrivial=b;b=function(){function d(){}d.prototype.split=function(e,f){e=
e.slice();for(this.chooseFirstSplit(e,f);0<e.length;)this.addNext(e,f)};d.prototype.chooseFirstSplit=function(e,f){for(var g=0,h=0,k=e.length-1,l=e.length-1,n=1;n<e.length-1;n++){var p=e[n];p.bounds.xl>e[k].bounds.xl?k=n:p.bounds.xh<e[g].bounds.xh&&(g=n);p.bounds.yl>e[l].bounds.yl?l=n:p.bounds.yh<e[h].bounds.yh&&(h=n)}h=Math.abs(e[g].bounds.xh-e[k].bounds.xl)>Math.abs(e[h].bounds.yh-e[l].bounds.yl)?[g,k]:[h,l];g=h[0];h=h[1];g===h&&(g=0,h=e.length-1);f[0].insert(e.splice(Math.max(g,h),1)[0]);f[1].insert(e.splice(Math.min(g,
h),1)[0])};d.prototype.addNext=function(e,f){for(var g=null,h=null,k=null,l=0;l<e.length;l++){var n=e[l],p=f[0].unionAreaDifference(n.bounds);n=f[1].unionAreaDifference(n.bounds);if(p<h||null==g)g=l,h=p,k=f[0];n<h&&(g=l,h=n,k=f[1])}k.insert(e.splice(g,1)[0])};return d}();c.SplitStrategyLinear=b},function(b,c,d){var e=d(1),f=d(0);b=d(10);c.IStackingOrder=b.makeEnum(["topdown","bottomup"]);var g=Math;c.stack=function(h,k,l,n){void 0===n&&(n="bottomup");var p=e.map(),q=e.map(),r=new f.Map;"topdown"===
n&&(h=h.slice(),h.reverse());h.forEach(function(t){var v=new f.Map;t.data().forEach(function(u,y){var w=String(k(u,y,t)),x=+l(u,y,t),z=0<=x?p:q;if(z.has(w)){var B=z.get(w);z.set(w,B+x)}else B=0,z.set(w,x);v.set(w,{offset:B,value:x,axisValue:k(u,y,t),originalDatum:u,originalDataset:t,originalIndex:y})});r.set(t,v)});return r};c.stackedExtents=function(h){var k=new f.Map,l=new f.Map;h.forEach(function(n){n.forEach(function(p,q){var r=f.Math.max([p.offset+p.value,p.offset],p.offset),t=f.Math.min([p.offset+
p.value,p.offset],p.offset),v=p.axisValue;k.has(q)?k.get(q).extent<r&&k.set(q,{extent:r,axisValue:v,stackedDatum:p}):k.set(q,{extent:r,axisValue:v,stackedDatum:p});l.has(q)?l.get(q).extent>t&&l.set(q,{extent:t,axisValue:v,stackedDatum:p}):l.set(q,{extent:t,axisValue:v,stackedDatum:p})})});return{maximumExtents:k,minimumExtents:l}};c.stackedExtent=function(h,k,l){var n=[];h.forEach(function(q,r){r.data().forEach(function(t,v){if(null==l||l(t,v,r))t=q.get(String(k(t,v,r))),n.push(t.value+t.offset)})});
h=f.Math.max(n,0);var p=f.Math.min(n,0);return[g.min(p,0),g.max(0,h)]};c.normalizeKey=function(h){return String(h)}},function(b,c,d){var e=d(0);c.getTranslator=function(g){g=g.root().rootElement().node();var h=g.__Plottable_ClientTranslator;null==h&&(h=new f(g),g.__Plottable_ClientTranslator=h);return h};var f=function(){function g(h){this._rootElement=h}g.prototype.computePosition=function(h,k){h={x:h,y:k};k=e.Math.getCumulativeTransform(this._rootElement);return null==k?h:e.Math.applyTransform(k,
h)};g.isEventInside=function(h,k){return e.DOM.contains(h.root().rootElement().node(),k.target)};return g}();c.Translator=f},function(b,c,d){Object.defineProperty(c,"__esModule",{value:!0});var e=d(124);d.d(c,"easeLinear",function(){return e.a});var f=d(126);d.d(c,"easeQuad",function(){return f.a});d.d(c,"easeQuadIn",function(){return f.b});d.d(c,"easeQuadOut",function(){return f.c});d.d(c,"easeQuadInOut",function(){return f.a});var g=d(121);d.d(c,"easeCubic",function(){return g.a});d.d(c,"easeCubicIn",
function(){return g.b});d.d(c,"easeCubicOut",function(){return g.c});d.d(c,"easeCubicInOut",function(){return g.a});var h=d(125);d.d(c,"easePoly",function(){return h.a});d.d(c,"easePolyIn",function(){return h.b});d.d(c,"easePolyOut",function(){return h.c});d.d(c,"easePolyInOut",function(){return h.a});var k=d(127);d.d(c,"easeSin",function(){return k.a});d.d(c,"easeSinIn",function(){return k.b});d.d(c,"easeSinOut",function(){return k.c});d.d(c,"easeSinInOut",function(){return k.a});var l=d(123);d.d(c,
"easeExp",function(){return l.a});d.d(c,"easeExpIn",function(){return l.b});d.d(c,"easeExpOut",function(){return l.c});d.d(c,"easeExpInOut",function(){return l.a});var n=d(120);d.d(c,"easeCircle",function(){return n.a});d.d(c,"easeCircleIn",function(){return n.b});d.d(c,"easeCircleOut",function(){return n.c});d.d(c,"easeCircleInOut",function(){return n.a});var p=d(119);d.d(c,"easeBounce",function(){return p.a});d.d(c,"easeBounceIn",function(){return p.b});d.d(c,"easeBounceOut",function(){return p.a});
d.d(c,"easeBounceInOut",function(){return p.c});var q=d(118);d.d(c,"easeBack",function(){return q.a});d.d(c,"easeBackIn",function(){return q.b});d.d(c,"easeBackOut",function(){return q.c});d.d(c,"easeBackInOut",function(){return q.a});var r=d(122);d.d(c,"easeElastic",function(){return r.a});d.d(c,"easeElasticIn",function(){return r.b});d.d(c,"easeElasticOut",function(){return r.a});d.d(c,"easeElasticInOut",function(){return r.c})},function(b,c,d){d.d(c,"b",function(){return e});d.d(c,"c",function(){return f});
d.d(c,"a",function(){return g});var e=function l(k){function n(p){return p*p*((k+1)*p-k)}k=+k;n.overshoot=l;return n}(1.70158),f=function n(l){function p(q){return--q*q*((l+1)*q+l)+1}l=+l;p.overshoot=n;return p}(1.70158),g=function p(n){function q(r){return(1>(r*=2)?r*r*((n+1)*r-n):(r-=2)*r*((n+1)*r+n)+2)/2}n=+n;q.overshoot=p;return q}(1.70158)},function(b,c){function d(t){return(t=+t)<e?r*t*t:t<g?r*(t-=f)*t+h:t<l?r*(t-=k)*t+n:r*(t-=p)*t+q}c.b=function(t){return 1-d(1-t)};c.a=d;c.c=function(t){return(1>=
(t*=2)?1-d(1-t):d(t-1)+1)/2};var e=4/11,f=6/11,g=8/11,h=.75,k=9/11,l=10/11,n=.9375,p=21/22,q=.984375,r=1/e/e},function(b,c){c.b=function(d){return 1-Math.sqrt(1-d*d)};c.c=function(d){return Math.sqrt(1- --d*d)};c.a=function(d){return(1>=(d*=2)?1-Math.sqrt(1-d*d):Math.sqrt(1-(d-=2)*d)+1)/2}},function(b,c){c.b=function(d){return d*d*d};c.c=function(d){return--d*d*d+1};c.a=function(d){return(1>=(d*=2)?d*d*d:(d-=2)*d*d+2)/2}},function(b,c,d){d.d(c,"b",function(){return f});d.d(c,"a",function(){return g});
d.d(c,"c",function(){return h});var e=2*Math.PI,f=function p(l,n){function q(t){return l*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(l=Math.max(1,l)))*(n/=e);q.amplitude=function(t){return p(t,n*e)};q.period=function(t){return p(l,t)};return q}(1,.3),g=function q(n,p){function r(v){return 1-n*Math.pow(2,-10*(v=+v))*Math.sin((v+t)/p)}var t=Math.asin(1/(n=Math.max(1,n)))*(p/=e);r.amplitude=function(v){return q(v,p*e)};r.period=function(v){return q(n,v)};return r}(1,.3),h=function r(p,q){function t(u){return(0>
(u=2*u-1)?p*Math.pow(2,10*u)*Math.sin((v-u)/q):2-p*Math.pow(2,-10*u)*Math.sin((v+u)/q))/2}var v=Math.asin(1/(p=Math.max(1,p)))*(q/=e);t.amplitude=function(u){return r(u,q*e)};t.period=function(u){return r(p,u)};return t}(1,.3)},function(b,c){c.b=function(d){return Math.pow(2,10*d-10)};c.c=function(d){return 1-Math.pow(2,-10*d)};c.a=function(d){return(1>=(d*=2)?Math.pow(2,10*d-10):2-Math.pow(2,10-10*d))/2}},function(b,c){c.a=function(d){return+d}},function(b,c,d){d.d(c,"b",function(){return e});d.d(c,
"c",function(){return f});d.d(c,"a",function(){return g});var e=function l(k){function n(p){return Math.pow(p,k)}k=+k;n.exponent=l;return n}(3),f=function n(l){function p(q){return 1-Math.pow(1-q,l)}l=+l;p.exponent=n;return p}(3),g=function p(n){function q(r){return(1>=(r*=2)?Math.pow(r,n):2-Math.pow(2-r,n))/2}n=+n;q.exponent=p;return q}(3)},function(b,c){c.b=function(d){return d*d};c.c=function(d){return d*(2-d)};c.a=function(d){return(1>=(d*=2)?d*d:--d*(2-d)+1)/2}},function(b,c){c.b=function(f){return 1-
Math.cos(f*e)};c.c=function(f){return Math.sin(f*e)};c.a=function(f){return(1-Math.cos(d*f))/2};var d=Math.PI,e=d/2},function(b,c,d){function e(g){return!0===f(g)&&"[object Object]"===Object.prototype.toString.call(g)}var f=d(129);b.exports=function(g){if(!1===e(g))return!1;g=g.constructor;if("function"!==typeof g)return!1;g=g.prototype;return!1===e(g)||!1===g.hasOwnProperty("isPrototypeOf")?!1:!0}},function(b){b.exports=function(c){return null!=c&&"object"===typeof c&&!1===Array.isArray(c)}},function(b,
c){b=function(){function d(e,f,g){void 0===f&&(f=10);void 0===g&&(g={});var h=this;this.ctx=e;this.lineHeight=f;this.style=g;this.createRuler=function(){return function(k){h.ctx.font=h.style.font;return{width:h.ctx.measureText(k).width,height:h.lineHeight}}};this.createPen=function(k,l,n){null==n&&(n=h.ctx);n.save();n.translate(l.translate[0],l.translate[1]);n.rotate(l.rotate*Math.PI/180);return h.createCanvasPen(n)};void 0===this.style.fill&&(this.style.fill="#444")}d.prototype.createCanvasPen=function(e){var f=
this;return{destroy:function(){e.restore()},write:function(g,h,k,l){e.textAlign=h;null!=f.style.font&&(e.font=f.style.font);null!=f.style.fill&&(e.fillStyle=f.style.fill,e.fillText(g,k,l));null!=f.style.stroke&&(e.strokeStyle=f.style.fill,e.strokeText(g,k,l))}}};return d}();c.CanvasContext=b},function(b,c){var d=function(){function e(){}e.append=function(f,g){for(var h=[],k=2;k<arguments.length;k++)h[k-2]=arguments[k];h=e.create.apply(e,[g].concat(h));f.appendChild(h);return h};e.create=function(f){for(var g=
[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];h=document.createElementNS(e.SVG_NS,f);e.addClasses.apply(e,[h].concat(g));return h};e.addClasses=function(f){for(var g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];g=g.filter(function(k){return null!=k});null!=f.classList?g.forEach(function(k){f.classList.add(k)}):f.setAttribute("class",g.join(" "))};e.getDimensions=function(f){if(f.getBBox)try{var g=f.getBBox();return{width:g.width,height:g.height}}catch(h){}return{height:0,width:0}};return e}();
d.SVG_NS="http://www.w3.org/2000/svg";c.SvgUtils=d;b=function(){function e(f,g,h){void 0===h&&(h=!1);var k=this;this.element=f;this.className=g;this.addTitleElement=h;this.createRuler=function(){var l=k.getTextElements(k.element),n=l.parentElement,p=l.containerElement,q=l.textElement;return function(r){n.appendChild(p);q.textContent=r;r=d.getDimensions(q);n.removeChild(p);return r}};this.createPen=function(l,n,p){null==p&&(p=k.element);p=d.append(p,"g","text-container",k.className);k.addTitleElement&&
(d.append(p,"title").textContent=l,p.setAttribute("title",l));l=d.append(p,"g","text-area");l.setAttribute("transform","translate("+n.translate[0]+","+n.translate[1]+")"+("rotate("+n.rotate+")"));return k.createSvgLinePen(l)}}e.prototype.setAddTitleElement=function(f){this.addTitleElement=f};e.prototype.createSvgLinePen=function(f){return{write:function(g,h,k,l){var n=d.append(f,"text","text-line");n.textContent=g;n.setAttribute("text-anchor",h);n.setAttribute("transform","translate("+k+","+l+")");
n.setAttribute("y","-0.25em")}}};e.prototype.getTextElements=function(f){if("text"===f.tagName){var g=f.parentElement;null==g&&(g=f.parentNode);g.removeChild(f);return{containerElement:f,parentElement:g,textElement:f}}var h=f.querySelector("text");if(null!=h)return g=f.parentElement,null==g&&(g=f.parentNode),g.removeChild(f),{containerElement:f,parentElement:g,textElement:h};g=d.create("text",this.className);return{containerElement:g,parentElement:f,textElement:g}};return e}();c.SvgContext=b},function(b,
c,d){var e=this&&this.__extends||function(h,k){function l(){this.constructor=h}for(var n in k)k.hasOwnProperty(n)&&(h[n]=k[n]);h.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)},f=d(21),g=d(36);b=function(h){function k(l){var n=h.call(this,l)||this;n.dimCache=new f.Cache(function(p){return n._measureNotFromCache(p)});return n}e(k,h);k.prototype._measureNotFromCache=function(l){return h.prototype.measure.call(this,l)};k.prototype.measure=function(l){void 0===l&&(l=g.AbstractMeasurer.HEIGHT_TEXT);
return this.dimCache.get(l)};k.prototype.reset=function(){this.dimCache.clear();h.prototype.reset.call(this)};return k}(d(60).CacheCharacterMeasurer);c.CacheMeasurer=b},function(b,c,d){var e=d(59),f=d(62),g=d(64),h=d(66);b=function(){function k(l){this.context=l;this.measurer=new f.CacheMeasurer(this.context);this.wrapper=new g.Wrapper;this.writer=new h.Writer(this.measurer,this.context,this.wrapper)}k.svg=function(l,n,p){return new k(new e.SvgContext(l,n,p))};k.canvas=function(l,n,p){return new k(new e.CanvasContext(l,
n,p))};k.prototype.write=function(l,n,p,q,r){this.writer.write(l,n,p,q,r)};k.prototype.clearMeasurerCache=function(){this.measurer.reset()};return k}();c.Typesetter=b},function(b,c){b=function(){function d(e){this.cache={};this.compute=e}d.prototype.get=function(e){this.cache.hasOwnProperty(e)||(this.cache[e]=this.compute(e));return this.cache[e]};d.prototype.clear=function(){this.cache={};return this};return d}();c.Cache=b},function(b,c){c.Methods=function(){function d(){}d.arrayEq=function(e,f){if(null==
e||null==f)return e===f;if(e.length!==f.length)return!1;for(var g=0;g<e.length;g++)if(e[g]!==f[g])return!1;return!0};d.objEq=function(e,f){if(null==e||null==f)return e===f;var g=Object.keys(e).sort(),h=Object.keys(f).sort(),k=g.map(function(n){return e[n]}),l=h.map(function(n){return f[n]});return d.arrayEq(g,h)&&d.arrayEq(k,l)};d.strictEq=function(e,f){return e===f};d.defaults=function(e){for(var f=[],g=1;g<arguments.length;g++)f[g-1]=arguments[g];if(null==e)throw new TypeError("Cannot convert undefined or null to object");
var h=Object(e);f.forEach(function(k){if(null!=k)for(var l in k)Object.prototype.hasOwnProperty.call(k,l)&&(h[l]=k[l])});return h};return d}()},function(b,c){c.StringMethods=function(){function d(){}d.combineWhitespace=function(e){return e.replace(/[ \t]+/g," ")};d.isNotEmptyString=function(e){return e&&""!==e.trim()};d.trimStart=function(e,f){if(!e)return e;e=e.split("");var g=f?function(h){return h.split(f).some(d.isNotEmptyString)}:d.isNotEmptyString;return e.reduce(function(h,k){return g(h+k)?
h+k:h},"")};d.trimEnd=function(e,f){if(!e)return e;e=e.split("");e.reverse();e=d.trimStart(e.join(""),f).split("");e.reverse();return e.join("")};return d}()},function(b,c){b=function(){function d(){this.WordDividerRegExp=/\W/;this.WhitespaceRegExp=/\s/}d.prototype.tokenize=function(e){var f=this;return e.split("").reduce(function(g,h){return g.slice(0,-1).concat(f.shouldCreateNewToken(g[g.length-1],h))},[""])};d.prototype.shouldCreateNewToken=function(e,f){if(!e)return[f];var g=e[e.length-1];return this.WhitespaceRegExp.test(g)&&
this.WhitespaceRegExp.test(f)?[e+f]:this.WhitespaceRegExp.test(g)||this.WhitespaceRegExp.test(f)?[e,f]:this.WordDividerRegExp.test(g)||this.WordDividerRegExp.test(f)?g===f?[e+f]:[e,f]:[e+f]};return d}();c.Tokenizer=b},function(b,c,d){var e=this&&this.__extends||function(f,g){function h(){this.constructor=f}for(var k in g)g.hasOwnProperty(k)&&(f[k]=g[k]);f.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)};b=function(f){function g(){return f.apply(this,arguments)||this}e(g,f);g.prototype.wrap=
function(h,k,l,n){void 0===n&&(n=Infinity);if(1<h.split("\n").length)throw Error("SingleLineWrapper is designed to work only on single line");var p=f.prototype.wrap.call(this,h,k,l,n);if(2>p.noLines)return p;for(var q=0,r=0;r<g.NO_WRAP_ITERATIONS&&l>q;++r){var t=(l+q)/2,v=f.prototype.wrap.call(this,h,k,t,n);this.areSameResults(p,v)?(l=t,p=v):q=t}return p};g.prototype.areSameResults=function(h,k){return h.noLines===k.noLines&&h.truncatedText===k.truncatedText};return g}(d(65).Wrapper);b.NO_WRAP_ITERATIONS=
5;c.SingleLineWrapper=b},function(b,c,d){var e=d(21),f={textRotation:0,textShear:0,xAlign:"left",yAlign:"top"};b=function(){function g(h,k,l){this._measurer=h;this._penFactory=k;this._wrapper=l}g.prototype.measurer=function(h){this._measurer=h;return this};g.prototype.wrapper=function(h){this._wrapper=h;return this};g.prototype.penFactory=function(h){this._penFactory=h;return this};g.prototype.write=function(h,k,l,n,p){void 0===n&&(n={});n=e.Methods.defaults({},f,n);if(-1===g.SupportedRotation.indexOf(n.textRotation))throw Error("unsupported rotation - "+
n.textRotation+". Supported rotations are "+g.SupportedRotation.join(", "));if(null!=n.textShear&&-80>n.textShear||80<n.textShear)throw Error("unsupported shear angle - "+n.textShear+". Must be between -80 and 80");var q=45<Math.abs(Math.abs(n.textRotation)-90),r=q?k:l,t=q?l:k,v=n.textShear,u=v*Math.PI/180;q=this._measurer.measure().height;var y=q*Math.tan(u);r=r/Math.cos(u)-Math.abs(y);var w=t*Math.cos(u);t=e.StringMethods.combineWhitespace(h);t=(this._wrapper?this._wrapper.wrap(t,this._measurer,
r,w).wrappedText:t).split("\n");u=g.XOffsetFactor[n.xAlign]*r*Math.sin(u)-g.YOffsetFactor[n.yAlign]*(w-t.length*q);v=n.textRotation+v;switch(n.textRotation){case 90:k=[k+u,0];break;case -90:k=[-u,l];break;case 180:k=[k,l+u];break;default:k=[0,-u]}h=this._penFactory.createPen(h,{translate:k,rotate:v},p);this.writeLines(t,h,r,q,y,n.xAlign);null!=h.destroy&&h.destroy()};g.prototype.writeLines=function(h,k,l,n,p,q){h.forEach(function(r,t){k.write(r,g.AnchorConverter[q],(0<p?(t+1)*p:t*p)+l*g.XOffsetFactor[q],
(t+1)*n)})};return g}();b.SupportedRotation=[-90,0,180,90];b.AnchorConverter={center:"middle",left:"start",right:"end"};b.XOffsetFactor={center:.5,left:0,right:1};b.YOffsetFactor={bottom:1,center:.5,top:0};c.Writer=b},function(b,c,d){function e(f){for(var g in f)c.hasOwnProperty(g)||(c[g]=f[g])}d(69);b=d(7);c.Animators=b;b=d(67);c.Axes=b;b=d(37);c.Components=b;b=d(23);c.Configs=b;b=d(8);c.Formatters=b;b=d(30);c.RenderController=b;b=d(39);c.RenderPolicies=b;b=d(31);c.SymbolFactories=b;b=d(13);c.Dispatchers=
b;b=d(14);c.Drawers=b;b=d(25);c.Interactions=b;b=d(19);c.Plots=b;b=d(3);c.Scales=b;b=d(0);c.Utils=b;e(d(22));b=d(28);c.TimeInterval=b.TimeInterval;e(d(4));e(d(29));e(d(38));b=d(68);c.version=b.version;e(d(24));e(d(6));e(d(15));e(d(40));e(d(16));e(d(2));e(d(11));e(d(17))}])}"object"===typeof exports&&"object"===typeof module?module.exports=Tf(require("d3")):"function"===typeof define&&define.amd?define(["d3"],Tf):"object"===typeof exports?exports.Plottable=Tf(require("d3")):this.Plottable=Tf(this.d3);
</script>
<style>
.plottable-colors-0 {
  background-color: #5279c7; /* INDIGO */
}

.plottable-colors-1 {
  background-color: #fd373e; /* CORAL_RED */
}

.plottable-colors-2 {
  background-color: #63c261; /* FERN */
}

.plottable-colors-3 {
  background-color: #fad419; /* BRIGHT_SUN */
}

.plottable-colors-4 {
  background-color: #2c2b6f; /* JACARTA */
}

.plottable-colors-5 {
  background-color: #ff7939; /* BURNING_ORANGE */
}

.plottable-colors-6 {
  background-color: #db2e65; /* CERISE_RED */
}

.plottable-colors-7 {
  background-color: #99ce50; /* CONIFER */
}

.plottable-colors-8 {
  background-color: #962565; /* ROYAL_HEATH */
}

.plottable-colors-9 {
  background-color: #06cccc; /* ROBINS_EGG_BLUE */
}

/**
 * User-supplied renderTo element.
 */
.plottable {
  display: block; /* must be block elements for width/height calculations to work in Firefox. */
  pointer-events: visibleFill;
  position: relative;
  /**
   * Pre 3.0, users could set the dimension of the root element in two ways: either using CSS
   * (inline or through a stylesheet), or using the SVG width/height attributes. By default, we
   * set the SVG width/height attributes to 100%.
   *
   * Post 3.0 the root element is always a normal div and the only way to set the dimensions is
   * to use CSS. To replicate the "100%-by-default" behavior, we apply width/height 100%.
   */
  width: 100%;
  height: 100%;
}

/**
 * The _element that roots each Component's DOM.
 */
.plottable .component {
  /* Allow components to be positioned with explicit left/top/width/height styles */
  position: absolute;
}

.plottable .background-container,
.plottable .content,
.plottable .foreground-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**
 * Don't allow svg elements above the content to steal events
 */
.plottable .foreground-container {
  pointer-events: none;
}

.plottable .component-overflow-hidden {
  overflow: hidden;
}

.plottable .component-overflow-visible {
  overflow: visible;
}

.plottable .plot-canvas-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.plottable .plot-canvas {
  width: 100%;
  height: 100%;
  /**
   * Play well with deferred rendering.
   */
  transform-origin: 0px 0px 0px;
}

.plottable text {
  text-rendering: geometricPrecision;
}

.plottable .label text {
  font-family: "Helvetica Neue", sans-serif;
  fill: #32313F;
}

.plottable .bar-label-text-area text {
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
}

.plottable .label-area text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 14px;
}

.plottable .light-label text {
  fill: white;
}

.plottable .dark-label text {
  fill: #32313F;
}

.plottable .off-bar-label text {
  fill: #32313F;
}

.plottable .stacked-bar-label text {
  fill: #32313F;
  font-style: normal;
}

.plottable .stacked-bar-plot .off-bar-label {
  /* HACKHACK #2795: correct off-bar label logic to be implemented on StackedBar */
  visibility: hidden !important;
}

.plottable .axis-label text {
  font-size: 10px;
  font-weight: bold;
  letter-spacing: 1px;
  line-height: normal;
  text-transform: uppercase;
}

.plottable .title-label text {
  font-size: 20px;
  font-weight: bold;
}

.plottable .axis line.baseline {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis line.tick-mark {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: 200;
  line-height: normal;
}

.plottable .axis .annotation-circle {
  fill: white;
  stroke-width: 1px;
  stroke: #CCC;
}

.plottable .axis .annotation-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis .annotation-rect {
  stroke: #CCC;
  stroke-width: 1px;
  fill: white;
}

.plottable .bar-plot .baseline {
  stroke: #999;
}

.plottable .gridlines line {
  stroke: #3C3C3C; /* hackhack: gridlines should be solid; see #820 */
  opacity: 0.25;
  stroke-width: 1px;
}

.plottable .selection-box-layer .selection-area {
  fill: black;
  fill-opacity: 0.03;
  stroke: #CCC;
}
/* DragBoxLayer */
.plottable .drag-box-layer.x-resizable .drag-edge-lr {
  cursor: ew-resize;
}
.plottable .drag-box-layer.y-resizable .drag-edge-tb {
  cursor: ns-resize;
}

.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tl {
  cursor: nwse-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tr {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-bl {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-br {
  cursor: nwse-resize;
}

.plottable .drag-box-layer.movable .selection-area {
  cursor: move; /* IE fallback */
  cursor: -moz-grab;
  cursor: -webkit-grab;
  cursor: grab;
}

.plottable .drag-box-layer.movable .selection-area:active {
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  cursor: grabbing;
}
/* /DragBoxLayer */

.plottable .guide-line-layer line.guide-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .drag-line-layer.enabled.vertical line.drag-edge {
  cursor: ew-resize;
}

.plottable .drag-line-layer.enabled.horizontal line.drag-edge {
  cursor: ns-resize;
}

.plottable .legend text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: bold;
  line-height: normal;
}

.plottable .interpolated-color-legend rect.swatch-bounding-box {
  fill: none;
  stroke: #CCC;
  stroke-width: 1px;
  pointer-events: none;
}

.plottable .waterfall-plot line.connector {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .pie-plot .arc.outline {
  stroke-linejoin: round;
}
</style>






<script>//~~WEBPATH~~/vz-chart-helpers/vz-chart-helpers.js
var Uf;
(function(a){function b(){var f=new Plottable.Scales.Linear;f.tickGenerator();var g=new Plottable.Axes.Numeric(f,"bottom");g.formatter(a.stepFormatter);return{scale:f,axis:g,accessor:function(h){return h.step}}}function c(){var f=new Plottable.Scales.Time;return{scale:f,axis:new Plottable.Axes.Time(f,"bottom"),accessor:function(g){return g.wall_time}}}function d(){var f=new Plottable.Scales.Linear;return{scale:f,axis:new Plottable.Axes.Numeric(f,"bottom"),accessor:a.relativeAccessor}}a.SYMBOLS_LIST=[{character:"\u25fc",
method:Plottable.SymbolFactories.square},{character:"\u25c6",method:Plottable.SymbolFactories.diamond},{character:"\u25b2",method:Plottable.SymbolFactories.triangle},{character:"\u2605",method:Plottable.SymbolFactories.star},{character:"\u271a",method:Plottable.SymbolFactories.cross}];var e;(function(f){f.STEP="step";f.RELATIVE="relative";f.WALL_TIME="wall_time"})(e=a.XType||(a.XType={}));a.Y_TOOLTIP_FORMATTER_PRECISION=4;a.STEP_FORMATTER_PRECISION=4;a.Y_AXIS_FORMATTER_PRECISION=3;a.TOOLTIP_Y_PIXEL_OFFSET=
20;a.TOOLTIP_CIRCLE_SIZE=4;a.NAN_SYMBOL_SIZE=6;a.multiscaleFormatter=function(f){return function(g){var h=Math.abs(g);1E-15>h&&(h=0);return(1E4<=h?d3.format("."+f+"~e"):0<h&&.01>h?d3.format("."+f+"~e"):d3.format("."+f+"~g"))(g)}};a.computeDomain=function(f,g){f=f.filter(function(l){return isFinite(l)});if(0===f.length)return[-.1,1.1];g?(f=_.sortBy(f),g=d3.quantile(f,.05),f=d3.quantile(f,.95)):(g=d3.min(f),f=d3.max(f));var h=f-g;var k=0===h?1.1*Math.abs(g)+1.1:.2*h;g=[0<=g&&g<h?-.1*f:g-k,f+k];return g=
d3.scaleLinear().domain(g).nice().domain()};a.accessorize=function(f){return function(g){return g[f]}};a.stepFormatter=d3.format("."+a.STEP_FORMATTER_PRECISION+"~s");a.stepX=b;a.timeFormatter=Plottable.Formatters.time("%a %b %e, %H:%M:%S");a.wallX=c;a.relativeAccessor=function(f,g,h){if(null!=f.relative)return f.relative;g=h.data();return(+f.wall_time-(0<g.length?+g[0].wall_time:0))/36E5};a.relativeFormatter=function(f){var g="",h=Math.floor(f/24);f-=24*h;h&&(g+=h+"d ");var k=Math.floor(f);f=60*(f-
k);if(k||h)g+=k+"h ";var l=Math.floor(f);f=60*(f-l);if(l||k||h)g+=l+"m ";return g+Math.floor(f)+"s"};a.relativeX=d;a.getXComponents=function(f){switch(f){case e.STEP:return b();case e.WALL_TIME:return c();case e.RELATIVE:return d();default:throw Error("invalid xType: "+f);}}})(Uf||(Uf={}));
</script>



<dom-module id="vz-bar-chart">
  <template>
    <div id="tooltip">
      <table>
        <thead>
          <tr id="tooltip-table-header-row"></tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="chartdiv"></div>
    <style>
      :host {
        -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
        outline: none;
      }
      div {
        -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
      }
      td {
        padding-left: 5px;
        padding-right: 5px;
        font-size: 13px;
        opacity: 1;
      }
      #tooltip {
        pointer-events: none;
        position: absolute;
        opacity: 0;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        border-radius: 4px;
        line-height: 1.4em;
        padding: 8px;
        z-index: 5;
        cursor: none;
        margin-top: 10px;
      }
      .swatch {
        border-radius: 50%;
        width: 14px;
        height: 14px;
        display: block;
        border: 2px solid rgba(0, 0, 0, 0);
      }
      .closest .swatch {
        border: 2px solid white;
      }
      th {
        padding-left: 5px;
        padding-right: 5px;
        text-align: left;
      }

    </style>
  </template>
  <script>//~~WEBPATH~~/vz-bar-chart/vz-bar-chart.js
var Vf;
(function(){Polymer({is:"vz-bar-chart",properties:{data:Object,lines:{type:Object,value:function(){return{}}},colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},linesColorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},tooltipColumns:{type:Array,value:function(){return[{title:"Name",evaluate:function(b){return b.key}},{title:"X",evaluate:function(b){return b.value.x}},{title:"Y",evaluate:function(b){return b.value.y}}]}},_attached:Boolean,
_chart:Object},observers:["_makeChart(data, lines, colorScale, linesColorScale, tooltipColumns, _attached)"],redraw:function(){this._chart&&this._chart.redraw()},attached:function(){this._attached=!0},detached:function(){this._attached=!1},ready:function(){this.scopeSubtree(this.$.tooltip,!0);this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(){this._chart&&this._chart.destroy();var b=d3.select(this.$.tooltip);b=new a(this.data,this.lines,this.colorScale,this.linesColorScale,b,this.tooltipColumns);
var c=d3.select(this.$.chartdiv);b.renderTo(c);this._chart=b}});var a=function(){function b(c,d,e,f,g,h){e.domain(_.sortBy(_.keys(c)));this.data=c;this.lines=d;this.colorScale=e;this.linesColorScale=f;this.tooltip=g;this.outer=this.plot=null;this.buildChart(c,d,e,f);this.setupTooltips(h)}b.prototype.buildChart=function(c,d,e){var f=this;this.outer&&this.outer.destroy();var g=new Plottable.Scales.Category,h=new Plottable.Scales.Linear,k=new Plottable.Axes.Category(g,"bottom"),l=new Plottable.Axes.Numeric(h,
"left"),n=new Plottable.Plots.ClusteredBar;n.x(function(r){return r.x},g);n.y(function(r){return r.y},h);_.keys(c).forEach(function(r){return n.addDataset((new Plottable.Dataset(c[r])).metadata(r))});n.attr("fill",function(r,t,v){return e.scale(v.metadata())});this.plot=n;var p=_.keys(d);if(0<p.length){var q=new Plottable.Plots.Line;q.x(function(r){return r.x},g);q.y(function(r){return r.y},h);p.forEach(function(r){return q.addDataset((new Plottable.Dataset(d[r])).metadata(r))});q.attr("stroke",function(r,
t,v){return f.linesColorScale.scale(v.metadata())});g=new Plottable.Components.Group([n,q]);this.outer=new Plottable.Components.Table([[l,g],[null,k]])}else this.outer=new Plottable.Components.Table([[l,n],[null,k]])};b.prototype.setupTooltips=function(c){var d=this,e=this.tooltip.select("thead tr");e.selectAll("th").data(c).enter().append("th").text(function(g){return g.title});e.insert("th",":first-child");var f=this.plot;e=new Plottable.Interactions.Pointer;e.attachTo(f);e.onPointerMove(function(g){(g=
f.entityNearest(g))&&d.drawTooltips(g,c)});e.onPointerExit(function(){d.tooltip.style("opacity",0)})};b.prototype.drawTooltips=function(c,d){var e=c.datum.x,f=c.dataset.metadata(),g=_.mapValues(this.data,function(l){return _.filter(l,function(n){return n.x==e})});g=_.pickBy(g,function(l){return 0<l.length});g=_.mapValues(g,function(l){return l[0]});g=d3.entries(g);var h=this.tooltip.select("tbody").html("").selectAll("tr").data(g).enter().append("tr");h.style("white-space","nowrap");h.classed("closest",
function(l){return l.key==f});var k=this.colorScale;h.append("td").append("div").classed("swatch",!0).style("background-color",function(l){return k.scale(l.key)});_.each(d,function(l){h.append("td").text(function(n){return l.evaluate(n)})});this.tooltip.style("transform","translate("+c.position.x+"px,"+c.position.y+"px)");this.tooltip.style("opacity",1)};b.prototype.renderTo=function(c){this.targetSVG=c;this.outer.renderTo(c)};b.prototype.redraw=function(){this.outer.redraw()};b.prototype.destroy=
function(){this.outer.destroy()};return b}()})(Vf||(Vf={}));
</script>
</dom-module>









<script>//~~WEBPATH~~/vz-line-chart/dragZoomInteraction.js
Nf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();var Wf;
(function(a){var b=function(c){function d(e,f,g){var h=c.call(this)||this;h.easeFn=d3.easeCubicInOut;h._animationTime=750;h.xScale(e);h.yScale(f);h._dragInteraction=new Plottable.Interactions.Drag;h._doubleClickInteraction=new Plottable.Interactions.Click;h.setupCallbacks();h.unzoomMethod=g;h.onDetach(function(){h._doubleClickInteraction.detachFrom();h._dragInteraction.detachFrom()});h.onAnchor(function(){h._doubleClickInteraction.attachTo(h);h._dragInteraction.attachTo(h)});return h}Nf(d,c);d.prototype.interactionStart=
function(e){this.onStart=e};d.prototype.interactionEnd=function(e){this.onEnd=e};d.prototype.dragInteraction=function(){return this._dragInteraction};d.prototype.setupCallbacks=function(){var e=this,f=!1;this._dragInteraction.onDragStart(function(g){e.bounds({topLeft:g,bottomRight:g});e.onStart()});this._dragInteraction.onDrag(function(g,h){e.bounds({topLeft:g,bottomRight:h});e.boxVisible(!0);f=!0});this._dragInteraction.onDragEnd(function(g,h){e.boxVisible(!1);e.bounds({topLeft:g,bottomRight:h});
if(f)e.zoom();else e.onEnd();f=!1});this._doubleClickInteraction.onDoubleClick(this.unzoom.bind(this))};d.prototype.animationTime=function(e){if(null==e)return this._animationTime;if(0>e)throw Error("animationTime cannot be negative");this._animationTime=e;return this};d.prototype.ease=function(e){if("function"!==typeof e)throw Error("ease function must be a function");0===e(0)&&1===e(1)||Plottable.Utils.Window.warn("Easing function does not maintain invariant f(0)\x3d\x3d0 \x26\x26 f(1)\x3d\x3d1. Bad behavior may result.");
this.easeFn=e;return this};d.prototype.zoom=function(){var e=this.xExtent()[0].valueOf(),f=this.xExtent()[1].valueOf(),g=this.yExtent()[1].valueOf(),h=this.yExtent()[0].valueOf();e!==f&&g!==h&&this.interpolateZoom(e,f,g,h)};d.prototype.unzoom=function(){var e=this.xScale();e._domainMin=null;e._domainMax=null;e=e._getExtent();this.xScale().domain(e);this.unzoomMethod()};d.prototype.isZooming=function(e){this._dragInteraction.enabled(!e);this._doubleClickInteraction.enabled(!e)};d.prototype.interpolateZoom=
function(e,f,g,h){function k(){var y=Date.now()-u;y=0===n._animationTime?1:Math.min(1,y/n._animationTime);var w=l(p,e,y),x=l(q,f,y),z=l(r,g,y),B=l(t,h,y);n.xScale().domain([w,x]);n.yScale().domain([z,B]);1>y?Plottable.Utils.DOM.requestAnimationFramePolyfill(k):(n.onEnd(),n.isZooming(!1))}function l(y,w,x){return d3.interpolateNumber(y,w)(v(x))}var n=this,p=this.xScale().domain()[0].valueOf(),q=this.xScale().domain()[1].valueOf(),r=this.yScale().domain()[0].valueOf(),t=this.yScale().domain()[1].valueOf(),
v=this.easeFn;this.isZooming(!0);var u=Date.now();k()};return d}(Plottable.Components.SelectionBoxLayer);a.DragZoomLayer=b})(Wf||(Wf={}));
</script>



<dom-module id="vz-line-chart">
  <template>
    <div id="tooltip">
      <table>
        <thead>
          
          <tr id="tooltip-table-header-row" inner-h-t-m-l="[[_tooltipTableHeaderHtml]]"></tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="chartdiv"></div>
    <style>
      :host {
        -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
        outline: none;
      }
      div {
        -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
      }
      td {
        padding-left: 5px;
        padding-right: 5px;
        font-size: 13px;
        opacity: 1;
      }
      #tooltip {
        pointer-events: none;
        position: absolute;
        opacity: 0;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        border-radius: 4px;
        line-height: 1.4em;
        padding: 8px;
        z-index: 5;
        cursor: none;
        margin-top: 10px;
      }
      .swatch {
        border-radius: 50%;
        width: 14px;
        height: 14px;
        display: block;
        border: 2px solid rgba(0,0,0,0);
      }
      .closest .swatch {
        border: 2px solid white;
      }
      th {
        padding-left: 5px;
        padding-right: 5px;
        text-align: left;
      }
      .distant td {
        opacity: 0.8;
      }

      .distant td.swatch {
        opacity: 1;
      }

      .ghost {
        opacity: 0.2;
        stroke-width: 1px;
      }

      #chartdiv line.guide-line {
        stroke: #999;
        stroke-width: 1.5px;
      }

    </style>
  </template>
  <script>//~~WEBPATH~~/vz-line-chart/vz-line-chart.js
(function(a){function b(d,e,f){e=f(e);for(var g=0,h=d.length;g<h;){var k=Math.floor((g+h)/2);f(d[k])<e?g=k+1:h=k}return h}Polymer({is:"vz-line-chart",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},symbolFunction:Object,smoothingEnabled:{type:Boolean,notify:!0,value:!1},smoothingWeight:{type:Number,value:.6},xType:{type:String,value:""},xComponentsCreationMethod:{type:Object,value:""},xAxisFormatter:Object,yAxisFormatter:Object,
yValueAccessor:{type:Object,value:function(){return function(d){return d.scalar}}},tooltipColumns:{type:Array,value:function(){function d(f){return isNaN(f)?"NaN":e(f)}var e=Uf.multiscaleFormatter(Uf.Y_TOOLTIP_FORMATTER_PRECISION);return[{title:"Name",evaluate:function(f){return f.dataset.metadata().name}},{title:"Smoothed",evaluate:function(f,g){return d(g&&g.smoothingEnabled?f.datum.smoothed:f.datum.scalar)}},{title:"Value",evaluate:function(f){return d(f.datum.scalar)}},{title:"Step",evaluate:function(f){return Uf.stepFormatter(f.datum.step)}},
{title:"Time",evaluate:function(f){return Uf.timeFormatter(f.datum.wall_time)}},{title:"Relative",evaluate:function(f){return Uf.relativeFormatter(Uf.relativeAccessor(f.datum,-1,f.dataset))}}]}},fillArea:Object,defaultXRange:Array,defaultYRange:Array,_tooltipTableHeaderHtml:{type:String,computed:"_computeTooltipTableHeaderHtml(tooltipColumns)"},yScaleType:{type:String,value:"linear"},ignoreYOutliers:{type:Boolean,value:!1},tooltipSortingMethod:{type:String,value:"default"},tooltipPosition:{type:String,
value:"bottom"},seriesWithoutTooltips:{type:Array,value:function(){return[]}},_attached:Boolean,_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,value:function(){return{}}},_makeChartAsyncCallbackId:{type:Number,value:null}},observers:"_makeChart(xComponentsCreationMethod, xType, yValueAccessor, yScaleType, tooltipColumns, colorScale, seriesWithoutTooltips, _attached);_reloadFromCache(_chart);_smoothingChanged(smoothingEnabled, smoothingWeight, _chart);_tooltipSortingMethodChanged(tooltipSortingMethod, _chart);_tooltipPositionChanged(tooltipPosition, _chart);_outliersChanged(ignoreYOutliers, _chart)".split(";"),
setVisibleSeries:function(d){this._visibleSeriesCache=d;this._chart&&(this._chart.setVisibleSeries(d),this.redraw())},setSeriesData:function(d,e){this._seriesDataCache[d]=e;this._chart&&this._chart.setSeriesData(d,e)},resetDomain:function(){this._chart&&this._chart.resetDomain()},redraw:function(){this._chart&&this._chart.redraw()},attached:function(){this._attached=!0},detached:function(){this._chart&&this._chart.destroy();this._attached=!1},ready:function(){this.scopeSubtree(this.$.tooltip,!0);
this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(d,e,f,g,h,k){e||d?e&&(d=function(){return Uf.getXComponents(e)}):d=Uf.stepX;null!==this._makeChartAsyncCallbackId&&(this.cancelAsync(this._makeChartAsyncCallbackId),this._makeChartAsyncCallbackId=null);this._makeChartAsyncCallbackId=this.async(function(){this._makeChartAsyncCallbackId=null;if(this._attached&&d&&this.yValueAccessor&&this.tooltipColumns){var l=d3.select(this.$.tooltip);l=new c(d,this.yValueAccessor,g,k,l,this.tooltipColumns,
this.fillArea,this.defaultXRange,this.defaultYRange,this.symbolFunction,this.xAxisFormatter,this.yAxisFormatter,this.seriesWithoutTooltips);var n=d3.select(this.$.chartdiv);l.renderTo(n);this._chart&&this._chart.destroy();this._chart=l}},350)},_reloadFromCache:function(){this._chart&&(this._chart.setVisibleSeries(this._visibleSeriesCache),this._visibleSeriesCache.forEach(function(d){this._chart.setSeriesData(d,this._seriesDataCache[d]||[])}.bind(this)))},_smoothingChanged:function(){this._chart&&
(this.smoothingEnabled?this._chart.smoothingUpdate(this.smoothingWeight):this._chart.smoothingDisable())},_outliersChanged:function(){this._chart&&this._chart.ignoreYOutliers(this.ignoreYOutliers)},_tooltipSortingMethodChanged:function(){this._chart&&this._chart.setTooltipSortingMethod(this.tooltipSortingMethod)},_tooltipPositionChanged:function(){this._chart&&this._chart.setTooltipPosition(this.tooltipPosition)},_computeTooltipTableHeaderHtml:function(d){var e=this;return[""].concat(_.map(d,"title")).map(function(f){return"\x3cth\x3e"+
e._sanitize(f)+"\x3c/th\x3e"}).join("")},_sanitize:function(d){return d.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/&/g,"\x26amp;")}});var c=function(){function d(e,f,g,h,k,l,n,p,q,r,t,v,u){this.seriesNames=[];this.name2datasets={};this.colorScale=h;this.tooltip=k;this.datasets=[];this._ignoreYOutliers=!1;this.lastPointsDataset=new Plottable.Dataset;this.nanDataset=new Plottable.Dataset;this.yValueAccessor=f;this.symbolFunction=r;this.onDatasetChanged=this._onDatasetChanged.bind(this);
this._defaultXRange=p;this._defaultYRange=q;this.tooltipColumns=l;this.seriesWithoutTooltips=u;this.buildChart(e,f,g,n,t,v)}d.prototype.buildChart=function(e,f,g,h,k,l){this.outer&&this.outer.destroy();e=e();this.xAccessor=e.accessor;this.xScale=e.scale;this.xAxis=e.axis;this.xAxis.margin(0).tickLabelPadding(3);k&&this.xAxis.formatter(k);this.yScale=d.getYScaleFromType(g);this.yAxis=new Plottable.Axes.Numeric(this.yScale,"left");this.yAxis.margin(0).tickLabelPadding(5);this.yAxis.formatter(l?l:Uf.multiscaleFormatter(Uf.Y_AXIS_FORMATTER_PRECISION));
this.yAxis.usesTextWidthApproximation();this.fillArea=h;this.dzl=new a.DragZoomLayer(this.xScale,this.yScale,this.resetYDomain.bind(this));this.tooltipInteraction=this.createTooltipInteraction(this.dzl);this.tooltipPointsComponent=new Plottable.Component;g=this.buildPlot(this.xScale,this.yScale,h);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);h=new Plottable.Components.GuideLineLayer("horizontal");h.scale(this.yScale).value(0);k=new Plottable.Components.GuideLineLayer("vertical");
k.scale(this.xScale).value(0);this.center=new Plottable.Components.Group([this.gridlines,h,k,g,this.dzl,this.tooltipPointsComponent]);this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};d.prototype.buildPlot=function(e,f,g){var h=this;g&&(this.marginAreaPlot=new Plottable.Plots.Area,this.marginAreaPlot.x(this.xAccessor,e),this.marginAreaPlot.y(g.higherAccessor,f),this.marginAreaPlot.y0(g.lowerAccessor),this.marginAreaPlot.attr("fill",function(p,q,r){return h.colorScale.scale(r.metadata().name)}),
this.marginAreaPlot.attr("fill-opacity",.3),this.marginAreaPlot.attr("stroke-width",0));this.smoothedAccessor=function(p){return p.smoothed};g=new Plottable.Plots.Line;g.x(this.xAccessor,e);g.y(this.yValueAccessor,f);g.attr("stroke",function(p,q,r){return h.colorScale.scale(r.metadata().name)});this.linePlot=g;this.setupTooltips(g);var k=new Plottable.Plots.Line;k.x(this.xAccessor,e);k.y(this.smoothedAccessor,f);k.attr("stroke",function(p,q,r){return h.colorScale.scale(r.metadata().name)});this.smoothLinePlot=
k;if(this.symbolFunction){var l=new Plottable.Plots.Scatter;l.x(this.xAccessor,e);l.y(this.yValueAccessor,f);l.attr("fill",function(p,q,r){return h.colorScale.scale(r.metadata().name)});l.attr("opacity",1);l.size(2*Uf.TOOLTIP_CIRCLE_SIZE);l.symbol(function(p,q,r){return h.symbolFunction(r.metadata().name)});this.markersScatterPlot=l}l=new Plottable.Plots.Scatter;l.x(this.xAccessor,e);l.y(this.yValueAccessor,f);l.attr("fill",function(p){return h.colorScale.scale(p.name)});l.attr("opacity",1);l.size(2*
Uf.TOOLTIP_CIRCLE_SIZE);l.datasets([this.lastPointsDataset]);this.scatterPlot=l;var n=new Plottable.Plots.Scatter;n.x(this.xAccessor,e);n.y(function(p){return p.displayY},f);n.attr("fill",function(p){return h.colorScale.scale(p.name)});n.attr("opacity",1);n.size(2*Uf.NAN_SYMBOL_SIZE);n.datasets([this.nanDataset]);n.symbol(Plottable.SymbolFactories.triangle);this.nanDisplay=n;e=[n,l,k,g];this.marginAreaPlot&&e.push(this.marginAreaPlot);this.markersScatterPlot&&e.push(this.markersScatterPlot);return new Plottable.Components.Group(e)};
d.prototype._onDatasetChanged=function(e){this.smoothingEnabled&&this.resmoothDataset(e);this.updateSpecialDatasets()};d.prototype.ignoreYOutliers=function(e){e!==this._ignoreYOutliers&&(this._ignoreYOutliers=e,this.updateSpecialDatasets(),this.resetYDomain())};d.prototype.updateSpecialDatasets=function(){var e=this.getYAxisAccessor(),f=this.datasets.map(function(g){var h=null,k=g.data().filter(function(l){return!isNaN(e(l,-1,g))});0<k.length&&(h=k[k.length-1],h.name=g.metadata().name,h.relative=
Uf.relativeAccessor(h,-1,g));return h}).filter(function(g){return null!=g});this.lastPointsDataset.data(f);this.markersScatterPlot&&this.markersScatterPlot.datasets(this.datasets.map(this.createSampledDatasetForMarkers));f=_.flatten(this.datasets.map(function(g){for(var h=null,k=g.data(),l=0;l<k.length&&null==h;)isNaN(e(k[l],-1,g))||(h=e(k[l],-1,g)),l++;null==h&&(h=0);var n=[];for(l=0;l<k.length;l++)isNaN(e(k[l],-1,g))?(k[l].name=g.metadata().name,k[l].displayY=h,k[l].relative=Uf.relativeAccessor(k[l],
-1,g),n.push(k[l])):h=e(k[l],-1,g);return n}));this.nanDataset.data(f)};d.prototype.resetDomain=function(){this.resetXDomain();this.resetYDomain()};d.prototype.resetXDomain=function(){if(null!=this._defaultXRange)var e=this._defaultXRange;else e=this.xScale,e._domainMin=null,e._domainMax=null,e=e._getExtent();this.xScale.domain(e)};d.prototype.resetYDomain=function(){if(null!=this._defaultYRange)var e=this._defaultYRange;else{var f=this.getAccessorsForComputingYRange();e=_.flattenDeep(this.datasets.map(function(g){return f.map(function(h){return g.data().map(function(k){return h(k,
-1,g)})})})).filter(isFinite);e=Uf.computeDomain(e,this._ignoreYOutliers)}this.yScale.domain(e)};d.prototype.getAccessorsForComputingYRange=function(){var e=[this.getYAxisAccessor()];this.fillArea&&e.push(this.fillArea.lowerAccessor,this.fillArea.higherAccessor);return e};d.prototype.getYAxisAccessor=function(){return this.smoothingEnabled?this.smoothedAccessor:this.yValueAccessor};d.prototype.createTooltipInteraction=function(e){var f=this,g=new Plottable.Interactions.Pointer;e.interactionStart(function(){g.enabled(!1);
f.hideTooltips()});e.interactionEnd(function(){return g.enabled(!0)});g.onPointerMove(function(h){if(f.linePlot){var k={x:h.x,y:h.y,datum:null,dataset:null},l=f.gridlines.content().node().getBBox();h=f.linePlot.datasets().map(function(r){return f.findClosestPoint(k,r)}).filter(Boolean);var n=Plottable.Utils.DOM.intersectsBBox,p=h.filter(function(r){return(n(r.x,r.y,l)||isNaN(f.yValueAccessor(r.datum,0,r.dataset)))&&(!f.seriesWithoutTooltips||-1==f.seriesWithoutTooltips.indexOf(r.dataset.metadata().name))}),
q=p.filter(function(r){return!isNaN(f.yValueAccessor(r.datum,0,r.dataset))});q=f.tooltipPointsComponent.content().selectAll(".point").data(q,function(r){return r.dataset.metadata().name});0!==h.length?(q.enter().append("circle").classed("point",!0),q.attr("r",Uf.TOOLTIP_CIRCLE_SIZE).attr("cx",function(r){return r.x}).attr("cy",function(r){return r.y}).style("stroke","none").attr("fill",function(r){return f.colorScale.scale(r.dataset.metadata().name)}),q.exit().remove(),f.drawTooltips(p,k,f.tooltipColumns)):
f.hideTooltips()}});g.onPointerExit(function(){return f.hideTooltips()});return g};d.prototype.hideTooltips=function(){this.tooltip.style("opacity",0);this.scatterPlot.attr("opacity",1);this.tooltipPointsComponent.content().selectAll(".point").remove()};d.prototype.setupTooltips=function(e){var f=this;e.onDetach(function(){f.tooltipInteraction.detachFrom();f.tooltipInteraction.enabled(!1)});e.onAnchor(function(){f.tooltipInteraction.attachTo(e);f.tooltipInteraction.enabled(!0)})};d.prototype.drawTooltips=
function(e,f,g){function h(r){return Math.pow(r.x-f.x,2)+Math.pow(r.y-f.y,2)}var k=this;this.scatterPlot.attr("opacity",0);var l=_.min(e.map(h)),n=this.yValueAccessor;this.smoothingEnabled&&(n=this.smoothedAccessor);e="ascending"===this.tooltipSortingMethod?_.sortBy(e,function(r){return n(r.datum,-1,r.dataset)}):"descending"===this.tooltipSortingMethod?_.sortBy(e,function(r){return n(r.datum,-1,r.dataset)}).reverse():"nearest"===this.tooltipSortingMethod?_.sortBy(e,h):e.slice(0).reverse();var p=this.tooltip.select("tbody").html("").selectAll("tr").data(e).enter().append("tr");
p.classed("distant",function(r){var t=r.dataset.data()[0],v=_.last(r.dataset.data());t=k.xScale.scale(k.xAccessor(t,0,r.dataset));v=k.xScale.scale(k.xAccessor(v,0,r.dataset));r=k.smoothingEnabled?r.datum.smoothed:k.yValueAccessor(r.datum,0,r.dataset);return f.x<t||f.x>v||isNaN(r)});p.classed("closest",function(r){return h(r)===l});p.style("white-space","nowrap");p.append("td").append("span").classed("swatch",!0).style("background-color",function(r){return k.colorScale.scale(r.dataset.metadata().name)});
_.each(g,function(r){p.append("td").text(function(t){return r.evaluate(t,{smoothingEnabled:k.smoothingEnabled})})});g=document.body.clientWidth;var q=this.tooltip.node();e=q.parentElement.getBoundingClientRect();q=q.getBoundingClientRect();g=g-e.left-q.width-60;q=0;"right"===this.tooltipPosition?g=Math.min(e.width,g):(g=Math.min(0,g),q=e.height+Uf.TOOLTIP_Y_PIXEL_OFFSET);this.tooltip.style("transform","translate("+g+"px,"+q+"px)");this.tooltip.style("opacity",1)};d.prototype.findClosestPoint=function(e,
f){var g=this,h=f.data().map(function(n,p){var q=g.xAccessor(n,p,f);p=g.smoothingEnabled?g.smoothedAccessor(n,p,f):g.yValueAccessor(n,p,f);return{x:g.xScale.scale(q),y:g.yScale.scale(p),datum:n,dataset:f}}),k=b(h,e,function(n){return n.x});if(k===h.length)return h[h.length-1];if(0===k)return h[0];var l=h[k-1];h=h[k];return Math.abs(l.x-e.x)<Math.abs(h.x-e.x)?l:h};d.prototype.resmoothDataset=function(e){var f=this,g=e.data(),h=this.smoothingWeight,k=0<g.length?0:NaN,l=0,n=g.map(function(q,r){return f.yValueAccessor(q,
r,e)}),p=n.every(function(q){return q==n[0]});g.forEach(function(q,r){r=n[r];p||!Number.isFinite(r)?q.smoothed=r:(k=k*h+(1-h)*r,l++,r=1,1!==h&&(r=1-Math.pow(h,l)),q.smoothed=k/r)})};d.prototype.getDataset=function(e){void 0===this.name2datasets[e]&&(this.name2datasets[e]=new Plottable.Dataset([],{name:e}));return this.name2datasets[e]};d.getYScaleFromType=function(e){if("log"===e)return new Plottable.Scales.ModifiedLog;if("linear"===e)return new Plottable.Scales.Linear;throw Error("Unrecognized yScale type "+
e);};d.prototype.setVisibleSeries=function(e){var f=this;this.seriesNames=e=e.sort();e.reverse();this.datasets.forEach(function(g){return g.offUpdate(f.onDatasetChanged)});this.datasets=e.map(function(g){return f.getDataset(g)});this.datasets.forEach(function(g){return g.onUpdate(f.onDatasetChanged)});this.linePlot.datasets(this.datasets);this.smoothingEnabled&&this.smoothLinePlot.datasets(this.datasets);this.marginAreaPlot&&this.marginAreaPlot.datasets(this.datasets);this.updateSpecialDatasets()};
d.prototype.createSampledDatasetForMarkers=function(e){var f=e.data();if(20>=f.length)return e;for(var g=Math.ceil(f.length/20),h=Array(Math.floor(f.length/g)),k=0,l=0;k<h.length;k++,l+=g)h[k]=f[l];return new Plottable.Dataset(h,e.metadata())};d.prototype.setSeriesData=function(e,f){this.getDataset(e).data(f)};d.prototype.smoothingUpdate=function(e){var f=this;this.smoothingWeight=e;this.datasets.forEach(function(g){return f.resmoothDataset(g)});this.smoothingEnabled||(this.linePlot.addClass("ghost"),
this.scatterPlot.y(this.smoothedAccessor,this.yScale),this.smoothingEnabled=!0,this.smoothLinePlot.datasets(this.datasets));this.markersScatterPlot&&this.markersScatterPlot.y(this.getYAxisAccessor(),this.yScale);this.updateSpecialDatasets()};d.prototype.smoothingDisable=function(){this.smoothingEnabled&&(this.linePlot.removeClass("ghost"),this.scatterPlot.y(this.yValueAccessor,this.yScale),this.smoothLinePlot.datasets([]),this.smoothingEnabled=!1,this.updateSpecialDatasets());this.markersScatterPlot&&
this.markersScatterPlot.y(this.getYAxisAccessor(),this.yScale)};d.prototype.setTooltipSortingMethod=function(e){this.tooltipSortingMethod=e};d.prototype.setTooltipPosition=function(e){this.tooltipPosition=e};d.prototype.renderTo=function(e){this.targetSVG=e;this.outer.renderTo(e);null!=this._defaultXRange&&this.resetXDomain();null!=this._defaultYRange&&this.resetYDomain()};d.prototype.redraw=function(){this.outer.redraw()};d.prototype.destroy=function(){this.outer&&this.outer.destroy()};return d}()})(Wf||
(Wf={}));
</script>
</dom-module>




<dom-module id="tf-confusion-matrix">
  <template>
    <style>
      table {
        display: inline-block;
      }
      td {
        text-align: right;
      }
      th, td {
        font-size: 14px;
        padding: 3px;
        font-weight: normal;
      }
      .flex {
        display: flex;
        flex-direction: row-reverse;
      }
      .pred-label {
        text-align: left;
        font-size: 10px;
      }
      .total-label {
        color: #5F6368;
        font-size: 10px;
        text-align: left;
      }
      .total-cell {
        color: #5F6368;
      }
      .actual-label {
        text-align: right;
        font-size: 10px;
      }
      .n-label {
        font-size: 10px;
        vertical-align: bottom;
      }
      .value-cell {
        color: #202124;
        border: 1px solid lightgrey;
      }
      .parenthetical {
        padding-right: 5px;
        width: 50px;
      }
    </style>
    <div id="holder"></div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-confusion-matrix.html.js
Polymer({is:"tf-confusion-matrix",properties:{counts:Object,allItems:{type:Array,value:function(){return[]}},label:String,background:{type:Object,value:d3.color("gray")}},observers:["drawMatrix(counts, allItems)"],ready:function(){this.scopeSubtree(this.$.holder,!0)},drawMatrix:function(a,b){var c=this;this.$.holder.innerHTML="";if(a){var d=b;if(null==d||0==d.length){b=new Set;for(var e=Object.keys(a),f=0;f<e.length;f++){b.add(e[f]);for(var g=Object.keys(a[e[f]]),h=0;h<g.length;h++)b.add(g[h])}d=
Array.from(b.values())}d=d.sort();2==d.length&&"No"==d[0]&&"Yes"==d[1]&&(d=d.reverse());var k=Array(d.length);_.fill(k,0);var l=[];for(b=0;b<d.length;b++)e=Array(d.length),_.fill(e,0),l.push(e);for(b=0;b<d.length;b++)for(e=0;e<d.length;e++)f=d[b],g=d[e],f in a&&g in a[f]&&(l[b][e]=a[f][g]);a=[];var n=0;for(b=0;b<l.length;b++)for(e=l[b].reduce(function(p,q){return p+q},0),a.push([0].concat(l[b]).concat([e])),e=0;e<l.length;e++)k[e]+=l[b][e],n+=l[b][e];b=this.getIndices(l.length+2);g=d3.select(this.$.holder).append("table");
e=g.append("thead");f=g.append("tbody");g=g.append("tfoot");e.append("tr").selectAll("th").data(b).enter().append("th").text(function(p){return 0==p?c.label:p<=l.length?"Predicted "+d[p-1]:"Total"}).attr("class",function(p){return 0==p?"n-label":p<=l.length?"pred-label":"total-label"});a=f.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(function(p,q){return p.map(function(r,t){return 0==t?{value:"Actual "+d[q]}:{value:r,row:q}})}).enter().append("td").attr("class",function(p,q){return 0==
q?"actual-label":q<=l.length?"value-cell":"total-cell"}).style("background",function(p,q){if(0==q||q>l.length)return"#FFFFFF";q=c.background;q.opacity=p.value/n;return q+""}).append("div").classed("flex",!0);a.append("div").classed("parenthetical",function(p,q){return!!q}).text(function(p){return"row"in p?"("+p.value+")":""});a.append("div").text(function(p,q){return 0<q?d3.format(",.1%")(p.value/n):p.value});a=g.append("tr").selectAll("td").data(b).enter().append("td");a.classed("total-label",function(p,
q){return 0==q});a.classed("total-cell",function(p,q){return 0!=q});a=a.append("div").classed("flex",!0);a.append("div").classed("parenthetical",function(p,q){return!!q}).text(function(p){return 0==p?"Total":p<=l.length?"("+k[p-1]+")":""});a.append("div").text(function(p){return 0==p?"":p<=l.length?d3.format(",.1%")(k[p-1]/n):""})}},getIndices:function(a){return Array.apply(null,{length:a}).map(Number.call,Number)}});
</script>
</dom-module>





<dom-module id="tf-inference-viewer">
  <template>
    <style>
      :host {
        display: block;
      }
      .runs-holder {
        padding: 0;
        display: flex;
        flex-direction: column-reverse;
        overflow-y: auto;
        max-height: 200px;
      }
      .row {
        display: flex;
        color: #3C4043;
        font-size: 12px;
      }
      .header {
        color: #80868B;
        font-size: 12px;
        padding: 4px 0;
        border-bottom: solid 1px #DADCE0;
        border-top: solid 1px #DADCE0;
      }
      .dark-row-one {
        background: #cbf0f8;
      }
      .dark-row-two {
        background: #fff3e0;
      }
      .white-row {
        background: white;
      }
      .marker {
        flex: 0.5;
        margin-right: 5px;
      }
      .marker.mark-one {
        background: #007B83;
        padding-left: 1px;
      }
      .marker.mark-two {
        background: #ff9800;
        padding-left: 1px;
      }
      .run {
        flex: 10;
      }
      .multi-model {
        flex: 10;
      }
      .one-model {
        display: none;
      }
      .show-label {
        flex: 20;
        display: flex;
        overflow: hidden;
      }
      .no-label {
        display: none;
      }
      .score {
        flex: 10;
      }
      .arrow {
        flex: 2;
      }
      .delta {
        flex: 10;
      }
      .text {
        margin-top: 4px;
      }
      .green {
        color: green;
      }
      .red {
        color: red;
      }
    </style>
    <div class="row header">
      <div class="marker"></div>
      <div class="run">Run</div>
      <div class$="[[getModelHeaderClass(inferences)]]">Model</div>
      <div class$="[[getLabelHeaderClass(modelType)]]">Label</div>
      <div class="score">[[getScoreLabel(modelType)]]</div>
      <div class="arrow"></div>
      <div class="delta">Delta</div>
    </div>
    <div class="runs-holder">
      <template is="dom-repeat" items="[[inferences]]" as="modelsInference" index-as="runindex">
        <div class="rows-for-run">
          <template is="dom-repeat" items="[[modelsInference]]" as="inference" index-as="modelindex">
            <template is="dom-repeat" items="[[getInferenceList(inference, maxEntriesPerRun)]]">
              <div class$="[[getRowClass(runindex, inferences, modelindex)]]">
                <div class$="[[getMarkerClass(runindex, inferences, modelindex)]]"></div>
                <div class="run text">[[getRunNumber(runindex)]]</div>
                <div class$="[[getModelClass(inferences)]]">
                  <div>[[getModelName(modelNames, modelindex)]]</div>
                </div>
                <div class$="[[getLabelClass(modelType)]]">
                  <div>[[getLabel(item)]]</div>
                </div>
                <div class="score text">[[getPrintableScore(item.score)]]</div>
                <div class="arrow">
                  <iron-icon icon="[[getIcon(runindex, index, modelindex)]]" class$="[[getIconClass(runindex, index, modelindex)]]">
                  </iron-icon>
                </div>
                <div class="delta text">[[getPrintableDelta(runindex, index, modelindex)]]</div>
              </div>
            </template>
        </template></div>
      </template>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-inference-viewer.html.js
Polymer({is:"tf-inference-viewer",properties:{inferences:Array,modelType:String,modelNames:Array,maxEntriesPerRun:{type:Number,value:5}},getLabel:function(a){var b=a.label;a.vocabLabel&&(b+=" ("+a.vocabLabel+")");return b},getLabelClass:function(a){return"classification"==a?"show-label text":"no-label"},getLabelHeaderClass:function(a){return"classification"==a?"show-label":"no-label"},getModelClass:function(a){return a&&1<a[0].length?"multi-model text":"one-model"},getModelHeaderClass:function(a){return a&&
1<a[0].length?"multi-model":"one-model"},getScoreLabel:function(a){return"classification"==a?"Score":"Value"},getIconClass:function(a,b,c){return this.getIconDecision(a,b,c,"green","red")},getIcon:function(a,b,c){return this.getIconDecision(a,b,c,"icons:arrow-upward","icons:arrow-downward")},getIconDecision:function(a,b,c,d,e){if(0==a)return"";var f=this.inferences[a][c][b].label;b=this.inferences[a][c][b].score;a=this.inferences[a-1][c];for(c=0;c<a.length;c++)if(a[c].label==f){if(a[c].score>b)return e;
if(a[c].score<b)break;return""}return d},getRunNumber:function(a){return a+1},getModelName:function(a,b){return a[b]},getMarkerClass:function(a,b,c){return"marker"+(a==b.length-1?0==c?" mark-one":" mark-two":"")},getRowClass:function(a,b,c){var d="row ";return d=a==b.length-1?d+(0==c?"dark-row-one":"dark-row-two"):d+"white-row"},getInference:function(a){return a},getPrintableScore:function(a){return a.toFixed(3)},getPrintableDelta:function(a,b,c){if(0==a)return"";var d=this.inferences[a][c][b].label;
b=this.inferences[a][c][b].score;a=this.inferences[a-1][c];for(c=0;c<a.length;c++)if(a[c].label==d)return(b-a[c].score).toFixed(6);return""},getInferenceList:function(a,b){return a.slice(0,b)}});
</script>
</dom-module>











<dom-module id="paper-checkbox">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        white-space: nowrap;
        cursor: pointer;
        --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);
        /* -1px is a sentinel for the default and is replaced in `attached`. */
        --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);
        @apply --paper-font-common-base;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:focus) {
        outline: none;
      }

      .hidden {
        display: none;
      }

      #checkboxContainer {
        display: inline-block;
        position: relative;
        width: var(--calculated-paper-checkbox-size);
        height: var(--calculated-paper-checkbox-size);
        min-width: var(--calculated-paper-checkbox-size);
        margin: var(--paper-checkbox-margin, initial);
        vertical-align: var(--paper-checkbox-vertical-align, middle);
        background-color: var(--paper-checkbox-unchecked-background-color, transparent);
      }

      #ink {
        position: absolute;

        /* Center the ripple in the checkbox by negative offsetting it by
         * (inkWidth - rippleWidth) / 2 */
        top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        width: var(--calculated-paper-checkbox-ink-size);
        height: var(--calculated-paper-checkbox-ink-size);
        color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));
        opacity: 0.6;
        pointer-events: none;
      }

      #ink:dir(rtl) {
        right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: auto;
      }

      #ink[checked] {
        color: var(--paper-checkbox-checked-ink-color, var(--primary-color));
      }

      #checkbox {
        position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
      }

      /* checkbox checked animations */
      #checkbox.checked #checkmark {
        -webkit-animation: checkmark-expand 140ms ease-out forwards;
        animation: checkmark-expand 140ms ease-out forwards;
      }

      @-webkit-keyframes checkmark-expand {
        0% {
          -webkit-transform: scale(0, 0) rotate(45deg);
        }
        100% {
          -webkit-transform: scale(1, 1) rotate(45deg);
        }
      }

      @keyframes checkmark-expand {
        0% {
          transform: scale(0, 0) rotate(45deg);
        }
        100% {
          transform: scale(1, 1) rotate(45deg);
        }
      }

      #checkbox.checked {
        background-color: var(--paper-checkbox-checked-color, var(--primary-color));
        border-color: var(--paper-checkbox-checked-color, var(--primary-color));
      }

      #checkmark {
        position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-color: var(--paper-checkbox-checkmark-color, white);
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box; /* protect against page-level box-sizing */
      }

      #checkmark:dir(rtl) {
        -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
      }

      /* label */
      #checkboxLabel {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: var(--paper-checkbox-label-spacing, 8px);
        white-space: normal;
        line-height: normal;
        color: var(--paper-checkbox-label-color, var(--primary-text-color));
        @apply --paper-checkbox-label;
      }

      :host([checked]) #checkboxLabel {
        color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));
        @apply --paper-checkbox-label-checked;
      }

      #checkboxLabel:dir(rtl) {
        padding-right: var(--paper-checkbox-label-spacing, 8px);
        padding-left: 0;
      }

      #checkboxLabel[hidden] {
        display: none;
      }

      /* disabled state */

      :host([disabled]) #checkbox {
        opacity: 0.5;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
      }

      :host([disabled][checked]) #checkbox {
        background-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        opacity: 0.5;
      }

      :host([disabled]) #checkboxLabel  {
        opacity: 0.65;
      }

      /* invalid state */
      #checkbox.invalid:not(.checked) {
        border-color: var(--paper-checkbox-error-color, var(--error-color));
      }
    </style>

    <div id="checkboxContainer">
      <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">
        <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>
      </div>
    </div>

    <div id="checkboxLabel"><slot></slot></div>
  </template>

  <script>//~~WEBPATH~~/paper-checkbox/paper-checkbox.html.js
Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),b="px",c=a.match(/[A-Za-z]+$/);null!==c&&(b=c[0]);a=parseFloat(a);
c=8/3*a;"px"===b&&(c=Math.floor(c),c%2!==a%2&&c++);this.updateStyles({"--paper-checkbox-ink-size":c+b})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
</script>
</dom-module>









<script>//~~WEBPATH~~/facets-dive/lib/bounded-object.js
/*

 Copyright 2017 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Xf,Yf=Xf||(Xf={});Yf[Yf.Bottom=0]="Bottom";Yf[Yf.Left=1]="Left";Yf[Yf.Right=2]="Right";Yf[Yf.Top=3]="Top";
var Zf=function(){function a(){}a.prototype.shouldBeVisible=function(b,c,d,e){if(void 0!==this.minScale)return this.scaleDown||c>=this.minScale;if(!this.boundingBox)return!0;var f=this.boundingBox;if(f.left>d.x+e.right||f.right<d.x+e.left||f.bottom>d.y+e.top||f.top<d.y+e.bottom)return!1;e=this.elementMargin||{bottom:0,left:0,right:0,top:0};d=void 0===this.width?b.getBoundingClientRect().width+e.left+e.right:this.width;b=void 0===this.height?b.getBoundingClientRect().height+e.top+e.bottom:this.height;
e=isFinite(f.top)&&isFinite(f.bottom)?f.top-f.bottom:Infinity;return(isFinite(f.left)&&isFinite(f.right)?f.right-f.left:Infinity)*c>=d&&e*c>=b};return a}();
</script>

<script>//~~WEBPATH~~/facets-dive/lib/sorting.js
function $f(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:"string"!==typeof a?-1:"string"!==typeof b?1:a.localeCompare(b):a===b?0:void 0===a?-1:1}
function ag(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:b-a:"string"!==typeof a?-1:"string"!==typeof b?1:-a.localeCompare(b):a===b?0:void 0===a?-1:1}
function bg(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"string"===typeof a&&"string"===typeof b?a.localeCompare(b):"number"!==typeof a?-1:"number"!==typeof b?1:isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:a===b?0:void 0===a?-1:1};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/grid.js
function cg(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);return 1<a?b%a/(a-1):0}function dg(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);c=Math.ceil(c.items.length/a);return 1<c?Math.floor(b/a)/(c-1):0}
function eg(a,b){var c="right"===b?1:"middle"===b?.5:0,d="top"===a?1:"middle"===a?.5:0;return function(e,f,g,h){var k=g.innerWidth-h.itemAspectRatio,l=g.innerHeight-1;return{x:cg(e,f,g,h)/k*(g.minWidth-h.itemAspectRatio)+c*(g.innerWidth-g.minWidth)/k,y:dg(e,f,g,h)/l*(g.minHeight-1)+d*(g.innerHeight-g.minHeight)/l}}}var fg=eg("bottom","left"),gg,hg=gg||(gg={});hg[hg.Tight=0]="Tight";hg[hg.Uniform=1]="Uniform";
var ig=function(){function a(b){this.items=b;this.cellMargin=this.itemAspectRatio=1;this.cellPadding={bottom:0,left:0,right:0,top:0};this.targetGridAspectRatio=1;this.minCellAspectRatio=0;this.maxCellAspectRatio=Infinity;this.verticalFacet=function(){return null};this.horizontalFacet=function(){return null};this.verticalKeyCompare=ag;this.horizontalKeyCompare=$f;this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=
0;this.itemPositionSetter=function(c,d,e){c.x=d;c.y=e};this.computeItemPosition=fg;this.horizontalGridAlignment=this.verticalGridAlignment=gg.Tight;this.cellItemComparator=null}a.prototype.clear=function(){this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=0};a.prototype.arrange=function(){var b=this;this.facetItemsIntoCells();var c=this.computeOptimalCellAspectRatio(this.targetGridAspectRatio),
d=Math.min(this.maxCellAspectRatio,Math.max(this.minCellAspectRatio,c));c=[];for(var e=[],f=0;f<this.verticalKeys.length;f++)for(var g=0;g<this.horizontalKeys.length;g++){var h=this.getOrCreateCell(this.verticalKeys[f],this.horizontalKeys[g]);var k=this.computeCellDimensions(d,h.items.length);h.minWidth=k[0];h.minHeight=k[1];c[f]=Math.max(c[f]||0,h.minHeight);e[g]=Math.max(e[g]||0,h.minWidth)}for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=this.getCell(this.verticalKeys[f],
this.horizontalKeys[g]),f<this.verticalKeys.length-1&&(h.siblings.above=this.getCell(this.verticalKeys[f+1],this.horizontalKeys[g])),0<f&&(h.siblings.below=this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g])),0<g&&(h.siblings.left=this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1])),g<this.horizontalKeys.length-1&&(h.siblings.right=this.getCell(this.verticalKeys[f],this.horizontalKeys[g+1]));if(this.verticalGridAlignment===gg.Uniform)for(g=Math.max.apply(Math,c),f=0;f<c.length;f++)c[f]=
g;if(this.horizontalGridAlignment===gg.Uniform)for(f=Math.max.apply(Math,e),g=0;g<e.length;g++)e[g]=f;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),h.height=c[f],h.width=e[g],h.innerHeight=h.height-this.cellPadding.top-this.cellPadding.bottom,h.innerWidth=h.width-this.cellPadding.left-this.cellPadding.right;k=this.cellMargin*this.itemAspectRatio;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=
this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),h.y=f?this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g]).y+c[f-1]+k:0,h.contentY=h.y+this.cellPadding.bottom,h.x=g?this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1]).x+e[g-1]+k:0,h.contentX=h.x+this.cellPadding.left;this.eachCell(function(l){b.width=Math.max(b.width,l.x+l.width);b.height=Math.max(b.height,l.y+l.height)});this.positionItems()};a.prototype.positionItems=function(){var b=this;this.eachCell(function(c){var d=
Math.max(0,c.innerWidth-b.itemAspectRatio),e=Math.max(0,c.innerHeight-1),f=c.items.slice(0);b.cellItemComparator&&f.sort(b.cellItemComparator);for(var g=0;g<f.length;g++){var h=b.computeItemPosition(f[g],g,c,b);b.itemPositionSetter(f[g],c.contentX+(!h||isNaN(h.x)?0:Math.max(0,Math.min(1,h.x)))*d,c.contentY+(!h||isNaN(h.y)?0:Math.max(0,Math.min(1,h.y)))*e)}})};a.prototype.facetItemsIntoCells=function(){var b=this;this.clear();this.eachItem(function(d){var e=b.getOrCreateCell(b.verticalFacet(d),b.horizontalFacet(d));
e.items.push(d);b.longestCellLength=Math.max(b.longestCellLength,e.items.length)});for(var c in this.verticalKeysHash)this.verticalKeys.push(this.verticalKeysHash[c]);this.verticalKeys.sort(this.verticalKeyCompare);for(c in this.horizontalKeysHash)this.horizontalKeys.push(this.horizontalKeysHash[c]);this.horizontalKeys.sort(this.horizontalKeyCompare)};a.prototype.eachItem=function(b){if(this.items)for(var c=0;c<this.items.length;c++)b.call(this,this.items[c])};a.prototype.eachCell=function(b){for(var c in this.cells)b.call(this,
this.cells[c])};a.prototype.getCompoundKey=function(b,c){return typeof b+"\u001f"+b+"\u001e"+typeof c+"\u001f"+c};a.prototype.getCell=function(b,c){b=this.getCompoundKey(b,c);return b in this.cells?this.cells[b]:null};a.prototype.getCells=function(){var b=this;return Object.keys(this.cells).map(function(c){return b.cells[c]})};a.prototype.getOrCreateCell=function(b,c){var d=this.getCell(b,c);if(d)return d;this.addVerticalKey(b);this.addHorizontalKey(c);var e=this.getCompoundKey(b,c);d={verticalKey:b,
horizontalKey:c,compoundKey:e,items:[],siblings:{}};return this.cells[e]=d};a.prototype.getRow=function(b){for(var c=[],d=0;d<this.horizontalKeys.length;d++){var e=this.getCell(b,this.horizontalKeys[d]);e&&c.push(e)}return c};a.prototype.getColumn=function(b){for(var c=[],d=0;d<this.verticalKeys.length;d++){var e=this.getCell(this.verticalKeys[d],b);e&&c.push(e)}return c};a.prototype.addVerticalKey=function(b){var c=typeof b+"\u001f"+b;c in this.verticalKeysHash||(this.verticalKeysHash[c]=b)};a.prototype.addHorizontalKey=
function(b){var c=typeof b+"\u001f"+b;c in this.horizontalKeysHash||(this.horizontalKeysHash[c]=b)};a.prototype.computeOptimalCellAspectRatio=function(b){var c=this.verticalKeys.length,d=this.horizontalKeys.length;if(!c||!d)return 1;var e=c/d,f=e,g=Infinity,h=0,k=Infinity;c=Math.min(20,Math.max(c,d,this.longestCellLength));for(d=0;d<c;){d++;var l=this.computeGridAspectRatio(e),n=Math.abs(1-l/b);n<g&&(f=e,g=n);if(.001>n)break;l>b?(k=e,e-=(k-h)/2):(h=e,e=isFinite(k)?e+(k-h)/2:2*e)}return f};a.prototype.computeGridAspectRatio=
function(b){for(var c=this.verticalKeys.length,d=this.horizontalKeys.length,e=-Infinity,f=-Infinity,g=-Infinity,h=-Infinity,k=[],l=0;l<c;l++){k[l]=[];for(var n=0;n<d;n++){var p=k[l][n]={width:n?k[l][n-1].width:0,height:l?k[l-1][n].height:0},q=this.getCell(this.verticalKeys[l],this.horizontalKeys[n]);if(q&&q.items&&q.items.length){var r=this.computeCellDimensions(b,q.items.length);q=r[0];r=r[1];p.width+=q;p.height+=r;e=Math.max(e,p.width);f=Math.max(f,r);g=Math.max(g,q);h=Math.max(h,p.height)}}}this.verticalGridAlignment===
gg.Uniform&&(h=f*c);this.horizontalGridAlignment===gg.Uniform&&(e=g*d);b=this.cellMargin*this.itemAspectRatio;return(e+b*(d-1))/(h+b*(c-1))};a.prototype.computeCellDimensions=function(b,c){var d=[this.itemAspectRatio*(this.cellPadding.left+this.cellPadding.right),this.itemAspectRatio*(this.cellPadding.top+this.cellPadding.bottom)];if(!c)return d;b=Math.min(c,Math.ceil(Math.sqrt(b*c)/this.itemAspectRatio));d[0]+=this.itemAspectRatio*b;d[1]+=Math.ceil(c/b);return d};return a}();
</script>

<script>//~~WEBPATH~~/facets-dive/lib/axis.js
var jg=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),kg=function(a){function b(c,d){var e=a.call(this)||this;e.side=c;e.cell=d;switch(c){case Xf.Left:e.minScale=30/d.innerHeight;for(c=d.siblings.left;!(!c||c.items.length||c.siblings.above&&
c.siblings.above.items.length);)c=c.siblings.left;c&&(e.minScale=Math.max(e.minScale,39.2/(d.contentX-(c.contentX+c.innerWidth))));break;case Xf.Bottom:e.minScale=30/d.innerWidth;for(c=d.siblings.below;!(!c||c.items.length||c.siblings.right&&c.siblings.right.items.length);)c=c.siblings.below;c&&(e.minScale=Math.max(e.minScale,39.2/(d.contentY-(c.contentY+c.innerHeight))));break;default:throw Error("Axes for specified side are not implemented.");}return e}jg(b,a);b.prototype.strokeWidth=function(c){return 1.2/
c};b.prototype.path=function(c){var d=4/c,e=6/c;if(this.side===Xf.Left){var f=this.cell.contentX-d-e;d=this.cell.contentY+.6/c;return"M "+f+","+d+" h "+e+" v "+(this.cell.innerHeight-1.2/c)+" h -"+e}return this.side===Xf.Bottom?(f=this.cell.contentX+.6/c,d=this.cell.contentY-d-e,"M "+f+","+d+" v "+e+" h "+(this.cell.innerWidth-1.2/c)+" v -"+e):""};b.prototype.key=function(){return this.cell.compoundKey+"-"+this.side};return b}(Zf);
</script>


<script>//~~WEBPATH~~/facets-dive/lib/data-example.js
</script>



<script>//~~WEBPATH~~/facets-dive/lib/label.js
</script>

<script>//~~WEBPATH~~/facets-dive/lib/layout.js
var lg=function(){function a(){this.grid={bottom:0,left:0,right:0,top:0};this.viewport={height:0,width:0};this.padding={bottom:0,left:0,right:0,top:0}}a.prototype.computeScale=function(){var b=this.viewport.width-this.padding.left-this.padding.right,c=this.viewport.height-this.padding.top-this.padding.bottom;if(isNaN(b)||0>=b||isNaN(c)||0>=c)return NaN;var d=this.grid.right-this.grid.left,e=this.grid.top-this.grid.bottom;return isNaN(d)||0>=d||isNaN(e)||0>=e?NaN:b/c>d/e?c/e:b/d};a.prototype.computeCamera=
function(){var b=this.computeScale();if(isNaN(b)||0>=b)return{position:{x:NaN,y:NaN},frustum:{bottom:NaN,left:NaN,right:NaN,top:NaN}};var c=this.viewport.width/b,d=this.viewport.height/b;return{position:{x:this.grid.left-(c-(this.padding.left+this.padding.right)/b-(this.grid.right-this.grid.left))/2-this.padding.left/b,y:this.grid.top+(d-(this.padding.top+this.padding.bottom)/b-(this.grid.top-this.grid.bottom))/2+this.padding.top/b},frustum:{bottom:-d,left:0,right:c,top:0}}};a.prototype.reducePaddingToFitWidth=
function(b){if(200>b)this.padding.left=0,this.padding.right=0;else if(this.padding.left+this.padding.right+200>b){var c=this.padding.left+this.padding.right;b-=200;this.padding.left=this.padding.left/c*b||0;this.padding.right=this.padding.right/c*b||0}};a.prototype.reducePaddingToFitHeight=function(b){if(200>b)this.padding.top=0,this.padding.bottom=0;else if(this.padding.top+this.padding.bottom+200>b){var c=this.padding.top+this.padding.bottom;b-=200;this.padding.top=this.padding.top/c*b||0;this.padding.bottom=
this.padding.bottom/c*b||0}};return a}();
</script>


<script>//~~WEBPATH~~/facets-dive/lib/text.js
var mg,ng=mg||(mg={});ng[ng.Left=0]="Left";ng[ng.Right=1]="Right";ng[ng.Center=2]="Center";var og,pg=og||(og={});pg[pg.Top=0]="Top";pg[pg.Bottom=1]="Bottom";pg[pg.Middle=2]="Middle";
var qg={x:0,y:0,glyphAspectRatio:.6,lineHeight:1.1,horizontalAlign:mg.Center,verticalAlign:og.Middle},rg=function(){function a(b){this.settings=Object.assign({},qg,b)}a.prototype.fit=function(b){b=b.trim();var c=this.split(b),d=c.segments,e=this.computeCutoff(d,b.length,c.max),f=e.height;b=e.width*this.settings.glyphAspectRatio;b=b/f>this.settings.width/this.settings.height?this.settings.width/b:this.settings.height/f;c=this.settings.horizontalAlign===mg.Left?0:this.settings.horizontalAlign===mg.Right?
1:.5;f=Math.max(0,this.settings.height-f*b)*(this.settings.verticalAlign===og.Top?0:this.settings.verticalAlign===og.Bottom?1:.5);e=this.wrapLines(d,e.cutoff);for(var g=[],h=0;h<e.length;h++){var k=e[h],l=k.endPos,n="";for(k=k.startPos;k<l;k++)n+=d[k].text;g.push({text:n,x:this.settings.x+c*Math.max(0,this.settings.width-n.length*this.settings.glyphAspectRatio*b),y:this.settings.y+f+h*this.settings.lineHeight*b})}return{lines:g,fontSize:b}};a.prototype.split=function(b){for(var c=[],d=1,e=/\s/.test(b.charAt(0)),
f=0,g=0;d<=b.length;){var h=b.charAt(d),k=/\s/.test(h);h.length&&e===k||(g=Math.max(g,d-f),c.push({text:b.substring(f,d),whitespace:e}),f=d);e=k;d++}return{max:g,segments:c}};a.prototype.computeTextRect=function(b,c){for(var d=0,e=0,f=0,g=1,h=0;h<b.length;h++){var k=b[h],l=k.whitespace;k=k.text.length;if(!l||d)l?d+k<=c?d+=k:(e=d=0,g+=this.settings.lineHeight):d+k<=c?e=d+=k:(e?d=e=k:(f=Math.max(f,k),d=e=0),g+=this.settings.lineHeight),f=Math.max(f,e)}return{width:f,height:g}};a.prototype.computeCutoff=
function(b,c,d){for(var e=this.settings.width/this.settings.height,f=d+(c-d)/2,g=f,h=null,k=Infinity,l=Math.min(20,(b.length+1)/2),n=0;n<l;){n++;var p=this.computeTextRect(b,f),q=p.width/p.height*this.settings.glyphAspectRatio,r=Math.abs(1-q/e);r<k&&(g=f,h=p,k=r);if(.01>r)break;q>e?c=f:d=f;f=d+(c-d)/2}return{cutoff:g,width:h.width,height:h.height}};a.prototype.wrapLines=function(b,c){for(var d=[],e=0,f=0,g=0,h=0,k=0;k<b.length;k++){var l=b[k],n=l.whitespace;l=l.text.length;n&&!g?e=f=k+1:n?g+l<=c?
g+=l:(d.push({startPos:e,endPos:f,textLength:h}),g=h=0,e=f=k+1):g+l<=c?(h=g+=l,f=k+1):h?(d.push({startPos:e,endPos:f,textLength:h}),g=h=l,e=k,f=k+1):(d.push({startPos:k,endPos:k+1,textLength:l}),g=h=0,e=f=k+1)}f>e&&d.push({startPos:e,endPos:f,textLength:h});return d};return a}();
</script>

<script>//~~WEBPATH~~/tf-imports/three.js
var Z={REVISION:"77"};"function"===typeof define&&define.amd?define("three",Z):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=Z);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(Z,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,
MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,
CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,
ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:Z.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,
RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,
RGBADepthPacking:3201});Z.Color=function(a,b,c){void 0===b&&void 0===c?a=this.set(a):(this.r=a,this.g=b,this.b=c,a=this);return a};function sg(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.g=(b>>8&255)/255;a.b=(b&255)/255}
function tg(a,b){function c(h){void 0!==h&&1>parseFloat(h)&&console.warn("THREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var e=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=Math.min(255,parseInt(d[1],10))/255;a.g=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;c(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=
Math.min(100,parseInt(d[1],10))/100;a.g=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;c(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){e=parseFloat(d[1])/360;var f=parseInt(d[2],10)/100,g=parseInt(d[3],10)/100;c(d[5]);a.setHSL(e,f,g);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];e=d.length;if(3===e){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.g=parseInt(d.charAt(1)+d.charAt(1),
16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===e){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.g=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Z.ColorKeywords[b],void 0!==d?sg(a,d):console.warn("THREE.Color: Unknown color "+b))}function ug(a){return 255*a.r<<16^255*a.g<<8^255*a.b<<0}
Z.Color.prototype={constructor:Z.Color,r:1,g:1,b:1,set:function(a){a instanceof Z.Color?this.copy(a):"number"===typeof a?sg(this,a):"string"===typeof a&&tg(this,a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHSL:function(){function a(b,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(c-b)*d:.5>d?c:d<2/3?b+6*(c-b)*(2/3-d):b}return function(b,c,d){b=Z.Math.euclideanModulo(b,1);c=Z.Math.clamp(c,0,1);d=Z.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=
a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHexString:function(){return("000000"+ug(this).toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.r,e=this.g,f=this.b,g=Math.max(d,e,f),h=Math.min(d,e,f),k,l=(h+g)/2;if(h===g)h=k=0;else{var n=g-h;h=.5>=l?n/
(g+h):n/(2-g-h);switch(g){case d:k=(e-f)/n+(e<f?6:0);break;case e:k=(f-d)/n+2;break;case f:k=(d-e)/n+4}k/=6}a=k+a;b=h+b;c=l+c;this.setHSL(a,b,c);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},
lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};
Z.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
function vg(a,b,c){if(!1===b instanceof Z.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var d=Math.cos(b._x/2),e=Math.cos(b._y/2),f=Math.cos(b._z/2),g=Math.sin(b._x/2),h=Math.sin(b._y/2),k=Math.sin(b._z/2);b=b.order;"XYZ"===b?(a._x=g*e*f+d*h*k,a._y=d*h*f-g*e*k,a._z=d*e*k+g*h*f,a._w=d*e*f-g*h*k):"YXZ"===b?(a._x=g*e*f+d*h*k,a._y=d*h*f-g*e*k,a._z=d*e*k-g*h*f,a._w=d*e*f+g*h*k):"ZXY"===b?(a._x=g*e*f-d*h*k,a._y=d*h*f+g*e*k,a._z=d*e*
k+g*h*f,a._w=d*e*f-g*h*k):"ZYX"===b?(a._x=g*e*f-d*h*k,a._y=d*h*f+g*e*k,a._z=d*e*k-g*h*f,a._w=d*e*f+g*h*k):"YZX"===b?(a._x=g*e*f+d*h*k,a._y=d*h*f+g*e*k,a._z=d*e*k-g*h*f,a._w=d*e*f-g*h*k):"XZY"===b&&(a._x=g*e*f-d*h*k,a._y=d*h*f-g*e*k,a._z=d*e*k+g*h*f,a._w=d*e*f+g*h*k);if(!1!==c)a.onChangeCallback();return a}function wg(a,b,c){c/=2;var d=Math.sin(c);a._x=b.x*d;a._y=b.y*d;a._z=b.z*d;a._w=Math.cos(c);a.onChangeCallback();return a}
function xg(a,b,c){var d=b._x,e=b._y,f=b._z;b=b._w;var g=c._x,h=c._y,k=c._z;c=c._w;a._x=d*c+b*g+e*k-f*h;a._y=e*c+b*h+f*g-d*k;a._z=f*c+b*k+d*h-e*g;a._w=b*c-d*g-e*h-f*k;a.onChangeCallback();return a}
Z.Quaternion.prototype={constructor:Z.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6];b=b[10];var l=c+f+b;0<l?(c=.5/Math.sqrt(l+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+k)/c):(c=2*Math.sqrt(1+b-
c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):yg(a,c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this.normalize()},dot:function(a){return this._x*
a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
xg(this,a,b)):xg(this,this,a)},premultiply:function(a){return xg(this,a,this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-g*g);if(.001>Math.abs(a))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),
this;var h=Math.atan2(a,g);g=Math.sin((1-b)*h)/a;b=Math.sin(b*h)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;
a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};
Object.assign(Z.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],k=c[d+1],l=c[d+2];c=c[d+3];d=e[f+0];var n=e[f+1],p=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==n||l!==p){f=1-g;var q=h*d+k*n+l*p+c*e,r=0<=q?1:-1,t=1-q*q;t>Number.EPSILON&&(t=Math.sqrt(t),q=Math.atan2(t,q*r),f=Math.sin(f*q)/t,g=Math.sin(g*q)/t);r*=g;h=h*f+d*r;k=k*f+n*r;l=l*f+p*r;c=c*f+e*r;f===1-g&&(g=1/Math.sqrt(h*h+k*k+l*l+c*c),h*=g,k*=g,l*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=l;a[b+
3]=c}});Z.Vector2=function(a,b){this.x=a||0;this.y=b||0};
Z.Vector2.prototype={constructor:Z.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new Z.Vector2,b=new Z.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);
this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},
distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}};Z.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
function yg(a,b,c){var d=b.x,e=b.y;b=b.z;var f=c.x,g=c.y;c=c.z;a.x=e*c-b*g;a.y=b*f-d*c;a.z=d*g-e*f;return a}function zg(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;b=b.w;var k=b*c+g*e-h*d,l=b*d+h*c-f*e,n=b*e+f*d-g*c;c=-f*c-g*d-h*e;a.x=k*b+c*-f+l*-h-n*-g;a.y=l*b+c*-g+n*-f-k*-h;a.z=n*b+c*-h+k*-g-l*-f;return a}function Ag(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[3]*d+b[6]*e;a.y=b[1]*c+b[4]*d+b[7]*e;a.z=b[2]*c+b[5]*d+b[8]*e;return a}
function Bg(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;var f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*f;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*f;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*f;return a}function Cg(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[4]*d+b[8]*e;a.y=b[1]*c+b[5]*d+b[9]*e;a.z=b[2]*c+b[6]*d+b[10]*e;a.normalize()}
function Dg(a,b,c){if("number"===typeof b){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var d=b;b=c;c=d}return a.fromArray(b.elements,4*c)}function Eg(a,b){return Dg(a,b,3)}
Z.Vector3.prototype={constructor:Z.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},applyEuler:function(){var a;return function(b){!1===b instanceof Z.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
void 0===a&&(a=new Z.Quaternion);return zg(this,vg(a,b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new Z.Quaternion);return zg(this,wg(a,b,c))}}(),applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},project:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Fg(a,b.projectionMatrix,a.getInverse(b.matrixWorld));return Bg(this,
a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Fg(a,b.matrixWorld,a.getInverse(b.projectionMatrix));return Bg(this,a)}}(),divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},
clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector3,b=new Z.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),yg(this,a,b);b=this.x;var c=this.y,d=this.z;this.x=c*a.z-d*a.y;this.y=d*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new Z.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;
return function(b){void 0===a&&(a=new Z.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){return Math.acos(Z.Math.clamp(this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq()),-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+
c*c+a*a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};
Z.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
Z.Vector4.prototype={constructor:Z.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var h=a[2];var k=a[6];var l=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-h)&&
.01>Math.abs(g-k)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+h)&&.1>Math.abs(g+k)&&.1>Math.abs(b+f+l-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;f=(f+1)/2;l=(l+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+k)/4;b>f&&b>l?.01>b?(k=0,c=h=.707106781):(k=Math.sqrt(b),h=c/k,c=d/k):f>l?.01>f?(k=.707106781,h=0,c=.707106781):(h=Math.sqrt(f),k=c/h,c=g/h):.01>l?(h=k=.707106781,c=0):(c=Math.sqrt(l),k=d/c,h=g/c);this.set(k,h,c,a);return this}a=Math.sqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(k-
g)/a;this.y=(d-h)/a;this.z=(e-c)/a;this.w=Math.acos((b+f+l-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector4,b=new Z.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=
a.array[b+3];return this}};Z.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||Z.Euler.DefaultOrder};Z.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");Z.Euler.DefaultOrder="XYZ";
Z.Euler.prototype={constructor:Z.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,
this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=Z.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],l=e[9],n=e[2],p=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-l,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(p,k),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?(this._y=
Math.atan2(g,e),this._z=Math.atan2(h,k)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(p,-1,1)),.99999>Math.abs(p)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(p,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-l,k),this._y=Math.atan2(-n,a)):(this._x=0,this._y=
Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(p,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-l,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);Gg(a,b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,
a.z,b||this._order)},reorder:function(){var a=new Z.Quaternion;return function(b){vg(a,this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new Z.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};Z.Line3=function(a,b){this.start=void 0!==a?a:new Z.Vector3;this.end=void 0!==b?b:new Z.Vector3};function Hg(a,b){return(b||new Z.Vector3).subVectors(a.end,a.start)}
Z.Line3.prototype={constructor:Z.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new Z.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return Hg(this,b||new Z.Vector3).multiplyScalar(a).add(this.start)},
closestPointToPointParameter:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(a)/b.dot(b);d&&(c=Z.Math.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);return Hg(this,c||new Z.Vector3).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&
a.end.equals(this.end)}};Z.Box2=function(a,b){this.min=void 0!==a?a:new Z.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new Z.Vector2(-Infinity,-Infinity)};
Z.Box2.prototype={constructor:Z.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new Z.Vector2;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new Z.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new Z.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new Z.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?
!1:!0},clampPoint:function(a,b){return(b||new Z.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new Z.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};
Z.Box3=function(a,b){this.min=void 0!==a?a:new Z.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Z.Vector3(-Infinity,-Infinity,-Infinity)};function Ig(a,b){for(var c=Infinity,d=Infinity,e=Infinity,f=-Infinity,g=-Infinity,h=-Infinity,k=0,l=b.length;k<l;k+=3){var n=b[k],p=b[k+1],q=b[k+2];n<c&&(c=n);p<d&&(d=p);q<e&&(e=q);n>f&&(f=n);p>g&&(g=p);q>h&&(h=q)}a.min.set(c,d,e);a.max.set(f,g,h)}
Z.Box3.prototype={constructor:Z.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new Z.Vector3;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(){var a=new Z.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(d){var e=
d.geometry;if(void 0!==e)if(e instanceof Z.Geometry){var f=e.vertices;e=0;for(var g=f.length;e<g;e++)a.copy(f[e]),a.applyMatrix4(d.matrixWorld),c.expandByPoint(a)}else if(e instanceof Z.BufferGeometry&&void 0!==e.attributes.position)for(f=e.attributes.position.array,e=0,g=f.length;e<g;e+=3)a.fromArray(f,e),a.applyMatrix4(d.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new Z.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new Z.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);
return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new Z.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/
(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=
a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new Z.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new Z.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),
getBoundingSphere:function(){var a=new Z.Vector3;return function(b){b=b||new Z.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3];return function(b){if(this.isEmpty())return this;
a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),
translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};Z.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};function Jg(a,b){b=b.elements;a.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]);return a.getInverse(a).transpose()}
Z.Matrix3.prototype={constructor:Z.Matrix3,set:function(a,b,c,d,e,f,g,h,k){var l=this.elements;l[0]=a;l[1]=d;l[2]=g;l[3]=b;l[4]=e;l[5]=h;l[6]=c;l[7]=f;l[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===
c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),Ag(a,this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),Ag(a,this),b.setXYZ(a.x,a.y,a.z);return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=
this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7];a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){a instanceof Z.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],l=c[6],n=c[7];c=c[8];var p=c*h-k*n,q=k*l-c*g,r=n*g-h*l,t=d*p+e*q+f*r;if(0===t){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/t;a[0]=p*b;a[1]=(f*n-c*e)*b;a[2]=(k*e-f*h)*b;a[3]=q*b;a[4]=(c*d-f*l)*b;a[5]=(f*g-k*d)*b;a[6]=r*b;a[7]=(e*l-n*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},transposeIntoArray:function(a){var b=this.elements;
a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};Z.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
function Fg(a,b,c){var d=b.elements,e=c.elements;c=a.elements;b=d[0];var f=d[4],g=d[8],h=d[12],k=d[1],l=d[5],n=d[9],p=d[13],q=d[2],r=d[6],t=d[10],v=d[14],u=d[3],y=d[7],w=d[11];d=d[15];var x=e[0],z=e[4],B=e[8],A=e[12],C=e[1],E=e[5],F=e[9],I=e[13],Q=e[2],J=e[6],R=e[10],L=e[14],H=e[3],S=e[7],T=e[11];e=e[15];c[0]=b*x+f*C+g*Q+h*H;c[4]=b*z+f*E+g*J+h*S;c[8]=b*B+f*F+g*R+h*T;c[12]=b*A+f*I+g*L+h*e;c[1]=k*x+l*C+n*Q+p*H;c[5]=k*z+l*E+n*J+p*S;c[9]=k*B+l*F+n*R+p*T;c[13]=k*A+l*I+n*L+p*e;c[2]=q*x+r*C+t*Q+v*H;c[6]=
q*z+r*E+t*J+v*S;c[10]=q*B+r*F+t*R+v*T;c[14]=q*A+r*I+t*L+v*e;c[3]=u*x+y*C+w*Q+d*H;c[7]=u*z+y*E+w*J+d*S;c[11]=u*B+y*F+w*R+d*T;c[15]=u*A+y*I+w*L+d*e;return a}function Gg(a,b){var c=a.elements,d=b.x,e=b.y,f=b.z,g=b.w,h=d+d,k=e+e,l=f+f;b=d*h;var n=d*k;d*=l;var p=e*k;e*=l;f*=l;h*=g;k*=g;g*=l;c[0]=1-(p+f);c[4]=n-g;c[8]=d+k;c[1]=n+g;c[5]=1-(b+f);c[9]=e-h;c[2]=d-k;c[6]=e+h;c[10]=1-(b+p);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return a}
function Og(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1)}function Pg(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1)}function Qg(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1)}function Rg(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=1-d,f=b.x,g=b.y;b=b.z;var h=e*f,k=e*g;a.set(h*f+d,h*g-c*b,h*b+c*g,0,h*g+c*b,k*g+d,k*b-c*f,0,h*b-c*g,k*b+c*f,e*b*b+d,0,0,0,0,1);return a}
function Sg(a,b,c,d,e,f,g){var h=a.elements;h[0]=2*f/(c-b);h[4]=0;h[8]=(c+b)/(c-b);h[12]=0;h[1]=0;h[5]=2*f/(e-d);h[9]=(e+d)/(e-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(g+f)/(g-f);h[14]=-2*g*f/(g-f);h[3]=0;h[7]=0;h[11]=-1;h[15]=0;return a}
Z.Matrix4.prototype={constructor:Z.Matrix4,set:function(a,b,c,d,e,f,g,h,k,l,n,p,q,r,t,v){var u=this.elements;u[0]=a;u[4]=b;u[8]=c;u[12]=d;u[1]=e;u[5]=f;u[9]=g;u[13]=h;u[2]=k;u[6]=l;u[10]=n;u[14]=p;u[3]=q;u[7]=r;u[11]=t;u[15]=v;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new Z.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},extractBasis:function(a,b,c){Dg(a,this,0);Dg(b,this,1);Dg(c,this,
2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);var c=this.elements,d=b.elements,e=1/Dg(a,b,0).length(),f=1/Dg(a,b,1).length();b=1/Dg(a,b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof Z.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c);c=Math.sin(c);var g=Math.cos(d);d=Math.sin(d);var h=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=f*h;var k=f*e,l=c*h,n=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+l*d;b[5]=a-n*d;b[9]=-c*g;b[2]=n-a*d;b[6]=l+k*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,k=g*e,l=d*h,n=d*e,b[0]=a+n*c,b[4]=l*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-l,b[6]=n+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,l=d*h,n=d*e,b[0]=a-n*c,b[4]=-f*e,b[8]=l+k*c,b[1]=k+l*c,b[5]=f*h,b[9]=
n-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,l=c*h,n=c*e,b[0]=g*h,b[4]=l*d-k,b[8]=a*d+n,b[1]=g*e,b[5]=n*d+a,b[9]=k*d-l,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,k=f*d,l=c*g,n=c*d,b[0]=g*h,b[4]=n-a*e,b[8]=l*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+l,b[10]=a-n*e):"XZY"===a.order&&(a=f*g,k=f*d,l=c*g,n=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+n,b[5]=f*h,b[9]=k*e-l,b[2]=l*e-k,b[6]=c*h,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,
b,c;return function(d,e,f){void 0===a&&(a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);yg(a,f,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,yg(a,f,c).normalize());yg(b,c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
Fg(this,a,b)):Fg(this,this,a)},premultiply:function(a){return Fg(this,a,this)},multiplyToArray:function(a,b,c){var d=this.elements;Fg(this,a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;
b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],l=a[2],n=a[6],p=a[10],q=a[14];return a[3]*(+e*h*n-d*k*n-e*g*p+c*k*p+d*g*q-c*h*q)+a[7]*(+b*h*q-b*k*p+e*f*p-d*f*q+d*k*l-e*h*l)+a[11]*(+b*k*n-b*g*q-e*f*n+c*f*q+e*g*l-c*k*l)+a[15]*(-d*g*l-b*h*n+b*g*p+d*f*n-c*f*p+c*h*l)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];
a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new Z.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return Dg(a,this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,
b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],k=d[5],l=d[6],n=d[7],p=d[8],q=d[9],r=d[10],t=d[11],v=d[12],u=d[13],y=d[14];d=d[15];var w=q*y*n-u*r*n+u*l*t-k*y*t-q*l*d+k*r*d,x=v*r*n-p*y*n-v*l*t+h*y*t+p*l*d-h*r*d,z=p*u*n-v*q*n+v*k*t-h*u*t-p*k*d+h*q*d,B=v*q*l-p*u*l-v*k*r+h*u*r+p*k*y-h*q*y,A=a*w+e*x+f*z+g*B;if(0===A){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/A;c[0]=w*b;c[1]=(u*r*g-q*y*g-u*f*t+e*y*t+q*f*d-e*r*d)*b;c[2]=(k*y*g-u*l*g+u*f*n-e*y*n-k*f*d+e*l*d)*b;c[3]=(q*l*g-k*r*g-q*f*n+e*r*n+k*f*t-e*l*t)*b;c[4]=x*b;c[5]=(p*y*g-v*r*g+v*f*t-a*y*t-p*f*d+a*r*d)*b;c[6]=(v*l*g-h*y*g-v*f*n+a*y*n+h*f*d-a*l*d)*b;c[7]=(h*r*g-p*l*g+p*f*n-a*r*n-h*f*t+a*l*t)*b;c[8]=z*b;c[9]=(v*q*g-p*u*g-v*e*t+a*u*t+p*e*d-a*q*d)*b;c[10]=(h*u*g-v*k*g+v*e*n-a*u*n-h*e*d+a*k*d)*b;c[11]=(p*k*g-h*q*g-p*e*n+a*q*n+h*e*t-a*k*t)*b;c[12]=B*b;c[13]=(p*u*f-v*q*f+v*e*r-a*u*
r-p*e*y+a*q*y)*b;c[14]=(v*k*f-h*u*f-v*e*l+a*u*l+h*e*y-a*k*y)*b;c[15]=(h*q*f-p*k*f+p*e*l-a*q*l-h*e*r+a*k*r)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new Z.Vector3,b=new Z.Matrix4);var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();
0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;f=1/h;var l=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=l;b.elements[9]*=l;b.elements[10]*=l;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makePerspective:function(a,b,c,d){a=c*Math.tan(Z.Math.DEG2RAD*a*.5);var e=-a;return Sg(this,e*b,a*b,e,a,c,d)},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>
c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};Z.Ray=function(a,b){this.origin=void 0!==a?a:new Z.Vector3;this.direction=void 0!==b?b:new Z.Vector3};
Z.Ray.prototype={constructor:Z.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new Z.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new Z.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){b=b||new Z.Vector3;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new Z.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),l=c.dot(this.direction),n=-c.dot(b),p=c.lengthSq(),q=Math.abs(1-k*k);if(0<q){d=k*n-l;e=k*l-n;var r=h*q;0<=d?e>=-r?e<=r?(h=1/q,d*=h,e*=h,k=d*(d+k*e+2*l)+e*(k*d+e+2*n)+p):(e=h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*n)+p):
(e=-h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*n)+p):e<=-r?(d=Math.max(0,-(-k*h+l)),e=0<d?-h:Math.min(Math.max(-h,-n),h),k=-d*d+e*(e+2*n)+p):e<=r?(d=0,e=Math.min(Math.max(-h,-n),h),k=e*(e+2*n)+p):(d=Math.max(0,-(k*h+l)),e=0<d?h:Math.min(Math.max(-h,-n),h),k=-d*d+e*(e+2*n)+p)}else e=0<k?-h:h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*n)+p;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new Z.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectPlane:function(a,b){var c=a.normal.dot(this.direction);0===c?a=0===a.distanceToPoint(this.origin)?0:null:(a=-(this.origin.dot(a.normal)+a.constant)/c,a=0<=a?a:null);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=
a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectsBox:function(){var a=new Z.Vector3;return function(b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,f=this.origin;if(0<=c){var g=(b.min.x-f.x)*c;c*=b.max.x-f.x}else g=(b.max.x-f.x)*c,c*=b.min.x-f.x;if(0<=d){var h=(b.min.y-f.y)*d;d*=b.max.y-f.y}else h=(b.max.y-f.y)*d,d*=b.min.y-f.y;if(g>d||h>c)g=null;else{if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(b.min.z-f.z)*e,b=(b.max.z-
f.z)*e):(h=(b.max.z-f.z)*e,b=(b.min.z-f.z)*e);if(g>b||h>c)g=null;else{if(h>g||g!==g)g=h;if(b<c||c!==c)c=b;g=0>c?null:this.at(0<=g?g:c,a)}}return null!==g}}(),intersectTriangle:function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3,d=new Z.Vector3;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);yg(d,b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(yg(c,a,c));if(0>e)return null;
g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};Z.Sphere=function(a,b){this.center=void 0!==a?a:new Z.Vector3;this.radius=void 0!==b?b:0};
Z.Sphere.prototype={constructor:Z.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Z.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=
this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);
b=b||new Z.Vector3;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new Z.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);a=a.elements;this.radius*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]));return this},translate:function(a){this.center.add(a);
return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};Z.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Z.Plane,void 0!==b?b:new Z.Plane,void 0!==c?c:new Z.Plane,void 0!==d?d:new Z.Plane,void 0!==e?e:new Z.Plane,void 0!==f?f:new Z.Plane]};
function Tg(a,b){a=a.planes;var c=b.elements;b=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],l=c[7],n=c[8],p=c[9],q=c[10],r=c[11],t=c[12],v=c[13],u=c[14];c=c[15];Ug(a[0],f-b,l-g,r-n,c-t).normalize();Ug(a[1],f+b,l+g,r+n,c+t).normalize();Ug(a[2],f+d,l+h,r+p,c+v).normalize();Ug(a[3],f-d,l-h,r-p,c-v).normalize();Ug(a[4],f-e,l-k,r-q,c-u).normalize();Ug(a[5],f+e,l+k,r+q,c+u).normalize()}
Z.Frustum.prototype={constructor:Z.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},intersectsObject:function(){var a=new Z.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Z.Sphere;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:
c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a);f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};Z.Plane=function(a,b){this.normal=void 0!==a?a:new Z.Vector3(1,0,0);this.constant=void 0!==b?b:0};
function Ug(a,b,c,d,e){a.normal.set(b,c,d);a.constant=e;return a}
Z.Plane.prototype={constructor:Z.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setFromCoplanarPoints:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.normal.copy(d);this.constant=-c.dot(this.normal);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();
this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},intersectLine:function(){var a=new Z.Vector3;return function(b,c){c=c||new Z.Vector3;var d=Hg(b,a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+
this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},applyMatrix4:function(){var a=new Z.Vector3,b=new Z.Matrix3;return function(c,d){var e=(a||new Z.Vector3).copy(this.normal).multiplyScalar(-this.constant).applyMatrix4(c);c=d||Jg(b,c);c=Ag(this.normal,c).normalize();this.constant=-e.dot(c);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};Z.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
Z.Spherical.prototype={constructor:Z.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(Z.Math.clamp(a.y/this.radius,-1,1)));return this}};
Z.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+
(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*Z.Math.DEG2RAD},radToDeg:function(a){return a*Z.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
Z.Spline=function(a){function b(r,t,v,u,y,w,x){r=.5*(v-r);u=.5*(u-t);return(2*(t-v)+r+u)*x+(-3*(t-v)-2*r-u)*w+r*y+t}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,k,l,n,p,q;this.initFromArray=function(r){this.points=[];for(var t=0;t<r.length;t++)this.points[t]={x:r[t][0],y:r[t][1],z:r[t][2]}};this.getPoint=function(r){e=(this.points.length-1)*r;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+2;l=
this.points[c[0]];n=this.points[c[1]];p=this.points[c[2]];q=this.points[c[3]];h=g*g;k=g*h;d.x=b(l.x,n.x,p.x,q.x,g,h,k);d.y=b(l.y,n.y,p.y,q.y,g,h,k);d.z=b(l.z,n.z,p.z,q.z,g,h,k);return d};this.getControlPointsArray=function(){var r,t=this.points.length,v=[];for(r=0;r<t;r++){var u=this.points[r];v[r]=[u.x,u.y,u.z]}return v};this.getLength=function(r){var t=0,v=new Z.Vector3,u=new Z.Vector3,y=[],w=0;y[0]=0;r||(r=100);var x=this.points.length*r;v.copy(this.points[0]);for(r=1;r<x;r++){var z=r/x;var B=
this.getPoint(z);u.copy(B);w+=u.distanceTo(v);v.copy(B);z*=this.points.length-1;z=Math.floor(z);z!==t&&(y[z]=w,t=z)}y[y.length]=w;return{chunks:y,total:w}};this.reparametrizeByArcLength=function(r){var t,v=[],u=new Z.Vector3,y=this.getLength();v.push(u.copy(this.points[0]).clone());for(t=1;t<this.points.length;t++){var w=y.chunks[t]-y.chunks[t-1];var x=Math.ceil(r*w/y.total);var z=(t-1)/(this.points.length-1);var B=t/(this.points.length-1);for(w=1;w<x-1;w++){var A=z+1/x*w*(B-z);A=this.getPoint(A);
v.push(u.copy(A).clone())}v.push(u.copy(this.points[t]).clone())}this.points=v}};Z.Triangle=function(a,b,c){this.a=void 0!==a?a:new Z.Vector3;this.b=void 0!==b?b:new Z.Vector3;this.c=void 0!==c?c:new Z.Vector3};Z.Triangle.normal=function(){var a=new Z.Vector3;return function(b,c,d,e){e=e||new Z.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
Z.Triangle.barycoordFromPoint=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var l=d*k-e*e;h=h||new Z.Vector3;if(0===l)return h.set(-2,-1,-1);l=1/l;k=(k*f-e*g)*l;d=(d*g-e*f)*l;return h.set(1-k-d,d,k)}}();
Z.Triangle.containsPoint=function(){var a=new Z.Vector3;return function(b,c,d,e){b=Z.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
Z.Triangle.prototype={constructor:Z.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*
a.cross(b).length()}}(),midpoint:function(a){return(a||new Z.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return Z.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new Z.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return Z.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return Z.Triangle.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,
b,c,d;return function(e,f){void 0===a&&(a=new Z.Plane,b=[new Z.Line3,new Z.Line3,new Z.Line3],c=new Z.Vector3,d=new Z.Vector3);f=f||new Z.Vector3;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);var h=a,k=c,l=h.distanceToPoint(e);(k||new Z.Vector3).copy(h.normal).multiplyScalar(l).sub(e).negate();if(!0===this.containsPoint(c))f.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++)b[e].closestPointToPoint(c,!0,d),h=c.distanceToSquared(d),
h<g&&(g=h,f.copy(d));return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};Z.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
Z.Interpolant.prototype={constructor:Z.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;
c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");
},intervalChanged_:function(){}};Object.assign(Z.Interpolant.prototype,{beforeStart_:Z.Interpolant.prototype.copySampleValue_,afterEnd_:Z.Interpolant.prototype.copySampleValue_});Z.CubicInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
Z.CubicInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.CubicInterpolant,DefaultSettings_:{endingStart:Z.ZeroCurvatureEnding,endingEnd:Z.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch((this.settings||this.DefaultSettings_).endingStart){case Z.ZeroSlopeEnding:e=a;g=2*b-c;break;case Z.WrapAroundEnding:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===h)switch((this.settings||
this.DefaultSettings_).endingEnd){case Z.ZeroSlopeEnding:f=a;h=2*c-b;break;case Z.WrapAroundEnding:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,l=this._offsetNext,n=this._weightPrev,p=this._weightNext,q=(c-b)/(d-b);c=q*q;d=c*q;b=-n*d+2*n*c-n*q;n=(1+n)*d+(-1.5-
2*n)*c+(-.5+n)*q+1;q=(-1-p)*d+(1.5+p)*c+.5*q;p=p*d-p*c;for(c=0;c!==g;++c)e[c]=b*f[k+c]+n*f[h+c]+q*f[a+c]+p*f[l+c];return e}});Z.DiscreteInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};Z.DiscreteInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.DiscreteInterpolant,interpolate_:function(a){return this.copySampleValue_(a-1)}});Z.LinearInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};
Z.LinearInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[h+d]*c+f[a+d]*b;return e}});Z.QuaternionLinearInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};
Z.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)Z.Quaternion.slerpFlat(e,0,f,a-g,f,a,b);return e}});Z.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
Z.Clock.prototype={constructor:Z.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.autoStart&&!this.running&&this.start();if(this.running){var a=(performance||Date).now();var b=(a-this.oldTime)/1E3;this.oldTime=a;this.elapsedTime+=b}this.running=!1}};Z.EventDispatcher=function(){};
Object.assign(Z.EventDispatcher.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;var c=[],d,e=b.length;for(d=0;d<e;d++)c[d]=b[d];for(d=0;d<e;d++)c[d].call(this,a)}}}});Z.Layers=function(){this.mask=1};Z.Layers.prototype={constructor:Z.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(d,e){return d.distance-e.distance}function c(d,e,f,g){if(!1!==d.visible&&(d.raycast(e,f),!0===g)){d=d.children;g=0;for(var h=d.length;g<h;g++)c(d[g],e,f,!0)}}a.Raycaster=function(d,e,f,g){this.ray=new a.Ray(d,e);this.near=f||0;this.far=g||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(d,e){this.ray.set(d,e)},setFromCamera:function(d,e){e instanceof a.PerspectiveCamera?(Eg(this.ray.origin,e.matrixWorld),this.ray.direction.set(d.x,d.y,.5).unproject(e).sub(this.ray.origin).normalize()):e instanceof a.OrthographicCamera?(this.ray.origin.set(d.x,d.y,-1).unproject(e),Cg(this.ray.direction.set(0,0,-1),e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(d,e){var f=
[];c(d,this,f,e);f.sort(b);return f},intersectObjects:function(d,e){var f=[];if(!1===Array.isArray(d))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),f;for(var g=0,h=d.length;g<h;g++)c(d[g],this,f,e);f.sort(b);return f}}})(Z);
Z.Object3D=function(){Object.defineProperty(this,"id",{value:Z.Object3DIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Z.Object3D.DefaultUp.clone();var a=new Z.Vector3,b=new Z.Euler,c=new Z.Quaternion,d=new Z.Vector3(1,1,1);b.onChange(function(){vg(c,b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,
value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new Z.Matrix4},normalMatrix:{value:new Z.Matrix3}});this.matrix=new Z.Matrix4;this.matrixWorld=new Z.Matrix4;this.matrixAutoUpdate=Z.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Z.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};Z.Object3D.DefaultUp=new Z.Vector3(0,1,0);Z.Object3D.DefaultMatrixAutoUpdate=!0;
Object.assign(Z.Object3D.prototype,Z.EventDispatcher.prototype,{applyMatrix:function(a){Fg(this.matrix,a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){wg(this.quaternion,a,b)},setRotationFromEuler:function(a){vg(this.quaternion,a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new Z.Quaternion;return function(b,
c){wg(a,b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new Z.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new Z.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new Z.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new Z.Vector3;return function(b,c){zg(a.copy(b),this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),
translateX:function(){var a=new Z.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new Z.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new Z.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new Z.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new Z.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof Z.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new Z.Vector3;this.updateMatrixWorld(!0);return Eg(a,this.matrixWorld)},getWorldQuaternion:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){c=c||new Z.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=
new Z.Vector3,b=new Z.Quaternion;return function(c){c=c||new Z.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Vector3;this.getWorldQuaternion(a);return zg(b.set(0,0,1),a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<
d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){var a=this.matrix,b=this.position,c=this.scale;Gg(a,this.quaternion);a.scale(c);a.setPosition(b);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):Fg(this.matrixWorld,this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(h){var k=[],l;for(l in h){var n=h[l];delete n.metadata;k.push(n)}return k}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&(e.userData=
this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var f=0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){c=b(a.geometries);f=b(a.materials);var g=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<f.length&&(d.materials=f);0<g.length&&(d.textures=g);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});Z.Object3DIdCount=0;
Z.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof Z.Vector3?d:new Z.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof Z.Color?e:new Z.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0};
Z.Face3.prototype={constructor:Z.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
Z.BufferAttribute=function(a,b,c){this.uuid=Z.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};function Vg(a,b){a.array.set(b);return a}function Wg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),g=new Z.Color);c[d++]=g.r;c[d++]=g.g;c[d++]=g.b}return a}
function Xg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];c[d++]=g.a;c[d++]=g.b;c[d++]=g.c}return a}function Yg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),g=new Z.Vector2);c[d++]=g.x;c[d++]=g.y}return a}
function Zg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),g=new Z.Vector3);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z}return a}function $g(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",e),g=new Z.Vector4);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z;c[d++]=g.w}return a}
Z.BufferAttribute.prototype={constructor:Z.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};Z.Int8Attribute=function(a,b){return new Z.BufferAttribute(new Int8Array(a),b)};
Z.Uint8Attribute=function(a,b){return new Z.BufferAttribute(new Uint8Array(a),b)};Z.Uint8ClampedAttribute=function(a,b){return new Z.BufferAttribute(new Uint8ClampedArray(a),b)};Z.Int16Attribute=function(a,b){return new Z.BufferAttribute(new Int16Array(a),b)};Z.Uint16Attribute=function(a,b){return new Z.BufferAttribute(new Uint16Array(a),b)};Z.Int32Attribute=function(a,b){return new Z.BufferAttribute(new Int32Array(a),b)};
Z.Uint32Attribute=function(a,b){return new Z.BufferAttribute(new Uint32Array(a),b)};Z.Float32Attribute=function(a,b){return new Z.BufferAttribute(new Float32Array(a),b)};Z.Float64Attribute=function(a,b){return new Z.BufferAttribute(new Float64Array(a),b)};Z.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new Z.BufferAttribute(a,b)).setDynamic(!0)};
Z.InstancedBufferAttribute=function(a,b,c){Z.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};Z.InstancedBufferAttribute.prototype=Object.create(Z.BufferAttribute.prototype);Z.InstancedBufferAttribute.prototype.constructor=Z.InstancedBufferAttribute;Z.InstancedBufferAttribute.prototype.copy=function(a){Z.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};
Z.InterleavedBuffer=function(a,b){this.uuid=Z.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
Z.InterleavedBuffer.prototype={constructor:Z.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};Z.InstancedInterleavedBuffer=function(a,b,c){Z.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};Z.InstancedInterleavedBuffer.prototype=Object.create(Z.InterleavedBuffer.prototype);Z.InstancedInterleavedBuffer.prototype.constructor=Z.InstancedInterleavedBuffer;
Z.InstancedInterleavedBuffer.prototype.copy=function(a){Z.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};Z.InterleavedBufferAttribute=function(a,b,c){this.uuid=Z.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
Z.InterleavedBufferAttribute.prototype={constructor:Z.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,
b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,
d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
Z.Geometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
Object.assign(Z.Geometry.prototype,Z.EventDispatcher.prototype,{applyMatrix:function(a){for(var b=Jg(new Z.Matrix3,a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];Ag(a.normal,b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)Ag(a.vertexNormals[e],b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=
!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Og(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Pg(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Qg(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);
return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new Z.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(y,w,x,z){var B=void 0!==g?[n[y].clone(),n[w].clone(),n[x].clone()]:[],A=void 0!==h?[c.colors[y].clone(),c.colors[w].clone(),c.colors[x].clone()]:[];z=new Z.Face3(y,
w,x,B,A,z);c.faces.push(z);void 0!==k&&c.faceVertexUvs[0].push([p[y].clone(),p[w].clone(),p[x].clone()]);void 0!==l&&c.faceVertexUvs[1].push([q[y].clone(),q[w].clone(),q[x].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,l=void 0!==e.uv2?e.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var n=[],p=[],q=[],r=e=0;e<f.length;e+=3,
r+=2)c.vertices.push(new Z.Vector3(f[e],f[e+1],f[e+2])),void 0!==g&&n.push(new Z.Vector3(g[e],g[e+1],g[e+2])),void 0!==h&&c.colors.push(new Z.Color(h[e],h[e+1],h[e+2])),void 0!==k&&p.push(new Z.Vector2(k[r],k[r+1])),void 0!==l&&q.push(new Z.Vector2(l[r],l[r+1]));if(void 0!==d)if(f=a.groups,0<f.length)for(e=0;e<f.length;e++){var t=f[e],v=t.start,u=t.count;r=v;for(v+=u;r<v;r+=3)b(d[r],d[r+1],d[r+2],t.materialIndex)}else for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,
e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new Z.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,
0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new Z.Vector3,b=new Z.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new Z.Vector3;if(a){var e=new Z.Vector3,f=new Z.Vector3;a=0;for(d=
this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var h=this.vertices[b.b];var k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),
g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new Z.Geometry;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new Z.Vector3;var k={a:new Z.Vector3,b:new Z.Vector3,c:new Z.Vector3};d.push(h);g.push(k)}}g=this.morphNormals[e];f.vertices=
this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(d.normal),k.a.copy(d.vertexNormals[0]),k.b.copy(d.vertexNormals[1]),k.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=
0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Z.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Z.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof Z.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,l=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=Jg(new Z.Matrix3,b));for(var n=0,p=g.length;n<p;n++){var q=g[n].clone();void 0!==b&&q.applyMatrix4(b);f.push(q)}n=0;for(p=k.length;n<p;n++){g=k[n];var r=g.vertexNormals,t=g.vertexColors;q=new Z.Face3(g.a+e,g.b+e,g.c+e);q.normal.copy(g.normal);void 0!==d&&Ag(q.normal,d).normalize();b=0;for(f=r.length;b<f;b++){var v=r[b].clone();void 0!==
d&&Ag(v,d).normalize();q.vertexNormals.push(v)}q.color.copy(g.color);b=0;for(f=t.length;b<f;b++)v=t[b],q.vertexColors.push(v.clone());q.materialIndex=g.materialIndex+c;h.push(q)}n=0;for(p=a.length;n<p;n++)if(c=a[n],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());l.push(d)}}},mergeMesh:function(a){!1===a instanceof Z.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a=
{},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,
1);f=this.vertices.length-b.length;this.vertices=b;return f},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(k,l){return k.materialIndex-l.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(B,A,C){return C?B|1<<A:B&~(1<<A)}
function b(B){var A=B.x.toString()+B.y.toString()+B.z.toString();if(void 0!==l[A])return l[A];l[A]=k.length/3;k.push(B.x,B.y,B.z);return l[A]}function c(B){var A=B.r.toString()+B.g.toString()+B.b.toString();if(void 0!==p[A])return p[A];p[A]=n.length;n.push(ug(B));return p[A]}function d(B){var A=B.x.toString()+B.y.toString();if(void 0!==r[A])return r[A];r[A]=q.length/2;q.push(B.x,B.y);return r[A]}var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;
""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}h=[];var k=[],l={},n=[],p={},q=[],r={};for(g=0;g<this.faces.length;g++){var t=this.faces[g],v=void 0!==this.faceVertexUvs[0][g],u=0<t.normal.length(),y=0<t.vertexNormals.length,w=1!==t.color.r||1!==t.color.g||1!==t.color.b,x=0<t.vertexColors.length,z=0;z=a(z,0,0);z=a(z,1,!0);z=a(z,
2,!1);z=a(z,3,v);z=a(z,4,u);z=a(z,5,y);z=a(z,6,w);z=a(z,7,x);h.push(z);h.push(t.a,t.b,t.c);h.push(t.materialIndex);v&&(v=this.faceVertexUvs[0][g],h.push(d(v[0]),d(v[1]),d(v[2])));u&&h.push(b(t.normal));y&&(u=t.vertexNormals,h.push(b(u[0]),b(u[1]),b(u[2])));w&&h.push(c(t.color));x&&(t=t.vertexColors,h.push(c(t[0]),c(t[1]),c(t[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<n.length&&(e.data.colors=n);0<q.length&&(e.data.uvs=[q]);e.data.faces=h;return e},clone:function(){return(new Z.Geometry).copy(this)},
copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],h=[],k=0,l=g.length;k<l;k++)h.push(g[k].clone());this.faceVertexUvs[c].push(h)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Z.GeometryIdCount=0;Z.DirectGeometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
Object.assign(Z.DirectGeometry.prototype,Z.EventDispatcher.prototype,{computeBoundingBox:Z.Geometry.prototype.computeBoundingBox,computeBoundingSphere:Z.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b=[];a=a.faces;
for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){var e=d.materialIndex;void 0!==f&&(f.count=3*c-f.start,b.push(f));var f={start:3*c,materialIndex:e}}}void 0!==f&&(f.count=3*c-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){var k=[];for(var l=0;l<h;l++)k[l]=[];this.morphTargets.position=k}var n=a.morphNormals,p=n.length;if(0<p){var q=[];for(l=0;l<p;l++)q[l]=
[];this.morphTargets.normal=q}var r=a.skinIndices,t=a.skinWeights,v=r.length===c.length,u=t.length===c.length;for(l=0;l<b.length;l++){var y=b[l];this.vertices.push(c[y.a],c[y.b],c[y.c]);var w=y.vertexNormals;3===w.length?this.normals.push(w[0],w[1],w[2]):(w=y.normal,this.normals.push(w,w,w));w=y.vertexColors;3===w.length?this.colors.push(w[0],w[1],w[2]):(w=y.color,this.colors.push(w,w,w));!0===e&&(w=d[0][l],void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
l),this.uvs.push(new Z.Vector2,new Z.Vector2,new Z.Vector2)));!0===f&&(w=d[1][l],void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Z.Vector2,new Z.Vector2,new Z.Vector2)));for(w=0;w<h;w++){var x=g[w].vertices;k[w].push(x[y.a],x[y.b],x[y.c])}for(w=0;w<p;w++)x=n[w].vertexNormals[l],q[w].push(x.a,x.b,x.c);v&&this.skinIndices.push(r[y.a],r[y.b],r[y.c]);u&&this.skinWeights.push(t[y.a],t[y.b],t[y.c])}this.computeGroups(a);
this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Z.BufferGeometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
Object.assign(Z.BufferGeometry.prototype,Z.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof Z.BufferAttribute&&!1===b instanceof Z.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new Z.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&(Jg(new Z.Matrix3,a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Og(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Pg(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);
Qg(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new Z.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof Z.Points||a instanceof Z.Line){a=new Z.Float32Attribute(3*b.vertices.length,3);var c=new Z.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",Zg(a,b.vertices));this.addAttribute("color",Wg(c,b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new Z.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",
Vg(a,b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof Z.Mesh&&b instanceof Z.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof Z.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(Zg(c,b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(Zg(c,b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(Wg(c,
b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(Yg(c,b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(Vg(c,b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new Z.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){this.addAttribute("position",Zg(new Z.BufferAttribute(new Float32Array(3*a.vertices.length),3),a.vertices));0<a.normals.length&&this.addAttribute("normal",Zg(new Z.BufferAttribute(new Float32Array(3*a.normals.length),3),a.normals));0<a.colors.length&&this.addAttribute("color",Wg(new Z.BufferAttribute(new Float32Array(3*a.colors.length),3),a.colors));0<a.uvs.length&&this.addAttribute("uv",Yg(new Z.BufferAttribute(new Float32Array(2*a.uvs.length),2),a.uvs));0<a.uvs2.length&&
this.addAttribute("uv2",Yg(new Z.BufferAttribute(new Float32Array(2*a.uvs2.length),2),a.uvs2));0<a.indices.length&&this.setIndex(Xg(new Z.BufferAttribute(new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),1),a.indices));this.groups=a.groups;for(var b in a.morphTargets){for(var c=[],d=a.morphTargets[b],e=0,f=d.length;e<f;e++){var g=d[e],h=new Z.Float32Attribute(3*g.length,3);c.push(Zg(h,g))}this.morphAttributes[b]=c}0<a.skinIndices.length&&(b=new Z.Float32Attribute(4*a.skinIndices.length,
4),this.addAttribute("skinIndex",$g(b,a.skinIndices)));0<a.skinWeights.length&&(b=new Z.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",$g(b,a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Z.Box3);var a=this.attributes.position.array;void 0!==a?Ig(this.boundingBox,a):this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new Z.Box3,b=new Z.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new Z.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;Ig(a,c);a.center(d);for(var e=
0,f=0,g=c.length;f<g;f+=3)b.fromArray(c,f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",
new Z.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,f=0,g=e.length;f<g;f++)e[f]=0;e=b.normal.array;var h=new Z.Vector3,k=new Z.Vector3,l=new Z.Vector3,n=new Z.Vector3,p=new Z.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var q=0,r=c.length;q<r;++q){f=c[q];g=f.start;var t=f.count;f=g;for(g+=t;f<g;f+=3){t=3*a[f+0];var v=3*a[f+1];var u=3*a[f+2];h.fromArray(d,t);k.fromArray(d,v);l.fromArray(d,u);n.subVectors(l,k);p.subVectors(h,k);n.cross(p);e[t]+=
n.x;e[t+1]+=n.y;e[t+2]+=n.z;e[v]+=n.x;e[v+1]+=n.y;e[v+2]+=n.z;e[u]+=n.x;e[u+1]+=n.y;e[u+2]+=n.z}}}else for(f=0,g=d.length;f<g;f+=9)h.fromArray(d,f),k.fromArray(d,f+3),l.fromArray(d,f+6),n.subVectors(l,k),p.subVectors(h,k),n.cross(p),e[f]=n.x,e[f+1]=n.y,e[f+2]=n.z,e[f+3]=n.x,e[f+4]=n.y,e[f+5]=n.z,e[f+6]=n.x,e[f+7]=n.y,e[f+8]=n.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof Z.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,h=0;for(f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h]}return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new Z.BufferGeometry,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],f=e.array;e=e.itemSize;for(var g=new f.constructor(b.length*e),h,k=0,l=0,n=b.length;l<n;l++){h=b[l]*e;for(var p=0;p<e;p++)g[k++]=f[h++]}a.addAttribute(d,new Z.BufferAttribute(g,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;
for(e in b)void 0!==b[e]&&(a[e]=b[e]);return a}a.data={attributes:{}};var c=this.index;null!==c&&(b=Array.prototype.slice.call(c.array),a.data.index={type:c.array.constructor.name,array:b});c=this.attributes;for(e in c){var d=c[e];b=Array.prototype.slice.call(d.array);a.data.attributes[e]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized}}var e=this.groups;0<e.length&&(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere=
{center:e.center.toArray(),radius:e.radius});return a},clone:function(){return(new Z.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Z.BufferGeometry.MaxIndex=65535;
Z.InstancedBufferGeometry=function(){Z.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};Z.InstancedBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.InstancedBufferGeometry.prototype.constructor=Z.InstancedBufferGeometry;Z.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
Z.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};Z.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};
Z.Uniform.prototype={constructor:Z.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};Z.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};
Z.AnimationAction._new=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:Z.ZeroCurvatureEnding,endingEnd:Z.ZeroCurvatureEnding},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=Z.LoopRepeat;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};function ah(a){var b=a._weightInterpolant;null!==b&&(a._weightInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}function bh(a){var b=a._timeScaleInterpolant;null!==b&&(a._timeScaleInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
function ch(a,b,c,d){var e=a._mixer,f=e.time,g=a._weightInterpolant;null===g&&(g=e._lendControlInterpolant(),a._weightInterpolant=g);a=g.parameterPositions;g=g.sampleValues;a[0]=f;g[0]=c;a[1]=f+b;g[1]=d}function dh(a,b,c,d){var e=a._mixer,f=e.time,g=a._timeScaleInterpolant,h=a.timeScale;null===g&&(g=e._lendControlInterpolant(),a._timeScaleInterpolant=g);e=g.parameterPositions;g=g.sampleValues;e[0]=f;e[1]=f+d;g[0]=b/h;g[1]=c/h;return a}
function eh(a,b,c,d){var e=a._interpolantSettings;d?(e.endingStart=Z.ZeroSlopeEnding,e.endingEnd=Z.ZeroSlopeEnding):(e.endingStart=b?a.zeroSlopeAtStart?Z.ZeroSlopeEnding:Z.ZeroCurvatureEnding:Z.WrapAroundEnding,e.endingEnd=c?a.zeroSlopeAtEnd?Z.ZeroSlopeEnding:Z.ZeroCurvatureEnding:Z.WrapAroundEnding)}
Z.AnimationAction._new.prototype={constructor:Z.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return bh(ah(this))},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return ah(this)},getEffectiveWeight:function(){return this._effectiveWeight},crossFadeTo:function(a,b,c){ch(this,b,1,0);ch(a,b,0,1);if(c){c=a._clip.duration;var d=this._clip.duration,e=c/d;dh(this,1,d/c,b);dh(a,e,1,b)}return a},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=
this.paused?0:a;return bh(this)},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return bh(this)},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return bh(this)},halt:function(a){return dh(this,this._effectiveTimeScale,0,a)},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;
if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}c=b;b=0;if(!this.paused&&(b=this.timeScale,e=this._timeScaleInterpolant,null!==e)){var f=e.evaluate(a)[0];b*=f;a>e.parameterPositions[1]&&(bh(this),0===b?this.paused=!0:this.timeScale=b)}this._effectiveTimeScale=b;a:if(f=c*b,c=this.time+f,0!==f){b=this._clip.duration;var g=this.loop;e=this._loopCount;if(g===Z.LoopOnce)b:{if(-1===e&&(this.loopCount=0,eh(this,!0,!0,!1)),c>=b)c=b;else if(0>c)c=0;else break b;this.clampWhenFinished?
this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>f?-1:1})}else{g=g===Z.LoopPingPong;-1===e&&(0<=f?(e=0,eh(this,!0,0===this.repetitions,g)):eh(this,0===this.repetitions,!0,g));if(c>=b||0>c){var h=Math.floor(c/b);c-=b*h;e+=Math.abs(h);var k=this.repetitions-e;0>k?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<f?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<f?1:-1})):(0===k?(f=0>f,eh(this,f,!f,g)):eh(this,!1,!1,g),
this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h}))}if(g&&1===(e&1)){this.time=c;c=b-c;break a}}this.time=c}b=0;this.enabled&&(b=this.weight,e=this._weightInterpolant,null!==e&&(f=e.evaluate(a)[0],b*=f,a>e.parameterPositions[1]&&(ah(this),0===f&&(this.enabled=!1))));a=this._effectiveWeight=b;if(0<a)for(b=this._interpolants,e=this._propertyBindings,f=0,g=b.length;f!==g;++f){b[f].evaluate(c);h=e[f];k=a;var l=h.buffer,n=h.valueSize,p=d*n+n,q=h.cumulativeWeight;if(0===
q){for(q=0;q!==n;++q)l[p+q]=l[q];q=k}else q+=k,h._mixBufferRegion(l,p,0,k/q,n);h.cumulativeWeight=q}}};Z.AnimationClip=function(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=Z.Math.generateUUID();if(0>this.duration){b=a=0;for(c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a}this.trim();this.optimize()};
Z.AnimationClip.prototype={constructor:Z.AnimationClip,trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(Z.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(Z.KeyframeTrack.parse(c[e]).scale(d));return new Z.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(Z.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%e,g,(g+1)%e);k.push(0,
1,0);var l=Z.AnimationUtils.getKeyframeOrder(h);h=Z.AnimationUtils.sortedArray(h,1,l);k=Z.AnimationUtils.sortedArray(k,1,l);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push((new Z.NumberKeyframeTrack(".morphTargetInfluences["+b[g].name+"]",h,k)).scale(1/c))}return new Z.AnimationClip(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],k=h.name.match(e);if(k&&1<k.length){var l=k[1];(k=d[l])||(d[l]=k=[]);k.push(h)}}a=[];for(l in d)a.push(Z.AnimationClip.CreateFromMorphTargetSequence(l,d[l],b,c));return a},parseAnimation:function(a,b){function c(v,u,y,w,x){if(0!==y.length){var z=[],B=[];Z.AnimationUtils.flattenJSON(y,z,B,w);0!==z.length&&x.push(new v(u,z,B))}}if(!a)return console.error("  no animation in JSONLoader data"),null;var d=[],e=a.name||"default",
f=a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0;h<a.length;h++){var k=a[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){f={};for(var l=0;l<k.length;l++)if(k[l].morphTargets)for(var n=0;n<k[l].morphTargets.length;n++)f[k[l].morphTargets[n]]=-1;for(var p in f){var q=[],r=[];for(n=0;n!==k[l].morphTargets.length;++n){var t=k[l];q.push(t.time);r.push(t.morphTarget===p?1:0)}d.push(new Z.NumberKeyframeTrack(".morphTargetInfluence["+p+"]",q,r))}f=f.length*(g||1)}else l=".bones["+b[h].name+"]",c(Z.VectorKeyframeTrack,
l+".position",k,"pos",d),c(Z.QuaternionKeyframeTrack,l+".quaternion",k,"rot",d),c(Z.VectorKeyframeTrack,l+".scale",k,"scl",d)}return 0===d.length?null:new Z.AnimationClip(e,f,d)}});Z.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
Object.assign(Z.AnimationMixer.prototype,Z.EventDispatcher.prototype,{clipAction:function(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?Z.AnimationClip.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new Z.AnimationMixer._Action(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||
this._root;b=c.uuid;c="string"===typeof a?Z.AnimationClip.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),
f=this._accuIndex^=1,g=0;g!==c;++g){var h=b[g];h.enabled&&h._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();
this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.binding.setValue(a.buffer,3*a.valueSize),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});
Z.AnimationMixer._Action=Z.AnimationAction._new;
Object.assign(Z.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,k=h[g];void 0===k&&(k={},h[g]=k);for(h=0;h!==e;++h){var l=d[h],n=l.name,p=k[n];if(void 0===p){p=f[h];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,g,n));continue}p=new Z.PropertyMixer(Z.PropertyBinding.create(c,n,b&&b._propertyBindings[h].binding.parsedPath),
l.ValueTypeName,fh(l));++p.referenceCount;this._addInactiveBinding(p,g,n)}f[h]=p;a[h].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];if(0===e.useCount++){this._lendBinding(e);var f=e.buffer,g=e.valueSize,h=3*g;e.binding.getValue(f,
h);for(var k=g;k!==h;++k)f[k]=f[h+k%g];e.cumulativeWeight=0}}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.binding.setValue(e.buffer,3*e.valueSize),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=
this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;c=a._clip.uuid;d=this._actionsByClip;var e=d[c],f=e.knownActions,g=f[f.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;f[h]=g;f.pop();a._byClipCacheIndex=
null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===f.length&&delete d[c];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=
--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete e[d]}},_lendBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new Z.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=
b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
Z.AnimationObjectGroup=function(a){this.uuid=Z.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
Z.AnimationObjectGroup.prototype={constructor:Z.AnimationObjectGroup,add:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._paths,g=this._parsedPaths,h=this._bindings,k=h.length,l=0,n=arguments.length;l!==n;++l){var p=arguments[l],q=p.uuid,r=e[q];if(void 0===r){r=c++;e[q]=r;b.push(p);q=0;for(var t=k;q!==t;++q)h[q].push(new Z.PropertyBinding(p,f[q],g[q]))}else if(r<d){var v=b[r],u=--d;t=b[u];e[t.uuid]=r;b[r]=t;e[q]=u;b[u]=p;q=0;for(t=k;q!==t;++q){var y=
h[q],w=y[r];y[r]=y[u];void 0===w&&(w=new Z.PropertyBinding(p,f[q],g[q]));y[u]=w}}else b[r]!==v&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g],l=k.uuid,n=d[l];if(void 0!==n&&n>=c){var p=c++,q=b[p];d[q.uuid]=n;b[n]=q;d[l]=
p;b[p]=k;k=0;for(l=f;k!==l;++k){q=e[k];var r=q[n];q[n]=q[p];q[p]=r}}}this.nCachedObjects_=c},uncache:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._bindings,g=f.length,h=0,k=arguments.length;h!==k;++h){var l=arguments[h].uuid,n=e[l];if(void 0!==n)if(delete e[l],n<d){l=--d;var p=b[l],q=--c,r=b[q];e[p.uuid]=n;b[n]=p;e[r.uuid]=l;b[l]=r;b.pop();p=0;for(r=g;p!==r;++p){var t=f[p],v=t[q];t[n]=t[l];t[l]=v;t.pop()}}else for(q=--c,r=b[q],e[r.uuid]=n,b[n]=
r,b.pop(),p=0,r=g;p!==r;++p)t=f[p],t[n]=t[q],t.pop()}this.nCachedObjects_=d},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};
Z.AnimationUtils={arraySlice:function(a,b,c){return Z.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(e,f){return a[e]-a[f]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,k=0;k!==b;++k)e[g++]=a[h+k];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),
c.push(g)),f=a[e++];while(void 0!==f)}}}};Z.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=Z.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=Z.AnimationUtils.convertArray(c,this.ValueBufferType);gh(this,d||this.DefaultInterpolation);this.validate();this.optimize()};function fh(a){return a.values.length/a.times.length}
function gh(a,b){switch(b){case Z.InterpolateDiscrete:var c=a.InterpolantFactoryMethodDiscrete;break;case Z.InterpolateLinear:c=a.InterpolantFactoryMethodLinear;break;case Z.InterpolateSmooth:c=a.InterpolantFactoryMethodSmooth}if(void 0===c){c="unsupported interpolation for "+a.ValueTypeName+" keyframe track named "+a.name;if(void 0===a.createInterpolant)if(b!==a.DefaultInterpolation)gh(a,a.DefaultInterpolation);else throw Error(c);console.warn(c)}else a.createInterpolant=c}
Z.KeyframeTrack.prototype={constructor:Z.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Z.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new Z.DiscreteInterpolant(this.times,this.values,fh(this),a)},InterpolantFactoryMethodLinear:function(a){return new Z.LinearInterpolant(this.times,this.values,fh(this),a)},InterpolantFactoryMethodSmooth:function(a){return new Z.CubicInterpolant(this.times,this.values,fh(this),a)},shift:function(a){if(0!==
a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=fh(this),this.times=Z.AnimationUtils.arraySlice(c,e,f),this.values=Z.AnimationUtils.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=fh(this);0!==b-Math.floor(b)&&
(console.error("invalid value size in track",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&Z.AnimationUtils.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",
this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=fh(this),d=1,e=1,f=a.length-1;e<=f;++e){var g=!1,h=a[e];if(h!==a[e+1]&&(1!==e||h!==h[0])){var k=e*c,l=k-c,n=k+c;for(h=0;h!==c;++h){var p=b[k+h];if(p!==b[l+h]||p!==b[n+h]){g=!0;break}}}if(g){if(e!==d)for(a[d]=a[e],g=e*c,k=d*c,h=0;h!==c;++h)b[k+h]=b[g+h];++d}}d!==a.length&&(this.times=Z.AnimationUtils.arraySlice(a,0,d),this.values=Z.AnimationUtils.arraySlice(b,0,d*c));return this}};
Object.assign(Z.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=Z.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];Z.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:Z.AnimationUtils.convertArray(a.times,
Array),values:Z.AnimationUtils.convertArray(a.values,Array)};a:{switch(a.createInterpolant){case a.InterpolantFactoryMethodDiscrete:var c=Z.InterpolateDiscrete;break a;case a.InterpolantFactoryMethodLinear:c=Z.InterpolateLinear;break a;case a.InterpolantFactoryMethodSmooth:c=Z.InterpolateSmooth;break a}c=void 0}c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Z.NumberKeyframeTrack;
case "vector":case "vector2":case "vector3":case "vector4":return Z.VectorKeyframeTrack;case "color":return Z.ColorKeyframeTrack;case "quaternion":return Z.QuaternionKeyframeTrack;case "bool":case "boolean":return Z.BooleanKeyframeTrack;case "string":return Z.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});
Z.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||Z.PropertyBinding.parseTrackName(b);this.node=Z.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
Z.PropertyBinding.prototype={constructor:Z.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=Z.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==f){if(void 0===
a[f]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[f]}}if(f=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):void 0!==f.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(Z.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Z.PropertyBinding.prototype.getValue,_setValue_unbound:Z.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},
function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});
Z.PropertyBinding.Composite=function(a,b,c){c=c||Z.PropertyBinding.parseTrackName(b);this._targetGroup=a;var d=a._bindingsIndicesByPath,e=d[b],f=a._bindings;if(void 0!==e)b=f[e];else{var g=a._paths,h=a._parsedPaths,k=a._objects,l=a.nCachedObjects_;a=Array(k.length);e=f.length;d[b]=e;g.push(b);h.push(c);f.push(a);d=l;for(e=k.length;d!==e;++d)a[d]=new Z.PropertyBinding(k[d],b,c);b=a}this._bindings=b};
Z.PropertyBinding.Composite.prototype={constructor:Z.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};Z.PropertyBinding.create=function(a,b,c){return a instanceof Z.AnimationObjectGroup?new Z.PropertyBinding.Composite(a,b,c):new Z.PropertyBinding(a,b,c)};
Z.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
Z.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(e){for(var f=0;f<e.bones.length;f++){var g=e.bones[f];if(g.name===b)return g}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(e){for(var f=0;f<e.length;f++){var g=e[f];if(g.name===b||g.uuid===b)return g;if(g=d(g.children))return g}return null};if(a=d(a.children))return a}return null};
Z.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
Z.PropertyMixer.prototype={constructor:Z.PropertyMixer,apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){Z.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*
f+a[c+g]*d}}};Z.BooleanKeyframeTrack=function(a,b,c){Z.KeyframeTrack.call(this,a,b,c)};Z.BooleanKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Z.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Z.ColorKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.ColorKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.ColorKeyframeTrack,ValueTypeName:"color"});Z.NumberKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};Z.NumberKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.NumberKeyframeTrack,ValueTypeName:"number"});Z.QuaternionKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:Z.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new Z.QuaternionLinearInterpolant(this.times,this.values,fh(this),a)},InterpolantFactoryMethodSmooth:void 0});Z.StringKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.StringKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Z.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Z.VectorKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};Z.VectorKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.VectorKeyframeTrack,ValueTypeName:"vector"});
Z.Audio=function(a){Z.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};
Z.Audio.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});Z.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};
Object.assign(Z.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.defineProperty(Z,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});
Z.PositionalAudio=function(a){Z.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};
Z.PositionalAudio.prototype=Object.assign(Object.create(Z.Audio.prototype),{constructor:Z.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},
setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new Z.Vector3;return function(b){Z.Object3D.prototype.updateMatrixWorld.call(this,b);Eg(a,this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});Z.AudioListener=function(){Z.Object3D.call(this);this.type="AudioListener";this.context=Z.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};
Z.AudioListener.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):
this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new Z.Vector3,b=new Z.Quaternion,c=new Z.Vector3,d=new Z.Vector3;return function(e){Z.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);zg(d.set(0,
0,-1),b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z)}}()});Z.Camera=function(){Z.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new Z.Matrix4;this.projectionMatrix=new Z.Matrix4};Z.Camera.prototype=Object.create(Z.Object3D.prototype);m=Z.Camera.prototype;m.constructor=Z.Camera;m.getWorldDirection=function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Vector3;this.getWorldQuaternion(a);return zg(b.set(0,0,-1),a)}}();
m.lookAt=function(){var a=new Z.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();m.clone=function(){return(new this.constructor).copy(this)};m.copy=function(a){Z.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
Z.CubeCamera=function(a,b,c){Z.Object3D.call(this);this.type="CubeCamera";var d=new Z.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new Z.Vector3(1,0,0));this.add(d);var e=new Z.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new Z.Vector3(-1,0,0));this.add(e);var f=new Z.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new Z.Vector3(0,1,0));this.add(f);var g=new Z.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new Z.Vector3(0,-1,0));this.add(g);var h=new Z.PerspectiveCamera(90,
1,a,b);h.up.set(0,-1,0);h.lookAt(new Z.Vector3(0,0,1));this.add(h);var k=new Z.PerspectiveCamera(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new Z.Vector3(0,0,-1));this.add(k);this.renderTarget=new Z.WebGLRenderTargetCube(c,c,{format:Z.RGBFormat,magFilter:Z.LinearFilter,minFilter:Z.LinearFilter});this.updateCubeMap=function(l,n){null===this.parent&&this.updateMatrixWorld();var p=this.renderTarget,q=p.texture.generateMipmaps;p.texture.generateMipmaps=!1;p.activeCubeFace=0;l.render(n,d,p);p.activeCubeFace=
1;l.render(n,e,p);p.activeCubeFace=2;l.render(n,f,p);p.activeCubeFace=3;l.render(n,g,p);p.activeCubeFace=4;l.render(n,h,p);p.texture.generateMipmaps=q;p.activeCubeFace=5;l.render(n,k,p);l.setRenderTarget(null)}};Z.CubeCamera.prototype=Object.create(Z.Object3D.prototype);Z.CubeCamera.prototype.constructor=Z.CubeCamera;
Z.OrthographicCamera=function(a,b,c,d,e,f){Z.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};
Z.OrthographicCamera.prototype=Object.assign(Object.create(Z.Camera.prototype),{constructor:Z.OrthographicCamera,copy:function(a){Z.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;a=c+a;c=d+b;b=d-b;d=this.near;
var f=this.far,g=this.projectionMatrix.elements,h=1/(a-e),k=1/(c-b),l=1/(f-d);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((a+e)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+b)*k);g[2]=0;g[6]=0;g[10]=-2*l;g[14]=-((f+d)*l);g[3]=0;g[7]=0;g[11]=0;g[15]=1},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});
Z.PerspectiveCamera=function(a,b,c,d){Z.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};
Z.PerspectiveCamera.prototype=Object.assign(Object.create(Z.Camera.prototype),{constructor:Z.PerspectiveCamera,copy:function(a){Z.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){this.fov=2*Z.Math.RAD2DEG*Math.atan(.5*this.getFilmHeight()/a);this.updateProjectionMatrix()},
getFocalLength:function(){return.5*this.getFilmHeight()/Math.tan(.5*Z.Math.DEG2RAD*this.fov)},getEffectiveFOV:function(){return 2*Z.Math.RAD2DEG*Math.atan(Math.tan(.5*Z.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},
clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*Z.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==f){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/h;d*=f.width/g;c*=f.height/h}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());Sg(this.projectionMatrix,e,e+d,b-c,b,a,this.far)},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.fov=
this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
Z.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new Z.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new Z.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
Object.assign(Z.StereoCamera.prototype,{update:function(){var a,b,c,d,e,f=new Z.Matrix4,g=new Z.Matrix4;return function(h){if(a!==h.focus||b!==h.fov||c!==h.aspect*this.aspect||d!==h.near||e!==h.far){a=h.focus;b=h.fov;c=h.aspect*this.aspect;d=h.near;e=h.far;var k=h.projectionMatrix.clone(),l=.032*d/a,n=d*Math.tan(Z.Math.DEG2RAD*b*.5);g.elements[12]=-.032;f.elements[12]=.032;var p=-n*c+l;var q=n*c+l;k.elements[0]=2*d/(q-p);k.elements[8]=(q+p)/(q-p);this.cameraL.projectionMatrix.copy(k);p=-n*c-l;q=n*
c-l;k.elements[0]=2*d/(q-p);k.elements[8]=(q+p)/(q-p);this.cameraR.projectionMatrix.copy(k)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(g);this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(f)}}()});Z.Light=function(a,b){Z.Object3D.call(this);this.type="Light";this.color=new Z.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};
Z.Light.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Light,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.color=ug(this.color);a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=ug(this.groundColor));void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});Z.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new Z.Vector2(512,512);this.map=null;this.matrix=new Z.Matrix4};Object.assign(Z.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});
Z.AmbientLight=function(a,b){Z.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};Z.AmbientLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.AmbientLight});Z.DirectionalLight=function(a,b){Z.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new Z.Object3D;this.shadow=new Z.DirectionalLightShadow};
Z.DirectionalLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.DirectionalLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Z.DirectionalLightShadow=function(){Z.LightShadow.call(this,new Z.OrthographicCamera(-5,5,5,-5,.5,500))};Z.DirectionalLightShadow.prototype=Object.assign(Object.create(Z.LightShadow.prototype),{constructor:Z.DirectionalLightShadow});
Z.HemisphereLight=function(a,b,c){Z.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new Z.Color(b)};Z.HemisphereLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.HemisphereLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
Z.PointLight=function(a,b,c,d){Z.Light.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Z.LightShadow(new Z.PerspectiveCamera(90,1,.5,500))};
Z.PointLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.PointLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
Z.SpotLight=function(a,b,c,d,e,f){Z.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new Z.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(g){this.intensity=g/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Z.SpotLightShadow};
Z.SpotLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.SpotLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Z.SpotLightShadow=function(){Z.LightShadow.call(this,new Z.PerspectiveCamera(50,1,.5,500))};
Z.SpotLightShadow.prototype=Object.assign(Object.create(Z.LightShadow.prototype),{constructor:Z.SpotLightShadow,update:function(a){var b=2*Z.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()}});Z.AudioLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.AudioLoader.prototype={constructor:Z.AudioLoader,load:function(a,b,c,d){var e=new Z.XHRLoader(this.manager);hh(e);e.load(a,function(f){Z.AudioContext.decodeAudioData(f,function(g){b(g)})},c,d)}};Z.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
Z.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};function ih(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}function jh(a,b,c){for(var d=Z.Loader.prototype,e=[],f=0;f<a.length;++f)e[f]=d.createMaterial(a[f],b,c);return e}
Z.Loader.prototype={constructor:Z.Loader,crossOrigin:void 0,createMaterial:function(){var a,b,c;return function(d,e,f){function g(p,q,r,t,v){p=e+p;var u=Z.Loader.Handlers.get(p);null!==u?p=u.load(p):(b.setCrossOrigin(f),p=b.load(p));void 0!==q&&(p.repeat.fromArray(q),1!==q[0]&&(p.wrapS=Z.RepeatWrapping),1!==q[1]&&(p.wrapT=Z.RepeatWrapping));void 0!==r&&p.offset.fromArray(r);void 0!==t&&("repeat"===t[0]&&(p.wrapS=Z.RepeatWrapping),"mirror"===t[0]&&(p.wrapS=Z.MirroredRepeatWrapping),"repeat"===t[1]&&
(p.wrapT=Z.RepeatWrapping),"mirror"===t[1]&&(p.wrapT=Z.MirroredRepeatWrapping));void 0!==v&&(p.anisotropy=v);q=Z.Math.generateUUID();h[q]=p;return q}void 0===a&&(a=new Z.Color);void 0===b&&(b=new Z.TextureLoader);void 0===c&&(c=new Z.MaterialLoader);var h={},k={uuid:Z.Math.generateUUID(),type:"MeshLambertMaterial"},l;for(l in d){var n=d[l];switch(l){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":k.name=n;break;case "blending":k.blending=Z[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
l,"is no longer supported.");break;case "colorDiffuse":k.color=ug(a.fromArray(n));break;case "colorSpecular":k.specular=ug(a.fromArray(n));break;case "colorEmissive":k.emissive=ug(a.fromArray(n));break;case "specularCoef":k.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(k.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(k.type="MeshPhongMaterial");break;case "mapDiffuse":k.map=g(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":k.lightMap=g(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":k.aoMap=g(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":k.bumpMap=g(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":k.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":k.normalMap=g(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":k.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":k.specularMap=g(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":k.alphaMap=g(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":k.side=Z.BackSide;break;case "doubleSided":k.side=Z.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");k.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":k[l]=
n;break;case "vertexColors":!0===n&&(k.vertexColors=Z.VertexColors);"face"===n&&(k.vertexColors=Z.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,n)}}"MeshBasicMaterial"===k.type&&delete k.emissive;"MeshPhongMaterial"!==k.type&&delete k.specular;1>k.opacity&&(k.transparent=!0);c.textures=h;return c.parse(k)}}()};
Z.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};Z.XHRLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};function hh(a){a.responseType="arraybuffer"}
Z.XHRLoader.prototype={constructor:Z.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=Z.Cache.get(a);if(void 0!==f)return b&&setTimeout(function(){b(f)},0),f;var g=new XMLHttpRequest;g.overrideMimeType("text/plain");g.open("GET",a,!0);g.addEventListener("load",function(h){var k=h.target.response;Z.Cache.add(a,k);200===this.status?(b&&b(k),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(k),e.manager.itemEnd(a)):(d&&
d(h),e.manager.itemError(a))},!1);void 0!==c&&g.addEventListener("progress",function(h){c(h)},!1);g.addEventListener("error",function(h){d&&d(h);e.manager.itemError(a)},!1);void 0!==this.responseType&&(g.responseType=this.responseType);void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials);g.send(null);e.manager.itemStart(a);return g},setPath:function(a){this.path=a}};Z.FontLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.FontLoader.prototype={constructor:Z.FontLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(this.manager)).load(a,function(f){try{var g=JSON.parse(f)}catch(h){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),g=JSON.parse(f.substring(65,f.length-2))}f=e.parse(g);b&&b(f)},c,d)},parse:function(a){return new Z.Font(a)}};Z.ImageLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.ImageLoader.prototype={constructor:Z.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=Z.Cache.get(a);if(void 0!==f)return e.manager.itemStart(a),b?setTimeout(function(){b(f);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),f;var g=document.createElement("img");g.addEventListener("load",function(){Z.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&g.addEventListener("progress",function(h){c(h)},!1);g.addEventListener("error",function(h){d&&d(h);e.manager.itemError(a)},
!1);void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin);e.manager.itemStart(a);g.src=a;return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};Z.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.withCredentials=!1};
Z.JSONLoader.prototype={constructor:Z.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:ih(a),g=new Z.XHRLoader(this.manager);g.withCredentials=this.withCredentials;g.load(a,function(h){h=JSON.parse(h);var k=h.metadata;if(void 0!==
k&&(k=k.type,void 0!==k)){if("object"===k.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===k.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}h=e.parse(h,f);b(h.geometry,h.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new Z.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(e){var f,g,h,k=a.faces;var l=a.vertices;var n=
a.normals,p=a.colors,q=0;if(void 0!==a.uvs){for(f=0;f<a.uvs.length;f++)a.uvs[f].length&&q++;for(f=0;f<q;f++)c.faceVertexUvs[f]=[]}var r=0;for(h=l.length;r<h;)f=new Z.Vector3,f.x=l[r++]*e,f.y=l[r++]*e,f.z=l[r++]*e,c.vertices.push(f);r=0;for(h=k.length;r<h;){e=k[r++];var t=e&1;var v=e&2;f=e&8;var u=e&16;var y=e&32;l=e&64;e&=128;if(t){t=new Z.Face3;t.a=k[r];t.b=k[r+1];t.c=k[r+3];var w=new Z.Face3;w.a=k[r+1];w.b=k[r+2];w.c=k[r+3];r+=4;v&&(v=k[r++],t.materialIndex=v,w.materialIndex=v);v=c.faces.length;
if(f)for(f=0;f<q;f++){var x=a.uvs[f];c.faceVertexUvs[f][v]=[];c.faceVertexUvs[f][v+1]=[];for(g=0;4>g;g++){var z=k[r++];var B=x[2*z];z=x[2*z+1];B=new Z.Vector2(B,z);2!==g&&c.faceVertexUvs[f][v].push(B);0!==g&&c.faceVertexUvs[f][v+1].push(B)}}u&&(u=3*k[r++],t.normal.set(n[u++],n[u++],n[u]),w.normal.copy(t.normal));if(y)for(f=0;4>f;f++)u=3*k[r++],y=new Z.Vector3(n[u++],n[u++],n[u]),2!==f&&t.vertexNormals.push(y),0!==f&&w.vertexNormals.push(y);l&&(l=k[r++],l=p[l],sg(t.color,l),sg(w.color,l));if(e)for(f=
0;4>f;f++)l=k[r++],l=p[l],2!==f&&t.vertexColors.push(new Z.Color(l)),0!==f&&w.vertexColors.push(new Z.Color(l));c.faces.push(t);c.faces.push(w)}else{t=new Z.Face3;t.a=k[r++];t.b=k[r++];t.c=k[r++];v&&(v=k[r++],t.materialIndex=v);v=c.faces.length;if(f)for(f=0;f<q;f++)for(x=a.uvs[f],c.faceVertexUvs[f][v]=[],g=0;3>g;g++)z=k[r++],B=x[2*z],z=x[2*z+1],B=new Z.Vector2(B,z),c.faceVertexUvs[f][v].push(B);u&&(u=3*k[r++],t.normal.set(n[u++],n[u++],n[u]));if(y)for(f=0;3>f;f++)u=3*k[r++],y=new Z.Vector3(n[u++],
n[u++],n[u]),t.vertexNormals.push(y);l&&(l=k[r++],sg(t.color,p[l]));if(e)for(f=0;3>f;f++)l=k[r++],t.vertexColors.push(new Z.Color(p[l]));c.faces.push(t)}}})(d);(function(){var e=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var f=0,g=a.skinWeights.length;f<g;f+=e)c.skinWeights.push(new Z.Vector4(a.skinWeights[f],1<e?a.skinWeights[f+1]:0,2<e?a.skinWeights[f+2]:0,3<e?a.skinWeights[f+3]:0));if(a.skinIndices)for(f=0,g=a.skinIndices.length;f<g;f+=e)c.skinIndices.push(new Z.Vector4(a.skinIndices[f],
1<e?a.skinIndices[f+1]:0,2<e?a.skinIndices[f+2]:0,3<e?a.skinIndices[f+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(e){if(void 0!==a.morphTargets)for(var f=0,g=a.morphTargets.length;f<g;f++){c.morphTargets[f]={};c.morphTargets[f].name=
a.morphTargets[f].name;c.morphTargets[f].vertices=[];for(var h=c.morphTargets[f].vertices,k=a.morphTargets[f].vertices,l=0,n=k.length;l<n;l+=3){var p=new Z.Vector3;p.x=k[l]*e;p.y=k[l+1]*e;p.z=k[l+2]*e;h.push(p)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),e=c.faces,h=a.morphColors[0].colors,f=0,g=e.length;f<g;f++)e[f].color.fromArray(h,3*f)})(d);(function(){var e=[],f=[];void 0!==a.animation&&
f.push(a.animation);void 0!==a.animations&&(a.animations.length?f=f.concat(a.animations):f.push(a.animations));for(var g=0;g<f.length;g++){var h=Z.AnimationClip.parseAnimation(f[g],c.bones);h&&e.push(h)}c.morphTargets&&(f=Z.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),e=e.concat(f));0<e.length&&(c.animations=e)})();c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};b=jh(a.materials,b,this.crossOrigin);return{geometry:c,
materials:b}}};Z.LoadingManager=function(a){var b=this,c=!1,d=0,e=0;this.onStart=void 0;this.onLoad=a;this.onError=this.onProgress=void 0;this.itemStart=function(f){e++;if(!1===c&&void 0!==b.onStart)b.onStart(f,d,e);c=!0};this.itemEnd=function(f){d++;if(void 0!==b.onProgress)b.onProgress(f,d,e);if(d===e&&(c=!1,void 0!==b.onLoad))b.onLoad()};this.itemError=function(f){if(void 0!==b.onError)b.onError(f)}};Z.DefaultLoadingManager=new Z.LoadingManager;
Z.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.BufferGeometryLoader.prototype={constructor:Z.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(e.manager)).load(a,function(f){b(e.parse(JSON.parse(f)))},c,d)},parse:function(a){var b=new Z.BufferGeometry,c=a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==c&&(c=new d[c.type](c.array),
b.setIndex(new Z.BufferAttribute(c,1)));var e=a.data.attributes;for(g in e){var f=e[g];c=new d[f.type](f.array);b.addAttribute(g,new Z.BufferAttribute(c,f.itemSize,f.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d){var g=0;for(c=d.length;g!==c;++g)e=d[g],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(d=new Z.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new Z.Sphere(d,a.radius));return b}};
Z.MaterialLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.textures={}};function kh(a,b){a=a.textures;void 0===a[b]&&console.warn("THREE.MaterialLoader: Undefined texture",b);return a[b]}
Z.MaterialLoader.prototype={constructor:Z.MaterialLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(e.manager)).load(a,function(f){b(e.parse(JSON.parse(f)))},c,d)},parse:function(a){var b=new Z[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&sg(b.color,a.color);void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&sg(b.emissive,a.emissive);void 0!==a.specular&&sg(b.specular,a.specular);
void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&
(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=kh(this,a.map));void 0!==a.alphaMap&&(b.alphaMap=kh(this,a.alphaMap),b.transparent=
!0);void 0!==a.bumpMap&&(b.bumpMap=kh(this,a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=kh(this,a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new Z.Vector2).fromArray(c)}void 0!==a.displacementMap&&(b.displacementMap=kh(this,a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==
a.roughnessMap&&(b.roughnessMap=kh(this,a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=kh(this,a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=kh(this,a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(b.specularMap=kh(this,a.specularMap));void 0!==a.envMap&&(b.envMap=kh(this,a.envMap),b.combine=Z.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=kh(this,a.lightMap));
void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=kh(this,a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials){c=0;for(var d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]))}return b}};Z.ObjectLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.texturePath=""};
function lh(a,b){var c={};if(void 0!==b)for(var d=new Z.JSONLoader,e=new Z.BufferGeometryLoader,f=0,g=b.length;f<g;f++){var h=b[f];switch(h.type){case "PlaneGeometry":case "PlaneBufferGeometry":var k=new Z[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":k=new Z[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":k=new Z[h.type](h.radius,
h.segments,h.thetaStart,h.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":k=new Z[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":k=new Z[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":k=new Z[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,
h.phiLength,h.thetaStart,h.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":k=new Z[h.type](h.radius,h.detail);break;case "RingGeometry":case "RingBufferGeometry":k=new Z[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":k=new Z[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":k=
new Z[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case "LatheGeometry":case "LatheBufferGeometry":k=new Z[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case "BufferGeometry":k=e.parse(h);break;case "Geometry":k=d.parse(h.data,a.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+h.type+'"');continue}k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);c[h.uuid]=k}return c}
function mh(a,b,c){function d(l){e.manager.itemStart(l);return g.load(l,function(){e.manager.itemEnd(l)})}var e=a,f={};if(void 0!==b&&0<b.length){var g=new Z.ImageLoader(new Z.LoadingManager(c));g.setCrossOrigin(a.crossOrigin);a=0;for(c=b.length;a<c;a++){var h=b[a],k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:e.texturePath+h.url;f[h.uuid]=d(k)}}return f}
function nh(a,b){function c(k){if("number"===typeof k)return k;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",k);return Z[k]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=new Z.Texture(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&
(h.mapping=c(g.mapping));void 0!==g.offset&&(h.offset=new Z.Vector2(g.offset[0],g.offset[1]));void 0!==g.repeat&&(h.repeat=new Z.Vector2(g.repeat[0],g.repeat[1]));void 0!==g.minFilter&&(h.minFilter=c(g.minFilter));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);Array.isArray(g.wrap)&&(h.wrapS=c(g.wrap[0]),h.wrapT=c(g.wrap[1]));d[g.uuid]=h}return d}
function oh(a,b){var c={};if(void 0!==a){var d=new Z.MaterialLoader;d.textures=b;b=0;for(var e=a.length;b<e;b++){var f=d.parse(a[b]);c[f.uuid]=f}}return c}function ph(a){for(var b=[],c=0;c<a.length;c++){var d=Z.AnimationClip.parse(a[c]);b.push(d)}return b}
Z.ObjectLoader.prototype={constructor:Z.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new Z.XHRLoader(e.manager)).load(a,function(f){e.parse(JSON.parse(f),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=lh(this,a.geometries),d=mh(this,a.images,function(){void 0!==b&&b(e)});d=nh(a.textures,d);d=oh(a.materials,d);var e=this.parseObject(a.object,
c,d);a.animations&&(e.animations=ph(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseObject:function(){var a=new Z.Matrix4;return function(b,c,d){function e(n){void 0===c[n]&&console.warn("THREE.ObjectLoader: Undefined geometry",n);return c[n]}function f(n){if(void 0!==n)return void 0===d[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),d[n]}switch(b.type){case "Scene":var g=new Z.Scene;break;case "PerspectiveCamera":g=new Z.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new Z.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new Z.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":g=new Z.DirectionalLight(b.color,b.intensity);break;case "PointLight":g=
new Z.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":g=new Z.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new Z.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":g=e(b.geometry);var h=f(b.material);g=g.bones&&0<g.bones.length?new Z.SkinnedMesh(g,h):new Z.Mesh(g,h);break;case "LOD":g=new Z.LOD;break;case "Line":g=new Z.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":case "Points":g=
new Z.Points(e(b.geometry),f(b.material));break;case "Sprite":g=new Z.Sprite(f(b.material));break;case "Group":g=new Z.Group;break;default:g=new Z.Object3D}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==
b.receiveShadow&&(g.receiveShadow=b.receiveShadow);void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(var k in b.children)g.add(this.parseObject(b.children[k],c,d));if("LOD"===b.type)for(b=b.levels,h=0;h<b.length;h++){var l=b[h];k=g.getObjectByProperty("uuid",l.object);void 0!==k&&g.addLevel(k,l.distance)}return g}}()};Z.TextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.TextureLoader.prototype={constructor:Z.TextureLoader,load:function(a,b,c,d){var e=new Z.Texture,f=new Z.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(g){e.image=g;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};Z.CubeTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.CubeTextureLoader.prototype={constructor:Z.CubeTextureLoader,load:function(a,b,c,d){function e(k){g.load(a[k],function(l){f.images[k]=l;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new Z.CubeTexture,g=new Z.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
Z.DataTextureLoader=Z.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this._parser=null};
Z.BinaryTextureLoader.prototype={constructor:Z.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new Z.DataTexture,g=new Z.XHRLoader(this.manager);hh(g);g.load(a,function(h){if(h=e._parser(h))void 0!==h.image?f.image=h.image:void 0!==h.data&&(f.image.width=h.width,f.image.height=h.height,f.image.data=h.data),f.wrapS=void 0!==h.wrapS?h.wrapS:Z.ClampToEdgeWrapping,f.wrapT=void 0!==h.wrapT?h.wrapT:Z.ClampToEdgeWrapping,f.magFilter=void 0!==h.magFilter?h.magFilter:Z.LinearFilter,f.minFilter=void 0!==
h.minFilter?h.minFilter:Z.LinearMipMapLinearFilter,f.anisotropy=void 0!==h.anisotropy?h.anisotropy:1,void 0!==h.format&&(f.format=h.format),void 0!==h.type&&(f.type=h.type),void 0!==h.mipmaps&&(f.mipmaps=h.mipmaps),1===h.mipmapCount&&(f.minFilter=Z.LinearFilter),f.needsUpdate=!0,b&&b(f,h)},c,d);return f}};Z.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this._parser=null};
Z.CompressedTextureLoader.prototype={constructor:Z.CompressedTextureLoader,load:function(a,b,c,d){function e(q){k.load(a[q],function(r){r=f._parser(r,!0);g[q]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps};l+=1;6===l&&(1===r.mipmapCount&&(h.minFilter=Z.LinearFilter),h.format=r.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new Z.CompressedTexture;h.image=g;var k=new Z.XHRLoader(this.manager);k.setPath(this.path);hh(k);if(Array.isArray(a))for(var l=0,n=0,p=a.length;n<p;++n)e(n);
else k.load(a,function(q){q=f._parser(q,!0);if(q.isCubemap)for(var r=q.mipmaps.length/q.mipmapCount,t=0;t<r;t++){g[t]={mipmaps:[]};for(var v=0;v<q.mipmapCount;v++)g[t].mipmaps.push(q.mipmaps[t*q.mipmapCount+v]),g[t].format=q.format,g[t].width=q.width,g[t].height=q.height}else h.image.width=q.width,h.image.height=q.height,h.mipmaps=q.mipmaps;1===q.mipmapCount&&(h.minFilter=Z.LinearFilter);h.format=q.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function(a){this.path=a}};
Z.Material=function(){Object.defineProperty(this,"id",{value:Z.MaterialIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=Z.NormalBlending;this.side=Z.FrontSide;this.shading=Z.SmoothShading;this.vertexColors=Z.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=Z.SrcAlphaFactor;this.blendDst=Z.OneMinusSrcAlphaFactor;this.blendEquation=Z.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
Z.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
function qh(a,b){if(void 0!==b)for(var c in b){var d=b[c];if(void 0===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var e=a[c];void 0===e?console.warn("THREE."+a.type+": '"+c+"' is not a property of this material."):e instanceof Z.Color?e.set(d):e instanceof Z.Vector3&&d instanceof Z.Vector3?e.copy(d):a[c]="overdraw"===c?Number(d):d}}}
Z.Material.prototype={constructor:Z.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},toJSON:function(a){function b(e){var f=[],g;for(g in e){var h=e[g];delete h.metadata;f.push(h)}return f}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof Z.Color&&(d.color=ug(this.color));
.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof Z.Color&&(d.emissive=ug(this.emissive));this.specular instanceof Z.Color&&(d.specular=ug(this.specular));void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof Z.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof Z.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof Z.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.bumpMap instanceof Z.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof Z.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof Z.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof Z.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof
Z.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof Z.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof Z.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof Z.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==Z.NormalBlending&&(d.blending=this.blending);
this.shading!==Z.SmoothShading&&(d.shading=this.shading);this.side!==Z.FrontSide&&(d.side=this.side);this.vertexColors!==Z.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);
c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a){var c=a.length;b=Array(c);for(var d=0;d!==c;++d)b[d]=a[d].clone()}this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(Z.Material.prototype,Z.EventDispatcher.prototype);Z.MaterialIdCount=0;Z.LineBasicMaterial=function(a){Z.Material.call(this);this.type="LineBasicMaterial";this.color=new Z.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;qh(this,a)};
Z.LineBasicMaterial.prototype=Object.create(Z.Material.prototype);Z.LineBasicMaterial.prototype.constructor=Z.LineBasicMaterial;Z.LineBasicMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};
Z.LineDashedMaterial=function(a){Z.Material.call(this);this.type="LineDashedMaterial";this.color=new Z.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;qh(this,a)};Z.LineDashedMaterial.prototype=Object.create(Z.Material.prototype);Z.LineDashedMaterial.prototype.constructor=Z.LineDashedMaterial;
Z.LineDashedMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
Z.MeshBasicMaterial=function(a){Z.Material.call(this);this.type="MeshBasicMaterial";this.color=new Z.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;qh(this,a)};Z.MeshBasicMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshBasicMaterial.prototype.constructor=Z.MeshBasicMaterial;
Z.MeshBasicMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};Z.MeshDepthMaterial=function(a){Z.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=Z.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;qh(this,a)};Z.MeshDepthMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshDepthMaterial.prototype.constructor=Z.MeshDepthMaterial;Z.MeshDepthMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
Z.MeshLambertMaterial=function(a){Z.Material.call(this);this.type="MeshLambertMaterial";this.color=new Z.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";
this.morphNormals=this.morphTargets=this.skinning=!1;qh(this,a)};Z.MeshLambertMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshLambertMaterial.prototype.constructor=Z.MeshLambertMaterial;
Z.MeshLambertMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Z.MeshNormalMaterial=function(a){Z.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;qh(this,a)};Z.MeshNormalMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshNormalMaterial.prototype.constructor=Z.MeshNormalMaterial;Z.MeshNormalMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
Z.MeshPhongMaterial=function(a){Z.Material.call(this);this.type="MeshPhongMaterial";this.color=new Z.Color(16777215);this.specular=new Z.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Z.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.specularMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;qh(this,a)};Z.MeshPhongMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshPhongMaterial.prototype.constructor=Z.MeshPhongMaterial;
Z.MeshPhongMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};
Z.MeshStandardMaterial=function(a){Z.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Z.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Z.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;qh(this,a)};Z.MeshStandardMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshStandardMaterial.prototype.constructor=Z.MeshStandardMaterial;
Z.MeshStandardMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Z.MeshPhysicalMaterial=function(a){Z.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;qh(this,a)};Z.MeshPhysicalMaterial.prototype=Object.create(Z.MeshStandardMaterial.prototype);Z.MeshPhysicalMaterial.prototype.constructor=Z.MeshPhysicalMaterial;
Z.MeshPhysicalMaterial.prototype.copy=function(a){Z.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};Z.MultiMaterial=function(a){this.uuid=Z.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
Z.MultiMaterial.prototype={constructor:Z.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var f=c[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
Z.PointsMaterial=function(a){Z.Material.call(this);this.type="PointsMaterial";this.color=new Z.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;qh(this,a)};Z.PointsMaterial.prototype=Object.create(Z.Material.prototype);Z.PointsMaterial.prototype.constructor=Z.PointsMaterial;Z.PointsMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};
Z.ShaderMaterial=function(a){Z.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),qh(this,a))};Z.ShaderMaterial.prototype=Object.create(Z.Material.prototype);Z.ShaderMaterial.prototype.constructor=Z.ShaderMaterial;
Z.ShaderMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Z.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
Z.ShaderMaterial.prototype.toJSON=function(a){a=Z.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};Z.RawShaderMaterial=function(a){Z.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};Z.RawShaderMaterial.prototype=Object.create(Z.ShaderMaterial.prototype);Z.RawShaderMaterial.prototype.constructor=Z.RawShaderMaterial;
Z.SpriteMaterial=function(a){Z.Material.call(this);this.type="SpriteMaterial";this.color=new Z.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;qh(this,a)};Z.SpriteMaterial.prototype=Object.create(Z.Material.prototype);Z.SpriteMaterial.prototype.constructor=Z.SpriteMaterial;Z.SpriteMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};
Z.ShadowMaterial=function(){Z.ShaderMaterial.call(this,{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:Z.ShaderChunk.shadow_vert,fragmentShader:Z.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};Z.ShadowMaterial.prototype=Object.create(Z.ShaderMaterial.prototype);
Z.ShadowMaterial.prototype.constructor=Z.ShadowMaterial;
Z.Texture=function(a,b,c,d,e,f,g,h,k,l){Object.defineProperty(this,"id",{value:Z.TextureIdCount++});this.uuid=Z.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:Z.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Z.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:Z.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:Z.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:Z.LinearFilter;this.minFilter=void 0!==f?f:Z.LinearMipMapLinearFilter;this.anisotropy=void 0!==k?k:1;this.format=
void 0!==g?g:Z.RGBAFormat;this.type=void 0!==h?h:Z.UnsignedByteType;this.offset=new Z.Vector2(0,0);this.repeat=new Z.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==l?l:Z.LinearEncoding;this.version=0;this.onUpdate=null};Z.Texture.DEFAULT_IMAGE=void 0;Z.Texture.DEFAULT_MAPPING=Z.UVMapping;
Z.Texture.prototype={constructor:Z.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=Z.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid;if(void 0!==c.toDataURL)var g=c;else g=document.createElement("canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height);g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===Z.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case Z.RepeatWrapping:a.x-=Math.floor(a.x);break;case Z.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case Z.MirroredRepeatWrapping:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case Z.RepeatWrapping:a.y-=Math.floor(a.y);break;case Z.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case Z.MirroredRepeatWrapping:a.y=1===
Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(Z.Texture.prototype,Z.EventDispatcher.prototype);Z.TextureIdCount=0;Z.DepthTexture=function(a,b,c,d,e,f,g,h,k){Z.Texture.call(this,null,d,e,f,g,h,Z.DepthFormat,c,k);this.image={width:a,height:b};this.type=void 0!==c?c:Z.UnsignedShortType;this.magFilter=void 0!==g?g:Z.NearestFilter;this.minFilter=void 0!==h?h:Z.NearestFilter;this.generateMipmaps=this.flipY=!1};Z.DepthTexture.prototype=Object.create(Z.Texture.prototype);
Z.DepthTexture.prototype.constructor=Z.DepthTexture;Z.CanvasTexture=function(a,b,c,d,e,f,g,h,k){Z.Texture.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0};Z.CanvasTexture.prototype=Object.create(Z.Texture.prototype);Z.CanvasTexture.prototype.constructor=Z.CanvasTexture;Z.CubeTexture=function(a,b,c,d,e,f,g,h,k,l){a=void 0!==a?a:[];b=void 0!==b?b:Z.CubeReflectionMapping;Z.Texture.call(this,a,b,c,d,e,f,g,h,k,l);this.flipY=!1};Z.CubeTexture.prototype=Object.create(Z.Texture.prototype);
Z.CubeTexture.prototype.constructor=Z.CubeTexture;Object.defineProperty(Z.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});Z.CompressedTexture=function(a,b,c,d,e,f,g,h,k,l,n,p){Z.Texture.call(this,null,f,g,h,k,l,d,e,n,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};Z.CompressedTexture.prototype=Object.create(Z.Texture.prototype);Z.CompressedTexture.prototype.constructor=Z.CompressedTexture;
Z.DataTexture=function(a,b,c,d,e,f,g,h,k,l,n,p){Z.Texture.call(this,null,f,g,h,k,l,d,e,n,p);this.image={data:a,width:b,height:c};this.magFilter=void 0!==k?k:Z.NearestFilter;this.minFilter=void 0!==l?l:Z.NearestFilter;this.generateMipmaps=this.flipY=!1};Z.DataTexture.prototype=Object.create(Z.Texture.prototype);Z.DataTexture.prototype.constructor=Z.DataTexture;
Z.VideoTexture=function(a,b,c,d,e,f,g,h,k){function l(){requestAnimationFrame(l);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}Z.Texture.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1;var n=this;l()};Z.VideoTexture.prototype=Object.create(Z.Texture.prototype);Z.VideoTexture.prototype.constructor=Z.VideoTexture;Z.Group=function(){Z.Object3D.call(this);this.type="Group"};Z.Group.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Group});
Z.Points=function(a,b){Z.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.PointsMaterial({color:16777215*Math.random()})};
Z.Points.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Points,raycast:function(){var a=new Z.Matrix4,b=new Z.Ray,c=new Z.Sphere;return function(d,e){function f(v,u){var y=b.distanceSqToPoint(v);if(y<n){v=b.closestPointToPoint(v);v.applyMatrix4(k);var w=d.ray.origin.distanceTo(v);w<d.near||w>d.far||e.push({distance:w,distanceToRay:Math.sqrt(y),point:v.clone(),index:u,face:null,object:g})}}var g=this,h=this.geometry,k=this.matrixWorld,l=d.params.Points.threshold;null===
h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);l/=(this.scale.x+this.scale.y+this.scale.z)/3;var n=l*l;l=new Z.Vector3;if(h instanceof Z.BufferGeometry){var p=h.index;h=h.attributes.position.array;if(null!==p){var q=p.array;p=0;for(var r=q.length;p<r;p++){var t=q[p];l.fromArray(h,3*t);f(l,t)}}else for(p=0,q=h.length/3;p<q;p++)l.fromArray(h,3*p),f(l,p)}else for(l=h.vertices,p=0,
q=l.length;p<q;p++)f(l[p],p)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Z.LineSegments(a,b);Z.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.LineBasicMaterial({color:16777215*Math.random()})};
Z.Line.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Line,raycast:function(){var a=new Z.Matrix4,b=new Z.Ray,c=new Z.Sphere;return function(d,e){var f=d.linePrecision;f*=f;var g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);var k=new Z.Vector3,l=new Z.Vector3;h=new Z.Vector3;var n=new Z.Vector3,p=this instanceof
Z.LineSegments?2:1;if(g instanceof Z.BufferGeometry){var q=g.index,r=g.attributes.position.array;if(null!==q){q=q.array;g=0;for(var t=q.length-1;g<t;g+=p){var v=q[g+1];k.fromArray(r,3*q[g]);l.fromArray(r,3*v);v=b.distanceSqToSegment(k,l,n,h);v>f||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else for(g=0,t=r.length/3-1;g<t;g+=p)k.fromArray(r,3*g),l.fromArray(r,
3*g+3),v=b.distanceSqToSegment(k,l,n,h),v>f||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof Z.Geometry)for(k=g.vertices,l=k.length,g=0;g<l-1;g+=p)v=b.distanceSqToSegment(k[g],k[g+1],n,h),v>f||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.LineSegments=function(a,b){Z.Line.call(this,a,b);this.type="LineSegments"};Z.LineSegments.prototype=Object.assign(Object.create(Z.Line.prototype),{constructor:Z.LineSegments});
Z.Mesh=function(a,b){Z.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=Z.TrianglesDrawMode;this.updateMorphTargets()};
Z.Mesh.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==
this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(w,x,z,B,A,C,E){Z.Triangle.barycoordFromPoint(w,x,z,B,v);A.multiplyScalar(v.x);C.multiplyScalar(v.y);E.multiplyScalar(v.z);A.add(C).add(E);return A.clone()}function b(w,x,z,B,A,C,E){var F=w.material;if(null===(F.side===Z.BackSide?z.intersectTriangle(C,A,B,!0,E):z.intersectTriangle(B,A,C,F.side!==
Z.DoubleSide,E)))return null;y.copy(E);y.applyMatrix4(w.matrixWorld);z=x.ray.origin.distanceTo(y);return z<x.near||z>x.far?null:{distance:z,point:y.clone(),object:w}}function c(w,x,z,B,A,C,E,F){g.fromArray(B,3*C);h.fromArray(B,3*E);k.fromArray(B,3*F);if(w=b(w,x,z,g,h,k,u))A&&(q.fromArray(A,2*C),r.fromArray(A,2*E),t.fromArray(A,2*F),w.uv=a(u,g,h,k,q,r,t)),w.face=new Z.Face3(C,E,F,Z.Triangle.normal(g,h,k)),w.faceIndex=C;return w}var d=new Z.Matrix4,e=new Z.Ray,f=new Z.Sphere,g=new Z.Vector3,h=new Z.Vector3,
k=new Z.Vector3,l=new Z.Vector3,n=new Z.Vector3,p=new Z.Vector3,q=new Z.Vector2,r=new Z.Vector2,t=new Z.Vector2,v=new Z.Vector3,u=new Z.Vector3,y=new Z.Vector3;return function(w,x){var z=this.geometry,B=this.material,A=this.matrixWorld;if(void 0!==B&&(null===z.boundingSphere&&z.computeBoundingSphere(),f.copy(z.boundingSphere),f.applyMatrix4(A),!1!==w.ray.intersectsSphere(f)&&(d.getInverse(A),e.copy(w.ray).applyMatrix4(d),null===z.boundingBox||!1!==e.intersectsBox(z.boundingBox)))){var C;if(z instanceof
Z.BufferGeometry){B=z.index;A=z.attributes;z=A.position.array;if(void 0!==A.uv)var E=A.uv.array;if(null!==B){A=B.array;for(var F=0,I=A.length;F<I;F+=3){B=A[F];var Q=A[F+1];var J=A[F+2];if(C=c(this,w,e,z,E,B,Q,J))C.faceIndex=Math.floor(F/3),x.push(C)}}else for(F=0,I=z.length;F<I;F+=9)if(B=F/3,Q=B+1,J=B+2,C=c(this,w,e,z,E,B,Q,J))C.index=B,x.push(C)}else if(z instanceof Z.Geometry){A=B instanceof Z.MultiMaterial;F=!0===A?B.materials:null;I=z.vertices;Q=z.faces;J=z.faceVertexUvs[0];0<J.length&&(E=J);
for(var R=0,L=Q.length;R<L;R++){var H=Q[R];C=!0===A?F[H.materialIndex]:B;if(void 0!==C){J=I[H.a];var S=I[H.b];var T=I[H.c];if(!0===C.morphTargets){C=z.morphTargets;var O=this.morphTargetInfluences;g.set(0,0,0);h.set(0,0,0);k.set(0,0,0);for(var P=0,U=C.length;P<U;P++){var X=O[P];if(0!==X){var V=C[P].vertices;g.addScaledVector(l.subVectors(V[H.a],J),X);h.addScaledVector(n.subVectors(V[H.b],S),X);k.addScaledVector(p.subVectors(V[H.c],T),X)}}g.add(J);h.add(S);k.add(T);J=g;S=h;T=k}if(C=b(this,w,e,J,S,
T,u))E&&(O=E[R],q.copy(O[0]),r.copy(O[1]),t.copy(O[2]),C.uv=a(u,J,S,T,q,r,t)),C.face=H,C.faceIndex=R,x.push(C)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.Bone=function(a){Z.Object3D.call(this);this.type="Bone";this.skin=a};Z.Bone.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Bone,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});
Z.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new Z.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=Z.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Z.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Z.RGBAFormat,Z.FloatType)):this.boneMatrices=
new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new Z.Matrix4)};
Object.assign(Z.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new Z.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),
a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new Z.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)Fg(a,this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new Z.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});
Z.SkinnedMesh=function(a,b,c){Z.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Z.Matrix4;this.bindMatrixInverse=new Z.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new Z.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],
-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new Z.Skeleton(a,void 0,c),this.matrixWorld)};
Z.SkinnedMesh.prototype=Object.assign(Object.create(Z.Mesh.prototype),{constructor:Z.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof Z.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();
Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof Z.BufferGeometry){b=new Z.Vector4;var d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(){Z.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===
this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});Z.LOD=function(){Z.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};
Z.LOD.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.LOD,copy:function(a){Z.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);
return b[c-1].object},raycast:function(){var a=new Z.Vector3;return function(b,c){Eg(a,this.matrixWorld);this.getObjectForDistance(b.ray.origin.distanceTo(a)).raycast(b,c)}}(),update:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){var d=this.levels;if(1<d.length){Eg(a,c.matrixWorld);Eg(b,this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=
!1}}}(),toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Z.Sprite=function(a){Z.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new Z.SpriteMaterial};
Z.Sprite.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Sprite,raycast:function(){var a=new Z.Vector3;return function(b,c){Eg(a,this.matrixWorld);b=b.ray.distanceSqToPoint(a);b>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(b),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
Z.LensFlare=function(a,b,c,d,e){Z.Object3D.call(this);this.lensFlares=[];this.positionScreen=new Z.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};
Z.LensFlare.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.LensFlare,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new Z.Color(16777215));void 0===d&&(d=Z.NormalBlending);c=Math.min(c,
Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});
Z.Scene=function(){Z.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};Z.Scene.prototype=Object.create(Z.Object3D.prototype);Z.Scene.prototype.constructor=Z.Scene;Z.Scene.prototype.copy=function(a,b){Z.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
Z.Fog=function(a,b,c){this.name="";this.color=new Z.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};Z.Fog.prototype.clone=function(){return new Z.Fog(ug(this.color),this.near,this.far)};Z.FogExp2=function(a,b){this.name="";this.color=new Z.Color(a);this.density=void 0!==b?b:2.5E-4};Z.FogExp2.prototype.clone=function(){return new Z.FogExp2(ug(this.color),this.density)};Z.ShaderChunk={};Z.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif\n";
Z.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";Z.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a \x3c ALPHATEST ) discard;\n#endif\n";Z.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
Z.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";Z.ShaderChunk.begin_vertex="\nvec3 transformed \x3d vec3( position );\n";Z.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal \x3d vec3( normal );\n";Z.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance \x3d\x3d 0.0, lightDistance \x3c cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent \x3e 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor \x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel \x3d exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gl \x3d dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv \x3d dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL \x3d saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB \x3d vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
Z.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 );\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
Z.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n#endif\n";Z.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\t#if ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
Z.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";Z.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n";Z.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *\x3d vColor;\n#endif";Z.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
Z.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";Z.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz \x3d color.xyz;\n#endif";Z.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance \x3d dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
Z.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection \x3d abs(direction);\n\tint face \x3d -1;\n\tif( absDirection.x \x3e absDirection.z ) {\n\t\tif(absDirection.x \x3e absDirection.y )\n\t\t\tface \x3d direction.x \x3e 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z \x3e absDirection.y )\n\t\t\tface \x3d direction.z \x3e 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale \x3d exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness \x3d dFdx(roughness);\n\tfloat dyRoughness \x3d dFdy(roughness);\n\tvec3 dx \x3d dFdx( vec * scale * dxRoughness );\n\tvec3 dy \x3d dFdy( vec * scale * dyRoughness );\n\tfloat d \x3d max( dot( dx, dx ), dot( dy, dy ) );\n\td \x3d clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel \x3d 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel \x3d roughnessLevel \x3e cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a \x3d 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed \x3d exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed \x3d vec2( 1.0 ) / exp2_packed;\n\tfloat powScale \x3d exp2_packed.x * exp2_packed.y;\n\tfloat scale \x3d rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset \x3d 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes \x3d mipLevel \x3d\x3d 0.0;\n\tscale \x3d  bRes \x26\x26 (scale \x3c a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face \x3d getFaceFromDirection(direction);\n\tfloat rcpPowScale \x3d 1.0 / powScale;\n\tif( face \x3d\x3d 0) {\n\t\tr \x3d vec3(direction.x, -direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 1) {\n\t\tr \x3d vec3(direction.y, direction.x, direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 2) {\n\t\tr \x3d vec3(direction.z, direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 3) {\n\t\tr \x3d vec3(direction.x, direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face \x3d\x3d 4) {\n\t\tr \x3d vec3(direction.y, direction.x, -direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr \x3d vec3(direction.z, -direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr \x3d normalize(r);\n\tfloat texelOffset \x3d 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s \x3d ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base \x3d offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal \x3d roughness* cubeUV_maxLods3;\n\tfloat r1 \x3d floor(roughnessVal);\n\tfloat r2 \x3d r1 + 1.0;\n\tfloat t \x3d fract(roughnessVal);\n\tvec2 mipInfo \x3d MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s \x3d mipInfo.y;\n\tfloat level0 \x3d mipInfo.x;\n\tfloat level1 \x3d level0 + 1.0;\n\tlevel1 \x3d level1 \x3e 5.0 ? 5.0 : level1;\n\tlevel0 +\x3d min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 \x3d getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 \x3d envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 \x3d getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 \x3d envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result \x3d mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
Z.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal \x3d -objectNormal;\n#endif\nvec3 transformedNormal \x3d normalMatrix * objectNormal;\n";Z.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";Z.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
Z.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\temissiveColor.rgb \x3d emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif\n";Z.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";Z.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent \x3d max( max( value.r, value.g ), value.b );\n  float fExp \x3d clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n  float M      \x3d clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            \x3d ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n    float D      \x3d max( maxRange / maxRGB, 1.0 );\n    D            \x3d min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM \x3d mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp \x3d value.rgb * cLogLuvM;\n  Xp_Y_XYZp \x3d max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy \x3d Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le \x3d 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w \x3d fract(Le);\n  vResult.z \x3d (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM \x3d mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le \x3d value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y \x3d exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z \x3d Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x \x3d value.x * Xp_Y_XYZp.z;\n  vec3 vRGB \x3d Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
Z.ShaderChunk.encodings_fragment="  gl_FragColor \x3d linearToOutputTexel( gl_FragColor );\n";Z.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex \x3d normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal \x3d 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor \x3d texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor \x3d envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
Z.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) \x26\x26 ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
Z.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";Z.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
Z.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth \x3d gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
Z.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";Z.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse +\x3d PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";Z.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
Z.ShaderChunk.lights_lambert_vertex="vec3 diffuse \x3d vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position \x3d mvPosition.xyz;\ngeometry.normal \x3d normalize( transformedNormal );\ngeometry.viewDir \x3d normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position \x3d geometry.position;\nbackGeometry.normal \x3d -geometry.normal;\nbackGeometry.viewDir \x3d geometry.viewDir;\nvLightFront \x3d vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack \x3d vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
Z.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color \x3d directionalLight.color;\n\t\tdirectLight.direction \x3d directionalLight.direction;\n\t\tdirectLight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color \x3d pointLight.color;\n\t\t\tdirectLight.color *\x3d punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tfloat angleCos \x3d dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos \x3e spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect \x3d smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color \x3d spotLight.color;\n\t\t\tdirectLight.color *\x3d spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL \x3d dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *\x3d PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\tvec3 worldNormal \x3d inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor \x3d vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar \x3d float( maxMIPLevel );\n\t\tfloat desiredMIPLevel \x3d maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel \x3d getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
Z.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;\n";Z.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
Z.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness \x3d clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";Z.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular +\x3d radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
Z.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance \x3d texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *\x3d PI;\n\t\t#endif\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance +\x3d getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
Z.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) \x26\x26 defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT \x3d log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";Z.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";Z.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
Z.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z \x3d log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z \x3d (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";Z.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor \x3d texture2D( map, vUv );\n\ttexelColor \x3d mapTexelToLinear( texelColor );\n\tdiffuseColor *\x3d texelColor;\n#endif\n";
Z.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";Z.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel \x3d texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *\x3d mapTexelToLinear( mapTexel );\n#endif\n";Z.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";Z.ShaderChunk.metalnessmap_fragment="float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.r;\n#endif\n";
Z.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";Z.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal +\x3d ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal +\x3d ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal +\x3d ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal +\x3d ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
Z.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";Z.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed +\x3d ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed +\x3d ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed +\x3d ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed +\x3d ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed +\x3d ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed +\x3d ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed +\x3d ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed +\x3d ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
Z.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx \x3d vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy \x3d vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal \x3d perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
Z.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 S \x3d normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T \x3d normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N \x3d normalize( surf_norm );\n\t\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy \x3d normalScale * mapN.xy;\n\t\tmat3 tsn \x3d mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
Z.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
Z.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif\n";Z.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition \x3d modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position \x3d projectionMatrix * mvPosition;\n";Z.ShaderChunk.roughnessmap_fragment="float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.r;\n#endif\n";
Z.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";Z.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset \x3d vec2( 0.0, 1.0 );\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / size;\n\t\tvec2 centroidUV \x3d floor( uv * size + 0.5 ) / size;\n\t\tfloat lb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f \x3d fract( uv * size + 0.5 );\n\t\tfloat a \x3d mix( lb, lt, f.y );\n\t\tfloat b \x3d mix( rb, rt, f.y );\n\t\tfloat c \x3d mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbvec4 inFrustumVec \x3d bvec4 ( shadowCoord.x \x3e\x3d 0.0, shadowCoord.x \x3c\x3d 1.0, shadowCoord.y \x3e\x3d 0.0, shadowCoord.y \x3c\x3d 1.0 );\n\t\tbool inFrustum \x3d all( inFrustumVec );\n\t\tbvec2 frustumTestVec \x3d bvec2( inFrustum, shadowCoord.z \x3c\x3d 1.0 );\n\t\tbool frustumTest \x3d all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
Z.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
Z.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] \x3d spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
Z.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tshadow *\x3d bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tshadow *\x3d bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tshadow *\x3d bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
Z.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif";Z.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j \x3d i * 4.0;\n\t\t\tfloat x \x3d mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y \x3d floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx \x3d 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy \x3d 1.0 / float( boneTextureHeight );\n\t\t\ty \x3d dy * ( y + 0.5 );\n\t\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone \x3d boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
Z.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\tskinned  \x3d bindMatrixInverse * skinned;\n#endif\n";Z.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix  \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
Z.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif";Z.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";Z.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif\n";
Z.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  color \x3d max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
Z.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";Z.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";Z.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d uv2;\n#endif";Z.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
Z.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";Z.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv \x3d uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
Z.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition \x3d modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition \x3d modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
Z.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof Z.Color||e instanceof Z.Vector2||e instanceof Z.Vector3||e instanceof Z.Vector4||e instanceof Z.Matrix3||e instanceof Z.Matrix4||e instanceof Z.Texture?e.clone():Array.isArray(e)?e.slice():e}}return b}};
Z.UniformsLib={common:{diffuse:{type:"c",value:new Z.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Z.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new Z.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new Z.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new Z.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Z.Vector4(0,0,1,1)}}};Z.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
Z.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";Z.ShaderChunk.depth_frag="#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
Z.ShaderChunk.depth_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";Z.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition;\n}\n";
Z.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 direction \x3d normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y \x3d saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x \x3d atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
Z.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";Z.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\tvLineDistance \x3d scale * lineDistance;\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse \x3d vec3( 0.0 );\n\treflectedLight.directSpecular \x3d vec3( 0.0 );\n\treflectedLight.indirectDiffuse \x3d diffuseColor.rgb;\n\treflectedLight.indirectSpecular \x3d vec3( 0.0 );\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshbasic_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_ENVMAP\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\treflectedLight.indirectDiffuse \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#include \x3clightmap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse \x3d ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse \x3d vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3clights_lambert_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( vNormal ), opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";Z.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvNormal \x3d normalize( normalMatrix * normal );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize \x3d size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize \x3d size;\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.shadow_frag="uniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";Z.ShaderChunk.shadow_vert="#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderLib={basic:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.fog]),vertexShader:Z.ShaderChunk.meshbasic_vert,fragmentShader:Z.ShaderChunk.meshbasic_frag},lambert:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)}}]),vertexShader:Z.ShaderChunk.meshlambert_vert,fragmentShader:Z.ShaderChunk.meshlambert_frag},
phong:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.bumpmap,Z.UniformsLib.normalmap,Z.UniformsLib.displacementmap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)},specular:{type:"c",value:new Z.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:Z.ShaderChunk.meshphong_vert,fragmentShader:Z.ShaderChunk.meshphong_frag},standard:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,
Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.bumpmap,Z.UniformsLib.normalmap,Z.UniformsLib.displacementmap,Z.UniformsLib.roughnessmap,Z.UniformsLib.metalnessmap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:Z.ShaderChunk.meshphysical_vert,fragmentShader:Z.ShaderChunk.meshphysical_frag},points:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.points,
Z.UniformsLib.fog]),vertexShader:Z.ShaderChunk.points_vert,fragmentShader:Z.ShaderChunk.points_frag},dashed:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:Z.ShaderChunk.linedashed_vert,fragmentShader:Z.ShaderChunk.linedashed_frag},depth:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.displacementmap]),vertexShader:Z.ShaderChunk.depth_vert,fragmentShader:Z.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:Z.ShaderChunk.normal_vert,fragmentShader:Z.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Z.ShaderChunk.cube_vert,fragmentShader:Z.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Z.ShaderChunk.equirect_vert,fragmentShader:Z.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new Z.Vector3}},
vertexShader:Z.ShaderChunk.distanceRGBA_vert,fragmentShader:Z.ShaderChunk.distanceRGBA_frag}};Z.ShaderLib.physical={uniforms:Z.UniformsUtils.merge([Z.ShaderLib.standard.uniforms,{}]),vertexShader:Z.ShaderChunk.meshphysical_vert,fragmentShader:Z.ShaderChunk.meshphysical_frag};
Z.WebGLRenderer=function(a){function b(G,K,M,aa){!0===S&&(G*=aa,K*=aa,M*=aa);ha.clearColor(G,K,M,aa)}function c(){ha.init();ha.scissor(Mb.copy(Te).multiplyScalar(Nb));ha.viewport(Dd.copy(Ed).multiplyScalar(Nb));b(Ob.r,Ob.g,Ob.b,Zc)}function d(){ab=va=null;bb="";qa=-1;ha.reset()}function e(G){G.preventDefault();d();c();Ca.clear()}function f(G){G=G.target;G.removeEventListener("dispose",f);a:{var K=Ca.get(G);if(G.image&&K.__image__webglTextureCube)N.deleteTexture(K.__image__webglTextureCube);else{if(void 0===
K.__webglInit)break a;N.deleteTexture(K.__webglTexture)}Ca.delete(G)}$c.textures--}function g(G){G=G.target;G.removeEventListener("dispose",g);var K=Ca.get(G),M=Ca.get(G.texture);if(G){void 0!==M.__webglTexture&&N.deleteTexture(M.__webglTexture);G.depthTexture&&G.depthTexture.dispose();if(G instanceof Z.WebGLRenderTargetCube)for(M=0;6>M;M++)N.deleteFramebuffer(K.__webglFramebuffer[M]),K.__webglDepthbuffer&&N.deleteRenderbuffer(K.__webglDepthbuffer[M]);else N.deleteFramebuffer(K.__webglFramebuffer),
K.__webglDepthbuffer&&N.deleteRenderbuffer(K.__webglDepthbuffer);Ca.delete(G.texture);Ca.delete(G)}$c.textures--}function h(G){G=G.target;G.removeEventListener("dispose",h);k(G);Ca.delete(G)}function k(G){var K=Ca.get(G).program;G.program=void 0;void 0!==K&&Fd.releaseProgram(K)}function l(G,K){return Math.abs(K[0])-Math.abs(G[0])}function n(G,K){return G.object.renderOrder!==K.object.renderOrder?G.object.renderOrder-K.object.renderOrder:G.material.id!==K.material.id?G.material.id-K.material.id:G.z!==
K.z?G.z-K.z:G.id-K.id}function p(G,K){return G.object.renderOrder!==K.object.renderOrder?G.object.renderOrder-K.object.renderOrder:G.z!==K.z?K.z-G.z:G.id-K.id}function q(G,K,M,aa,ca){if(M.transparent){aa=X;var da=++V}else aa=P,da=++U;da=aa[da];void 0!==da?(da.id=G.id,da.object=G,da.geometry=K,da.material=M,da.z=mb.z,da.group=ca):(da={id:G.id,object:G,geometry:K,material:M,z:mb.z,group:ca},aa.push(da))}function r(G){if(!Kg.intersectsSphere(G))return!1;var K=cc.numPlanes;if(0===K)return!0;var M=ma.clippingPlanes,
aa=G.center;G=-G.radius;var ca=0;do if(M[ca].distanceToPoint(aa)<G)return!1;while(++ca!==K);return!0}function t(G,K){if(!1!==G.visible){if(G.layers.test(K.layers))if(G instanceof Z.Light)O.push(G);else if(G instanceof Z.Sprite){var M;if(M=!1!==G.frustumCulled)ad.center.set(0,0,0),ad.radius=.7071067811865476,ad.applyMatrix4(G.matrixWorld),M=!0!==r(ad);M||fa.push(G)}else if(G instanceof Z.LensFlare)ja.push(G);else if(G instanceof Z.ImmediateRenderObject)!0===ma.sortObjects&&(Eg(mb,G.matrixWorld),Bg(mb,
ae)),q(G,null,G.material,mb.z,null);else if(G instanceof Z.Mesh||G instanceof Z.Line||G instanceof Z.Points)if(G instanceof Z.SkinnedMesh&&G.skeleton.update(),(M=!1===G.frustumCulled)||(M=G.geometry,null===M.boundingSphere&&M.computeBoundingSphere(),ad.copy(M.boundingSphere).applyMatrix4(G.matrixWorld),M=!0===r(ad)),M){var aa=G.material;if(!0===aa.visible)if(!0===ma.sortObjects&&(Eg(mb,G.matrixWorld),Bg(mb,ae)),M=Gd.update(G),aa instanceof Z.MultiMaterial){var ca=M.groups,da=aa.materials;aa=0;for(var W=
ca.length;aa<W;aa++){var ea=ca[aa],Y=da[ea.materialIndex];!0===Y.visible&&q(G,M,Y,mb.z,ea)}}else q(G,M,aa,mb.z,null)}G=G.children;aa=0;for(W=G.length;aa<W;aa++)t(G[aa],K)}}function v(G,K,M,aa){for(var ca=0,da=G.length;ca<da;ca++){var W=G[ca],ea=W.object,Y=W.geometry,ra=void 0===aa?W.material:aa;W=W.group;Fg(ea.modelViewMatrix,K.matrixWorldInverse,ea.matrixWorld);Jg(ea.normalMatrix,ea.modelViewMatrix);if(ea instanceof Z.ImmediateRenderObject){u(ra);var xa=y(K,M,ra,ea);bb="";ea.render(function(ua){ma.renderBufferImmediate(ua,
xa,ra)})}else ma.renderBufferDirect(K,M,Y,ra,ea,W)}}function u(G){G.side!==Z.DoubleSide?ha.enable(N.CULL_FACE):ha.disable(N.CULL_FACE);ha.setFlipSided(G.side===Z.BackSide);!0===G.transparent?ha.setBlending(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha):ha.setBlending(Z.NoBlending);ha.setDepthFunc(G.depthFunc);ha.setDepthTest(G.depthTest);ha.setDepthWrite(G.depthWrite);ha.setColorWrite(G.colorWrite);ha.setPolygonOffset(G.polygonOffset,
G.polygonOffsetFactor,G.polygonOffsetUnits)}function y(G,K,M,aa){Ue=0;var ca=Ca.get(M);be&&((Ve||G!==ab)&&cc.setState(M.clippingPlanes,M.clipShadows,G,ca,G===ab&&M.id===qa),void 0!==ca.numClippingPlanes&&ca.numClippingPlanes!==cc.numPlanes&&(M.needsUpdate=!0));void 0===ca.program&&(M.needsUpdate=!0);void 0!==ca.lightsHash&&ca.lightsHash!==sa.hash&&(M.needsUpdate=!0);if(M.needsUpdate){a:{var da=Ca.get(M),W=Fd.getParameters(M,sa,K,cc.numPlanes,aa),ea=Fd.getProgramCode(M,W),Y=da.program,ra=!0;if(void 0===
Y)M.addEventListener("dispose",h);else if(Y.code!==ea)k(M);else{if(void 0!==W.shaderID)break a;ra=!1}ra&&(W.shaderID?(Y=Z.ShaderLib[W.shaderID],da.__webglShader={name:M.type,uniforms:Z.UniformsUtils.clone(Y.uniforms),vertexShader:Y.vertexShader,fragmentShader:Y.fragmentShader}):da.__webglShader={name:M.type,uniforms:M.uniforms,vertexShader:M.vertexShader,fragmentShader:M.fragmentShader},M.__webglShader=da.__webglShader,Y=Fd.acquireProgram(M,W,ea),da.program=Y,M.program=Y);W=Y.getAttributes();if(M.morphTargets)for(ea=
M.numSupportedMorphTargets=0;ea<ma.maxMorphTargets;ea++)0<=W["morphTarget"+ea]&&M.numSupportedMorphTargets++;if(M.morphNormals)for(ea=M.numSupportedMorphNormals=0;ea<ma.maxMorphNormals;ea++)0<=W["morphNormal"+ea]&&M.numSupportedMorphNormals++;W=da.__webglShader.uniforms;(M instanceof Z.ShaderMaterial||M instanceof Z.RawShaderMaterial)&&!0!==M.clipping||(da.numClippingPlanes=cc.numPlanes,W.clippingPlanes=cc.uniform);M.lights&&(da.lightsHash=sa.hash,W.ambientLightColor.value=sa.ambient,W.directionalLights.value=
sa.directional,W.spotLights.value=sa.spot,W.pointLights.value=sa.point,W.hemisphereLights.value=sa.hemi,W.directionalShadowMap.value=sa.directionalShadowMap,W.directionalShadowMatrix.value=sa.directionalShadowMatrix,W.spotShadowMap.value=sa.spotShadowMap,W.spotShadowMatrix.value=sa.spotShadowMatrix,W.pointShadowMap.value=sa.pointShadowMap,W.pointShadowMatrix.value=sa.pointShadowMatrix);ea=da.program.getUniforms();ea=Z.WebGLUniforms.seqWithValue(ea.seq,W);da.uniformsList=ea;da.dynamicUniforms=Z.WebGLUniforms.splitDynamic(ea,
W)}M.needsUpdate=!1}var xa=!1;ra=Y=!1;da=ca.program;ea=da.getUniforms();W=ca.__webglShader.uniforms;da.id!==va&&(N.useProgram(da.program),va=da.id,ra=Y=xa=!0);M.id!==qa&&(qa=M.id,Y=!0);if(xa||G!==ab){ea.set(N,G,"projectionMatrix");dc.logarithmicDepthBuffer&&ea.setValue(N,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2));G!==ab&&(ab=G,ra=Y=!0);if(M instanceof Z.ShaderMaterial||M instanceof Z.MeshPhongMaterial||M instanceof Z.MeshStandardMaterial||M.envMap)xa=ea.map.cameraPosition,void 0!==xa&&xa.setValue(N,
Eg(mb,G.matrixWorld));(M instanceof Z.MeshPhongMaterial||M instanceof Z.MeshLambertMaterial||M instanceof Z.MeshBasicMaterial||M instanceof Z.MeshStandardMaterial||M instanceof Z.ShaderMaterial||M.skinning)&&ea.setValue(N,"viewMatrix",G.matrixWorldInverse);ea.set(N,ma,"toneMappingExposure");ea.set(N,ma,"toneMappingWhitePoint")}M.skinning&&(ea.setOptional(N,aa,"bindMatrix"),ea.setOptional(N,aa,"bindMatrixInverse"),xa=aa.skeleton)&&(dc.floatVertexTextures&&xa.useVertexTexture?(ea.set(N,xa,"boneTexture"),
ea.set(N,xa,"boneTextureWidth"),ea.set(N,xa,"boneTextureHeight")):ea.setOptional(N,xa,"boneMatrices"));if(Y){M.lights&&(Y=ra,W.ambientLightColor.needsUpdate=Y,W.directionalLights.needsUpdate=Y,W.pointLights.needsUpdate=Y,W.spotLights.needsUpdate=Y,W.hemisphereLights.needsUpdate=Y);K&&M.fog&&(W.fogColor.value=K.color,K instanceof Z.Fog?(W.fogNear.value=K.near,W.fogFar.value=K.far):K instanceof Z.FogExp2&&(W.fogDensity.value=K.density));if(M instanceof Z.MeshBasicMaterial||M instanceof Z.MeshLambertMaterial||
M instanceof Z.MeshPhongMaterial||M instanceof Z.MeshStandardMaterial||M instanceof Z.MeshDepthMaterial){W.opacity.value=M.opacity;W.diffuse.value=M.color;M.emissive&&W.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity);W.map.value=M.map;W.specularMap.value=M.specularMap;W.alphaMap.value=M.alphaMap;M.aoMap&&(W.aoMap.value=M.aoMap,W.aoMapIntensity.value=M.aoMapIntensity);if(M.map)var ua=M.map;else M.specularMap?ua=M.specularMap:M.displacementMap?ua=M.displacementMap:M.normalMap?ua=
M.normalMap:M.bumpMap?ua=M.bumpMap:M.roughnessMap?ua=M.roughnessMap:M.metalnessMap?ua=M.metalnessMap:M.alphaMap?ua=M.alphaMap:M.emissiveMap&&(ua=M.emissiveMap);void 0!==ua&&(ua instanceof Z.WebGLRenderTarget&&(ua=ua.texture),K=ua.offset,ua=ua.repeat,W.offsetRepeat.value.set(K.x,K.y,ua.x,ua.y));W.envMap.value=M.envMap;W.flipEnvMap.value=M.envMap instanceof Z.CubeTexture?-1:1;W.reflectivity.value=M.reflectivity;W.refractionRatio.value=M.refractionRatio}M instanceof Z.LineBasicMaterial?(W.diffuse.value=
M.color,W.opacity.value=M.opacity):M instanceof Z.LineDashedMaterial?(W.diffuse.value=M.color,W.opacity.value=M.opacity,W.dashSize.value=M.dashSize,W.totalSize.value=M.dashSize+M.gapSize,W.scale.value=M.scale):M instanceof Z.PointsMaterial?(W.diffuse.value=M.color,W.opacity.value=M.opacity,W.size.value=M.size*Nb,W.scale.value=.5*I.clientHeight,W.map.value=M.map,null!==M.map&&(ua=M.map.offset,M=M.map.repeat,W.offsetRepeat.value.set(ua.x,ua.y,M.x,M.y))):M instanceof Z.MeshLambertMaterial?(M.lightMap&&
(W.lightMap.value=M.lightMap,W.lightMapIntensity.value=M.lightMapIntensity),M.emissiveMap&&(W.emissiveMap.value=M.emissiveMap)):M instanceof Z.MeshPhongMaterial?(W.specular.value=M.specular,W.shininess.value=Math.max(M.shininess,1E-4),M.lightMap&&(W.lightMap.value=M.lightMap,W.lightMapIntensity.value=M.lightMapIntensity),M.emissiveMap&&(W.emissiveMap.value=M.emissiveMap),M.bumpMap&&(W.bumpMap.value=M.bumpMap,W.bumpScale.value=M.bumpScale),M.normalMap&&(W.normalMap.value=M.normalMap,W.normalScale.value.copy(M.normalScale)),
M.displacementMap&&(W.displacementMap.value=M.displacementMap,W.displacementScale.value=M.displacementScale,W.displacementBias.value=M.displacementBias)):M instanceof Z.MeshPhysicalMaterial?w(W,M):M instanceof Z.MeshStandardMaterial?w(W,M):M instanceof Z.MeshDepthMaterial?M.displacementMap&&(W.displacementMap.value=M.displacementMap,W.displacementScale.value=M.displacementScale,W.displacementBias.value=M.displacementBias):M instanceof Z.MeshNormalMaterial&&(W.opacity.value=M.opacity);Z.WebGLUniforms.upload(N,
ca.uniformsList,W,ma)}ea.set(N,aa,"modelViewMatrix");ea.set(N,aa,"normalMatrix");ea.setValue(N,"modelMatrix",aa.matrixWorld);ca=ca.dynamicUniforms;null!==ca&&(Z.WebGLUniforms.evalDynamic(ca,W,aa,G),Z.WebGLUniforms.upload(N,ca,W,ma));return da}function w(G,K){G.roughness.value=K.roughness;G.metalness.value=K.metalness;K.roughnessMap&&(G.roughnessMap.value=K.roughnessMap);K.metalnessMap&&(G.metalnessMap.value=K.metalnessMap);K.lightMap&&(G.lightMap.value=K.lightMap,G.lightMapIntensity.value=K.lightMapIntensity);
K.emissiveMap&&(G.emissiveMap.value=K.emissiveMap);K.bumpMap&&(G.bumpMap.value=K.bumpMap,G.bumpScale.value=K.bumpScale);K.normalMap&&(G.normalMap.value=K.normalMap,G.normalScale.value.copy(K.normalScale));K.displacementMap&&(G.displacementMap.value=K.displacementMap,G.displacementScale.value=K.displacementScale,G.displacementBias.value=K.displacementBias);K.envMap&&(G.envMapIntensity.value=K.envMapIntensity)}function x(G,K,M){M?(N.texParameteri(G,N.TEXTURE_WRAP_S,F(K.wrapS)),N.texParameteri(G,N.TEXTURE_WRAP_T,
F(K.wrapT)),N.texParameteri(G,N.TEXTURE_MAG_FILTER,F(K.magFilter)),N.texParameteri(G,N.TEXTURE_MIN_FILTER,F(K.minFilter))):(N.texParameteri(G,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(G,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),K.wrapS===Z.ClampToEdgeWrapping&&K.wrapT===Z.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",K),N.texParameteri(G,N.TEXTURE_MAG_FILTER,E(K.magFilter)),N.texParameteri(G,
N.TEXTURE_MIN_FILTER,E(K.minFilter)),K.minFilter!==Z.NearestFilter&&K.minFilter!==Z.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",K));!(M=Qa.get("EXT_texture_filter_anisotropic"))||K.type===Z.FloatType&&null===Qa.get("OES_texture_float_linear")||K.type===Z.HalfFloatType&&null===Qa.get("OES_texture_half_float_linear")||!(1<K.anisotropy||Ca.get(K).__currentAnisotropy)||(N.texParameterf(G,M.TEXTURE_MAX_ANISOTROPY_EXT,
Math.min(K.anisotropy,ma.getMaxAnisotropy())),Ca.get(K).__currentAnisotropy=K.anisotropy)}function z(G,K){if(G.width>K||G.height>K){K/=Math.max(G.width,G.height);var M=document.createElement("canvas");M.width=Math.floor(G.width*K);M.height=Math.floor(G.height*K);M.getContext("2d").drawImage(G,0,0,G.width,G.height,0,0,M.width,M.height);console.warn("THREE.WebGLRenderer: image is too big ("+G.width+"x"+G.height+"). Resized to "+M.width+"x"+M.height,G);return M}return G}function B(G){return Z.Math.isPowerOfTwo(G.width)&&
Z.Math.isPowerOfTwo(G.height)}function A(G,K,M,aa){var ca=F(K.texture.format),da=F(K.texture.type);ha.texImage2D(aa,0,ca,K.width,K.height,0,ca,da,null);N.bindFramebuffer(N.FRAMEBUFFER,G);N.framebufferTexture2D(N.FRAMEBUFFER,M,aa,Ca.get(K.texture).__webglTexture,0);N.bindFramebuffer(N.FRAMEBUFFER,null)}function C(G,K){N.bindRenderbuffer(N.RENDERBUFFER,G);K.depthBuffer&&!K.stencilBuffer?(N.renderbufferStorage(N.RENDERBUFFER,N.DEPTH_COMPONENT16,K.width,K.height),N.framebufferRenderbuffer(N.FRAMEBUFFER,
N.DEPTH_ATTACHMENT,N.RENDERBUFFER,G)):K.depthBuffer&&K.stencilBuffer?(N.renderbufferStorage(N.RENDERBUFFER,N.DEPTH_STENCIL,K.width,K.height),N.framebufferRenderbuffer(N.FRAMEBUFFER,N.DEPTH_STENCIL_ATTACHMENT,N.RENDERBUFFER,G)):N.renderbufferStorage(N.RENDERBUFFER,N.RGBA4,K.width,K.height);N.bindRenderbuffer(N.RENDERBUFFER,null)}function E(G){return G===Z.NearestFilter||G===Z.NearestMipMapNearestFilter||G===Z.NearestMipMapLinearFilter?N.NEAREST:N.LINEAR}function F(G){if(G===Z.RepeatWrapping)return N.REPEAT;
if(G===Z.ClampToEdgeWrapping)return N.CLAMP_TO_EDGE;if(G===Z.MirroredRepeatWrapping)return N.MIRRORED_REPEAT;if(G===Z.NearestFilter)return N.NEAREST;if(G===Z.NearestMipMapNearestFilter)return N.NEAREST_MIPMAP_NEAREST;if(G===Z.NearestMipMapLinearFilter)return N.NEAREST_MIPMAP_LINEAR;if(G===Z.LinearFilter)return N.LINEAR;if(G===Z.LinearMipMapNearestFilter)return N.LINEAR_MIPMAP_NEAREST;if(G===Z.LinearMipMapLinearFilter)return N.LINEAR_MIPMAP_LINEAR;if(G===Z.UnsignedByteType)return N.UNSIGNED_BYTE;if(G===
Z.UnsignedShort4444Type)return N.UNSIGNED_SHORT_4_4_4_4;if(G===Z.UnsignedShort5551Type)return N.UNSIGNED_SHORT_5_5_5_1;if(G===Z.UnsignedShort565Type)return N.UNSIGNED_SHORT_5_6_5;if(G===Z.ByteType)return N.BYTE;if(G===Z.ShortType)return N.SHORT;if(G===Z.UnsignedShortType)return N.UNSIGNED_SHORT;if(G===Z.IntType)return N.INT;if(G===Z.UnsignedIntType)return N.UNSIGNED_INT;if(G===Z.FloatType)return N.FLOAT;var K=Qa.get("OES_texture_half_float");if(null!==K&&G===Z.HalfFloatType)return K.HALF_FLOAT_OES;
if(G===Z.AlphaFormat)return N.ALPHA;if(G===Z.RGBFormat)return N.RGB;if(G===Z.RGBAFormat)return N.RGBA;if(G===Z.LuminanceFormat)return N.LUMINANCE;if(G===Z.LuminanceAlphaFormat)return N.LUMINANCE_ALPHA;if(G===Z.DepthFormat)return N.DEPTH_COMPONENT;if(G===Z.AddEquation)return N.FUNC_ADD;if(G===Z.SubtractEquation)return N.FUNC_SUBTRACT;if(G===Z.ReverseSubtractEquation)return N.FUNC_REVERSE_SUBTRACT;if(G===Z.ZeroFactor)return N.ZERO;if(G===Z.OneFactor)return N.ONE;if(G===Z.SrcColorFactor)return N.SRC_COLOR;
if(G===Z.OneMinusSrcColorFactor)return N.ONE_MINUS_SRC_COLOR;if(G===Z.SrcAlphaFactor)return N.SRC_ALPHA;if(G===Z.OneMinusSrcAlphaFactor)return N.ONE_MINUS_SRC_ALPHA;if(G===Z.DstAlphaFactor)return N.DST_ALPHA;if(G===Z.OneMinusDstAlphaFactor)return N.ONE_MINUS_DST_ALPHA;if(G===Z.DstColorFactor)return N.DST_COLOR;if(G===Z.OneMinusDstColorFactor)return N.ONE_MINUS_DST_COLOR;if(G===Z.SrcAlphaSaturateFactor)return N.SRC_ALPHA_SATURATE;K=Qa.get("WEBGL_compressed_texture_s3tc");if(null!==K){if(G===Z.RGB_S3TC_DXT1_Format)return K.COMPRESSED_RGB_S3TC_DXT1_EXT;
if(G===Z.RGBA_S3TC_DXT1_Format)return K.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(G===Z.RGBA_S3TC_DXT3_Format)return K.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(G===Z.RGBA_S3TC_DXT5_Format)return K.COMPRESSED_RGBA_S3TC_DXT5_EXT}K=Qa.get("WEBGL_compressed_texture_pvrtc");if(null!==K){if(G===Z.RGB_PVRTC_4BPPV1_Format)return K.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(G===Z.RGB_PVRTC_2BPPV1_Format)return K.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(G===Z.RGBA_PVRTC_4BPPV1_Format)return K.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(G===Z.RGBA_PVRTC_2BPPV1_Format)return K.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}K=
Qa.get("WEBGL_compressed_texture_etc1");if(null!==K&&G===Z.RGB_ETC1_Format)return K.COMPRESSED_RGB_ETC1_WEBGL;K=Qa.get("EXT_blend_minmax");if(null!==K){if(G===Z.MinEquation)return K.MIN_EXT;if(G===Z.MaxEquation)return K.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",Z.REVISION);a=a||{};var I=void 0!==a.canvas?a.canvas:document.createElement("canvas"),Q=void 0!==a.context?a.context:null,J=void 0!==a.alpha?a.alpha:!1,R=void 0!==a.depth?a.depth:!0,L=void 0!==a.stencil?a.stencil:!0,H=void 0!==a.antialias?
a.antialias:!1,S=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,T=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,O=[],P=[],U=-1,X=[],V=-1,ba=new Float32Array(8),fa=[],ja=[];this.domElement=I;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=Z.LinearToneMapping;this.toneMappingWhitePoint=
this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var ma=this,va=null,oa=null,ta=null,qa=-1,bb="",ab=null,Mb=new Z.Vector4,We=null,Dd=new Z.Vector4,Ue=0,Ob=new Z.Color(0),Zc=0,ce=I.width,de=I.height,Nb=1,Te=new Z.Vector4(0,0,ce,de),Lg=!1,Ed=new Z.Vector4(0,0,ce,de),Kg=new Z.Frustum,cc=new Z.WebGLClipping,be=!1,Ve=!1,ad=new Z.Sphere,ae=new Z.Matrix4,mb=new Z.Vector3,sa={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],
spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},$c={geometries:0,textures:0},Ec={calls:0,vertices:0,faces:0,points:0};this.info={render:Ec,memory:$c,programs:null};try{J={alpha:J,depth:R,stencil:L,antialias:H,premultipliedAlpha:S,preserveDrawingBuffer:T};var N=Q||I.getContext("webgl",J)||I.getContext("experimental-webgl",J);if(null===N){if(null!==I.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}void 0===N.getShaderPrecisionFormat&&(N.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});I.addEventListener("webglcontextlost",e,!1)}catch(G){console.error("THREE.WebGLRenderer: "+G)}var Mg="undefined"!==typeof WebGL2RenderingContext&&N instanceof WebGL2RenderingContext,Qa=new Z.WebGLExtensions(N);Qa.get("WEBGL_depth_texture");Qa.get("OES_texture_float");Qa.get("OES_texture_float_linear");Qa.get("OES_texture_half_float");Qa.get("OES_texture_half_float_linear");
Qa.get("OES_standard_derivatives");Qa.get("ANGLE_instanced_arrays");Qa.get("OES_element_index_uint")&&(Z.BufferGeometry.MaxIndex=4294967296);var dc=new Z.WebGLCapabilities(N,Qa,a),ha=new Z.WebGLState(N,Qa,F),Ca=new Z.WebGLProperties,Gd=new Z.WebGLObjects(N,Ca,this.info),Fd=new Z.WebGLPrograms(this,dc),ee=new Z.WebGLLights;this.info.programs=Fd.programs;var ii=new Z.WebGLBufferRenderer(N,Qa,Ec),ji=new Z.WebGLIndexedBufferRenderer(N,Qa,Ec);c();this.context=N;this.capabilities=dc;this.extensions=Qa;
this.properties=Ca;this.state=ha;var Ng=new Z.WebGLShadowMap(this,sa,Gd);this.shadowMap=Ng;var ki=new Z.SpritePlugin(this,fa),li=new Z.LensFlarePlugin(this,ja);this.getContext=function(){return N};this.getContextAttributes=function(){return N.getContextAttributes()};this.forceContextLoss=function(){Qa.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var G;return function(){if(void 0!==G)return G;var K=Qa.get("EXT_texture_filter_anisotropic");return G=null!==K?N.getParameter(K.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0}}();this.getPrecision=function(){return dc.precision};this.getPixelRatio=function(){return Nb};this.setPixelRatio=function(){var G=window.devicePixelRatio;void 0!==G&&(Nb=G,this.setSize(Ed.z,Ed.w,!1))};this.getSize=function(){return{width:ce,height:de}};this.setSize=function(G,K,M){ce=G;de=K;I.width=G*Nb;I.height=K*Nb;!1!==M&&(I.style.width=G+"px",I.style.height=K+"px");this.setViewport(G,K)};this.setViewport=function(G,K){ha.viewport(Ed.set(0,0,G,K))};this.setScissor=function(G,K,M,aa){ha.scissor(Te.set(G,
K,M,aa))};this.setScissorTest=function(G){ha.setScissorTest(Lg=G)};this.getClearColor=function(){return Ob};this.setClearColor=function(G,K){Ob.set(G);Zc=void 0!==K?K:1;b(Ob.r,Ob.g,Ob.b,Zc)};this.getClearAlpha=function(){return Zc};this.setClearAlpha=function(G){Zc=G;b(Ob.r,Ob.g,Ob.b,Zc)};this.clear=function(G,K,M){var aa=0;if(void 0===G||G)aa|=N.COLOR_BUFFER_BIT;if(void 0===K||K)aa|=N.DEPTH_BUFFER_BIT;if(void 0===M||M)aa|=N.STENCIL_BUFFER_BIT;N.clear(aa)};this.clearColor=function(){this.clear(!0,
!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(G,K,M,aa){this.setRenderTarget(G);this.clear(K,M,aa)};this.resetGLState=d;this.dispose=function(){I.removeEventListener("webglcontextlost",e,!1)};this.renderBufferImmediate=function(G,K,M){ha.initAttributes();var aa=Ca.get(G);G.hasPositions&&!aa.position&&(aa.position=N.createBuffer());G.hasNormals&&!aa.normal&&(aa.normal=N.createBuffer());G.hasUvs&&!aa.uv&&(aa.uv=
N.createBuffer());G.hasColors&&!aa.color&&(aa.color=N.createBuffer());K=K.getAttributes();G.hasPositions&&(N.bindBuffer(N.ARRAY_BUFFER,aa.position),N.bufferData(N.ARRAY_BUFFER,G.positionArray,N.DYNAMIC_DRAW),ha.enableAttribute(K.position),N.vertexAttribPointer(K.position,3,N.FLOAT,!1,0,0));if(G.hasNormals){N.bindBuffer(N.ARRAY_BUFFER,aa.normal);if("MeshPhongMaterial"!==M.type&&"MeshStandardMaterial"!==M.type&&"MeshPhysicalMaterial"!==M.type&&M.shading===Z.FlatShading)for(var ca=0,da=3*G.count;ca<
da;ca+=9){var W=G.normalArray,ea=(W[ca+0]+W[ca+3]+W[ca+6])/3,Y=(W[ca+1]+W[ca+4]+W[ca+7])/3,ra=(W[ca+2]+W[ca+5]+W[ca+8])/3;W[ca+0]=ea;W[ca+1]=Y;W[ca+2]=ra;W[ca+3]=ea;W[ca+4]=Y;W[ca+5]=ra;W[ca+6]=ea;W[ca+7]=Y;W[ca+8]=ra}N.bufferData(N.ARRAY_BUFFER,G.normalArray,N.DYNAMIC_DRAW);ha.enableAttribute(K.normal);N.vertexAttribPointer(K.normal,3,N.FLOAT,!1,0,0)}G.hasUvs&&M.map&&(N.bindBuffer(N.ARRAY_BUFFER,aa.uv),N.bufferData(N.ARRAY_BUFFER,G.uvArray,N.DYNAMIC_DRAW),ha.enableAttribute(K.uv),N.vertexAttribPointer(K.uv,
2,N.FLOAT,!1,0,0));G.hasColors&&M.vertexColors!==Z.NoColors&&(N.bindBuffer(N.ARRAY_BUFFER,aa.color),N.bufferData(N.ARRAY_BUFFER,G.colorArray,N.DYNAMIC_DRAW),ha.enableAttribute(K.color),N.vertexAttribPointer(K.color,3,N.FLOAT,!1,0,0));ha.disableUnusedAttributes();N.drawArrays(N.TRIANGLES,0,G.count);G.count=0};this.renderBufferDirect=function(G,K,M,aa,ca,da){u(aa);var W=y(G,K,aa,ca),ea=!1;G=M.id+"_"+W.id+"_"+aa.wireframe;G!==bb&&(bb=G,ea=!0);K=ca.morphTargetInfluences;if(void 0!==K){G=[];var Y=0;for(ea=
K.length;Y<ea;Y++){var ra=K[Y];G.push([ra,Y])}G.sort(l);8<G.length&&(G.length=8);var xa=M.morphAttributes;Y=0;for(ea=G.length;Y<ea;Y++)ra=G[Y],ba[Y]=ra[0],0!==ra[0]?(K=ra[1],!0===aa.morphTargets&&xa.position&&M.addAttribute("morphTarget"+Y,xa.position[K]),!0===aa.morphNormals&&xa.normal&&M.addAttribute("morphNormal"+Y,xa.normal[K])):(!0===aa.morphTargets&&M.removeAttribute("morphTarget"+Y),!0===aa.morphNormals&&M.removeAttribute("morphNormal"+Y));W.getUniforms().setValue(N,"morphTargetInfluences",
ba);ea=!0}K=M.index;Y=M.attributes.position;!0===aa.wireframe&&(K=Gd.getWireframeAttribute(M));null!==K?(G=ji,G.setIndex(K)):G=ii;if(ea){a:{ea=void 0;if(M instanceof Z.InstancedBufferGeometry){var ua=Qa.get("ANGLE_instanced_arrays");if(null===ua){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break a}}void 0===ea&&(ea=0);ha.initAttributes();ra=M.attributes;W=W.getAttributes();xa=aa.defaultAttributeValues;
for(var db in W){var eb=W[db];if(0<=eb){var Va=ra[db];if(void 0!==Va){var Za=N.FLOAT,nb=Va.array,Fc=Va.normalized;nb instanceof Float32Array?Za=N.FLOAT:nb instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):nb instanceof Uint16Array?Za=N.UNSIGNED_SHORT:nb instanceof Int16Array?Za=N.SHORT:nb instanceof Uint32Array?Za=N.UNSIGNED_INT:nb instanceof Int32Array?Za=N.INT:nb instanceof Int8Array?Za=N.BYTE:nb instanceof Uint8Array&&(Za=N.UNSIGNED_BYTE);nb=Va.itemSize;var ec=
Gd.getAttributeBuffer(Va);if(Va instanceof Z.InterleavedBufferAttribute){var fc=Va.data,bd=fc.stride;Va=Va.offset;fc instanceof Z.InstancedInterleavedBuffer?(ha.enableAttributeAndDivisor(eb,fc.meshPerAttribute,ua),void 0===M.maxInstancedCount&&(M.maxInstancedCount=fc.meshPerAttribute*fc.count)):ha.enableAttribute(eb);N.bindBuffer(N.ARRAY_BUFFER,ec);N.vertexAttribPointer(eb,nb,Za,Fc,bd*fc.array.BYTES_PER_ELEMENT,(ea*bd+Va)*fc.array.BYTES_PER_ELEMENT)}else Va instanceof Z.InstancedBufferAttribute?(ha.enableAttributeAndDivisor(eb,
Va.meshPerAttribute,ua),void 0===M.maxInstancedCount&&(M.maxInstancedCount=Va.meshPerAttribute*Va.count)):ha.enableAttribute(eb),N.bindBuffer(N.ARRAY_BUFFER,ec),N.vertexAttribPointer(eb,nb,Za,Fc,0,ea*nb*Va.array.BYTES_PER_ELEMENT)}else if(void 0!==xa&&(Za=xa[db],void 0!==Za))switch(Za.length){case 2:N.vertexAttrib2fv(eb,Za);break;case 3:N.vertexAttrib3fv(eb,Za);break;case 4:N.vertexAttrib4fv(eb,Za);break;default:N.vertexAttrib1fv(eb,Za)}}}ha.disableUnusedAttributes()}null!==K&&N.bindBuffer(N.ELEMENT_ARRAY_BUFFER,
Gd.getAttributeBuffer(K))}ua=Infinity;null!==K?ua=K.count:void 0!==Y&&(ua=Y.count);K=M.drawRange.start;Y=null!==da?da.start:0;db=Math.max(0,K,Y);da=Math.max(0,Math.min(0+ua,K+M.drawRange.count,Y+(null!==da?da.count:Infinity))-1-db+1);if(ca instanceof Z.Mesh)if(!0===aa.wireframe)ha.setLineWidth(aa.wireframeLinewidth*(null===oa?Nb:1)),G.setMode(N.LINES);else switch(ca.drawMode){case Z.TrianglesDrawMode:G.setMode(N.TRIANGLES);break;case Z.TriangleStripDrawMode:G.setMode(N.TRIANGLE_STRIP);break;case Z.TriangleFanDrawMode:G.setMode(N.TRIANGLE_FAN)}else ca instanceof
Z.Line?(aa=aa.linewidth,void 0===aa&&(aa=1),ha.setLineWidth(aa*(null===oa?Nb:1)),ca instanceof Z.LineSegments?G.setMode(N.LINES):G.setMode(N.LINE_STRIP)):ca instanceof Z.Points&&G.setMode(N.POINTS);M instanceof Z.InstancedBufferGeometry?0<M.maxInstancedCount&&G.renderInstances(M,db,da):G.render(db,da)};this.render=function(G,K,M,aa){if(!1===K instanceof Z.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var ca=G.fog;bb="";qa=-1;ab=null;!0===G.autoUpdate&&
G.updateMatrixWorld();null===K.parent&&K.updateMatrixWorld();K.matrixWorldInverse.getInverse(K.matrixWorld);Fg(ae,K.projectionMatrix,K.matrixWorldInverse);Tg(Kg,ae);O.length=0;V=U=-1;fa.length=0;ja.length=0;Ve=this.localClippingEnabled;be=cc.init(this.clippingPlanes,Ve,K);t(G,K);P.length=U+1;X.length=V+1;!0===ma.sortObjects&&(P.sort(n),X.sort(p));be&&cc.beginShadows();for(var da=O,W=0,ea=0,Y=da.length;ea<Y;ea++){var ra=da[ea];ra.castShadow&&(sa.shadows[W++]=ra)}sa.shadows.length=W;Ng.render(G,K);
da=O;var xa=ra=0,ua=0,db=K.matrixWorldInverse,eb=0,Va=0,Za=0,nb=0;W=0;for(ea=da.length;W<ea;W++){Y=da[W];var Fc=Y.color;var ec=Y.intensity;var fc=Y.distance;var bd=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y instanceof Z.AmbientLight)ra+=Fc.r*ec,xa+=Fc.g*ec,ua+=Fc.b*ec;else if(Y instanceof Z.DirectionalLight){var na=ee.get(Y);na.color.copy(Y.color).multiplyScalar(Y.intensity);Eg(na.direction,Y.matrixWorld);Eg(mb,Y.target.matrixWorld);na.direction.sub(mb);Cg(na.direction,db);if(na.shadow=
Y.castShadow)na.shadowBias=Y.shadow.bias,na.shadowRadius=Y.shadow.radius,na.shadowMapSize=Y.shadow.mapSize;sa.directionalShadowMap[eb]=bd;sa.directionalShadowMatrix[eb]=Y.shadow.matrix;sa.directional[eb++]=na}else if(Y instanceof Z.SpotLight){na=ee.get(Y);Eg(na.position,Y.matrixWorld);na.position.applyMatrix4(db);na.color.copy(Fc).multiplyScalar(ec);na.distance=fc;Eg(na.direction,Y.matrixWorld);Eg(mb,Y.target.matrixWorld);na.direction.sub(mb);Cg(na.direction,db);na.coneCos=Math.cos(Y.angle);na.penumbraCos=
Math.cos(Y.angle*(1-Y.penumbra));na.decay=0===Y.distance?0:Y.decay;if(na.shadow=Y.castShadow)na.shadowBias=Y.shadow.bias,na.shadowRadius=Y.shadow.radius,na.shadowMapSize=Y.shadow.mapSize;sa.spotShadowMap[Za]=bd;sa.spotShadowMatrix[Za]=Y.shadow.matrix;sa.spot[Za++]=na}else if(Y instanceof Z.PointLight){na=ee.get(Y);Eg(na.position,Y.matrixWorld);na.position.applyMatrix4(db);na.color.copy(Y.color).multiplyScalar(Y.intensity);na.distance=Y.distance;na.decay=0===Y.distance?0:Y.decay;if(na.shadow=Y.castShadow)na.shadowBias=
Y.shadow.bias,na.shadowRadius=Y.shadow.radius,na.shadowMapSize=Y.shadow.mapSize;sa.pointShadowMap[Va]=bd;void 0===sa.pointShadowMatrix[Va]&&(sa.pointShadowMatrix[Va]=new Z.Matrix4);Eg(mb,Y.matrixWorld).negate();sa.pointShadowMatrix[Va].identity().setPosition(mb);sa.point[Va++]=na}else Y instanceof Z.HemisphereLight&&(na=ee.get(Y),Eg(na.direction,Y.matrixWorld),Cg(na.direction,db),na.direction.normalize(),na.skyColor.copy(Y.color).multiplyScalar(ec),na.groundColor.copy(Y.groundColor).multiplyScalar(ec),
sa.hemi[nb++]=na)}sa.ambient[0]=ra;sa.ambient[1]=xa;sa.ambient[2]=ua;sa.directional.length=eb;sa.spot.length=Za;sa.point.length=Va;sa.hemi.length=nb;sa.hash=eb+","+Va+","+Za+","+nb+","+sa.shadows.length;be&&cc.endShadows();Ec.calls=0;Ec.vertices=0;Ec.faces=0;Ec.points=0;void 0===M&&(M=null);this.setRenderTarget(M);(this.autoClear||aa)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);G.overrideMaterial?(aa=G.overrideMaterial,v(P,K,ca,aa),v(X,K,ca,aa)):(ha.setBlending(Z.NoBlending),
v(P,K,ca),v(X,K,ca));ki.render(G,K);li.render(G,K,Dd);M&&(G=M.texture,G.generateMipmaps&&B(M)&&G.minFilter!==Z.NearestFilter&&G.minFilter!==Z.LinearFilter&&(G=M instanceof Z.WebGLRenderTargetCube?N.TEXTURE_CUBE_MAP:N.TEXTURE_2D,M=Ca.get(M.texture).__webglTexture,ha.bindTexture(G,M),N.generateMipmap(G),ha.bindTexture(G,null)));ha.setDepthTest(!0);ha.setDepthWrite(!0);ha.setColorWrite(!0)}};this.setFaceCulling=function(G,K){ha.setCullFace(G);ha.setFlipSided(K===Z.FrontFaceDirectionCW)};this.allocTextureUnit=
function(){var G=Ue;G>=dc.maxTextures&&console.warn("WebGLRenderer: trying to use "+G+" texture units while this GPU supports only "+dc.maxTextures);Ue+=1;return G};this.setTexture2D=function(){var G=!1;return function(K,M){K instanceof Z.WebGLRenderTarget&&(G||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),G=!0),K=K.texture);var aa=Ca.get(K);if(0<K.version&&aa.__version!==K.version){var ca=K.image;if(void 0===ca)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",
K);else if(!1===ca.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",K);else{void 0===aa.__webglInit&&(aa.__webglInit=!0,K.addEventListener("dispose",f),aa.__webglTexture=N.createTexture(),$c.textures++);ha.activeTexture(N.TEXTURE0+M);ha.bindTexture(N.TEXTURE_2D,aa.__webglTexture);N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,K.flipY);N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha);N.pixelStorei(N.UNPACK_ALIGNMENT,K.unpackAlignment);var da=z(K.image,
dc.maxTextureSize);(K.wrapS!==Z.ClampToEdgeWrapping||K.wrapT!==Z.ClampToEdgeWrapping||K.minFilter!==Z.NearestFilter&&K.minFilter!==Z.LinearFilter)&&!1===B(da)&&(M=da,M instanceof HTMLImageElement||M instanceof HTMLCanvasElement?(ca=document.createElement("canvas"),ca.width=Z.Math.nearestPowerOfTwo(M.width),ca.height=Z.Math.nearestPowerOfTwo(M.height),ca.getContext("2d").drawImage(M,0,0,ca.width,ca.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+M.width+"x"+M.height+"). Resized to "+
ca.width+"x"+ca.height,M),da=ca):da=M);M=B(da);ca=F(K.format);var W=F(K.type);x(N.TEXTURE_2D,K,M);var ea=K.mipmaps;if(K instanceof Z.DepthTexture){ea=N.DEPTH_COMPONENT;if(K.type===Z.FloatType){if(!Mg)throw Error("Float Depth Texture only supported in WebGL2.0");ea=N.DEPTH_COMPONENT32F}else Mg&&(ea=N.DEPTH_COMPONENT16);ha.texImage2D(N.TEXTURE_2D,0,ea,da.width,da.height,0,ca,W,null)}else if(K instanceof Z.DataTexture)if(0<ea.length&&M){for(var Y=0,ra=ea.length;Y<ra;Y++)da=ea[Y],ha.texImage2D(N.TEXTURE_2D,
Y,ca,da.width,da.height,0,ca,W,da.data);K.generateMipmaps=!1}else ha.texImage2D(N.TEXTURE_2D,0,ca,da.width,da.height,0,ca,W,da.data);else if(K instanceof Z.CompressedTexture)for(Y=0,ra=ea.length;Y<ra;Y++)da=ea[Y],K.format!==Z.RGBAFormat&&K.format!==Z.RGBFormat?-1<ha.getCompressedTextureFormats().indexOf(ca)?ha.compressedTexImage2D(N.TEXTURE_2D,Y,ca,da.width,da.height,0,da.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ha.texImage2D(N.TEXTURE_2D,
Y,ca,da.width,da.height,0,ca,W,da.data);else if(0<ea.length&&M){Y=0;for(ra=ea.length;Y<ra;Y++)da=ea[Y],ha.texImage2D(N.TEXTURE_2D,Y,ca,ca,W,da);K.generateMipmaps=!1}else ha.texImage2D(N.TEXTURE_2D,0,ca,ca,W,da);K.generateMipmaps&&M&&N.generateMipmap(N.TEXTURE_2D);aa.__version=K.version;if(K.onUpdate)K.onUpdate(K)}}else ha.activeTexture(N.TEXTURE0+M),ha.bindTexture(N.TEXTURE_2D,aa.__webglTexture)}}();this.setTexture=function(){var G=!1;return function(K,M){G||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
G=!0);ma.setTexture2D(K,M)}}();this.setTextureCube=function(){var G=!1;return function(K,M){K instanceof Z.WebGLRenderTargetCube&&(G||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),G=!0),K=K.texture);if(K instanceof Z.CubeTexture||Array.isArray(K.image)&&6===K.image.length){var aa=Ca.get(K);if(6===K.image.length)if(0<K.version&&aa.__version!==K.version){aa.__image__webglTextureCube||(K.addEventListener("dispose",
f),aa.__image__webglTextureCube=N.createTexture(),$c.textures++);ha.activeTexture(N.TEXTURE0+M);ha.bindTexture(N.TEXTURE_CUBE_MAP,aa.__image__webglTextureCube);N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,K.flipY);M=K instanceof Z.CompressedTexture;for(var ca=K.image[0]instanceof Z.DataTexture,da=[],W=0;6>W;W++)da[W]=!ma.autoScaleCubemaps||M||ca?ca?K.image[W].image:K.image[W]:z(K.image[W],dc.maxCubemapSize);var ea=B(da[0]),Y=F(K.format),ra=F(K.type);x(N.TEXTURE_CUBE_MAP,K,ea);for(W=0;6>W;W++)if(M)for(var xa,
ua=da[W].mipmaps,db=0,eb=ua.length;db<eb;db++)xa=ua[db],K.format!==Z.RGBAFormat&&K.format!==Z.RGBFormat?-1<ha.getCompressedTextureFormats().indexOf(Y)?ha.compressedTexImage2D(N.TEXTURE_CUBE_MAP_POSITIVE_X+W,db,Y,xa.width,xa.height,0,xa.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ha.texImage2D(N.TEXTURE_CUBE_MAP_POSITIVE_X+W,db,Y,xa.width,xa.height,0,Y,ra,xa.data);else ca?ha.texImage2D(N.TEXTURE_CUBE_MAP_POSITIVE_X+W,0,Y,da[W].width,
da[W].height,0,Y,ra,da[W].data):ha.texImage2D(N.TEXTURE_CUBE_MAP_POSITIVE_X+W,0,Y,Y,ra,da[W]);K.generateMipmaps&&ea&&N.generateMipmap(N.TEXTURE_CUBE_MAP);aa.__version=K.version;if(K.onUpdate)K.onUpdate(K)}else ha.activeTexture(N.TEXTURE0+M),ha.bindTexture(N.TEXTURE_CUBE_MAP,aa.__image__webglTextureCube)}else ha.activeTexture(N.TEXTURE0+M),ha.bindTexture(N.TEXTURE_CUBE_MAP,Ca.get(K).__webglTexture)}}();this.getCurrentRenderTarget=function(){return oa};this.setRenderTarget=function(G){if((oa=G)&&void 0===
Ca.get(G).__webglFramebuffer){var K=Ca.get(G),M=Ca.get(G.texture);G.addEventListener("dispose",g);M.__webglTexture=N.createTexture();$c.textures++;var aa=G instanceof Z.WebGLRenderTargetCube,ca=Z.Math.isPowerOfTwo(G.width)&&Z.Math.isPowerOfTwo(G.height);if(aa){K.__webglFramebuffer=[];for(var da=0;6>da;da++)K.__webglFramebuffer[da]=N.createFramebuffer()}else K.__webglFramebuffer=N.createFramebuffer();if(aa){ha.bindTexture(N.TEXTURE_CUBE_MAP,M.__webglTexture);x(N.TEXTURE_CUBE_MAP,G.texture,ca);for(da=
0;6>da;da++)A(K.__webglFramebuffer[da],G,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+da);G.texture.generateMipmaps&&ca&&N.generateMipmap(N.TEXTURE_CUBE_MAP);ha.bindTexture(N.TEXTURE_CUBE_MAP,null)}else ha.bindTexture(N.TEXTURE_2D,M.__webglTexture),x(N.TEXTURE_2D,G.texture,ca),A(K.__webglFramebuffer,G,N.COLOR_ATTACHMENT0,N.TEXTURE_2D),G.texture.generateMipmaps&&ca&&N.generateMipmap(N.TEXTURE_2D),ha.bindTexture(N.TEXTURE_2D,null);if(G.depthBuffer){K=Ca.get(G);M=G instanceof Z.WebGLRenderTargetCube;
if(G.depthTexture){if(M)throw Error("target.depthTexture not supported in Cube render targets");if(G instanceof Z.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");N.bindFramebuffer(N.FRAMEBUFFER,K.__webglFramebuffer);if(!(G.depthTexture instanceof Z.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");Ca.get(G.depthTexture).__webglTexture&&G.depthTexture.image.width===G.width&&G.depthTexture.image.height===G.height||
(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0);ma.setTexture2D(G.depthTexture,0);K=Ca.get(G.depthTexture).__webglTexture;N.framebufferTexture2D(N.FRAMEBUFFER,N.DEPTH_ATTACHMENT,N.TEXTURE_2D,K,0)}else if(M)for(K.__webglDepthbuffer=[],M=0;6>M;M++)N.bindFramebuffer(N.FRAMEBUFFER,K.__webglFramebuffer[M]),K.__webglDepthbuffer[M]=N.createRenderbuffer(),C(K.__webglDepthbuffer[M],G);else N.bindFramebuffer(N.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=
N.createRenderbuffer(),C(K.__webglDepthbuffer,G);N.bindFramebuffer(N.FRAMEBUFFER,null)}}K=G instanceof Z.WebGLRenderTargetCube;G?(M=Ca.get(G),M=K?M.__webglFramebuffer[G.activeCubeFace]:M.__webglFramebuffer,Mb.copy(G.scissor),We=G.scissorTest,Dd.copy(G.viewport)):(M=null,Mb.copy(Te).multiplyScalar(Nb),We=Lg,Dd.copy(Ed).multiplyScalar(Nb));ta!==M&&(N.bindFramebuffer(N.FRAMEBUFFER,M),ta=M);ha.scissor(Mb);ha.setScissorTest(We);ha.viewport(Dd);K&&(K=Ca.get(G.texture),N.framebufferTexture2D(N.FRAMEBUFFER,
N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+G.activeCubeFace,K.__webglTexture,G.activeMipMapLevel))};this.readRenderTargetPixels=function(G,K,M,aa,ca,da){if(!1===G instanceof Z.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var W=Ca.get(G).__webglFramebuffer;if(W){var ea=!1;W!==ta&&(N.bindFramebuffer(N.FRAMEBUFFER,W),ea=!0);try{var Y=G.texture;Y.format!==Z.RGBAFormat&&F(Y.format)!==N.getParameter(N.IMPLEMENTATION_COLOR_READ_FORMAT)?
console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):Y.type===Z.UnsignedByteType||F(Y.type)===N.getParameter(N.IMPLEMENTATION_COLOR_READ_TYPE)||Y.type===Z.FloatType&&Qa.get("WEBGL_color_buffer_float")||Y.type===Z.HalfFloatType&&Qa.get("EXT_color_buffer_half_float")?N.checkFramebufferStatus(N.FRAMEBUFFER)===N.FRAMEBUFFER_COMPLETE?0<=K&&K<=G.width-aa&&0<=M&&M<=G.height-ca&&N.readPixels(K,M,aa,ca,F(Y.format),F(Y.type),da):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):
console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{ea&&N.bindFramebuffer(N.FRAMEBUFFER,ta)}}}}};
Z.WebGLRenderTarget=function(a,b,c){this.uuid=Z.Math.generateUUID();this.width=a;this.height=b;this.scissor=new Z.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new Z.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=Z.LinearFilter);this.texture=new Z.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=
null};
Object.assign(Z.WebGLRenderTarget.prototype,Z.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});Z.WebGLRenderTargetCube=function(a,b,c){Z.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};Z.WebGLRenderTargetCube.prototype=Object.create(Z.WebGLRenderTarget.prototype);Z.WebGLRenderTargetCube.prototype.constructor=Z.WebGLRenderTargetCube;
Z.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(e){d=e};this.render=function(e,f){a.drawArrays(d,e,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)};this.renderInstances=function(e){var f=b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var g=e.attributes.position;g=g instanceof Z.InterleavedBufferAttribute?g.data.count:g.count;
f.drawArraysInstancedANGLE(d,0,g,e.maxInstancedCount);c.calls++;c.vertices+=g*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*g/3)}}};
Z.WebGLClipping=function(){function a(){l.value!==d&&(l.value=d,l.needsUpdate=0<e);c.numPlanes=e}function b(n,p,q,r){var t=null!==n?n.length:0,v=null;if(0!==t){v=l.value;if(!0!==r||null===v){r=q+4*t;p=p.matrixWorldInverse;Jg(k,p);if(null===v||v.length<r)v=new Float32Array(r);for(r=0;r!==t;++r,q+=4)h.copy(n[r]).applyMatrix4(p,k),h.normal.toArray(v,q),v[q+3]=h.constant}l.value=v;l.needsUpdate=!0}c.numPlanes=t;return v}var c=this,d=null,e=0,f=!1,g=!1,h=new Z.Plane,k=new Z.Matrix3,l={value:null,needsUpdate:!1};
this.uniform=l;this.numPlanes=0;this.init=function(n,p,q){var r=0!==n.length||p||0!==e||f;f=p;d=b(n,q,0);e=n.length;return r};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(n,p,q,r,t){if(!f||null===n||0===n.length||g&&!p)g?b(null):a();else{p=g?0:e;var v=4*p,u=r.clippingState||null;l.value=u;u=b(n,q,v,t);for(n=0;n!==v;++n)u[n]=d[n];r.clippingState=u;this.numPlanes+=p}}};
Z.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,f;this.setMode=function(g){d=g};this.setIndex=function(g){g.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,f=4):(e=a.UNSIGNED_SHORT,f=2)};this.render=function(g,h){a.drawElements(d,h,e,g*f);c.calls++;c.vertices+=h;d===a.TRIANGLES&&(c.faces+=h/3)};this.renderInstances=function(g,h,k){var l=b.get("ANGLE_instanced_arrays");null===l?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(l.drawElementsInstancedANGLE(d,k,e,h*f,g.maxInstancedCount),c.calls++,c.vertices+=k*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*k/3))}};
Z.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
Z.WebGLCapabilities=function(a,b,c){function d(e){if("highp"===e){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";this.logarithmicDepthBuffer=
void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=
a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
Z.WebGLGeometries=function(a,b,c){function d(g){var h=g.target;g=f[h.id];null!==g.index&&e(g.index);var k=g.attributes;for(l in k)e(k[l]);h.removeEventListener("dispose",d);delete f[h.id];var l=b.get(h);l.wireframe&&e(l.wireframe);b.delete(h);h=b.get(g);h.wireframe&&e(h.wireframe);b.delete(g);c.memory.geometries--}function e(g){var h=g instanceof Z.InterleavedBufferAttribute?b.get(g.data).__webglBuffer:b.get(g).__webglBuffer;void 0!==h&&(a.deleteBuffer(h),g instanceof Z.InterleavedBufferAttribute?
b.delete(g.data):b.delete(g))}var f={};this.get=function(g){var h=g.geometry;if(void 0!==f[h.id])return f[h.id];h.addEventListener("dispose",d);if(h instanceof Z.BufferGeometry)var k=h;else h instanceof Z.Geometry&&(void 0===h._bufferGeometry&&(h._bufferGeometry=(new Z.BufferGeometry).setFromObject(g)),k=h._bufferGeometry);f[h.id]=k;c.memory.geometries++;return k}};
Z.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new Z.Vector3,color:new Z.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "SpotLight":c={position:new Z.Vector3,direction:new Z.Vector3,color:new Z.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "PointLight":c={position:new Z.Vector3,color:new Z.Color,
distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "HemisphereLight":c={direction:new Z.Vector3,skyColor:new Z.Color,groundColor:new Z.Color}}return a[b.id]=c}};
Z.WebGLObjects=function(a,b,c){function d(g,h){g=g instanceof Z.InterleavedBufferAttribute?g.data:g;var k=b.get(g);void 0===k.__webglBuffer?(k.__webglBuffer=a.createBuffer(),a.bindBuffer(h,k.__webglBuffer),a.bufferData(h,g.array,g.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),k.version=g.version):k.version!==g.version&&(a.bindBuffer(h,k.__webglBuffer),!1===g.dynamic||-1===g.updateRange.count?a.bufferSubData(h,0,g.array):0===g.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(h,g.updateRange.offset*g.array.BYTES_PER_ELEMENT,g.array.subarray(g.updateRange.offset,g.updateRange.offset+g.updateRange.count)),g.updateRange.count=0),k.version=g.version)}function e(g,h,k){if(h>k){var l=h;h=k;k=l}l=g[h];return void 0===l?(g[h]=[k],!0):-1===l.indexOf(k)?(l.push(k),!0):!1}var f=new Z.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(g){return g instanceof Z.InterleavedBufferAttribute?b.get(g.data).__webglBuffer:b.get(g).__webglBuffer};this.getWireframeAttribute=
function(g){var h=b.get(g);if(void 0!==h.wireframe)return h.wireframe;var k=[],l=g.index,n=g.attributes;g=n.position;if(null!==l){n={};l=l.array;for(var p=0,q=l.length;p<q;p+=3){var r=l[p+0],t=l[p+1],v=l[p+2];e(n,r,t)&&k.push(r,t);e(n,t,v)&&k.push(t,v);e(n,v,r)&&k.push(v,r)}}else for(l=n.position.array,p=0,q=l.length/3-1;p<q;p+=3)r=p+0,t=p+1,v=p+2,k.push(r,t,t,v,v,r);k=new Z.BufferAttribute(new (65535<g.count?Uint32Array:Uint16Array)(k),1);d(k,a.ELEMENT_ARRAY_BUFFER);return h.wireframe=k};this.update=
function(g){var h=f.get(g);g.geometry instanceof Z.Geometry&&h.updateFromObject(g);g=h.index;var k=h.attributes;null!==g&&d(g,a.ELEMENT_ARRAY_BUFFER);for(var l in k)d(k[l],a.ARRAY_BUFFER);g=h.morphAttributes;for(l in g){k=g[l];for(var n=0,p=k.length;n<p;n++)d(k[n],a.ARRAY_BUFFER)}return h}};
Z.WebGLProgram=function(){function a(p){switch(p){case Z.LinearEncoding:return["Linear","( value )"];case Z.sRGBEncoding:return["sRGB","( value )"];case Z.RGBEEncoding:return["RGBE","( value )"];case Z.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case Z.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case Z.RGBDEncoding:return["RGBD","( value, 256.0 )"];case Z.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+p);}}function b(p,q){q=a(q);
return"vec4 "+p+"( vec4 value ) { return "+q[0]+"ToLinear"+q[1]+"; }"}function c(p,q){q=a(q);return"vec4 "+p+"( vec4 value ) { return LinearTo"+q[0]+q[1]+"; }"}function d(p,q){switch(q){case Z.LinearToneMapping:q="Linear";break;case Z.ReinhardToneMapping:q="Reinhard";break;case Z.Uncharted2ToneMapping:q="Uncharted2";break;case Z.CineonToneMapping:q="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+q);}return"vec3 "+p+"( vec3 color ) { return "+q+"ToneMapping( color ); }"}function e(p,
q,r){p=p||{};return[p.derivatives||q.envMapCubeUV||q.bumpMap||q.normalMap||q.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(p.fragDepth||q.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",p.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(p.shaderTextureLOD||q.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(g).join("\n")}function f(p){var q=[],r;
for(r in p){var t=p[r];!1!==t&&q.push("#define "+r+" "+t)}return q.join("\n")}function g(p){return""!==p}function h(p,q){return p.replace(/NUM_DIR_LIGHTS/g,q.numDirLights).replace(/NUM_SPOT_LIGHTS/g,q.numSpotLights).replace(/NUM_POINT_LIGHTS/g,q.numPointLights).replace(/NUM_HEMI_LIGHTS/g,q.numHemiLights)}function k(p){return p.replace(/#include +<([\w\d.]+)>/g,function(q,r){q=Z.ShaderChunk[r];if(void 0===q)throw Error("Can not resolve #include \x3c"+r+"\x3e");return k(q)})}function l(p){return p.replace(/for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(q,r,t,v){q="";for(r=parseInt(r);r<parseInt(t);r++)q+=v.replace(/\[ i \]/g,"[ "+r+" ]");return q})}var n=0;return function(p,q,r,t){var v=p.context,u=r.extensions,y=r.defines,w=r.__webglShader.vertexShader,x=r.__webglShader.fragmentShader,z="SHADOWMAP_TYPE_BASIC";t.shadowMapType===Z.PCFShadowMap?z="SHADOWMAP_TYPE_PCF":t.shadowMapType===Z.PCFSoftShadowMap&&(z="SHADOWMAP_TYPE_PCF_SOFT");var B="ENVMAP_TYPE_CUBE",A="ENVMAP_MODE_REFLECTION",C="ENVMAP_BLENDING_MULTIPLY";if(t.envMap){switch(r.envMap.mapping){case Z.CubeReflectionMapping:case Z.CubeRefractionMapping:B=
"ENVMAP_TYPE_CUBE";break;case Z.CubeUVReflectionMapping:case Z.CubeUVRefractionMapping:B="ENVMAP_TYPE_CUBE_UV";break;case Z.EquirectangularReflectionMapping:case Z.EquirectangularRefractionMapping:B="ENVMAP_TYPE_EQUIREC";break;case Z.SphericalReflectionMapping:B="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case Z.CubeRefractionMapping:case Z.EquirectangularRefractionMapping:A="ENVMAP_MODE_REFRACTION"}switch(r.combine){case Z.MultiplyOperation:C="ENVMAP_BLENDING_MULTIPLY";break;case Z.MixOperation:C=
"ENVMAP_BLENDING_MIX";break;case Z.AddOperation:C="ENVMAP_BLENDING_ADD"}}var E=0<p.gammaFactor?p.gammaFactor:1;u=e(u,t,p.extensions);var F=f(y),I=v.createProgram();r instanceof Z.RawShaderMaterial?z=y="":(y=["precision "+t.precision+" float;","precision "+t.precision+" int;","#define SHADER_NAME "+r.__webglShader.name,F,t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+t.maxBones,t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?
"#define "+A:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.vertexColors?"#define USE_COLOR":"",t.flatShading?"#define FLAT_SHADED":
"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+t.numClippingPlanes,t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+z:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",t.logarithmicDepthBuffer&&p.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(g).join("\n"),z=[u,"precision "+
t.precision+" float;","precision "+t.precision+" int;","#define SHADER_NAME "+r.__webglShader.name,F,t.alphaTest?"#define ALPHATEST "+t.alphaTest:"","#define GAMMA_FACTOR "+E,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+B:"",t.envMap?"#define "+A:"",t.envMap?"#define "+C:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?
"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.vertexColors?"#define USE_COLOR":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+t.numClippingPlanes,t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?
"#define "+z:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&p.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",t.envMap&&p.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",t.toneMapping!==Z.NoToneMapping?"#define TONE_MAPPING":"",t.toneMapping!==Z.NoToneMapping?
Z.ShaderChunk.tonemapping_pars_fragment:"",t.toneMapping!==Z.NoToneMapping?d("toneMapping",t.toneMapping):"",t.outputEncoding||t.mapEncoding||t.envMapEncoding||t.emissiveMapEncoding?Z.ShaderChunk.encodings_pars_fragment:"",t.mapEncoding?b("mapTexelToLinear",t.mapEncoding):"",t.envMapEncoding?b("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMapEncoding?b("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.outputEncoding?c("linearToOutputTexel",t.outputEncoding):"",t.depthPacking?"#define DEPTH_PACKING "+
r.depthPacking:"","\n"].filter(g).join("\n"));w=k(w,t);w=h(w,t);x=k(x,t);x=h(x,t);!1===r instanceof Z.ShaderMaterial&&(w=l(w),x=l(x));x=z+x;w=Z.WebGLShader(v,v.VERTEX_SHADER,y+w);x=Z.WebGLShader(v,v.FRAGMENT_SHADER,x);v.attachShader(I,w);v.attachShader(I,x);void 0!==r.index0AttributeName?v.bindAttribLocation(I,0,r.index0AttributeName):!0===t.morphTargets&&v.bindAttribLocation(I,0,"position");v.linkProgram(I);t=v.getProgramInfoLog(I);B=v.getShaderInfoLog(w);A=v.getShaderInfoLog(x);E=C=!0;if(!1===v.getProgramParameter(I,
v.LINK_STATUS))C=!1,console.error("THREE.WebGLProgram: shader error: ",v.getError(),"gl.VALIDATE_STATUS",v.getProgramParameter(I,v.VALIDATE_STATUS),"gl.getProgramInfoLog",t,B,A);else if(""!==t)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t);else if(""===B||""===A)E=!1;E&&(this.diagnostics={runnable:C,material:r,programLog:t,vertexShader:{log:B,prefix:y},fragmentShader:{log:A,prefix:z}});v.deleteShader(w);v.deleteShader(x);var Q;this.getUniforms=function(){void 0===Q&&(Q=new Z.WebGLUniforms(v,
I,p));return Q};var J;this.getAttributes=function(){if(void 0===J){for(var R={},L=v.getProgramParameter(I,v.ACTIVE_ATTRIBUTES),H=0;H<L;H++){var S=v.getActiveAttrib(I,H).name;R[S]=v.getAttribLocation(I,S)}J=R}return J};this.destroy=function(){v.deleteProgram(I);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");
return this.getAttributes()}}});this.id=n++;this.code=q;this.usedTimes=1;this.program=I;this.vertexShader=w;this.fragmentShader=x;return this}}();
Z.WebGLPrograms=function(a,b){function c(g,h){if(g)g instanceof Z.Texture?k=g.encoding:g instanceof Z.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),k=g.texture.encoding);else var k=Z.LinearEncoding;k===Z.LinearEncoding&&h&&(k=Z.GammaEncoding);return k}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(g,h,k,l,n){var p=e[g.type];if(b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture)var q=1024;else q=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof Z.SkinnedMesh&&(q=Math.min(n.skeleton.bones.length,q),q<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+q+" (try OpenGL instead of ANGLE)"));var r=a.getPrecision();null!==g.precision&&(r=b.getMaxPrecision(g.precision),
r!==g.precision&&console.warn("THREE.WebGLProgram.getParameters:",g.precision,"not supported, using",r,"instead."));var t=a.getCurrentRenderTarget();return{shaderID:p,precision:r,supportsVertexTextures:b.vertexTextures,outputEncoding:c(t?t.texture:null,a.gammaOutput),map:!!g.map,mapEncoding:c(g.map,a.gammaInput),envMap:!!g.envMap,envMapMode:g.envMap&&g.envMap.mapping,envMapEncoding:c(g.envMap,a.gammaInput),envMapCubeUV:!!g.envMap&&(g.envMap.mapping===Z.CubeUVReflectionMapping||g.envMap.mapping===
Z.CubeUVRefractionMapping),lightMap:!!g.lightMap,aoMap:!!g.aoMap,emissiveMap:!!g.emissiveMap,emissiveMapEncoding:c(g.emissiveMap,a.gammaInput),bumpMap:!!g.bumpMap,normalMap:!!g.normalMap,displacementMap:!!g.displacementMap,roughnessMap:!!g.roughnessMap,metalnessMap:!!g.metalnessMap,specularMap:!!g.specularMap,alphaMap:!!g.alphaMap,combine:g.combine,vertexColors:g.vertexColors,fog:k,useFog:g.fog,fogExp:k instanceof Z.FogExp2,flatShading:g.shading===Z.FlatShading,sizeAttenuation:g.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:g.skinning,maxBones:q,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:g.morphTargets,morphNormals:g.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numHemiLights:h.hemi.length,numClippingPlanes:l,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<h.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:g.premultipliedAlpha,alphaTest:g.alphaTest,doubleSided:g.side===Z.DoubleSide,flipSided:g.side===Z.BackSide,depthPacking:void 0!==g.depthPacking?g.depthPacking:!1}};this.getProgramCode=function(g,h){var k=[];h.shaderID?k.push(h.shaderID):(k.push(g.fragmentShader),k.push(g.vertexShader));if(void 0!==g.defines)for(var l in g.defines)k.push(l),k.push(g.defines[l]);for(g=0;g<f.length;g++)k.push(h[f[g]]);return k.join()};this.acquireProgram=
function(g,h,k){for(var l,n=0,p=d.length;n<p;n++){var q=d[n];if(q.code===k){l=q;++l.usedTimes;break}}void 0===l&&(l=new Z.WebGLProgram(a,k,g,h),d.push(l));return l};this.releaseProgram=function(g){0===--g.usedTimes&&(d[d.indexOf(g)]=d[d.length-1],d.pop(),g.destroy())};this.programs=d};Z.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
Z.WebGLShader=function(){function a(b){b=b.split("\n");for(var c=0;c<b.length;c++)b[c]=c+1+": "+b[c];return b.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
Z.WebGLShadowMap=function(a,b,c){function d(Q,J,R,L){var H=Q.geometry,S=t,T=Q.customDepthMaterial;R&&(S=v,T=Q.customDistanceMaterial);T?H=T:(Q=Q instanceof Z.SkinnedMesh&&J.skinning,T=0,void 0!==H.morphTargets&&0<H.morphTargets.length&&J.morphTargets&&(T|=1),Q&&(T|=2),H=S[T]);a.localClippingEnabled&&!0===J.clipShadows&&0!==J.clippingPlanes.length&&(T=H.uuid,S=J.uuid,Q=u[T],void 0===Q&&(Q={},u[T]=Q),T=Q[S],void 0===T&&(T=H.clone(),Q[S]=T),H=T);H.visible=J.visible;H.wireframe=J.wireframe;S=J.side;I.renderSingleSided&&
S==Z.DoubleSide&&(S=Z.FrontSide);I.renderReverseSided&&(S===Z.FrontSide?S=Z.BackSide:S===Z.BackSide&&(S=Z.FrontSide));H.side=S;H.clipShadows=J.clipShadows;H.clippingPlanes=J.clippingPlanes;H.wireframeLinewidth=J.wireframeLinewidth;H.linewidth=J.linewidth;R&&void 0!==H.uniforms.lightPos&&H.uniforms.lightPos.value.copy(L);return H}function e(Q,J,R){if(!1!==Q.visible){Q.layers.test(J.layers)&&(Q instanceof Z.Mesh||Q instanceof Z.Line||Q instanceof Z.Points)&&Q.castShadow&&(!1===Q.frustumCulled||!0===
h.intersectsObject(Q))&&!0===Q.material.visible&&(Fg(Q.modelViewMatrix,R.matrixWorldInverse,Q.matrixWorld),r.push(Q));Q=Q.children;for(var L=0,H=Q.length;L<H;L++)e(Q[L],J,R)}}var f=a.context,g=a.state,h=new Z.Frustum,k=new Z.Matrix4,l=b.shadows,n=new Z.Vector2,p=new Z.Vector3,q=new Z.Vector3,r=[],t=Array(4),v=Array(4),u={},y=[new Z.Vector3(1,0,0),new Z.Vector3(-1,0,0),new Z.Vector3(0,0,1),new Z.Vector3(0,0,-1),new Z.Vector3(0,1,0),new Z.Vector3(0,-1,0)],w=[new Z.Vector3(0,1,0),new Z.Vector3(0,1,0),
new Z.Vector3(0,1,0),new Z.Vector3(0,1,0),new Z.Vector3(0,0,1),new Z.Vector3(0,0,-1)],x=[new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4];b=new Z.MeshDepthMaterial;b.depthPacking=Z.RGBADepthPacking;b.clipping=!0;for(var z=Z.ShaderLib.distanceRGBA,B=Z.UniformsUtils.clone(z.uniforms),A=0;4!==A;++A){var C=0!==(A&1),E=0!==(A&2),F=b.clone();F.morphTargets=C;F.skinning=E;t[A]=F;C=new Z.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:B,vertexShader:z.vertexShader,
fragmentShader:z.fragmentShader,morphTargets:C,skinning:E,clipping:!0});v[A]=C}var I=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=Z.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(Q,J){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==l.length){g.clearColor(1,1,1,1);g.disable(f.BLEND);g.setDepthTest(!0);g.setScissorTest(!1);for(var R,L,H=0,S=l.length;H<S;H++){var T=l[H],O=T.shadow;if(void 0===O)console.warn("THREE.WebGLShadowMap:",
T,"has no shadow.");else{var P=O.camera;n.copy(O.mapSize);if(T instanceof Z.PointLight){R=6;L=!0;var U=n.x,X=n.y;x[0].set(2*U,X,U,X);x[1].set(0,X,U,X);x[2].set(3*U,X,U,X);x[3].set(U,X,U,X);x[4].set(3*U,0,U,X);x[5].set(U,0,U,X);n.x*=4;n.y*=2}else R=1,L=!1;null===O.map&&(O.map=new Z.WebGLRenderTarget(n.x,n.y,{minFilter:Z.NearestFilter,magFilter:Z.NearestFilter,format:Z.RGBAFormat}),P.updateProjectionMatrix());O instanceof Z.SpotLightShadow&&O.update(T);U=O.map;O=O.matrix;Eg(q,T.matrixWorld);P.position.copy(q);
a.setRenderTarget(U);a.clear();for(U=0;U<R;U++){L?(p.copy(P.position),p.add(y[U]),P.up.copy(w[U]),P.lookAt(p),g.viewport(x[U])):(Eg(p,T.target.matrixWorld),P.lookAt(p));P.updateMatrixWorld();P.matrixWorldInverse.getInverse(P.matrixWorld);O.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);O.multiply(P.projectionMatrix);O.multiply(P.matrixWorldInverse);Fg(k,P.projectionMatrix,P.matrixWorldInverse);Tg(h,k);r.length=0;e(Q,J,P);X=0;for(var V=r.length;X<V;X++){var ba=r[X],fa=c.update(ba),ja=ba.material;if(ja instanceof
Z.MultiMaterial){var ma=fa.groups;ja=ja.materials;for(var va=0,oa=ma.length;va<oa;va++){var ta=ma[va],qa=ja[ta.materialIndex];!0===qa.visible&&(qa=d(ba,qa,L,q),a.renderBufferDirect(P,null,fa,qa,ba,ta))}}else qa=d(ba,ja,L,q),a.renderBufferDirect(P,null,fa,qa,ba,null)}}}}a.setClearColor(a.getClearColor(),a.getClearAlpha());I.needsUpdate=!1}}};
Z.WebGLState=function(a,b,c){function d(H,S,T){var O=new Uint8Array(3),P=a.createTexture();a.bindTexture(H,P);a.texParameteri(H,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(H,a.TEXTURE_MAG_FILTER,a.NEAREST);for(H=0;H<T;H++)a.texImage2D(S+H,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,O);return P}var e=this;this.buffers={color:new Z.WebGLColorBuffer(a),depth:new Z.WebGLDepthBuffer(a,this),stencil:new Z.WebGLStencilBuffer(a,this)};var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),h=new Uint8Array(f),
k=new Uint8Array(f),l={},n=null,p=null,q=null,r=null,t=null,v=null,u=null,y=null,w=!1,x=null,z=null,B=null,A=null,C=null,E=null,F=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),I=null,Q={},J=new Z.Vector4,R=new Z.Vector4,L={};L[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);L[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(Z.LessEqualDepth);this.setFlipSided(!1);
this.setCullFace(Z.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(Z.NormalBlending)};this.initAttributes=function(){for(var H=0,S=g.length;H<S;H++)g[H]=0};this.enableAttribute=function(H){g[H]=1;0===h[H]&&(a.enableVertexAttribArray(H),h[H]=1);0!==k[H]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(H,0),k[H]=0)};this.enableAttributeAndDivisor=function(H,S,T){g[H]=1;0===h[H]&&(a.enableVertexAttribArray(H),h[H]=1);k[H]!==S&&(T.vertexAttribDivisorANGLE(H,S),k[H]=
S)};this.disableUnusedAttributes=function(){for(var H=0,S=h.length;H!==S;++H)h[H]!==g[H]&&(a.disableVertexAttribArray(H),h[H]=0)};this.enable=function(H){!0!==l[H]&&(a.enable(H),l[H]=!0)};this.disable=function(H){!1!==l[H]&&(a.disable(H),l[H]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var H=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),S=0;S<H.length;S++)n.push(H[S]);
return n};this.setBlending=function(H,S,T,O,P,U,X,V){if(H!==Z.NoBlending){this.enable(a.BLEND);if(H!==p||V!==w)H===Z.AdditiveBlending?V?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):H===Z.SubtractiveBlending?V?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):
H===Z.MultiplyBlending?V?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):V?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),p=H,w=V;if(H===Z.CustomBlending){P=P||S;U=U||T;
X=X||O;if(S!==q||P!==v)a.blendEquationSeparate(c(S),c(P)),q=S,v=P;if(T!==r||O!==t||U!==u||X!==y)a.blendFuncSeparate(c(T),c(O),c(U),c(X)),r=T,t=O,u=U,y=X}else y=u=v=t=r=q=null}else this.disable(a.BLEND),p=H};this.setColorWrite=function(H){this.buffers.color.setMask(H)};this.setDepthTest=function(H){this.buffers.depth.setTest(H)};this.setDepthWrite=function(H){this.buffers.depth.setMask(H)};this.setDepthFunc=function(H){this.buffers.depth.setFunc(H)};this.setStencilTest=function(H){this.buffers.stencil.setTest(H)};
this.setStencilWrite=function(H){this.buffers.stencil.setMask(H)};this.setStencilFunc=function(H,S,T){this.buffers.stencil.setFunc(H,S,T)};this.setStencilOp=function(H,S,T){this.buffers.stencil.setOp(H,S,T)};this.setFlipSided=function(H){x!==H&&(H?a.frontFace(a.CW):a.frontFace(a.CCW),x=H)};this.setCullFace=function(H){H!==Z.CullFaceNone?(this.enable(a.CULL_FACE),H!==z&&(H===Z.CullFaceBack?a.cullFace(a.BACK):H===Z.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);
z=H};this.setLineWidth=function(H){H!==B&&(a.lineWidth(H),B=H)};this.setPolygonOffset=function(H,S,T){if(H){if(this.enable(a.POLYGON_OFFSET_FILL),A!==S||C!==T)a.polygonOffset(S,T),A=S,C=T}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return E};this.setScissorTest=function(H){(E=H)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(H){void 0===H&&(H=a.TEXTURE0+F-1);I!==H&&(a.activeTexture(H),I=H)};this.bindTexture=function(H,S){null===I&&
e.activeTexture();var T=Q[I];void 0===T&&(T={type:void 0,texture:void 0},Q[I]=T);if(T.type!==H||T.texture!==S)a.bindTexture(H,S||L[H]),T.type=H,T.texture=S};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(H){console.error(H)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(H){console.error(H)}};this.clearColor=function(H,S,T,O){this.buffers.color.setClear(H,S,T,O)};this.clearDepth=function(H){this.buffers.depth.setClear(H)};this.clearStencil=
function(H){this.buffers.stencil.setClear(H)};this.scissor=function(H){!1===J.equals(H)&&(a.scissor(H.x,H.y,H.z,H.w),J.copy(H))};this.viewport=function(H){!1===R.equals(H)&&(a.viewport(H.x,H.y,H.z,H.w),R.copy(H))};this.reset=function(){for(var H=0;H<h.length;H++)1===h[H]&&(a.disableVertexAttribArray(H),h[H]=0);l={};I=n=null;Q={};z=x=p=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};
Z.WebGLColorBuffer=function(a){var b=!1,c=new Z.Vector4,d=null,e=new Z.Vector4;this.setMask=function(f){d===f||b||(a.colorMask(f,f,f,f),d=f)};this.setLocked=function(f){b=f};this.setClear=function(f,g,h,k){c.set(f,g,h,k);!1===e.equals(c)&&(a.clearColor(f,g,h,k),e.copy(c))};this.reset=function(){b=!1;d=null;e=new Z.Vector4}};
Z.WebGLDepthBuffer=function(a,b){var c=!1,d=null,e=null,f=null;this.setTest=function(g){g?b.enable(a.DEPTH_TEST):b.disable(a.DEPTH_TEST)};this.setMask=function(g){d===g||c||(a.depthMask(g),d=g)};this.setFunc=function(g){if(e!==g){if(g)switch(g){case Z.NeverDepth:a.depthFunc(a.NEVER);break;case Z.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case Z.LessDepth:a.depthFunc(a.LESS);break;case Z.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case Z.EqualDepth:a.depthFunc(a.EQUAL);break;case Z.GreaterEqualDepth:a.depthFunc(a.GEQUAL);
break;case Z.GreaterDepth:a.depthFunc(a.GREATER);break;case Z.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);e=g}};this.setLocked=function(g){c=g};this.setClear=function(g){f!==g&&(a.clearDepth(g),f=g)};this.reset=function(){c=!1;f=e=d=null}};
Z.WebGLStencilBuffer=function(a,b){var c=!1,d=null,e=null,f=null,g=null,h=null,k=null,l=null,n=null;this.setTest=function(p){p?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(p){d===p||c||(a.stencilMask(p),d=p)};this.setFunc=function(p,q,r){if(e!==p||f!==q||g!==r)a.stencilFunc(p,q,r),e=p,f=q,g=r};this.setOp=function(p,q,r){if(h!==p||k!==q||l!==r)a.stencilOp(p,q,r),h=p,k=q,l=r};this.setLocked=function(p){c=p};this.setClear=function(p){n!==p&&(a.clearStencil(p),n=p)};this.reset=
function(){c=!1;n=l=k=h=g=f=e=d=null}};
Z.WebGLUniforms=function(){function a(O,P,U){this.seq=[];this.map={};this.renderer=U;U=O.getProgramParameter(P,O.ACTIVE_UNIFORMS);for(var X=0;X!==U;++X){var V=O.getActiveUniform(P,X),ba=V;V=O.getUniformLocation(P,V.name);var fa=this,ja=ba.name,ma=ja.length;for(T.lastIndex=0;;){var va=T.exec(ja),oa=T.lastIndex,ta=va[1],qa=va[3];"]"===va[2]&&(ta|=0);if(void 0===qa||"["===qa&&oa+2===ma){ja=fa;ba=void 0===qa?new d(ta,ba,V):new c(ta,ba,V);ja.seq.push(ba);ja.map[ba.id]=ba;break}else qa=fa.map[ta],void 0===
qa&&(qa=new b(ta),ta=fa,fa=qa,ta.seq.push(fa),ta.map[fa.id]=fa),fa=qa}}}function b(O){this.id=O;this.seq=[];this.map={}}function c(O,P,U){this.id=O;this.addr=U;this.size=P.size;this.setValue=e(P.type)}function d(O,P,U){this.id=O;this.addr=U;this.setValue=v(P.type)}function e(O){switch(O){case 5126:return t;case 35664:return q;case 35665:return p;case 35666:return n;case 35674:return l;case 35675:return k;case 35676:return h;case 35678:return g;case 35680:return f;case 5124:case 35670:return r;case 35667:case 35671:return w;
case 35668:case 35672:return y;case 35669:case 35673:return u}}function f(O,P,U){var X=P.length,V=R(U,X);O.uniform1iv(this.addr,V);for(O=0;O!==X;++O){var ba=P[O];ba&&U.setTextureCube(ba,V[O])}}function g(O,P,U){var X=P.length,V=R(U,X);O.uniform1iv(this.addr,V);for(O=0;O!==X;++O){var ba=P[O];ba&&U.setTexture2D(ba,V[O])}}function h(O,P){O.uniformMatrix4fv(this.addr,!1,L(P,this.size,16))}function k(O,P){O.uniformMatrix3fv(this.addr,!1,L(P,this.size,9))}function l(O,P){O.uniformMatrix2fv(this.addr,!1,
L(P,this.size,4))}function n(O,P){O.uniform4fv(this.addr,L(P,this.size,4))}function p(O,P){O.uniform3fv(this.addr,L(P,this.size,3))}function q(O,P){O.uniform2fv(this.addr,L(P,this.size,2))}function r(O,P){O.uniform1iv(this.addr,P)}function t(O,P){O.uniform1fv(this.addr,P)}function v(O){switch(O){case 5126:return J;case 35664:return I;case 35665:return F;case 35666:return E;case 35674:return C;case 35675:return A;case 35676:return B;case 35678:return z;case 35680:return x;case 5124:case 35670:return Q;
case 35667:case 35671:return w;case 35668:case 35672:return y;case 35669:case 35673:return u}}function u(O,P){O.uniform4iv(this.addr,P)}function y(O,P){O.uniform3iv(this.addr,P)}function w(O,P){O.uniform2iv(this.addr,P)}function x(O,P,U){var X=U.allocTextureUnit();O.uniform1i(this.addr,X);P&&U.setTextureCube(P,X)}function z(O,P,U){var X=U.allocTextureUnit();O.uniform1i(this.addr,X);P&&U.setTexture2D(P,X)}function B(O,P){O.uniformMatrix4fv(this.addr,!1,P.elements||P)}function A(O,P){O.uniformMatrix3fv(this.addr,
!1,P.elements||P)}function C(O,P){O.uniformMatrix2fv(this.addr,!1,P.elements||P)}function E(O,P){void 0===P.x?O.uniform4fv(this.addr,P):O.uniform4f(this.addr,P.x,P.y,P.z,P.w)}function F(O,P){void 0!==P.x?O.uniform3f(this.addr,P.x,P.y,P.z):void 0!==P.r?O.uniform3f(this.addr,P.r,P.g,P.b):O.uniform3fv(this.addr,P)}function I(O,P){void 0===P.x?O.uniform2fv(this.addr,P):O.uniform2f(this.addr,P.x,P.y)}function Q(O,P){O.uniform1i(this.addr,P)}function J(O,P){O.uniform1f(this.addr,P)}function R(O,P){var U=
S[P];void 0===U&&(U=new Int32Array(P),S[P]=U);for(var X=0;X!==P;++X)U[X]=O.allocTextureUnit();return U}function L(O,P,U){var X=O[0];if(0>=X||0<X)return O;var V=P*U,ba=H[V];void 0===ba&&(ba=new Float32Array(V),H[V]=ba);if(0!==P)for(X.toArray(ba,0),X=1,V=0;X!==P;++X)V+=U,O[X].toArray(ba,V);return ba}var H=[],S=[];b.prototype.setValue=function(O,P){for(var U=this.seq,X=0,V=U.length;X!==V;++X){var ba=U[X];ba.setValue(O,P[ba.id])}};var T=/([\w\d_]+)(\])?(\[|\.)?/g;a.prototype.setValue=function(O,P,U){P=
this.map[P];void 0!==P&&P.setValue(O,U,this.renderer)};a.prototype.set=function(O,P,U){var X=this.map[U];void 0!==X&&X.setValue(O,P[U],this.renderer)};a.prototype.setOptional=function(O,P,U){P=P[U];void 0!==P&&this.setValue(O,U,P)};a.upload=function(O,P,U,X){for(var V=0,ba=P.length;V!==ba;++V){var fa=P[V],ja=U[fa.id];!1!==ja.needsUpdate&&fa.setValue(O,ja.value,X)}};a.seqWithValue=function(O,P){for(var U=[],X=0,V=O.length;X!==V;++X){var ba=O[X];ba.id in P&&U.push(ba)}return U};a.splitDynamic=function(O,
P){for(var U=null,X=O.length,V=0,ba=0;ba!==X;++ba){var fa=O[ba],ja=P[fa.id];ja&&!0===ja.dynamic?(null===U&&(U=[]),U.push(fa)):(V<ba&&(O[V]=fa),++V)}V<X&&(O.length=V);return U};a.evalDynamic=function(O,P,U,X){for(var V=0,ba=O.length;V!==ba;++V){var fa=P[O[V].id],ja=fa.onUpdateCallback;void 0!==ja&&ja.call(fa,U,X)}};return a}();
Z.LensFlarePlugin=function(a,b){var c,d,e,f,g,h,k,l,n,p,q=a.context,r=a.state,t,v,u,y,w,x;this.render=function(z,B,A){if(0!==b.length){z=new Z.Vector3;var C=A.w/A.z,E=.5*A.z,F=.5*A.w,I=16/A.w,Q=new Z.Vector2(I*C,I),J=new Z.Vector3(1,1,0),R=new Z.Vector2(1,1),L=new Z.Box2;L.min.set(0,0);L.max.set(A.z-16,A.w-16);if(void 0===y){I=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var H=new Uint16Array([0,1,2,0,2,3]);t=q.createBuffer();v=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,t);q.bufferData(q.ARRAY_BUFFER,
I,q.STATIC_DRAW);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,v);q.bufferData(q.ELEMENT_ARRAY_BUFFER,H,q.STATIC_DRAW);w=q.createTexture();x=q.createTexture();r.bindTexture(q.TEXTURE_2D,w);q.texImage2D(q.TEXTURE_2D,0,q.RGB,16,16,0,q.RGB,q.UNSIGNED_BYTE,null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);r.bindTexture(q.TEXTURE_2D,
x);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,16,16,0,q.RGBA,q.UNSIGNED_BYTE,null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);I=u={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV \x3d uv;\nvec2 pos \x3d position;\nif ( renderType \x3d\x3d 2 ) {\nvec4 visibility \x3d texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility \x3d        visibility.r / 9.0;\nvVisibility *\x3d 1.0 - visibility.g / 9.0;\nvVisibility *\x3d       visibility.b / 9.0;\nvVisibility *\x3d 1.0 - visibility.a / 9.0;\npos.x \x3d cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y \x3d sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position \x3d vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType \x3d\x3d 0 ) {\ngl_FragColor \x3d vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType \x3d\x3d 1 ) {\ngl_FragColor \x3d texture2D( map, vUV );\n} else {\nvec4 texture \x3d texture2D( map, vUV );\ntexture.a *\x3d opacity * vVisibility;\ngl_FragColor \x3d texture;\ngl_FragColor.rgb *\x3d color;\n}\n}"};H=q.createProgram();
var S=q.createShader(q.FRAGMENT_SHADER),T=q.createShader(q.VERTEX_SHADER),O="precision "+a.getPrecision()+" float;\n";q.shaderSource(S,O+I.fragmentShader);q.shaderSource(T,O+I.vertexShader);q.compileShader(S);q.compileShader(T);q.attachShader(H,S);q.attachShader(H,T);q.linkProgram(H);y=H;n=q.getAttribLocation(y,"position");p=q.getAttribLocation(y,"uv");c=q.getUniformLocation(y,"renderType");d=q.getUniformLocation(y,"map");e=q.getUniformLocation(y,"occlusionMap");f=q.getUniformLocation(y,"opacity");
g=q.getUniformLocation(y,"color");h=q.getUniformLocation(y,"scale");k=q.getUniformLocation(y,"rotation");l=q.getUniformLocation(y,"screenPosition")}q.useProgram(y);r.initAttributes();r.enableAttribute(n);r.enableAttribute(p);r.disableUnusedAttributes();q.uniform1i(e,0);q.uniform1i(d,1);q.bindBuffer(q.ARRAY_BUFFER,t);q.vertexAttribPointer(n,2,q.FLOAT,!1,16,0);q.vertexAttribPointer(p,2,q.FLOAT,!1,16,8);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,v);r.disable(q.CULL_FACE);r.setDepthWrite(!1);H=0;for(S=b.length;H<
S;H++)if(I=16/A.w,Q.set(I*C,I),T=b[H],z.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),z.applyMatrix4(B.matrixWorldInverse),Bg(z,B.projectionMatrix),J.copy(z),R.x=A.x+J.x*E+E-8,R.y=A.y+J.y*F+F-8,!0===L.containsPoint(R)){r.activeTexture(q.TEXTURE0);r.bindTexture(q.TEXTURE_2D,null);r.activeTexture(q.TEXTURE1);r.bindTexture(q.TEXTURE_2D,w);q.copyTexImage2D(q.TEXTURE_2D,0,q.RGB,R.x,R.y,16,16,0);q.uniform1i(c,0);q.uniform2f(h,Q.x,Q.y);q.uniform3f(l,J.x,J.y,J.z);r.disable(q.BLEND);
r.enable(q.DEPTH_TEST);q.drawElements(q.TRIANGLES,6,q.UNSIGNED_SHORT,0);r.activeTexture(q.TEXTURE0);r.bindTexture(q.TEXTURE_2D,x);q.copyTexImage2D(q.TEXTURE_2D,0,q.RGBA,R.x,R.y,16,16,0);q.uniform1i(c,1);r.disable(q.DEPTH_TEST);r.activeTexture(q.TEXTURE1);r.bindTexture(q.TEXTURE_2D,w);q.drawElements(q.TRIANGLES,6,q.UNSIGNED_SHORT,0);T.positionScreen.copy(J);T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares();q.uniform1i(c,2);r.enable(q.BLEND);O=0;for(var P=T.lensFlares.length;O<P;O++){var U=
T.lensFlares[O];.001<U.opacity&&.001<U.scale&&(J.x=U.x,J.y=U.y,J.z=U.z,I=U.size*U.scale/A.w,Q.x=I*C,Q.y=I,q.uniform3f(l,J.x,J.y,J.z),q.uniform2f(h,Q.x,Q.y),q.uniform1f(k,U.rotation),q.uniform1f(f,U.opacity),q.uniform3f(g,U.color.r,U.color.g,U.color.b),r.setBlending(U.blending,U.blendEquation,U.blendSrc,U.blendDst),a.setTexture2D(U.texture,1),q.drawElements(q.TRIANGLES,6,q.UNSIGNED_SHORT,0))}}r.enable(q.CULL_FACE);r.enable(q.DEPTH_TEST);r.setDepthWrite(!0);a.resetGLState()}}};
Z.SpritePlugin=function(a,b){var c,d,e,f,g,h,k,l,n,p,q,r,t,v,u,y,w;function x(R,L){return R.renderOrder!==L.renderOrder?R.renderOrder-L.renderOrder:R.z!==L.z?L.z-R.z:L.id-R.id}var z=a.context,B=a.state,A,C,E,F,I=new Z.Vector3,Q=new Z.Quaternion,J=new Z.Vector3;this.render=function(R,L){if(0!==b.length){if(void 0===E){var H=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),S=new Uint16Array([0,1,2,0,2,3]);A=z.createBuffer();C=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,A);z.bufferData(z.ARRAY_BUFFER,
H,z.STATIC_DRAW);z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,C);z.bufferData(z.ELEMENT_ARRAY_BUFFER,S,z.STATIC_DRAW);H=z.createProgram();S=z.createShader(z.VERTEX_SHADER);var T=z.createShader(z.FRAGMENT_SHADER);z.shaderSource(S,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV \x3d uvOffset + uv * uvScale;\nvec2 alignedPosition \x3d position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +\x3d rotatedPosition;\nfinalPosition \x3d projectionMatrix * finalPosition;\ngl_Position \x3d finalPosition;\n}"].join("\n"));
z.shaderSource(T,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture \x3d texture2D( map, vUV );\nif ( texture.a \x3c alphaTest ) discard;\ngl_FragColor \x3d vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType \x3e 0 ) {\nfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor \x3d 0.0;\nif ( fogType \x3d\x3d 1 ) {\nfogFactor \x3d smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 \x3d 1.442695;\nfogFactor \x3d exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor \x3d 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor \x3d mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
z.compileShader(S);z.compileShader(T);z.attachShader(H,S);z.attachShader(H,T);z.linkProgram(H);E=H;y=z.getAttribLocation(E,"position");w=z.getAttribLocation(E,"uv");c=z.getUniformLocation(E,"uvOffset");d=z.getUniformLocation(E,"uvScale");e=z.getUniformLocation(E,"rotation");f=z.getUniformLocation(E,"scale");g=z.getUniformLocation(E,"color");h=z.getUniformLocation(E,"map");k=z.getUniformLocation(E,"opacity");l=z.getUniformLocation(E,"modelViewMatrix");n=z.getUniformLocation(E,"projectionMatrix");p=
z.getUniformLocation(E,"fogType");q=z.getUniformLocation(E,"fogDensity");r=z.getUniformLocation(E,"fogNear");t=z.getUniformLocation(E,"fogFar");v=z.getUniformLocation(E,"fogColor");u=z.getUniformLocation(E,"alphaTest");H=document.createElement("canvas");H.width=8;H.height=8;S=H.getContext("2d");S.fillStyle="white";S.fillRect(0,0,8,8);F=new Z.Texture(H);F.needsUpdate=!0}z.useProgram(E);B.initAttributes();B.enableAttribute(y);B.enableAttribute(w);B.disableUnusedAttributes();B.disable(z.CULL_FACE);B.enable(z.BLEND);
z.bindBuffer(z.ARRAY_BUFFER,A);z.vertexAttribPointer(y,2,z.FLOAT,!1,16,0);z.vertexAttribPointer(w,2,z.FLOAT,!1,16,8);z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,C);z.uniformMatrix4fv(n,!1,L.projectionMatrix.elements);B.activeTexture(z.TEXTURE0);z.uniform1i(h,0);S=H=0;(T=R.fog)?(z.uniform3f(v,T.color.r,T.color.g,T.color.b),T instanceof Z.Fog?(z.uniform1f(r,T.near),z.uniform1f(t,T.far),z.uniform1i(p,1),S=H=1):T instanceof Z.FogExp2&&(z.uniform1f(q,T.density),z.uniform1i(p,2),S=H=2)):(z.uniform1i(p,0),S=H=0);
T=0;for(var O=b.length;T<O;T++){var P=b[T];Fg(P.modelViewMatrix,L.matrixWorldInverse,P.matrixWorld);P.z=-P.modelViewMatrix.elements[14]}b.sort(x);L=[];T=0;for(O=b.length;T<O;T++){P=b[T];var U=P.material;z.uniform1f(u,U.alphaTest);z.uniformMatrix4fv(l,!1,P.modelViewMatrix.elements);P.matrixWorld.decompose(I,Q,J);L[0]=J.x;L[1]=J.y;P=0;R.fog&&U.fog&&(P=S);H!==P&&(z.uniform1i(p,P),H=P);null!==U.map?(z.uniform2f(c,U.map.offset.x,U.map.offset.y),z.uniform2f(d,U.map.repeat.x,U.map.repeat.y)):(z.uniform2f(c,
0,0),z.uniform2f(d,1,1));z.uniform1f(k,U.opacity);z.uniform3f(g,U.color.r,U.color.g,U.color.b);z.uniform1f(e,U.rotation);z.uniform2fv(f,L);B.setBlending(U.blending,U.blendEquation,U.blendSrc,U.blendDst);B.setDepthTest(U.depthTest);B.setDepthWrite(U.depthWrite);U.map?a.setTexture2D(U.map,0):a.setTexture2D(F,0);z.drawElements(z.TRIANGLES,6,z.UNSIGNED_SHORT,0)}B.enable(z.CULL_FACE);a.resetGLState()}}};
Object.assign(Z,{Face4:function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Z.Face3(a,b,c,e,f,g)},LineStrip:0,LinePieces:1,MeshFaceMaterial:Z.MultiMaterial,PointCloud:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Z.Points(a,b)},Particle:Z.Sprite,ParticleSystem:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Z.Points(a,b)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
return new Z.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Z.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Z.PointsMaterial(a)},Vertex:function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new Z.Vector3(a,b,c)}});
Object.assign(Z.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}});
Object.assign(Z.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Z.Matrix3.prototype,{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return Ag(a,this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});
Object.assign(Z.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return Gg(this,a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return Bg(a,this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
Cg(a,this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});
Object.assign(Z.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}});Object.assign(Z.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return zg(a,this)}});
Object.assign(Z.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Z.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return Eg(this,a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");var b=Dg(this,a,0).length(),c=Dg(this,a,1).length();a=Dg(this,a,2).length();this.x=b;this.y=c;this.z=a;return this},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return Dg(this,b,a)}});
Object.assign(Z.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});
Object.defineProperties(Z.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(Z.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Z.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(Z.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(Z.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.assign(Z.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},
computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(Z.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(Z.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new Z.Color}}});
Object.defineProperties(Z.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(Z.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Z.EventDispatcher.prototype=Object.assign(Object.create({constructor:Z.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),Z.EventDispatcher.prototype);
Object.assign(Z.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(Z.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(Z.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?Z.CullFaceFront:Z.CullFaceBack},set:function(a){a=a!==Z.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});
Object.defineProperties(Z.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.assign(Z.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new Z.AudioLoader).load(a,function(c){b.setBuffer(c)});return this}});Object.assign(Z.AudioAnalyser.prototype,{getData:function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});
Z.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b instanceof Z.Mesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
Z.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new Z.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new Z.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,
d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
Z.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
Z.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};
Z.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
Z.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new Z.Group,d=0,e=b.length;d<e;d++)c.add(new Z.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new Z.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
Z.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],f=[],g;if(0<Z.ShapeUtils.area(a))for(g=0;g<c;g++)e[g]=g;else for(g=0;g<c;g++)e[g]=c-1-g;var h=2*c;for(g=c-1;2<c;){if(0>=h--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var k=g;c<=k&&(k=0);g=k+1;c<=g&&(g=0);var l=g+1;c<=l&&(l=0);a:{var n;var p=a[e[k]].x;var q=a[e[k]].y;
var r=a[e[g]].x;var t=a[e[g]].y;var v=a[e[l]].x;var u=a[e[l]].y;if(Number.EPSILON>(r-p)*(u-q)-(t-q)*(v-p))var y=!1;else{var w=v-r;var x=u-t;var z=p-v;var B=q-u;var A=r-p;y=t-q;for(n=0;n<c;n++){var C=a[e[n]].x;var E=a[e[n]].y;if(!(C===p&&E===q||C===r&&E===t||C===v&&E===u)){var F=C-p;var I=E-q;var Q=C-r;var J=E-t;C-=v;E-=u;J=w*J-x*Q;I=A*I-y*F;C=z*E-B*C;if(J>=-Number.EPSILON&&C>=-Number.EPSILON&&I>=-Number.EPSILON){y=!1;break a}}}y=!0}}if(y){d.push([a[e[k]],a[e[g]],a[e[l]]]);f.push([e[k],e[g],e[l]]);
k=g;for(l=g+1;l<c;k++,l++)e[k]=e[l];c--;h=2*c}}return b?f:d},triangulateShape:function(a,b){function c(n,p,q){return n.x!==p.x?n.x<p.x?n.x<=q.x&&q.x<=p.x:p.x<=q.x&&q.x<=n.x:n.y<p.y?n.y<=q.y&&q.y<=p.y:p.y<=q.y&&q.y<=n.y}function d(n,p,q,r,t){var v=p.x-n.x,u=p.y-n.y,y=r.x-q.x,w=r.y-q.y,x=n.x-q.x,z=n.y-q.y,B=u*y-v*w,A=u*x-v*z;if(Math.abs(B)>Number.EPSILON){if(0<B){if(0>A||A>B)return[];y=w*x-y*z;if(0>y||y>B)return[]}else{if(0<A||A<B)return[];y=w*x-y*z;if(0<y||y<B)return[]}if(0===y)return!t||0!==A&&A!==
B?[n]:[];if(y===B)return!t||0!==A&&A!==B?[p]:[];if(0===A)return[q];if(A===B)return[r];t=y/B;return[{x:n.x+t*v,y:n.y+t*u}]}if(0!==A||w*x!==y*z)return[];u=0===v&&0===u;y=0===y&&0===w;if(u&&y)return n.x!==q.x||n.y!==q.y?[]:[n];if(u)return c(q,r,n)?[n]:[];if(y)return c(n,p,q)?[q]:[];0!==v?(n.x<p.x?(v=n,y=n.x,u=p,n=p.x):(v=p,y=p.x,u=n,n=n.x),q.x<r.x?(p=q,B=q.x,w=r,q=r.x):(p=r,B=r.x,w=q,q=q.x)):(n.y<p.y?(v=n,y=n.y,u=p,n=p.y):(v=p,y=p.y,u=n,n=n.y),q.y<r.y?(p=q,B=q.y,w=r,q=r.y):(p=r,B=r.y,w=q,q=q.y));return y<=
B?n<B?[]:n===B?t?[]:[p]:n<=q?[p,u]:[p,w]:y>q?[]:y===q?t?[]:[v]:n<=q?[v,u]:[v,w]}function e(n,p,q,r){var t=p.x-n.x,v=p.y-n.y;p=q.x-n.x;q=q.y-n.y;var u=r.x-n.x;r=r.y-n.y;n=t*q-v*p;t=t*r-v*u;return Math.abs(n)>Number.EPSILON?(p=u*q-r*p,0<n?0<=t&&0<=p:0<=t||0<=p):0<t}var f,g={},h=a.concat();var k=0;for(f=b.length;k<f;k++)Array.prototype.push.apply(h,b[k]);k=0;for(f=h.length;k<f;k++){var l=h[k].x+":"+h[k].y;void 0!==g[l]&&console.warn("THREE.Shape: Duplicate point",l);g[l]=k}k=function(n,p){function q(J,
R){var L=v.length-1,H=J-1;0>H&&(H=L);var S=J+1;S>L&&(S=0);L=e(v[J],v[H],v[S],I[R]);if(!L)return!1;L=I.length-1;H=R-1;0>H&&(H=L);S=R+1;S>L&&(S=0);return(L=e(I[R],I[H],I[S],v[J]))?!0:!1}function r(J,R){var L;for(L=0;L<v.length;L++){var H=L+1;H%=v.length;H=d(J,R,v[L],v[H],!0);if(0<H.length)return!0}return!1}function t(J,R){var L,H;for(L=0;L<u.length;L++){var S=p[u[L]];for(H=0;H<S.length;H++){var T=H+1;T%=S.length;T=d(J,R,S[H],S[T],!0);if(0<T.length)return!0}}return!1}var v=n.concat(),u=[],y,w;n=[];var x,
z=0;for(y=p.length;z<y;z++)u.push(z);var B=0;for(var A=2*u.length;0<u.length;){A--;if(0>A){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(w=B;w<v.length;w++){var C=v[w];y=-1;for(z=0;z<u.length;z++){var E=u[z];var F=C.x+":"+C.y+":"+E;if(void 0===n[F]){var I=p[E];for(x=0;x<I.length;x++)if(E=I[x],q(w,x)&&!r(C,E)&&!t(C,E)){y=x;u.splice(z,1);B=v.slice(0,w+1);E=v.slice(w);x=I.slice(y);var Q=I.slice(0,y+1);v=B.concat(x).concat(Q).concat(E);B=w;break}if(0<=y)break;
n[F]=!0}}if(0<=y)break}}return v}(a,b);h=Z.ShapeUtils.triangulate(k,!1);k=0;for(f=h.length;k<f;k++)for(b=h[k],a=0;3>a;a++)l=b[a].x+":"+b[a].y,l=g[l],void 0!==l&&(b[a]=l);return h.concat()},isClockWise:function(a){return 0>Z.ShapeUtils.area(a)},b2:function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d},b3:function(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}};Z.Curve=function(){};
function rh(a,b){a=sh(a);var c=a.length;var d=b*a[c-1];for(var e=0,f=c-1,g;e<=f;)if(b=Math.floor(e+(f-e)/2),g=a[b]-d,0>g)e=b+1;else if(0<g)f=b-1;else{f=b;break}b=f;if(a[b]===d)return b/(c-1);e=a[b];return a=(b+(d-e)/(a[b+1]-e))/(c-1)}
function sh(a){var b;b||(b=a.__arcLengthDivisions?a.__arcLengthDivisions:200);if(a.cacheArcLengths&&a.cacheArcLengths.length===b+1&&!a.needsUpdate)return a.cacheArcLengths;a.needsUpdate=!1;var c=[],d=a.getPoint(0),e,f=0;c.push(0);for(e=1;e<=b;e++){var g=a.getPoint(e/b);f+=g.distanceTo(d);c.push(f);d=g}return a.cacheArcLengths=c}
Z.Curve.prototype={constructor:Z.Curve,getPoint:function(){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=rh(this,a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=sh(this);return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=
!0;sh(this)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()}};Z.Curve.create=function(a,b){a.prototype=Object.create(Z.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Z.CurvePath=function(){this.curves=[];this.autoClose=!1};
Z.CurvePath.prototype=Object.assign(Object.create(Z.Curve.prototype),{constructor:Z.CurvePath,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Z.LineCurve(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new Z.Geometry,c=0,d=a.length;c<
d;c++){var e=a[c];b.vertices.push(new Z.Vector3(e.x,e.y,e.z||0))}return b}});Z.Font=function(a){this.data=a};
Object.assign(Z.Font.prototype,{generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,f=0;b=[];for(var g=0;g<a.length;g++){var h;var k=e;var l=f,n=d.glyphs[a[g]]||d.glyphs["?"];if(n){var p=new Z.Path,q=[],r=Z.ShapeUtils.b2,t=Z.ShapeUtils.b3;if(n.o)for(var v=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),u=0,y=v.length;u<y;)switch(v[u++]){case "m":var w=v[u++]*k+l;var x=v[u++]*k;p.moveTo(w,x);break;case "l":w=v[u++]*k+l;
x=v[u++]*k;p.lineTo(w,x);break;case "q":var z=v[u++]*k+l;var B=v[u++]*k;var A=v[u++]*k+l;var C=v[u++]*k;p.quadraticCurveTo(A,C,z,B);if(h=q[q.length-1]){var E=h.x;h=h.y;for(var F=1;F<=c;F++){var I=F/c;r(I,E,A,z);r(I,h,C,B)}}break;case "b":if(z=v[u++]*k+l,B=v[u++]*k,A=v[u++]*k+l,C=v[u++]*k,w=v[u++]*k+l,x=v[u++]*k,p.bezierCurveTo(A,C,w,x,z,B),h=q[q.length-1])for(E=h.x,h=h.y,F=1;F<=c;F++)I=F/c,t(I,E,A,w,z),t(I,h,C,x,B)}k={offset:n.ha*k,path:p}}else k=void 0;f+=k.offset;b.push(k.path)}c=[];d=0;for(a=b.length;d<
a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}});Z.Path=function(a){Z.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};
Z.Path.prototype=Object.assign(Object.create(Z.CurvePath.prototype),{constructor:Z.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,b){var c=this.actions[this.actions.length-1].args;this.curves.push(new Z.LineCurve(new Z.Vector2(c[c.length-2],c[c.length-1]),new Z.Vector2(a,b)));this.actions.push({action:"lineTo",args:[a,b]})},quadraticCurveTo:function(a,
b,c,d){var e=this.actions[this.actions.length-1].args;this.curves.push(new Z.QuadraticBezierCurve(new Z.Vector2(e[e.length-2],e[e.length-1]),new Z.Vector2(a,b),new Z.Vector2(c,d)));this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})},bezierCurveTo:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.curves.push(new Z.CubicBezierCurve(new Z.Vector2(g[g.length-2],g[g.length-1]),new Z.Vector2(a,b),new Z.Vector2(c,d),new Z.Vector2(e,f)));this.actions.push({action:"bezierCurveTo",
args:[a,b,c,d,e,f]})},splineThru:function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args;c=[new Z.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new Z.SplineCurve(c));this.actions.push({action:"splineThru",args:b})},arc:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,
b,c,d,e,f,g,h){var k=this.actions[this.actions.length-1].args;this.absellipse(a+k[k.length-2],b+k[k.length-1],c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){var k=[a,b,c,d,e,f,g,h||0];a=new Z.EllipseCurve(a,b,c,d,e,f,g,h);this.curves.push(a);a=a.getPoint(1);k.push(a.x);k.push(a.y);this.actions.push({action:"ellipse",args:k})},getSpacedPoints:function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=
Z.ShapeUtils.b2,c=Z.ShapeUtils.b3,d=[],e,f,g,h,k,l,n,p,q,r,t=0,v=this.actions.length;t<v;t++){q=this.actions[t];var u=q.args;switch(q.action){case "moveTo":d.push(new Z.Vector2(u[0],u[1]));break;case "lineTo":d.push(new Z.Vector2(u[0],u[1]));break;case "quadraticCurveTo":e=u[2];f=u[3];k=u[0];l=u[1];0<d.length?(q=d[d.length-1],n=q.x,p=q.y):(q=this.actions[t-1].args,n=q[q.length-2],p=q[q.length-1]);for(u=1;u<=a;u++)r=u/a,q=b(r,n,k,e),r=b(r,p,l,f),d.push(new Z.Vector2(q,r));break;case "bezierCurveTo":e=
u[4];f=u[5];k=u[0];l=u[1];g=u[2];h=u[3];0<d.length?(q=d[d.length-1],n=q.x,p=q.y):(q=this.actions[t-1].args,n=q[q.length-2],p=q[q.length-1]);for(u=1;u<=a;u++)r=u/a,q=c(r,n,k,g,e),r=c(r,p,l,h,f),d.push(new Z.Vector2(q,r));break;case "splineThru":q=this.actions[t-1].args;r=[new Z.Vector2(q[q.length-2],q[q.length-1])];q=a*u[0].length;r=r.concat(u[0]);r=new Z.SplineCurve(r);for(u=1;u<=q;u++)d.push(r.getPointAt(u/q));break;case "arc":e=u[0];f=u[1];l=u[2];g=u[3];q=u[4];k=!!u[5];n=q-g;p=2*a;for(u=1;u<=p;u++)r=
u/p,k||(r=1-r),r=g+r*n,q=e+l*Math.cos(r),r=f+l*Math.sin(r),d.push(new Z.Vector2(q,r));break;case "ellipse":e=u[0];f=u[1];l=u[2];h=u[3];g=u[4];q=u[5];k=!!u[6];var y=u[7];n=q-g;p=2*a;if(0!==y){var w=Math.cos(y);var x=Math.sin(y)}for(u=1;u<=p;u++){r=u/p;k||(r=1-r);r=g+r*n;q=e+l*Math.cos(r);r=f+h*Math.sin(r);if(0!==y){var z=q;q=(z-e)*w-(r-f)*x+e;r=(z-e)*x+(r-f)*w+f}d.push(new Z.Vector2(q,r))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-
1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,b){function c(u){for(var y=[],w=0,x=u.length;w<x;w++){var z=u[w],B=new Z.Shape;B.actions=z.actions;B.curves=z.curves;y.push(B)}return y}function d(u,y){for(var w=y.length,x=!1,z=w-1,B=0;B<w;z=B++){var A=y[z],C=y[B],E=C.x-A.x,F=C.y-A.y;if(Math.abs(F)>Number.EPSILON){if(0>F&&(A=y[B],E=-E,C=y[z],F=-F),!(u.y<A.y||u.y>C.y))if(u.y===A.y){if(u.x===A.x)return!0}else{z=F*(u.x-A.x)-E*(u.y-A.y);if(0===z)return!0;0>z||(x=!x)}}else if(u.y===A.y&&
(C.x<=u.x&&u.x<=A.x||A.x<=u.x&&u.x<=C.x))return!0}return x}var e=Z.ShapeUtils.isClockWise,f=function(u){for(var y=[],w=new Z.Path,x=0,z=u.length;x<z;x++){var B=u[x],A=B.args;B=B.action;"moveTo"===B&&0!==w.actions.length&&(y.push(w),w=new Z.Path);w[B].apply(w,A)}0!==w.actions.length&&y.push(w);return y}(this.actions);if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0];var h=new Z.Shape;h.actions=g.actions;h.curves=g.curves;b.push(h);return b}var k=!e(f[0].getPoints());k=
a?!k:k;h=[];var l=[],n=[],p=0;l[p]=void 0;n[p]=[];for(var q=0,r=f.length;q<r;q++){g=f[q];var t=g.getPoints();var v=e(t);(v=a?!v:v)?(!k&&l[p]&&p++,l[p]={s:new Z.Shape,p:t},l[p].s.actions=g.actions,l[p].s.curves=g.curves,k&&p++,n[p]=[]):n[p].push({h:g,p:t[0]})}if(!l[0])return c(f);if(1<l.length){q=!1;a=[];e=0;for(f=l.length;e<f;e++)h[e]=[];e=0;for(f=l.length;e<f;e++)for(g=n[e],v=0;v<g.length;v++){k=g[v];p=!0;for(t=0;t<l.length;t++)d(k.p,l[t].p)&&(e!==t&&a.push({froms:e,tos:t,hole:v}),p?(p=!1,h[t].push(k)):
q=!0);p&&h[e].push(k)}0<a.length&&(q||(n=h))}q=0;for(e=l.length;q<e;q++)for(h=l[q].s,b.push(h),a=n[q],f=0,g=a.length;f<g;f++)h.holes.push(a[f].h);return b}});Z.Shape=function(){Z.Path.apply(this,arguments);this.holes=[]};
Z.Shape.prototype=Object.assign(Object.create(Z.Path.prototype),{constructor:Z.Shape,extrude:function(a){return new Z.ExtrudeGeometry(this,a)},makeGeometry:function(a){return new Z.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});
Z.LineCurve=function(a,b){this.v1=a;this.v2=b};Z.LineCurve.prototype=Object.create(Z.Curve.prototype);Z.LineCurve.prototype.constructor=Z.LineCurve;Z.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};Z.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};Z.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};Z.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};
Z.QuadraticBezierCurve.prototype=Object.create(Z.Curve.prototype);Z.QuadraticBezierCurve.prototype.constructor=Z.QuadraticBezierCurve;Z.QuadraticBezierCurve.prototype.getPoint=function(a){var b=Z.ShapeUtils.b2;return new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};Z.QuadraticBezierCurve.prototype.getTangent=function(a){var b=Z.CurveUtils.tangentQuadraticBezier;return(new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};
Z.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};Z.CubicBezierCurve.prototype=Object.create(Z.Curve.prototype);Z.CubicBezierCurve.prototype.constructor=Z.CubicBezierCurve;Z.CubicBezierCurve.prototype.getPoint=function(a){var b=Z.ShapeUtils.b3;return new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
Z.CubicBezierCurve.prototype.getTangent=function(a){var b=Z.CurveUtils.tangentCubicBezier;return(new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};Z.SplineCurve=function(a){this.points=void 0==a?[]:a};Z.SplineCurve.prototype=Object.create(Z.Curve.prototype);Z.SplineCurve.prototype.constructor=Z.SplineCurve;
Z.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=Z.CurveUtils.interpolate;return new Z.Vector2(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a))};Z.EllipseCurve=function(a,b,c,d,e,f,g,h){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0};Z.EllipseCurve.prototype=Object.create(Z.Curve.prototype);
Z.EllipseCurve.prototype.constructor=Z.EllipseCurve;
Z.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){b=Math.cos(this.aRotation);var d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new Z.Vector2(a,c)};
Z.ArcCurve=function(a,b,c,d,e,f){Z.EllipseCurve.call(this,a,b,c,c,d,e,f)};Z.ArcCurve.prototype=Object.create(Z.EllipseCurve.prototype);Z.ArcCurve.prototype.constructor=Z.ArcCurve;Z.LineCurve3=Z.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new Z.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
Z.QuadraticBezierCurve3=Z.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=Z.ShapeUtils.b2;return new Z.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
Z.CubicBezierCurve3=Z.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=Z.ShapeUtils.b3;return new Z.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
Z.SplineCurve3=Z.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=Z.CurveUtils.interpolate;return new Z.Vector3(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a),c(d.z,e.z,f.z,b.z,a))});
Z.CatmullRomCurve3=function(){function a(){}var b=new Z.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(f,g,h,k){this.c0=f;this.c1=h;this.c2=-3*f+3*g-2*h-k;this.c3=2*f-2*g+h+k};a.prototype.initNonuniformCatmullRom=function(f,g,h,k,l,n,p){this.init(g,h,((g-f)/l-(h-f)/(l+n)+(h-g)/n)*n,((h-g)/n-(k-g)/(n+p)+(k-h)/p)*n)};a.prototype.initCatmullRom=function(f,g,h,k,l){this.init(g,h,l*(h-f),l*(k-g))};a.prototype.calc=function(f){var g=f*f;return this.c0+this.c1*f+this.c2*g+this.c3*g*f};return Z.Curve.create(function(f){this.points=
f||[];this.closed=!1},function(f){var g=this.points;var h=g.length;2>h&&console.log("duh, you need at least 2 points");f*=h-(this.closed?0:1);var k=Math.floor(f);f-=k;this.closed?k+=0<k?0:(Math.floor(Math.abs(k)/g.length)+1)*g.length:0===f&&k===h-1&&(k=h-2,f=1);if(this.closed||0<k)var l=g[(k-1)%h];else b.subVectors(g[0],g[1]).add(g[0]),l=b;var n=g[k%h];var p=g[(k+1)%h];this.closed||k+2<h?g=g[(k+2)%h]:(b.subVectors(g[h-1],g[h-2]).add(g[h-1]),g=b);if(void 0===this.type||"centripetal"===this.type||"chordal"===
this.type){var q="chordal"===this.type?.5:.25;h=Math.pow(l.distanceToSquared(n),q);k=Math.pow(n.distanceToSquared(p),q);q=Math.pow(p.distanceToSquared(g),q);1E-4>k&&(k=1);1E-4>h&&(h=k);1E-4>q&&(q=k);c.initNonuniformCatmullRom(l.x,n.x,p.x,g.x,h,k,q);d.initNonuniformCatmullRom(l.y,n.y,p.y,g.y,h,k,q);e.initNonuniformCatmullRom(l.z,n.z,p.z,g.z,h,k,q)}else"catmullrom"===this.type&&(h=void 0!==this.tension?this.tension:.5,c.initCatmullRom(l.x,n.x,p.x,g.x,h),d.initCatmullRom(l.y,n.y,p.y,g.y,h),e.initCatmullRom(l.z,
n.z,p.z,g.z,h));return new Z.Vector3(c.calc(f),d.calc(f),e.calc(f))})}();Z.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");Z.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};Z.ClosedSplineCurve3.prototype=Object.create(Z.CatmullRomCurve3.prototype);
Z.BoxGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new Z.BoxBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};Z.BoxGeometry.prototype=Object.create(Z.Geometry.prototype);Z.BoxGeometry.prototype.constructor=Z.BoxGeometry;Z.CubeGeometry=Z.BoxGeometry;
Z.BoxBufferGeometry=function(a,b,c,d,e,f){function g(x,z,B,A,C,E,F,I,Q,J,R){var L=E/Q,H=F/J,S=E/2,T=F/2,O=I/2;F=Q+1;for(var P=J+1,U=E=0,X=new Z.Vector3,V=0;V<P;V++)for(var ba=V*H-T,fa=0;fa<F;fa++)X[x]=(fa*L-S)*A,X[z]=ba*C,X[B]=O,p[t]=X.x,p[t+1]=X.y,p[t+2]=X.z,X[x]=0,X[z]=0,X[B]=0<I?1:-1,q[t]=X.x,q[t+1]=X.y,q[t+2]=X.z,r[v]=fa/Q,r[v+1]=1-V/J,t+=3,v+=2,E+=1;for(V=0;V<J;V++)for(fa=0;fa<Q;fa++)x=y+fa+F*(V+1),z=y+(fa+1)+F*(V+1),B=y+(fa+1)+F*V,n[u]=y+fa+F*V,n[u+1]=x,n[u+2]=B,n[u+3]=x,n[u+4]=z,n[u+5]=B,u+=
6,U+=6;h.addGroup(w,U,R);w+=U;y+=E}Z.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var k=function(x,z,B){return x=(x+1)*(z+1)*2+(x+1)*(B+1)*2+(B+1)*(z+1)*2}(d,e,f),l=function(x,z,B){x=x*z*2+x*B*2+B*z*2;return 6*x}(d,e,f),n=new (65535<l?Uint32Array:Uint16Array)(l),p=new Float32Array(3*k),q=new Float32Array(3*k),r=new Float32Array(2*
k),t=0,v=0,u=0,y=0,w=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new Z.BufferAttribute(n,1));this.addAttribute("position",new Z.BufferAttribute(p,3));this.addAttribute("normal",new Z.BufferAttribute(q,3));this.addAttribute("uv",new Z.BufferAttribute(r,2))};Z.BoxBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);
Z.BoxBufferGeometry.prototype.constructor=Z.BoxBufferGeometry;Z.CircleGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new Z.CircleBufferGeometry(a,b,c,d))};Z.CircleGeometry.prototype=Object.create(Z.Geometry.prototype);Z.CircleGeometry.prototype.constructor=Z.CircleGeometry;
Z.CircleBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,f=new Float32Array(3*e),g=new Float32Array(3*e);e=new Float32Array(2*e);g[2]=1;e[0]=.5;e[1]=.5;for(var h=0,k=3,l=2;h<=b;h++,k+=3,l+=2){var n=c+h/b*d;f[k]=a*Math.cos(n);f[k+1]=a*Math.sin(n);g[k+2]=1;e[l]=(f[k]/a+1)/2;e[l+1]=(f[k+1]/a+1)/2}c=[];for(k=
1;k<=b;k++)c.push(k,k+1,0);this.setIndex(new Z.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new Z.BufferAttribute(f,3));this.addAttribute("normal",new Z.BufferAttribute(g,3));this.addAttribute("uv",new Z.BufferAttribute(e,2));this.boundingSphere=new Z.Sphere(new Z.Vector3,a)};Z.CircleBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.CircleBufferGeometry.prototype.constructor=Z.CircleBufferGeometry;
Z.CylinderBufferGeometry=function(a,b,c,d,e,f,g,h){function k(A){var C,E=new Z.Vector2,F=new Z.Vector3,I=0,Q=!0===A?a:b,J=!0===A?1:-1;var R=y;for(C=1;C<=d;C++)t.setXYZ(y,0,z*J,0),v.setXYZ(y,0,J,0),E.x=.5,E.y=.5,u.setXY(y,E.x,E.y),y++;var L=y;for(C=0;C<=d;C++){var H=C/d*h+g,S=Math.cos(H);H=Math.sin(H);F.x=Q*H;F.y=z*J;F.z=Q*S;t.setXYZ(y,F.x,F.y,F.z);v.setXYZ(y,0,J,0);E.x=.5*S+.5;E.y=.5*H*J+.5;u.setXY(y,E.x,E.y);y++}for(C=0;C<d;C++)E=R+C,F=L+C,!0===A?(r.setX(w,F),w++,r.setX(w,F+1)):(r.setX(w,F+1),w++,
r.setX(w,F)),w++,r.setX(w,E),w++,I+=3;l.addGroup(B,I,!0===A?1:2);B+=I}Z.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var l=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var n=0;!1===f&&(0<a&&n++,0<b&&n++);var p=function(){var A=(d+1)*(e+1);!1===f&&
(A+=(d+1)*n+d*n);return A}(),q=function(){var A=d*e*6;!1===f&&(A+=d*n*3);return A}(),r=new Z.BufferAttribute(new (65535<q?Uint32Array:Uint16Array)(q),1),t=new Z.BufferAttribute(new Float32Array(3*p),3),v=new Z.BufferAttribute(new Float32Array(3*p),3),u=new Z.BufferAttribute(new Float32Array(2*p),2),y=0,w=0,x=[],z=c/2,B=0;(function(){var A,C,E=new Z.Vector3,F=new Z.Vector3,I=0,Q=(b-a)/c;for(C=0;C<=e;C++){var J=[],R=C/e,L=R*(b-a)+a;for(A=0;A<=d;A++){var H=A/d;F.x=L*Math.sin(H*h+g);F.y=-R*c+z;F.z=L*
Math.cos(H*h+g);t.setXYZ(y,F.x,F.y,F.z);E.copy(F);if(0===a&&0===C||0===b&&C===e)E.x=Math.sin(H*h+g),E.z=Math.cos(H*h+g);E.setY(Math.sqrt(E.x*E.x+E.z*E.z)*Q).normalize();v.setXYZ(y,E.x,E.y,E.z);u.setXY(y,H,1-R);J.push(y);y++}x.push(J)}for(A=0;A<d;A++)for(C=0;C<e;C++)E=x[C+1][A],F=x[C+1][A+1],Q=x[C][A+1],r.setX(w,x[C][A]),w++,r.setX(w,E),w++,r.setX(w,Q),w++,r.setX(w,E),w++,r.setX(w,F),w++,r.setX(w,Q),w++,I+=6;l.addGroup(B,I,0);B+=I})();!1===f&&(0<a&&k(!0),0<b&&k(!1));this.setIndex(r);this.addAttribute("position",
t);this.addAttribute("normal",v);this.addAttribute("uv",u)};Z.CylinderBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.CylinderBufferGeometry.prototype.constructor=Z.CylinderBufferGeometry;
Z.CylinderGeometry=function(a,b,c,d,e,f,g,h){Z.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new Z.CylinderBufferGeometry(a,b,c,d,e,f,g,h));this.mergeVertices()};Z.CylinderGeometry.prototype=Object.create(Z.Geometry.prototype);Z.CylinderGeometry.prototype.constructor=Z.CylinderGeometry;
Z.ConeBufferGeometry=function(a,b,c,d,e,f,g){Z.CylinderBufferGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,thetaStart:f,thetaLength:g}};Z.ConeBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.ConeBufferGeometry.prototype.constructor=Z.ConeBufferGeometry;
Z.ConeGeometry=function(a,b,c,d,e,f,g){Z.CylinderGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}};Z.ConeGeometry.prototype=Object.create(Z.CylinderGeometry.prototype);Z.ConeGeometry.prototype.constructor=Z.ConeGeometry;
Z.EdgesGeometry=function(a,b){function c(q,r){return q-r}Z.BufferGeometry.call(this);b=Math.cos(Z.Math.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a instanceof Z.BufferGeometry){var g=new Z.Geometry;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=0,k=g.length;h<k;h++)for(var l=g[h],n=0;3>n;n++){d[0]=l[f[n]];d[1]=l[f[(n+1)%3]];d.sort(c);var p=d.toString();void 0===e[p]?e[p]={vert1:d[0],vert2:d[1],face1:h,face2:void 0}:
e[p].face2=h}d=[];for(p in e)if(f=e[p],void 0===f.face2||g[f.face1].normal.dot(g[f.face2].normal)<=b)h=a[f.vert1],d.push(h.x),d.push(h.y),d.push(h.z),h=a[f.vert2],d.push(h.x),d.push(h.y),d.push(h.z);this.addAttribute("position",new Z.BufferAttribute(new Float32Array(d),3))};Z.EdgesGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.EdgesGeometry.prototype.constructor=Z.EdgesGeometry;
Z.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(Z.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};Z.ExtrudeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ExtrudeGeometry.prototype.constructor=Z.ExtrudeGeometry;Z.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
Z.ExtrudeGeometry.prototype.addShape=function(a,b){function c(fa,ja,ma){ja||console.error("THREE.ExtrudeGeometry: vec does not exist");return ja.clone().multiplyScalar(ma).add(fa)}function d(fa,ja,ma){var va=fa.x-ja.x;var oa=fa.y-ja.y;var ta=ma.x-fa.x;var qa=ma.y-fa.y,bb=va*va+oa*oa;if(Math.abs(va*qa-oa*ta)>Number.EPSILON){var ab=Math.sqrt(bb),Mb=Math.sqrt(ta*ta+qa*qa);bb=ja.x-oa/ab;ja=ja.y+va/ab;qa=((ma.x-qa/Mb-bb)*qa-(ma.y+ta/Mb-ja)*ta)/(va*qa-oa*ta);ta=bb+va*qa-fa.x;va=ja+oa*qa-fa.y;oa=ta*ta+va*
va;if(2>=oa)return new Z.Vector2(ta,va);oa=Math.sqrt(oa/2)}else fa=!1,va>Number.EPSILON?ta>Number.EPSILON&&(fa=!0):va<-Number.EPSILON?ta<-Number.EPSILON&&(fa=!0):Math.sign(oa)===Math.sign(qa)&&(fa=!0),fa?(ta=-oa,oa=Math.sqrt(bb)):(ta=va,va=oa,oa=Math.sqrt(bb/2));return new Z.Vector2(ta/oa,va/oa)}function e(fa,ja){for(O=fa.length;0<=--O;){var ma=O;var va=O-1;0>va&&(va=fa.length-1);var oa,ta=r+2*n;for(oa=0;oa<ta;oa++){var qa=H*oa,bb=H*(oa+1),ab=ja+ma+qa;qa=ja+va+qa;var Mb=ja+va+bb;bb=ja+ma+bb;ab+=E;
qa+=E;Mb+=E;bb+=E;C.faces.push(new Z.Face3(ab,qa,bb,null,null,1));C.faces.push(new Z.Face3(qa,Mb,bb,null,null,1));ab=u.generateSideWallUV(C,ab,qa,Mb,bb);C.faceVertexUvs[0].push([ab[0],ab[1],ab[3]]);C.faceVertexUvs[0].push([ab[1],ab[2],ab[3]])}}}function f(fa,ja,ma){C.vertices.push(new Z.Vector3(fa,ja,ma))}function g(fa,ja,ma){fa+=E;ja+=E;ma+=E;C.faces.push(new Z.Face3(fa,ja,ma,null,null,0));C.faceVertexUvs[0].push(u.generateTopUV(C,fa,ja,ma))}var h=void 0!==b.amount?b.amount:100,k=void 0!==b.bevelThickness?
b.bevelThickness:6,l=void 0!==b.bevelSize?b.bevelSize:k-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,p=void 0!==b.bevelEnabled?b.bevelEnabled:!0,q=void 0!==b.curveSegments?b.curveSegments:12,r=void 0!==b.steps?b.steps:1,t=b.extrudePath,v=!1,u=void 0!==b.UVGenerator?b.UVGenerator:Z.ExtrudeGeometry.WorldUVGenerator;if(t){var y=t.getSpacedPoints(r);v=!0;p=!1;var w=void 0!==b.frames?b.frames:new Z.TubeGeometry.FrenetFrames(t,r,!1);var x=new Z.Vector3;var z=new Z.Vector3;var B=new Z.Vector3}p||(l=k=
n=0);var A,C=this,E=this.vertices.length;b=a.extractPoints(q);a=b.shape;var F=b.holes;if(b=!Z.ShapeUtils.isClockWise(a)){a=a.reverse();var I=0;for(A=F.length;I<A;I++){var Q=F[I];Z.ShapeUtils.isClockWise(Q)&&(F[I]=Q.reverse())}b=!1}var J=Z.ShapeUtils.triangulateShape(a,F),R=a;I=0;for(A=F.length;I<A;I++)Q=F[I],a=a.concat(Q);var L,H=a.length,S,T=J.length;b=[];var O=0;var P=R.length;var U=P-1;for(L=O+1;O<P;O++,U++,L++)U===P&&(U=0),L===P&&(L=0),b[O]=d(R[O],R[U],R[L]);q=[];t=b.concat();I=0;for(A=F.length;I<
A;I++){Q=F[I];var X=[];O=0;P=Q.length;U=P-1;for(L=O+1;O<P;O++,U++,L++)U===P&&(U=0),L===P&&(L=0),X[O]=d(Q[O],Q[U],Q[L]);q.push(X);t=t.concat(X)}for(U=0;U<n;U++){P=U/n;var V=k*(1-P);L=l*Math.sin(P*Math.PI/2);O=0;for(P=R.length;O<P;O++){var ba=c(R[O],b[O],L);f(ba.x,ba.y,-V)}I=0;for(A=F.length;I<A;I++)for(Q=F[I],X=q[I],O=0,P=Q.length;O<P;O++)ba=c(Q[O],X[O],L),f(ba.x,ba.y,-V)}L=l;for(O=0;O<H;O++)ba=p?c(a[O],t[O],L):a[O],v?(z.copy(w.normals[0]).multiplyScalar(ba.x),x.copy(w.binormals[0]).multiplyScalar(ba.y),
B.copy(y[0]).add(z).add(x),f(B.x,B.y,B.z)):f(ba.x,ba.y,0);for(P=1;P<=r;P++)for(O=0;O<H;O++)ba=p?c(a[O],t[O],L):a[O],v?(z.copy(w.normals[P]).multiplyScalar(ba.x),x.copy(w.binormals[P]).multiplyScalar(ba.y),B.copy(y[P]).add(z).add(x),f(B.x,B.y,B.z)):f(ba.x,ba.y,h/r*P);for(U=n-1;0<=U;U--){P=U/n;V=k*(1-P);L=l*Math.sin(P*Math.PI/2);O=0;for(P=R.length;O<P;O++)ba=c(R[O],b[O],L),f(ba.x,ba.y,h+V);I=0;for(A=F.length;I<A;I++)for(Q=F[I],X=q[I],O=0,P=Q.length;O<P;O++)ba=c(Q[O],X[O],L),v?f(ba.x,ba.y+y[r-1].y,y[r-
1].x+V):f(ba.x,ba.y,h+V)}(function(){if(p){var fa=0*H;for(O=0;O<T;O++)S=J[O],g(S[2]+fa,S[1]+fa,S[0]+fa);fa=H*(r+2*n);for(O=0;O<T;O++)S=J[O],g(S[0]+fa,S[1]+fa,S[2]+fa)}else{for(O=0;O<T;O++)S=J[O],g(S[2],S[1],S[0]);for(O=0;O<T;O++)S=J[O],g(S[0]+H*r,S[1]+H*r,S[2]+H*r)}})();(function(){var fa=0;e(R,fa);fa+=R.length;I=0;for(A=F.length;I<A;I++)Q=F[I],e(Q,fa),fa+=Q.length})()};
Z.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new Z.Vector2(b.x,b.y),new Z.Vector2(c.x,c.y),new Z.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new Z.Vector2(b.x,1-b.z),new Z.Vector2(c.x,1-c.z),new Z.Vector2(d.x,1-d.z),new Z.Vector2(e.x,1-e.z)]:[new Z.Vector2(b.y,1-b.z),new Z.Vector2(c.y,1-c.z),new Z.Vector2(d.y,1-d.z),new Z.Vector2(e.y,1-e.z)]}};
Z.ShapeGeometry=function(a,b){Z.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};Z.ShapeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ShapeGeometry.prototype.constructor=Z.ShapeGeometry;Z.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b)};
Z.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?Z.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f=this.vertices.length;a=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var g=a.shape,h=a.holes;if(!Z.ShapeUtils.isClockWise(g))for(g=g.reverse(),a=0,e=h.length;a<e;a++){var k=h[a];Z.ShapeUtils.isClockWise(k)&&(h[a]=k.reverse())}b=Z.ShapeUtils.triangulateShape(g,h);a=0;for(e=h.length;a<e;a++)k=h[a],g=g.concat(k);h=g.length;e=
b.length;for(a=0;a<h;a++)k=g[a],this.vertices.push(new Z.Vector3(k.x,k.y,0));for(a=0;a<e;a++)h=b[a],g=h[0]+f,k=h[1]+f,h=h[2]+f,this.faces.push(new Z.Face3(g,k,h,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,g,k,h))};
Z.LatheBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=Z.Math.clamp(d,0,2*Math.PI);var e=(b+1)*a.length,f=b*a.length*6,g=new Z.BufferAttribute(new (65535<f?Uint32Array:Uint16Array)(f),1),h=new Z.BufferAttribute(new Float32Array(3*e),3),k=new Z.BufferAttribute(new Float32Array(2*e),2),l=0,n=0,p=1/b,q=new Z.Vector3,r=new Z.Vector2;for(e=0;e<=b;e++){f=
c+e*p*d;var t=Math.sin(f),v=Math.cos(f);for(f=0;f<=a.length-1;f++)q.x=a[f].x*t,q.y=a[f].y,q.z=a[f].x*v,h.setXYZ(l,q.x,q.y,q.z),r.x=e/b,r.y=f/(a.length-1),k.setXY(l,r.x,r.y),l++}for(e=0;e<b;e++)for(f=0;f<a.length-1;f++)c=f+e*a.length,l=c+a.length,p=c+a.length+1,q=c+1,g.setX(n,c),n++,g.setX(n,l),n++,g.setX(n,q),n++,g.setX(n,l),n++,g.setX(n,p),n++,g.setX(n,q),n++;this.setIndex(g);this.addAttribute("position",h);this.addAttribute("uv",k);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,
g=new Z.Vector3,h=new Z.Vector3,k=new Z.Vector3,c=b*a.length*3,f=e=0;e<a.length;e++,f+=3)g.x=d[f+0],g.y=d[f+1],g.z=d[f+2],h.x=d[c+f+0],h.y=d[c+f+1],h.z=d[c+f+2],k.addVectors(g,h).normalize(),d[f+0]=d[c+f+0]=k.x,d[f+1]=d[c+f+1]=k.y,d[f+2]=d[c+f+2]=k.z};Z.LatheBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.LatheBufferGeometry.prototype.constructor=Z.LatheBufferGeometry;
Z.LatheGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new Z.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};Z.LatheGeometry.prototype=Object.create(Z.Geometry.prototype);Z.LatheGeometry.prototype.constructor=Z.LatheGeometry;
Z.PlaneGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new Z.PlaneBufferGeometry(a,b,c,d))};Z.PlaneGeometry.prototype=Object.create(Z.Geometry.prototype);Z.PlaneGeometry.prototype.constructor=Z.PlaneGeometry;
Z.PlaneBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,h=d+1,k=a/c,l=b/d;b=new Float32Array(g*h*3);a=new Float32Array(g*h*3);for(var n=new Float32Array(g*h*2),p=0,q=0,r=0;r<h;r++)for(var t=r*l-f,v=0;v<g;v++)b[p]=v*k-e,b[p+1]=-t,a[p+2]=1,n[q]=v/c,n[q+1]=1-r/d,p+=3,q+=2;p=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(r=0;r<d;r++)for(v=0;v<c;v++)f=v+g*(r+1),h=v+1+g*(r+1),k=v+1+g*r,e[p]=v+g*r,e[p+1]=f,e[p+2]=k,e[p+3]=f,e[p+4]=h,e[p+5]=k,p+=6;this.setIndex(new Z.BufferAttribute(e,1));this.addAttribute("position",new Z.BufferAttribute(b,3));this.addAttribute("normal",new Z.BufferAttribute(a,3));this.addAttribute("uv",new Z.BufferAttribute(n,2))};Z.PlaneBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.PlaneBufferGeometry.prototype.constructor=Z.PlaneBufferGeometry;
Z.RingBufferGeometry=function(a,b,c,d,e,f){Z.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=(c+1)*(d+1),h=c*d*6;h=new Z.BufferAttribute(new (65535<h?Uint32Array:Uint16Array)(h),1);var k=new Z.BufferAttribute(new Float32Array(3*g),3),l=new Z.BufferAttribute(new Float32Array(3*
g),3);g=new Z.BufferAttribute(new Float32Array(2*g),2);var n=0,p=0,q=a,r=(b-a)/d,t=new Z.Vector3,v=new Z.Vector2,u;for(a=0;a<=d;a++){for(u=0;u<=c;u++){var y=e+u/c*f;t.x=q*Math.cos(y);t.y=q*Math.sin(y);k.setXYZ(n,t.x,t.y,t.z);l.setXYZ(n,0,0,1);v.x=(t.x/b+1)/2;v.y=(t.y/b+1)/2;g.setXY(n,v.x,v.y);n++}q+=r}for(a=0;a<d;a++)for(b=a*(c+1),u=0;u<c;u++)e=y=u+b,f=y+c+1,n=y+c+2,y+=1,h.setX(p,e),p++,h.setX(p,f),p++,h.setX(p,n),p++,h.setX(p,e),p++,h.setX(p,n),p++,h.setX(p,y),p++;this.setIndex(h);this.addAttribute("position",
k);this.addAttribute("normal",l);this.addAttribute("uv",g)};Z.RingBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.RingBufferGeometry.prototype.constructor=Z.RingBufferGeometry;Z.RingGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new Z.RingBufferGeometry(a,b,c,d,e,f))};Z.RingGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.RingGeometry.prototype.constructor=Z.RingGeometry;Z.SphereGeometry=function(a,b,c,d,e,f,g){Z.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new Z.SphereBufferGeometry(a,b,c,d,e,f,g))};Z.SphereGeometry.prototype=Object.create(Z.Geometry.prototype);Z.SphereGeometry.prototype.constructor=Z.SphereGeometry;
Z.SphereBufferGeometry=function(a,b,c,d,e,f,g){Z.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h=f+g,k=(b+1)*(c+1),l=new Z.BufferAttribute(new Float32Array(3*k),3),n=new Z.BufferAttribute(new Float32Array(3*k),3);k=new Z.BufferAttribute(new Float32Array(2*
k),2);for(var p=0,q=[],r=new Z.Vector3,t=0;t<=c;t++){for(var v=[],u=t/c,y=0;y<=b;y++){var w=y/b,x=-a*Math.cos(d+w*e)*Math.sin(f+u*g),z=a*Math.cos(f+u*g),B=a*Math.sin(d+w*e)*Math.sin(f+u*g);r.set(x,z,B).normalize();l.setXYZ(p,x,z,B);n.setXYZ(p,r.x,r.y,r.z);k.setXY(p,w,1-u);v.push(p);p++}q.push(v)}d=[];for(t=0;t<c;t++)for(y=0;y<b;y++)e=q[t][y+1],g=q[t][y],p=q[t+1][y],r=q[t+1][y+1],(0!==t||0<f)&&d.push(e,g,r),(t!==c-1||h<Math.PI)&&d.push(g,p,r);this.setIndex(new (65535<l.count?Z.Uint32Attribute:Z.Uint16Attribute)(d,
1));this.addAttribute("position",l);this.addAttribute("normal",n);this.addAttribute("uv",k);this.boundingSphere=new Z.Sphere(new Z.Vector3,a)};Z.SphereBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.SphereBufferGeometry.prototype.constructor=Z.SphereBufferGeometry;
Z.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof Z.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Z.Geometry;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);Z.ExtrudeGeometry.call(this,a,b);this.type="TextGeometry"};Z.TextGeometry.prototype=Object.create(Z.ExtrudeGeometry.prototype);
Z.TextGeometry.prototype.constructor=Z.TextGeometry;
Z.TorusBufferGeometry=function(a,b,c,d,e){Z.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=(c+1)*(d+1),g=c*d*6;g=new (65535<g?Uint32Array:Uint16Array)(g);var h=new Float32Array(3*f),k=new Float32Array(3*f);f=new Float32Array(2*f);var l=0,n=0,p=0,q=new Z.Vector3,r=new Z.Vector3,t=new Z.Vector3,v,u;for(v=0;v<=c;v++)for(u=0;u<=d;u++){var y=
u/d*e,w=v/c*Math.PI*2;r.x=(a+b*Math.cos(w))*Math.cos(y);r.y=(a+b*Math.cos(w))*Math.sin(y);r.z=b*Math.sin(w);h[l]=r.x;h[l+1]=r.y;h[l+2]=r.z;q.x=a*Math.cos(y);q.y=a*Math.sin(y);t.subVectors(r,q).normalize();k[l]=t.x;k[l+1]=t.y;k[l+2]=t.z;f[n]=u/d;f[n+1]=v/c;l+=3;n+=2}for(v=1;v<=c;v++)for(u=1;u<=d;u++)a=(d+1)*(v-1)+u-1,b=(d+1)*(v-1)+u,e=(d+1)*v+u,g[p]=(d+1)*v+u-1,g[p+1]=a,g[p+2]=e,g[p+3]=a,g[p+4]=b,g[p+5]=e,p+=6;this.setIndex(new Z.BufferAttribute(g,1));this.addAttribute("position",new Z.BufferAttribute(h,
3));this.addAttribute("normal",new Z.BufferAttribute(k,3));this.addAttribute("uv",new Z.BufferAttribute(f,2))};Z.TorusBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.TorusBufferGeometry.prototype.constructor=Z.TorusBufferGeometry;Z.TorusGeometry=function(a,b,c,d,e){Z.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new Z.TorusBufferGeometry(a,b,c,d,e))};Z.TorusGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.TorusGeometry.prototype.constructor=Z.TorusGeometry;
Z.TorusKnotBufferGeometry=function(a,b,c,d,e,f){function g(F,I,Q,J,R){var L=Math.sin(F);I=Q/I*F;Q=Math.cos(I);R.x=J*(2+Q)*.5*Math.cos(F);R.y=J*(2+Q)*L*.5;R.z=J*Math.sin(I)*.5}Z.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var h=(d+1)*(c+1),k=d*c*6;k=new Z.BufferAttribute(new (65535<k?Uint32Array:Uint16Array)(k),1);var l=new Z.BufferAttribute(new Float32Array(3*
h),3),n=new Z.BufferAttribute(new Float32Array(3*h),3);h=new Z.BufferAttribute(new Float32Array(2*h),2);var p,q=0,r=0,t=new Z.Vector3,v=new Z.Vector3,u=new Z.Vector2,y=new Z.Vector3,w=new Z.Vector3,x=new Z.Vector3,z=new Z.Vector3,B=new Z.Vector3;for(p=0;p<=c;++p){var A=p/c*e*Math.PI*2;g(A,e,f,a,y);g(A+.01,e,f,a,w);z.subVectors(w,y);B.addVectors(w,y);yg(x,z,B);yg(B,x,z);x.normalize();B.normalize();for(A=0;A<=d;++A){var C=A/d*Math.PI*2,E=-b*Math.cos(C);C=b*Math.sin(C);t.x=y.x+(E*B.x+C*x.x);t.y=y.y+
(E*B.y+C*x.y);t.z=y.z+(E*B.z+C*x.z);l.setXYZ(q,t.x,t.y,t.z);v.subVectors(t,y).normalize();n.setXYZ(q,v.x,v.y,v.z);u.x=p/c;u.y=A/d;h.setXY(q,u.x,u.y);q++}}for(A=1;A<=c;A++)for(p=1;p<=d;p++)a=(d+1)*A+(p-1),b=(d+1)*A+p,e=(d+1)*(A-1)+p,k.setX(r,(d+1)*(A-1)+(p-1)),r++,k.setX(r,a),r++,k.setX(r,e),r++,k.setX(r,a),r++,k.setX(r,b),r++,k.setX(r,e),r++;this.setIndex(k);this.addAttribute("position",l);this.addAttribute("normal",n);this.addAttribute("uv",h)};Z.TorusKnotBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);
Z.TorusKnotBufferGeometry.prototype.constructor=Z.TorusKnotBufferGeometry;Z.TorusKnotGeometry=function(a,b,c,d,e,f,g){Z.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new Z.TorusKnotBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};Z.TorusKnotGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.TorusKnotGeometry.prototype.constructor=Z.TorusKnotGeometry;
Z.TubeGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:f};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||Z.TubeGeometry.NoTaper;var g=[],h=b+1,k=new Z.Vector3;var l=new Z.TubeGeometry.FrenetFrames(a,b,e);var n=l.normals;var p=l.binormals;this.tangents=l.tangents;this.normals=n;this.binormals=p;for(l=0;l<h;l++){g[l]=[];var q=l/(h-1);var r=a.getPointAt(q);var t=n[l];var v=p[l];var u=c*f(q);for(q=0;q<d;q++){var y=
q/d*2*Math.PI;var w=-u*Math.cos(y);y=u*Math.sin(y);k.copy(r);k.x+=w*t.x+y*v.x;k.y+=w*t.y+y*v.y;k.z+=w*t.z+y*v.z;g[l][q]=this.vertices.push(new Z.Vector3(k.x,k.y,k.z))-1}}for(l=0;l<b;l++)for(q=0;q<d;q++)f=e?(l+1)%b:l+1,h=(q+1)%d,a=g[l][q],c=g[f][q],f=g[f][h],h=g[l][h],k=new Z.Vector2(l/b,q/d),n=new Z.Vector2((l+1)/b,q/d),p=new Z.Vector2((l+1)/b,(q+1)/d),t=new Z.Vector2(l/b,(q+1)/d),this.faces.push(new Z.Face3(a,c,h)),this.faceVertexUvs[0].push([k,n,t]),this.faces.push(new Z.Face3(c,f,h)),this.faceVertexUvs[0].push([n.clone(),
p,t.clone()]);this.computeFaceNormals();this.computeVertexNormals()};Z.TubeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.TubeGeometry.prototype.constructor=Z.TubeGeometry;Z.TubeGeometry.NoTaper=function(){return 1};Z.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
Z.TubeGeometry.FrenetFrames=function(a,b,c){var d=new Z.Vector3,e=[],f=[],g=[],h=new Z.Vector3,k=new Z.Matrix4;b+=1;var l;this.tangents=e;this.normals=f;this.binormals=g;for(l=0;l<b;l++){var n=l/(b-1);var p=l;var q=a;n=rh(q,n);q=q.getTangent(n);e[p]=q;e[l].normalize()}f[0]=new Z.Vector3;g[0]=new Z.Vector3;a=Number.MAX_VALUE;l=Math.abs(e[0].x);p=Math.abs(e[0].y);q=Math.abs(e[0].z);l<=a&&(a=l,d.set(1,0,0));p<=a&&(a=p,d.set(0,1,0));q<=a&&d.set(0,0,1);yg(h,e[0],d).normalize();yg(f[0],e[0],h);yg(g[0],
e[0],f[0]);for(l=1;l<b;l++)f[l]=f[l-1].clone(),g[l]=g[l-1].clone(),yg(h,e[l-1],e[l]),h.length()>Number.EPSILON&&(h.normalize(),d=Math.acos(Z.Math.clamp(e[l-1].dot(e[l]),-1,1)),f[l].applyMatrix4(Rg(k,h,d))),yg(g[l],e[l],f[l]);if(c)for(d=Math.acos(Z.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(yg(h,f[0],f[b-1]))&&(d=-d),l=1;l<b;l++)f[l].applyMatrix4(Rg(k,e[l],d*l)),yg(g[l],e[l],f[l])};
Z.PolyhedronGeometry=function(a,b,c,d){function e(y){var w=y.normalize().clone();w.index=k.vertices.push(w)-1;w.uv=new Z.Vector2(Math.atan2(y.z,-y.x)/2/Math.PI+.5,1-(Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))/Math.PI+.5));return w}function f(y,w,x,z){z=new Z.Face3(y.index,w.index,x.index,[y.clone(),w.clone(),x.clone()],void 0,z);k.faces.push(z);u.copy(y).add(w).add(x).divideScalar(3);z=Math.atan2(u.z,-u.x);k.faceVertexUvs[0].push([h(y.uv,y,z),h(w.uv,w,z),h(x.uv,x,z)])}function g(y,w){w=Math.pow(2,
w);var x=e(k.vertices[y.a]),z=e(k.vertices[y.b]),B=e(k.vertices[y.c]),A=[];y=y.materialIndex;for(var C=0;C<=w;C++){A[C]=[];for(var E=e(x.clone().lerp(B,C/w)),F=e(z.clone().lerp(B,C/w)),I=w-C,Q=0;Q<=I;Q++)A[C][Q]=0===Q&&C===w?E:e(E.clone().lerp(F,Q/I))}for(C=0;C<w;C++)for(Q=0;Q<2*(w-C)-1;Q++)x=Math.floor(Q/2),0===Q%2?f(A[C][x+1],A[C+1][x],A[C][x],y):f(A[C][x+1],A[C+1][x+1],A[C+1][x],y)}function h(y,w,x){0>x&&1===y.x&&(y=new Z.Vector2(y.x-1,y.y));0===w.x&&0===w.z&&(y=new Z.Vector2(x/2/Math.PI+.5,y.y));
return y.clone()}Z.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var k=this,l=0,n=a.length;l<n;l+=3)e(new Z.Vector3(a[l],a[l+1],a[l+2]));a=this.vertices;var p=[],q=l=0;for(n=b.length;l<n;l+=3,q++){var r=a[b[l]],t=a[b[l+1]],v=a[b[l+2]];p[q]=new Z.Face3(r.index,t.index,v.index,[r.clone(),t.clone(),v.clone()],void 0,q)}var u=new Z.Vector3;l=0;for(n=p.length;l<n;l++)g(p[l],d);l=0;for(n=this.faceVertexUvs[0].length;l<n;l++)b=
this.faceVertexUvs[0][l],d=b[0].x,a=b[1].x,p=b[2].x,q=Math.min(d,a,p),.9<Math.max(d,a,p)&&.1>q&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>p&&(b[2].x+=1));l=0;for(n=this.vertices.length;l<n;l++)this.vertices[l].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new Z.Sphere(new Z.Vector3,c)};Z.PolyhedronGeometry.prototype=Object.create(Z.Geometry.prototype);Z.PolyhedronGeometry.prototype.constructor=Z.PolyhedronGeometry;
Z.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;Z.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,
14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};Z.DodecahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.DodecahedronGeometry.prototype.constructor=Z.DodecahedronGeometry;
Z.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;Z.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};Z.IcosahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);
Z.IcosahedronGeometry.prototype.constructor=Z.IcosahedronGeometry;Z.OctahedronGeometry=function(a,b){Z.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};Z.OctahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.OctahedronGeometry.prototype.constructor=Z.OctahedronGeometry;
Z.TetrahedronGeometry=function(a,b){Z.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};Z.TetrahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.TetrahedronGeometry.prototype.constructor=Z.TetrahedronGeometry;
Z.ParametricGeometry=function(a,b,c){Z.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,h,k=b+1;for(g=0;g<=c;g++){var l=g/c;for(h=0;h<=b;h++){var n=h/b;n=a(n,l);d.push(n)}}for(g=0;g<c;g++)for(h=0;h<b;h++){a=g*k+h;d=g*k+h+1;l=(g+1)*k+h+1;n=(g+1)*k+h;var p=new Z.Vector2(h/b,g/c);var q=new Z.Vector2((h+1)/b,g/c);var r=new Z.Vector2((h+1)/b,(g+1)/c);var t=new Z.Vector2(h/b,(g+1)/c);e.push(new Z.Face3(a,
d,n));f.push([p,q,t]);e.push(new Z.Face3(d,l,n));f.push([q.clone(),r,t.clone()])}this.computeFaceNormals();this.computeVertexNormals()};Z.ParametricGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ParametricGeometry.prototype.constructor=Z.ParametricGeometry;
Z.WireframeGeometry=function(a){function b(t,v){return t-v}Z.BufferGeometry.call(this);var c=[0,0],d={},e=["a","b","c"];if(a instanceof Z.Geometry){var f=a.vertices,g=a.faces,h=0;a=new Uint32Array(6*g.length);for(var k=0,l=g.length;k<l;k++)for(var n=g[k],p=0;3>p;p++){c[0]=n[e[p]];c[1]=n[e[(p+1)%3]];c.sort(b);var q=c.toString();void 0===d[q]&&(a[2*h]=c[0],a[2*h+1]=c[1],d[q]=!0,h++)}c=new Float32Array(6*h);k=0;for(l=h;k<l;k++)for(p=0;2>p;p++)d=f[a[2*k+p]],h=6*k+3*p,c[h+0]=d.x,c[h+1]=d.y,c[h+2]=d.z;
this.addAttribute("position",new Z.BufferAttribute(c,3))}else if(a instanceof Z.BufferGeometry){if(null!==a.index){l=a.index.array;f=a.attributes.position;e=a.groups;h=0;0===e.length&&a.addGroup(0,l.length);a=new Uint32Array(2*l.length);g=0;for(n=e.length;g<n;++g){k=e[g];p=k.start;q=k.count;k=p;for(var r=p+q;k<r;k+=3)for(p=0;3>p;p++)c[0]=l[k+p],c[1]=l[k+(p+1)%3],c.sort(b),q=c.toString(),void 0===d[q]&&(a[2*h]=c[0],a[2*h+1]=c[1],d[q]=!0,h++)}c=new Float32Array(6*h);k=0;for(l=h;k<l;k++)for(p=0;2>p;p++)h=
6*k+3*p,d=a[2*k+p],c[h+0]=f.getX(d),c[h+1]=f.getY(d),c[h+2]=f.getZ(d)}else for(f=a.attributes.position.array,h=f.length/3,c=new Float32Array(6*h),k=0,l=h/3;k<l;k++)for(p=0;3>p;p++)h=18*k+6*p,a=9*k+3*p,c[h+0]=f[a],c[h+1]=f[a+1],c[h+2]=f[a+2],d=9*k+(p+1)%3*3,c[h+3]=f[d],c[h+4]=f[d+1],c[h+5]=f[d+2];this.addAttribute("position",new Z.BufferAttribute(c,3))}};Z.WireframeGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.WireframeGeometry.prototype.constructor=Z.WireframeGeometry;
Z.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new Z.BufferGeometry;a.addAttribute("position",new Z.BufferAttribute(b,3));a.addAttribute("color",new Z.BufferAttribute(c,3));b=new Z.LineBasicMaterial({vertexColors:Z.VertexColors});Z.LineSegments.call(this,a,b)};Z.AxisHelper.prototype=Object.create(Z.LineSegments.prototype);Z.AxisHelper.prototype.constructor=Z.AxisHelper;
Z.ArrowHelper=function(){var a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([0,0,0,0,1,0],3));var b=new Z.CylinderBufferGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,f,g,h){Z.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===h&&(h=.2*g);this.position.copy(d);this.line=new Z.Line(a,new Z.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Z.Mesh(b,new Z.MeshBasicMaterial({color:f}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,h)}}();Z.ArrowHelper.prototype=Object.create(Z.Object3D.prototype);Z.ArrowHelper.prototype.constructor=Z.ArrowHelper;Z.ArrowHelper.prototype.setDirection=function(){var a=new Z.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),wg(this.quaternion,a,b))}}();
Z.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Z.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};
Z.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new Z.BufferGeometry;d.setIndex(new Z.BufferAttribute(b,1));d.addAttribute("position",new Z.BufferAttribute(c,3));Z.LineSegments.call(this,d,new Z.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};Z.BoxHelper.prototype=Object.create(Z.LineSegments.prototype);Z.BoxHelper.prototype.constructor=Z.BoxHelper;
Z.BoxHelper.prototype.update=function(){var a=new Z.Box3;return function(b){b instanceof Z.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
Z.BoundingBoxHelper=function(a,b){b=void 0!==b?b:8947848;this.object=a;this.box=new Z.Box3;Z.Mesh.call(this,new Z.BoxGeometry(1,1,1),new Z.MeshBasicMaterial({color:b,wireframe:!0}))};Z.BoundingBoxHelper.prototype=Object.create(Z.Mesh.prototype);Z.BoundingBoxHelper.prototype.constructor=Z.BoundingBoxHelper;Z.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
Z.CameraHelper=function(a){function b(g,h,k){c(g,k);c(h,k)}function c(g,h){d.vertices.push(new Z.Vector3);d.colors.push(new Z.Color(h));void 0===f[g]&&(f[g]=[]);f[g].push(d.vertices.length-1)}var d=new Z.Geometry,e=new Z.LineBasicMaterial({color:16777215,vertexColors:Z.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);
b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);Z.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
Z.CameraHelper.prototype=Object.create(Z.LineSegments.prototype);Z.CameraHelper.prototype.constructor=Z.CameraHelper;
Z.CameraHelper.prototype.update=function(){function a(f,g,h,k){d.set(g,h,k).unproject(e);f=c[f];if(void 0!==f)for(g=0,h=f.length;g<h;g++)b.vertices[f[g]].copy(d)}var b,c,d=new Z.Vector3,e=new Z.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,
2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
Z.DirectionalLightHelper=function(a,b){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===b&&(b=1);a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Z.LineBasicMaterial({fog:!1});this.add(new Z.Line(a,b));a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([0,0,0,0,0,1],3));this.add(new Z.Line(a,b));this.update()};
Z.DirectionalLightHelper.prototype=Object.create(Z.Object3D.prototype);Z.DirectionalLightHelper.prototype.constructor=Z.DirectionalLightHelper;Z.DirectionalLightHelper.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};
Z.DirectionalLightHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(){Eg(a,this.light.matrixWorld);Eg(b,this.light.target.matrixWorld);c.subVectors(b,a);var d=this.children[0],e=this.children[1];d.lookAt(c);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(c);e.scale.z=c.length()}}();
Z.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;Z.LineSegments.call(this,new Z.EdgesGeometry(a.geometry,c),new Z.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};Z.EdgesHelper.prototype=Object.create(Z.LineSegments.prototype);Z.EdgesHelper.prototype.constructor=Z.EdgesHelper;
Z.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof Z.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new Z.BufferGeometry;b=new Z.Float32Attribute(6*b,3);c.addAttribute("position",b);Z.LineSegments.call(this,c,new Z.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
Z.FaceNormalsHelper.prototype=Object.create(Z.LineSegments.prototype);Z.FaceNormalsHelper.prototype.constructor=Z.FaceNormalsHelper;
Z.FaceNormalsHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Matrix3;return function(){this.object.updateMatrixWorld(!0);Jg(c,this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,k=0,l=f.length;k<l;k++){var n=f[k],p=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);Ag(b.copy(p),c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,
a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0;return this}}();
Z.GridHelper=function(a,b,c,d){c=new Z.Color(void 0!==c?c:4473924);d=new Z.Color(void 0!==d?d:8947848);for(var e=[],f=[],g=-a,h=0;g<=a;g+=b){e.push(-a,0,g,a,0,g);e.push(g,0,-a,g,0,a);var k=0===g?c:d;k.toArray(f,h);h+=3;k.toArray(f,h);h+=3;k.toArray(f,h);h+=3;k.toArray(f,h);h+=3}a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute(e,3));a.addAttribute("color",new Z.Float32Attribute(f,3));e=new Z.LineBasicMaterial({vertexColors:Z.VertexColors});Z.LineSegments.call(this,a,e)};
Z.GridHelper.prototype=Object.create(Z.LineSegments.prototype);Z.GridHelper.prototype.constructor=Z.GridHelper;Z.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
Z.HemisphereLightHelper=function(a,b){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new Z.Color,new Z.Color];a=new Z.SphereGeometry(b,4,2);a.rotateX(-Math.PI/2);for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new Z.MeshBasicMaterial({vertexColors:Z.FaceColors,wireframe:!0});this.lightSphere=new Z.Mesh(a,b);this.add(this.lightSphere);this.update()};Z.HemisphereLightHelper.prototype=Object.create(Z.Object3D.prototype);
Z.HemisphereLightHelper.prototype.constructor=Z.HemisphereLightHelper;Z.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
Z.HemisphereLightHelper.prototype.update=function(){var a=new Z.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(Eg(a,this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
Z.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();a=new Z.SphereBufferGeometry(b,4,2);b=new Z.MeshBasicMaterial({wireframe:!0,fog:!1});b.color.copy(this.light.color).multiplyScalar(this.light.intensity);Z.Mesh.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};Z.PointLightHelper.prototype=Object.create(Z.Mesh.prototype);Z.PointLightHelper.prototype.constructor=Z.PointLightHelper;
Z.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};Z.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
Z.SkeletonHelper=function(a){this.bones=th(this,a);for(var b=new Z.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof Z.Bone&&(b.vertices.push(new Z.Vector3),b.vertices.push(new Z.Vector3),b.colors.push(new Z.Color(0,0,1)),b.colors.push(new Z.Color(0,1,0)));b.dynamic=!0;c=new Z.LineBasicMaterial({vertexColors:Z.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});Z.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
Z.SkeletonHelper.prototype=Object.create(Z.LineSegments.prototype);Z.SkeletonHelper.prototype.constructor=Z.SkeletonHelper;function th(a,b){var c=[];b instanceof Z.Bone&&c.push(b);for(var d=0;d<b.children.length;d++)c.push.apply(c,th(a,b.children[d]));return c}
Z.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new Z.Matrix4).getInverse(this.root.matrixWorld),c=new Z.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof Z.Bone&&(Fg(c,b,f.matrixWorld),Eg(a.vertices[d],c),Fg(c,b,f.parent.matrixWorld),Eg(a.vertices[d+1],c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
Z.SpotLightHelper=function(a){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new Z.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new Z.Float32Attribute(b,3));b=new Z.LineBasicMaterial({fog:!1});this.cone=new Z.LineSegments(a,b);this.add(this.cone);
this.update()};Z.SpotLightHelper.prototype=Object.create(Z.Object3D.prototype);Z.SpotLightHelper.prototype.constructor=Z.SpotLightHelper;Z.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
Z.SpotLightHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);Eg(a,this.light.matrixWorld);Eg(b,this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
Z.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof Z.Geometry?b=3*c.faces.length:c instanceof Z.BufferGeometry&&(b=c.attributes.normal.count);c=new Z.BufferGeometry;b=new Z.Float32Attribute(6*b,3);c.addAttribute("position",b);Z.LineSegments.call(this,c,new Z.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};Z.VertexNormalsHelper.prototype=Object.create(Z.LineSegments.prototype);
Z.VertexNormalsHelper.prototype.constructor=Z.VertexNormalsHelper;
Z.VertexNormalsHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);Jg(c,this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g instanceof Z.Geometry)for(var h=g.vertices,k=g.faces,l=g=0,n=k.length;l<n;l++)for(var p=k[l],q=0,r=p.vertexNormals.length;q<r;q++){var t=p.vertexNormals[q];a.copy(h[p[d[q]]]).applyMatrix4(e);Ag(b.copy(t),
c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g instanceof Z.BufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,q=g=0,r=d.count;q<r;q++)a.set(d.getX(q),d.getY(q),d.getZ(q)).applyMatrix4(e),b.set(h.getX(q),h.getY(q),h.getZ(q)),Ag(b,c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return this}}();
Z.WireframeHelper=function(a,b){b=void 0!==b?b:16777215;Z.LineSegments.call(this,new Z.WireframeGeometry(a.geometry),new Z.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};Z.WireframeHelper.prototype=Object.create(Z.LineSegments.prototype);Z.WireframeHelper.prototype.constructor=Z.WireframeHelper;Z.ImmediateRenderObject=function(a){Z.Object3D.call(this);this.material=a;this.render=function(){}};Z.ImmediateRenderObject.prototype=Object.create(Z.Object3D.prototype);
Z.ImmediateRenderObject.prototype.constructor=Z.ImmediateRenderObject;Z.MorphBlendMesh=function(a,b){Z.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;uh(this,"__default",0,a-1,a/1);if(a=this.animationsMap.__default)a.weight=1};Z.MorphBlendMesh.prototype=Object.create(Z.Mesh.prototype);m=Z.MorphBlendMesh.prototype;m.constructor=Z.MorphBlendMesh;
function uh(a,b,c,d,e){c={start:c,end:d,length:d-c+1,fps:e,duration:(d-c)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};a.animationsMap[b]=c;a.animationsList.push(c)}
m.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/i,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var k=h[1];d[k]||(d[k]={start:Infinity,end:-Infinity});h=d[k];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=k)}}for(k in d)h=d[k],uh(this,k,h.start,h.end,a);this.firstAnimation=c};m.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};
m.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};m.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};m.setAnimationDuration=function(a,b){if(a=this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};m.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};m.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
m.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};m.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};m.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
m.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+Z.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=
0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};
</script>
<script>//~~WEBPATH~~/tf-imports/OrbitControls.js
Z.OrbitControls=function(a,b){function c(){return Math.pow(.95,t.zoomSpeed)}function d(V){t.object instanceof Z.PerspectiveCamera?C/=V:t.object instanceof Z.OrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*V)),t.object.updateProjectionMatrix(),F=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function e(V){t.object instanceof Z.PerspectiveCamera?C*=V:t.object instanceof Z.OrthographicCamera?
(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/V)),t.object.updateProjectionMatrix(),F=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function f(V){if(!1!==t.enabled){V.preventDefault();if(V.button===t.mouseButtons.ORBIT){if(!1===t.enableRotate)return;I.set(V.clientX,V.clientY);x=w.ROTATE}else if(V.button===t.mouseButtons.ZOOM){if(!1===t.enableZoom)return;S.set(V.clientX,V.clientY);x=w.DOLLY}else if(V.button===
t.mouseButtons.PAN){if(!1===t.enablePan)return;R.set(V.clientX,V.clientY);x=w.PAN}x!==w.NONE&&(document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",h,!1),document.addEventListener("mouseout",h,!1),t.dispatchEvent(u))}}function g(V){!1!==t.enabled&&(V.preventDefault(),x===w.ROTATE?!1!==t.enableRotate&&(Q.set(V.clientX,V.clientY),J.subVectors(Q,I),V=t.domElement===document?t.domElement.body:t.domElement,A.theta-=2*Math.PI*J.x/V.clientWidth*t.rotateSpeed,A.phi-=2*Math.PI*J.y/
V.clientHeight*t.rotateSpeed,I.copy(Q),t.update()):x===w.DOLLY?!1!==t.enableZoom&&(T.set(V.clientX,V.clientY),O.subVectors(T,S),0<O.y?d(c()):0>O.y&&e(c()),S.copy(T),t.update()):x===w.PAN&&!1!==t.enablePan&&(L.set(V.clientX,V.clientY),H.subVectors(L,R),X(H.x,H.y),R.copy(L),t.update()))}function h(){!1!==t.enabled&&(document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",h,!1),document.removeEventListener("mouseout",h,!1),t.dispatchEvent(y),x=w.NONE)}function k(V){if(!1!==
t.enabled&&!1!==t.enableZoom&&(x===w.NONE||x===w.ROTATE)){V.preventDefault();V.stopPropagation();var ba=0;void 0!==V.wheelDelta?ba=V.wheelDelta:void 0!==V.detail&&(ba=-V.detail);0<ba?e(c()):0>ba&&d(c());t.update();t.dispatchEvent(u);t.dispatchEvent(y)}}function l(V){if(!1!==t.enabled&&!1!==t.enableKeys&&!1!==t.enablePan)switch(V.keyCode){case t.keys.UP:X(0,t.keyPanSpeed);t.update();break;case t.keys.BOTTOM:X(0,-t.keyPanSpeed);t.update();break;case t.keys.LEFT:X(t.keyPanSpeed,0);t.update();break;case t.keys.RIGHT:X(-t.keyPanSpeed,
0),t.update()}}function n(V){if(!1!==t.enabled){switch(V.touches.length){case 1:if(!1===t.enableRotate)return;I.set(V.touches[0].pageX,V.touches[0].pageY);x=w.TOUCH_ROTATE;break;case 2:if(!1===t.enableZoom)return;var ba=V.touches[0].pageX-V.touches[1].pageX;V=V.touches[0].pageY-V.touches[1].pageY;S.set(0,Math.sqrt(ba*ba+V*V));x=w.TOUCH_DOLLY;break;case 3:if(!1===t.enablePan)return;R.set(V.touches[0].pageX,V.touches[0].pageY);x=w.TOUCH_PAN;break;default:x=w.NONE}x!==w.NONE&&t.dispatchEvent(u)}}function p(V){if(!1!==
t.enabled)switch(V.preventDefault(),V.stopPropagation(),V.touches.length){case 1:if(!1===t.enableRotate)break;if(x!==w.TOUCH_ROTATE)break;Q.set(V.touches[0].pageX,V.touches[0].pageY);J.subVectors(Q,I);var ba=t.domElement===document?t.domElement.body:t.domElement;A.theta-=2*Math.PI*J.x/ba.clientWidth*t.rotateSpeed;A.phi-=2*Math.PI*J.y/ba.clientHeight*t.rotateSpeed;I.copy(Q);t.update();break;case 2:if(!1===t.enableZoom)break;if(x!==w.TOUCH_DOLLY)break;ba=V.touches[0].pageX-V.touches[1].pageX;V=V.touches[0].pageY-
V.touches[1].pageY;T.set(0,Math.sqrt(ba*ba+V*V));O.subVectors(T,S);0<O.y?e(c()):0>O.y&&d(c());S.copy(T);t.update();break;case 3:if(!1===t.enablePan)break;if(x!==w.TOUCH_PAN)break;L.set(V.touches[0].pageX,V.touches[0].pageY);H.subVectors(L,R);X(H.x,H.y);R.copy(L);t.update();break;default:x=w.NONE}}function q(){!1!==t.enabled&&(t.dispatchEvent(y),x=w.NONE)}function r(V){V.preventDefault()}this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.target=new Z.Vector3;this.minDistance=
0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:Z.MOUSE.LEFT,ZOOM:Z.MOUSE.MIDDLE,PAN:Z.MOUSE.RIGHT};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return B.phi};this.getAzimuthalAngle=function(){return B.theta};this.reset=function(){t.target.copy(t.target0);t.object.position.copy(t.position0);t.object.zoom=t.zoom0;t.object.updateProjectionMatrix();t.dispatchEvent(v);t.update();x=w.NONE};this.update=function(){var V=new Z.Vector3,ba=(new Z.Quaternion).setFromUnitVectors(a.up,new Z.Vector3(0,1,0)),fa=ba.clone().inverse(),
ja=new Z.Vector3,ma=new Z.Quaternion;return function(){var va=t.object.position;V.copy(va).sub(t.target);zg(V,ba);B.setFromVector3(V);t.autoRotate&&x===w.NONE&&(A.theta-=2*Math.PI/60/60*t.autoRotateSpeed);B.theta+=A.theta;B.phi+=A.phi;B.theta=Math.max(t.minAzimuthAngle,Math.min(t.maxAzimuthAngle,B.theta));B.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,B.phi));var oa=B;oa.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,oa.phi));B.radius*=C;B.radius=Math.max(t.minDistance,Math.min(t.maxDistance,B.radius));
t.target.add(E);oa=B;var ta=Math.sin(oa.phi)*oa.radius;V.x=ta*Math.sin(oa.theta);V.y=Math.cos(oa.phi)*oa.radius;V.z=ta*Math.cos(oa.theta);zg(V,fa);va.copy(t.target).add(V);t.object.lookAt(t.target);!0===t.enableDamping?(A.theta*=1-t.dampingFactor,A.phi*=1-t.dampingFactor):A.set(0,0,0);C=1;E.set(0,0,0);return F||ja.distanceToSquared(t.object.position)>z||8*(1-ma.dot(t.object.quaternion))>z?(t.dispatchEvent(v),ja.copy(t.object.position),ma.copy(t.object.quaternion),F=!1,!0):!1}}();this.dispose=function(){t.domElement.removeEventListener("contextmenu",
r,!1);t.domElement.removeEventListener("mousedown",f,!1);t.domElement.removeEventListener("mousewheel",k,!1);t.domElement.removeEventListener("MozMousePixelScroll",k,!1);t.domElement.removeEventListener("touchstart",n,!1);t.domElement.removeEventListener("touchend",q,!1);t.domElement.removeEventListener("touchmove",p,!1);document.removeEventListener("mousemove",g,!1);document.removeEventListener("mouseup",h,!1);document.removeEventListener("mouseout",h,!1);window.removeEventListener("keydown",l,!1)};
var t=this,v={type:"change"},u={type:"start"},y={type:"end"},w={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},x=w.NONE,z=1E-6,B=new Z.Spherical,A=new Z.Spherical,C=1,E=new Z.Vector3,F=!1,I=new Z.Vector2,Q=new Z.Vector2,J=new Z.Vector2,R=new Z.Vector2,L=new Z.Vector2,H=new Z.Vector2,S=new Z.Vector2,T=new Z.Vector2,O=new Z.Vector2,P=function(){var V=new Z.Vector3;return function(ba,fa){Dg(V,fa,0);V.multiplyScalar(-ba);E.add(V)}}(),U=function(){var V=new Z.Vector3;return function(ba,
fa){Dg(V,fa,1);V.multiplyScalar(ba);E.add(V)}}(),X=function(){var V=new Z.Vector3;return function(ba,fa){var ja=t.domElement===document?t.domElement.body:t.domElement;if(t.object instanceof Z.PerspectiveCamera){V.copy(t.object.position).sub(t.target);var ma=V.length();ma*=Math.tan(t.object.fov/2*Math.PI/180);P(2*ba*ma/ja.clientHeight,t.object.matrix);U(2*fa*ma/ja.clientHeight,t.object.matrix)}else t.object instanceof Z.OrthographicCamera?(P(ba*(t.object.right-t.object.left)/t.object.zoom/ja.clientWidth,
t.object.matrix),U(fa*(t.object.top-t.object.bottom)/t.object.zoom/ja.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}}();t.domElement.addEventListener("contextmenu",r,!1);t.domElement.addEventListener("mousedown",f,!1);t.domElement.addEventListener("mousewheel",k,!1);t.domElement.addEventListener("MozMousePixelScroll",k,!1);t.domElement.addEventListener("touchstart",n,!1);t.domElement.addEventListener("touchend",
q,!1);t.domElement.addEventListener("touchmove",p,!1);window.addEventListener("keydown",l,!1);this.update()};Z.OrbitControls.prototype=Object.create(Z.EventDispatcher.prototype);Z.OrbitControls.prototype.constructor=Z.OrbitControls;
Object.defineProperties(Z.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>

<script>//~~WEBPATH~~/facets-dive/lib/sprite-atlas.js
var vh=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),wh=function(a){function b(c,d,e){var f=Math.ceil(Math.sqrt(c)),g=Math.ceil(c/f),h=document.createElement("canvas");h.width=d*f;h.height=e*g;var k=h.getContext("2d");var l=a.call(this,
h)||this;l.capacity=c;l.imageWidth=d;l.imageHeight=e;l.spriteColumns=f;l.spriteRows=g;l.canvas=h;l.context=k;l.minFilter=Z.LinearFilter;l.magFilter=Z.LinearFilter;l.drawTimeout=50;l.waitTimeout=1;l.drawQueue=[];l.isDrawQueued=!1;l.lastClearTimestamp=0;l.callbackQueue=[];l.pendingImageCount=0;l.fitter=new rg({x:.125*d,y:.125*e,width:.75*d,height:.75*e});return l}vh(b,a);b.prototype.clearQueues=function(){this.drawQueue=[];this.callbackQueue=[];this.pendingImageCount=0;return this.lastClearTimestamp=
Date.now()};b.prototype.setSpriteImageData=function(c,d,e){this.drawQueue.push({spriteIndex:c,timestamp:Date.now(),imageData:d,callback:e});this.queueDraw()};b.prototype.setAtlasUrl=function(c,d,e){var f=this,g=this.clearQueues(),h=new Image;void 0!==d&&(h.crossOrigin=d);this.pendingImageCount++;h.onerror=function(){f.lastClearTimestamp>g||f.pendingImageCount--};h.onload=function(){if(!(f.lastClearTimestamp>g)&&(f.pendingImageCount--,f.updatePropertiesToMatchImageDimensions(h.width,h.height),f.context.drawImage(h,
0,0,f.canvas.width,f.canvas.height),f.needsUpdate=!0,e&&f.callbackQueue.push({callback:e,args:[h]}),f.onDrawFinished))f.onDrawFinished()};h.src=c};b.prototype.updatePropertiesToMatchImageDimensions=function(c,d){if(c!==this.imageWidth*this.spriteColumns||d!==this.imageHeight*this.spriteRows){var e=c/this.imageWidth,f=d/this.imageHeight;if(e*f<this.capacity)throw Error("Atlas image too small to accommodate atlas capacity.");if(e!==Math.round(e)||f!==Math.round(f))throw Error("Atlas image dimensions do not fit sprite image dimensions.");
this.spriteColumns=e;this.spriteRows=f;this.canvas.width=c;this.canvas.height=d}};b.prototype.postRender=function(){if(!(this.drawQueue.length||0<this.pendingImageCount))for(;this.callbackQueue.length;){var c=this.callbackQueue.shift();c.callback.apply(null,c.args)}};b.prototype.queueDraw=function(){var c=this;this.isDrawQueued||(this.isDrawQueued=!0,setTimeout(function(){c.isDrawQueued&&c.workOnDrawJobs()},this.waitTimeout))};b.prototype.workOnDrawJobs=function(){function c(){var h=g.drawQueue.shift(),
k=h.spriteIndex,l=h.timestamp,n=h.imageData,p=h.image,q=h.callback;if(p){h=g.imageWidth;var r=g.imageHeight,t=k%g.spriteColumns*h,v=r*Math.floor(k/g.spriteColumns);g.context.clearRect(t,v,h,r);g.context.drawImage(p,t,v,h,r);"function"===typeof q&&g.callbackQueue.push({callback:q,args:[k]})}else if(n&&"text"===n.type){p=k%g.spriteColumns*g.imageWidth;h=g.imageHeight*Math.floor(k/g.spriteColumns);v=p+g.imageWidth/2;var u=h+g.imageHeight/2;r=g.fitter.fit(n.data+"");t=g.context;t.clearRect(p,h,g.imageWidth,
g.imageHeight);t.save();t.translate(v,u);t.scale(g.imageWidth,g.imageHeight);t.beginPath();t.arc(0,0,.5,0,2*Math.PI);t.restore();t.fillStyle="#555555";t.fill();t.fillStyle="white";t.textBaseline="hanging";t.font=(n.special?"italic":"bold")+" "+r.fontSize+"px 'Roboto Mono', 'Consolas', 'Menlo', monospace";v=r.lines;for(u=0;u<v.length;u++){var y=v[u];t.fillText(y.text,p+y.x,h+y.y,y.text.length*g.fitter.settings.glyphAspectRatio*r.fontSize)}"function"===typeof q&&g.callbackQueue.push({callback:q,args:[k]})}else if(n){var w=
new Image;g.pendingImageCount++;w.onload=function(){e<d.lastClearTimestamp||(d.pendingImageCount--,d.drawQueue.unshift({spriteIndex:k,timestamp:l,image:w,callback:q}),d.queueDraw())};w.onerror=function(){e<d.lastClearTimestamp||(d.pendingImageCount--,d.drawQueue.push({spriteIndex:k,timestamp:l,imageData:n,callback:q}),d.queueDraw())};w.src="svg"===n.type?URL.createObjectURL(new Blob([n.data],{type:"image/svg+xml;charset\x3dutf-8"})):"data:"+n.type+";base64,"+n.data}}var d=this;this.isDrawQueued=!1;
for(var e=Date.now(),f=e+(this.drawTimeout||Infinity),g=this;this.drawQueue.length&&Date.now()<f;)c();if(this.drawQueue.length||0<this.pendingImageCount)this.queueDraw();else if(this.needsUpdate=!0,this.onDrawFinished)this.onDrawFinished()};return b}(Z.Texture);
</script>



<script>//~~WEBPATH~~/facets-dive/lib/sprite-material.js
var xh=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Ah=function(a){function b(c,d){return a.call(this,{vertexShader:yh,fragmentShader:zh,uniforms:{time:{type:"f",value:0},defaultTexture:{type:"t",value:c},spriteAtlas:{type:"t",
value:d},spriteColumns:{type:"f",value:d?d.spriteColumns:1},spriteRows:{type:"f",value:d?d.spriteRows:1}},transparent:!0})||this}xh(b,a);Object.defineProperty(b.prototype,"time",{get:function(){return this.uniforms.time.value},set:function(c){this.uniforms.time.value=c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultTexture",{get:function(){return this.uniforms.defaultTexture.value},set:function(c){this.uniforms.defaultTexture.value=c},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"spriteAtlas",{get:function(){return this.uniforms.spriteAtlas.value},set:function(c){this.uniforms.spriteAtlas.value=c},enumerable:!0,configurable:!0});b.prototype.updateAtlasUniforms=function(){this.uniforms.spriteColumns.value=this.spriteAtlas.spriteColumns;this.uniforms.spriteRows.value=this.spriteAtlas.spriteRows};b.prototype.applyEasing=function(c){return.5>c?4*c*c*c:4*(c-1)*(c-1)*(c-1)+1};return b}(Z.RawShaderMaterial),yh="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Standard uniforms provided by THREE.js for projecting through the camera.\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n\n  uniform float time;\n\n  uniform float spriteColumns;\n  uniform float spriteRows;\n\n  attribute vec3 position;\n  attribute vec3 basePosition;\n\n  attribute vec4 color;\n  attribute vec4 baseColor;\n\n  attribute float opacity;\n  attribute float baseOpacity;\n\n  attribute float timestamp;\n  attribute float baseTimestamp;\n\n  attribute float vertexIndex;\n\n  attribute float textureIndex;\n  attribute float baseTextureIndex;\n\n  attribute float textureTimestamp;\n  attribute float baseTextureTimestamp;\n\n  // Computed UV coordinates into the defaultTexture based on the vertexIndex.\n  varying vec2 vDefaultUv;\n\n  // Computed UV coordinates into the sprite texture atlas.\n  varying vec2 vSpriteUv;\n\n  // Interpolated color used by the fragment shader.\n  varying vec4 vColor;\n\n  // Interpolated opacity used by the fragment shader.\n  varying float vOpacity;\n\n  // Degree of mixing between base and current texture.\n  varying float vTextureMix;\n\n  float applyEasing(float t) {\n    return t \x3c 0.5 ? 4.0 * t * t * t :\n      4.0 * (t - 1.0) * (t - 1.0) * (t - 1.0) + 1.0;\n  }\n\n  void main() {\n\n    // Compute default UVs. A \x3d\x3e (0,0), B \x3d\x3e (1,0), etc.\n    vDefaultUv.x \x3d mod(floor((vertexIndex + 1.0) / 2.0), 2.0);\n    vDefaultUv.y \x3d mod(floor(vertexIndex / 2.0), 2.0);\n\n    // Determine the row and column indices for this sprite.\n    float spriteIndex \x3d floor(vertexIndex / 4.0) + 0.5;\n    float columnIndex \x3d floor(mod(spriteIndex, spriteColumns));\n    float rowIndex \x3d spriteRows - 1.0 - floor(spriteIndex / spriteColumns);\n\n    // Compute sprite UVs from row and column indices.\n    vSpriteUv.x \x3d (columnIndex + vDefaultUv.x) / spriteColumns;\n    vSpriteUv.y \x3d (rowIndex + vDefaultUv.y) / spriteRows;\n\n    float blend \x3d applyEasing(smoothstep(baseTimestamp, timestamp, time));\n\n    vTextureMix \x3d mix(baseTextureIndex, textureIndex,\n        smoothstep(baseTextureTimestamp, textureTimestamp, time));\n\n    vColor \x3d mix(baseColor, color, blend);\n\n    vOpacity \x3d mix(baseOpacity, opacity, blend);\n\n    gl_Position \x3d projectionMatrix * modelViewMatrix *\n        vec4(mix(basePosition, position, vec3(blend)), 1.0);\n\n  }\n\n",
zh="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Lightness that should ideally exactly match the vColor.\n  #define TARGET_LIGHTNESS 0.6\n\n  uniform float time;\n\n  uniform sampler2D defaultTexture;\n  uniform sampler2D spriteAtlas;\n\n  varying vec2 vDefaultUv;\n  varying vec2 vSpriteUv;\n  varying vec4 vColor;\n  varying float vOpacity;\n  varying float vTextureMix;\n\n  // Compute relative luminance from RGB.\n  float rgbToL(vec3 rgb) {\n    return dot(rgb, vec3(0.3, 0.59, 0.11));\n  }\n\n  // Apply luminance easing.\n  float easeL(float l) {\n    return 1.0 - (1.0 - l) * (1.0 - l) * (1.0 - l);\n  }\n\n  void main() {\n    if (vOpacity \x3c\x3d 0.05) {\n      discard;\n    }\n\n    // Interpolate between default texture and sprite texture.\n    vec4 defaultColor \x3d\n      vTextureMix \x3c 1.0 ? texture2D(defaultTexture, vDefaultUv) : vec4(0.0);\n    vec4 spriteColor \x3d\n      vTextureMix \x3e 0.0 ? texture2D(spriteAtlas, vSpriteUv) : vec4(0.0);\n    vec4 mixedColor \x3d mix(defaultColor, spriteColor, vTextureMix);\n\n    // Lightness of the mixed pixel.\n    float mixedL \x3d rgbToL(mixedColor.rgb);\n\n    // Using the mixed and target lightness, determine the color that's between\n    // black, vColor and white.\n    vec3 color \x3d mixedL \x3c TARGET_LIGHTNESS ?\n        mix(vec3(0.0), vColor.rgb, easeL(mixedL / TARGET_LIGHTNESS)) :\n        mix(vec3(1.0), vColor.rgb,\n            easeL((1.0 - mixedL) / (1.0 - TARGET_LIGHTNESS)));\n\n    vec3 finalColor \x3d mix(mixedColor.rgb, color, vColor.a);\n\n    // Apply opacity.\n    gl_FragColor \x3d vec4(finalColor, mixedColor.a * vOpacity);\n  }\n";
</script>


<script>//~~WEBPATH~~/facets-dive/lib/sprite-mesh.js
var Bh=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Ch=function(){function a(b,c){this._spriteMesh=b;this._spriteIndex=c}Object.defineProperty(a.prototype,"spriteMesh",{get:function(){return this._spriteMesh},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"spriteIndex",{get:function(){return this._spriteIndex},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"x",{get:function(){return this._spriteMesh.getX(this._spriteIndex)},set:function(b){this._spriteMesh.setX(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._spriteMesh.getY(this._spriteIndex)},set:function(b){this._spriteMesh.setY(this._spriteIndex,b)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"z",{get:function(){return this._spriteMesh.getZ(this._spriteIndex)},set:function(b){this._spriteMesh.setZ(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"r",{get:function(){return this._spriteMesh.getR(this._spriteIndex)},set:function(b){this._spriteMesh.setR(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"g",{get:function(){return this._spriteMesh.getG(this._spriteIndex)},set:function(b){this._spriteMesh.setG(this._spriteIndex,
b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"b",{get:function(){return this._spriteMesh.getB(this._spriteIndex)},set:function(b){this._spriteMesh.setB(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"a",{get:function(){return this._spriteMesh.getA(this._spriteIndex)},set:function(b){this._spriteMesh.setA(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"opacity",{get:function(){return this._spriteMesh.getOpacity(this._spriteIndex)},
set:function(b){this._spriteMesh.setOpacity(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"timestamp",{get:function(){return this._spriteMesh.getTimestamp(this._spriteIndex)},set:function(b){this._spriteMesh.setTimestamp(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseX",{get:function(){return this._spriteMesh.getBaseX(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseX(this._spriteIndex,b)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"baseY",{get:function(){return this._spriteMesh.getBaseY(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseY(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseZ",{get:function(){return this._spriteMesh.getBaseZ(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseZ(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseR",{get:function(){return this._spriteMesh.getBaseR(this._spriteIndex)},
set:function(b){this._spriteMesh.setBaseR(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseG",{get:function(){return this._spriteMesh.getBaseG(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseG(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseB",{get:function(){return this._spriteMesh.getBaseB(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseB(this._spriteIndex,b)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"baseA",{get:function(){return this._spriteMesh.getBaseA(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseA(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseOpacity",{get:function(){return this._spriteMesh.getBaseOpacity(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseOpacity(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTimestamp",{get:function(){return this._spriteMesh.getBaseTimestamp(this._spriteIndex)},
set:function(b){this._spriteMesh.setBaseTimestamp(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureIndex",{get:function(){return this._spriteMesh.getTextureIndex(this._spriteIndex)},set:function(b){this._spriteMesh.setTextureIndex(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureIndex",{get:function(){return this._spriteMesh.getBaseTextureIndex(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseTextureIndex(this._spriteIndex,
b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureTimestamp",{get:function(){return this._spriteMesh.getTextureTimestamp(this._spriteIndex)},set:function(b){this._spriteMesh.setTextureTimestamp(this._spriteIndex,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureTimestamp",{get:function(){return this._spriteMesh.getBaseTextureTimestamp(this._spriteIndex)},set:function(b){this._spriteMesh.setBaseTextureTimestamp(this._spriteIndex,b)},enumerable:!0,
configurable:!0});a.prototype.rebase=function(b){this._spriteMesh.rebase(this._spriteIndex,b)};a.prototype.setSpriteImageData=function(b,c){this._spriteMesh.setSpriteImageData(this._spriteIndex,b,c)};a.prototype.switchTextures=function(b,c){this._spriteMesh.switchTextures(this._spriteIndex,b,c)};return a}(),Eh=function(a){function b(c,d,e){void 0===d&&(d=32);void 0===e&&(e=32);var f=a.call(this)||this;f.capacity=c;f.imageWidth=d;f.imageHeight=e;f.nextIndex=0;f.spriteWidth=f.imageWidth/f.imageHeight;
f.spriteHeight=1;f.geometry=new Z.BufferGeometry;f.positionData=new Float32Array(12*c);f.positionAttribute=new Z.BufferAttribute(f.positionData,3);f.positionAttribute.setDynamic(!0);f.geometry.addAttribute("position",f.positionAttribute);f.basePositionData=new Float32Array(12*c);f.basePositionAttribute=new Z.BufferAttribute(f.basePositionData,3);f.basePositionAttribute.setDynamic(!0);f.geometry.addAttribute("basePosition",f.basePositionAttribute);f.colorData=new Uint8Array(16*c);f.colorAttribute=
new Z.BufferAttribute(f.colorData,4);f.colorAttribute.normalized=!0;f.colorAttribute.setDynamic(!0);f.geometry.addAttribute("color",f.colorAttribute);f.baseColorData=new Uint8Array(16*c);f.baseColorAttribute=new Z.BufferAttribute(f.baseColorData,4);f.baseColorAttribute.normalized=!0;f.baseColorAttribute.setDynamic(!0);f.geometry.addAttribute("baseColor",f.baseColorAttribute);f.opacityData=new Float32Array(4*c);f.opacityAttribute=new Z.BufferAttribute(f.opacityData,1);f.opacityAttribute.setDynamic(!0);
f.geometry.addAttribute("opacity",f.opacityAttribute);f.baseOpacityData=new Float32Array(4*c);f.baseOpacityAttribute=new Z.BufferAttribute(f.baseOpacityData,1);f.baseOpacityAttribute.setDynamic(!0);f.geometry.addAttribute("baseOpacity",f.baseOpacityAttribute);f.timestampData=new Float32Array(4*c);f.timestampAttribute=new Z.BufferAttribute(f.timestampData,1);f.timestampAttribute.setDynamic(!0);f.geometry.addAttribute("timestamp",f.timestampAttribute);f.baseTimestampData=new Float32Array(4*c);f.baseTimestampAttribute=
new Z.BufferAttribute(f.baseTimestampData,1);f.baseTimestampAttribute.setDynamic(!0);f.geometry.addAttribute("baseTimestamp",f.baseTimestampAttribute);f.faceIndexData=new Uint32Array(6*c);for(var g=0;g<c;g++){var h=6*g,k=4*g;f.faceIndexData[h+0]=k+0;f.faceIndexData[h+1]=k+1;f.faceIndexData[h+2]=k+2;f.faceIndexData[h+3]=k+0;f.faceIndexData[h+4]=k+2;f.faceIndexData[h+5]=k+3}f.faceIndexAttribute=new Z.BufferAttribute(f.faceIndexData,1);f.geometry.setIndex(f.faceIndexAttribute);f.textureIndexData=new Float32Array(4*
c);f.textureIndexAttribute=new Z.BufferAttribute(f.textureIndexData,1);f.textureIndexAttribute.setDynamic(!0);f.geometry.addAttribute("textureIndex",f.textureIndexAttribute);f.baseTextureIndexData=new Float32Array(4*c);f.baseTextureIndexAttribute=new Z.BufferAttribute(f.baseTextureIndexData,1);f.baseTextureIndexAttribute.setDynamic(!0);f.geometry.addAttribute("baseTextureIndex",f.baseTextureIndexAttribute);f.textureTimestampData=new Float32Array(4*c);f.textureTimestampAttribute=new Z.BufferAttribute(f.textureTimestampData,
1);f.textureTimestampAttribute.setDynamic(!0);f.geometry.addAttribute("textureTimestamp",f.textureTimestampAttribute);f.baseTextureTimestampData=new Float32Array(4*c);f.baseTextureTimestampAttribute=new Z.BufferAttribute(f.baseTextureTimestampData,1);f.baseTextureTimestampAttribute.setDynamic(!0);f.geometry.addAttribute("baseTextureTimestamp",f.baseTextureTimestampAttribute);h=4*c;f.vertexIndexData=new Float32Array(h);for(g=0;g<h;g++)f.vertexIndexData[g]=g;f.vertexIndexAttribute=new Z.BufferAttribute(f.vertexIndexData,
1);f.geometry.addAttribute("vertexIndex",f.vertexIndexAttribute);f.defaultTextureCanvas=f.createDefaultTextureCanvas();f.defaultTexture=new Z.Texture(f.defaultTextureCanvas);f.defaultTexture.minFilter=Z.LinearFilter;f.defaultTexture.magFilter=Z.NearestFilter;f.defaultTexture.needsUpdate=!0;f.spriteAtlas=new wh(c,d,e);f.material=new Ah(f.defaultTexture,f.spriteAtlas);f.onBeforeRender=function(){f.material.updateAtlasUniforms()};f.constructionTimestamp=Date.now();f.time=f.constructionTimestamp;f.frustumCulled=
!1;return f}Bh(b,a);b.prototype.createSprite=function(){return new Ch(this,this.nextIndex++)};Object.defineProperty(b.prototype,"time",{get:function(){return this.material.time+this.constructionTimestamp},set:function(c){this.material.time=c-this.constructionTimestamp},enumerable:!0,configurable:!0});b.prototype.createDefaultTextureCanvas=function(){var c=this,d=this.defaultTextureCanvas=document.createElement("canvas"),e=d.width=this.imageWidth,f=d.height=this.imageHeight,g=d.getContext("2d"),h=
new Image;h.onload=function(){g.drawImage(h,0,0,e,f);c.defaultTexture.needsUpdate=!0};h.src=URL.createObjectURL(new Blob([Dh],{type:"image/svg+xml;charset\x3dutf-8"}));return d};b.prototype.getX=function(c){return this.positionData[12*c]};b.prototype.setX=function(c,d){c*=12;this.positionData[c+0]=d;this.positionData[c+3]=d+this.spriteWidth;this.positionData[c+6]=d+this.spriteWidth;this.positionData[c+9]=d;this.positionAttribute.needsUpdate=!0};b.prototype.getY=function(c){return this.positionData[12*
c+1]};b.prototype.setY=function(c,d){c*=12;this.positionData[c+1]=d;this.positionData[c+4]=d;this.positionData[c+7]=d+this.spriteHeight;this.positionData[c+10]=d+this.spriteHeight;this.positionAttribute.needsUpdate=!0};b.prototype.getZ=function(c){return this.positionData[12*c+2]};b.prototype.setZ=function(c,d){c*=12;this.positionData[c+2]=d;this.positionData[c+5]=d;this.positionData[c+8]=d;this.positionData[c+11]=d;this.positionAttribute.needsUpdate=!0};b.prototype.getR=function(c){return this.colorData[16*
c]};b.prototype.setR=function(c,d){c*=16;this.colorData[c+0]=d;this.colorData[c+4]=d;this.colorData[c+8]=d;this.colorData[c+12]=d;this.colorAttribute.needsUpdate=!0};b.prototype.getG=function(c){return this.colorData[16*c+1]};b.prototype.setG=function(c,d){c*=16;this.colorData[c+1]=d;this.colorData[c+5]=d;this.colorData[c+9]=d;this.colorData[c+13]=d;this.colorAttribute.needsUpdate=!0};b.prototype.getB=function(c){return this.colorData[16*c+2]};b.prototype.setB=function(c,d){c*=16;this.colorData[c+
2]=d;this.colorData[c+6]=d;this.colorData[c+10]=d;this.colorData[c+14]=d;this.colorAttribute.needsUpdate=!0};b.prototype.getA=function(c){return this.colorData[16*c+3]};b.prototype.setA=function(c,d){c*=16;this.colorData[c+3]=d;this.colorData[c+7]=d;this.colorData[c+11]=d;this.colorData[c+15]=d;this.colorAttribute.needsUpdate=!0};b.prototype.getBaseX=function(c){return this.basePositionData[12*c]};b.prototype.setBaseX=function(c,d){c*=12;this.basePositionData[c+0]=d;this.basePositionData[c+3]=d+this.spriteWidth;
this.basePositionData[c+6]=d+this.spriteWidth;this.basePositionData[c+9]=d;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseY=function(c){return this.basePositionData[12*c+1]};b.prototype.setBaseY=function(c,d){c*=12;this.basePositionData[c+1]=d;this.basePositionData[c+4]=d;this.basePositionData[c+7]=d+this.spriteHeight;this.basePositionData[c+10]=d+this.spriteHeight;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseZ=function(c){return this.basePositionData[12*c+2]};b.prototype.setBaseZ=
function(c,d){c*=12;this.basePositionData[c+2]=d;this.basePositionData[c+5]=d;this.basePositionData[c+8]=d;this.basePositionData[c+11]=d;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseR=function(c){return this.baseColorData[16*c]};b.prototype.setBaseR=function(c,d){c*=16;this.baseColorData[c+0]=d;this.baseColorData[c+4]=d;this.baseColorData[c+8]=d;this.baseColorData[c+12]=d;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseG=function(c){return this.baseColorData[16*c+1]};b.prototype.setBaseG=
function(c,d){c*=16;this.baseColorData[c+1]=d;this.baseColorData[c+5]=d;this.baseColorData[c+9]=d;this.baseColorData[c+13]=d;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseB=function(c){return this.baseColorData[16*c+2]};b.prototype.setBaseB=function(c,d){c*=16;this.baseColorData[c+2]=d;this.baseColorData[c+6]=d;this.baseColorData[c+10]=d;this.baseColorData[c+14]=d;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseA=function(c){return this.baseColorData[16*c+3]};b.prototype.setBaseA=
function(c,d){c*=16;this.baseColorData[c+3]=d;this.baseColorData[c+7]=d;this.baseColorData[c+11]=d;this.baseColorData[c+15]=d;this.baseColorAttribute.needsUpdate=!0};b.prototype.getOpacity=function(c){return this.opacityData[4*c]};b.prototype.setOpacity=function(c,d){c*=4;this.opacityData[c+0]=d;this.opacityData[c+1]=d;this.opacityData[c+2]=d;this.opacityData[c+3]=d;this.opacityAttribute.needsUpdate=!0};b.prototype.getBaseOpacity=function(c){return this.baseOpacityData[4*c]};b.prototype.setBaseOpacity=
function(c,d){c*=4;this.baseOpacityData[c+0]=d;this.baseOpacityData[c+1]=d;this.baseOpacityData[c+2]=d;this.baseOpacityData[c+3]=d;this.baseOpacityAttribute.needsUpdate=!0};b.prototype.getTimestamp=function(c){return this.timestampData[4*c]+this.constructionTimestamp};b.prototype.setTimestamp=function(c,d){c*=4;d-=this.constructionTimestamp;this.timestampData[c+0]=d;this.timestampData[c+1]=d;this.timestampData[c+2]=d;this.timestampData[c+3]=d;this.timestampAttribute.needsUpdate=!0};b.prototype.getBaseTimestamp=
function(c){return this.baseTimestampData[4*c]+this.constructionTimestamp};b.prototype.setBaseTimestamp=function(c,d){c*=4;d-=this.constructionTimestamp;this.baseTimestampData[c+0]=d;this.baseTimestampData[c+1]=d;this.baseTimestampData[c+2]=d;this.baseTimestampData[c+3]=d;this.baseTimestampAttribute.needsUpdate=!0};b.prototype.getTextureIndex=function(c){return this.textureIndexData[4*c]};b.prototype.setTextureIndex=function(c,d){c*=4;this.textureIndexData[c+0]=d;this.textureIndexData[c+1]=d;this.textureIndexData[c+
2]=d;this.textureIndexData[c+3]=d;this.textureIndexAttribute.needsUpdate=!0};b.prototype.getBaseTextureIndex=function(c){return this.baseTextureIndexData[4*c]};b.prototype.setBaseTextureIndex=function(c,d){c*=4;this.baseTextureIndexData[c+0]=d;this.baseTextureIndexData[c+1]=d;this.baseTextureIndexData[c+2]=d;this.baseTextureIndexData[c+3]=d;this.baseTextureIndexAttribute.needsUpdate=!0};b.prototype.getTextureTimestamp=function(c){return this.textureTimestampData[4*c]+this.constructionTimestamp};b.prototype.setTextureTimestamp=
function(c,d){c*=4;d-=this.constructionTimestamp;this.textureTimestampData[c+0]=d;this.textureTimestampData[c+1]=d;this.textureTimestampData[c+2]=d;this.textureTimestampData[c+3]=d;this.textureTimestampAttribute.needsUpdate=!0};b.prototype.getBaseTextureTimestamp=function(c){return this.baseTextureTimestampData[4*c]+this.constructionTimestamp};b.prototype.setBaseTextureTimestamp=function(c,d){c*=4;d-=this.constructionTimestamp;this.baseTextureTimestampData[c+0]=d;this.baseTextureTimestampData[c+1]=
d;this.baseTextureTimestampData[c+2]=d;this.baseTextureTimestampData[c+3]=d;this.baseTextureTimestampAttribute.needsUpdate=!0};b.prototype.rebase=function(c,d){function e(k,l){return k*h+l*(1-h)}d=void 0===d?this.time:d;var f=this.getBaseTimestamp(c),g=this.getTimestamp(c),h=d>=g?1:d<=f?0:this.material.applyEasing((d-f)/(g-f));this.setBaseX(c,e(this.getX(c),this.getBaseX(c)));this.setBaseY(c,e(this.getY(c),this.getBaseY(c)));this.setBaseZ(c,e(this.getZ(c),this.getBaseZ(c)));this.setBaseR(c,e(this.getR(c),
this.getBaseR(c)));this.setBaseG(c,e(this.getG(c),this.getBaseG(c)));this.setBaseB(c,e(this.getB(c),this.getBaseB(c)));this.setBaseA(c,e(this.getA(c),this.getBaseA(c)));this.setBaseOpacity(c,e(this.getOpacity(c),this.getBaseOpacity(c)));this.setBaseTimestamp(c,d>=g?d:e(g,f))};b.prototype.setSpriteImageData=function(c,d,e){this.spriteAtlas.setSpriteImageData(c,d,e)};b.prototype.switchTextures=function(c,d,e){var f=this.getTextureIndex(c);this.setBaseTextureIndex(c,f);this.setTextureIndex(c,0===f?1:
0);this.setBaseTextureTimestamp(c,d);this.setTextureTimestamp(c,e)};b.prototype.findSprites=function(c,d){for(var e=[],f=0;f<this.capacity;f++){var g=12*f;c>=this.positionData[g+0]&&c<=this.positionData[g+6]&&d>=this.positionData[g+1]&&d<=this.positionData[g+7]&&e.push(f)}return e};return b}(Z.Mesh),Dh='\n\x3csvg version\x3d"1.1"\n     baseProfile\x3d"full"\n     width\x3d"128" height\x3d"128"\n     xmlns\x3d"http://www.w3.org/2000/svg"\n     xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\n  \x3cdefs\x3e\n    \x3clinearGradient id\x3d"linearGradient3774"\x3e\n      \x3cstop\n         style\x3d"stop-color:#808080;stop-opacity:1;"\n         offset\x3d"0" /\x3e\n      \x3cstop\n         style\x3d"stop-color:#555555;stop-opacity:1;"\n         offset\x3d"1" /\x3e\n    \x3c/linearGradient\x3e\n    \x3cradialGradient\n       xlink:href\x3d"#linearGradient3774"\n       id\x3d"radialGradient3780"\n       cx\x3d"80"\n       cy\x3d"40"\n       fx\x3d"80"\n       fy\x3d"40"\n       r\x3d"80"\n       gradientUnits\x3d"userSpaceOnUse"\n       spreadMethod\x3d"pad" /\x3e\n  \x3c/defs\x3e\n  \x3ccircle cx\x3d"50%" cy\x3d"50%" r\x3d"50%" fill\x3d"url(#radialGradient3780)" /\x3e\n\x3c/svg\x3e\n';
</script>

<script>//~~WEBPATH~~/facets-dive/lib/wordtree.js
var Fh=/\b[-'\w]+\b/g;function Gh(a){return typeof a+"\u001f"+a}
function Hh(a){function b(k,l){for(var n=0;n<k.length;n++)l[k[n]]=!0}if(2>a.valueCount)return null;for(var c={},d=a;d;)b(d.commonWords,c),d=d.parent;for(d=0;d<a.children.length;d++)b(a.children[d].commonWords,c);d={};for(var e in a.valueHash){var f=a.valueHash[e],g=f.count;f=f.words;for(var h in f)h in c||(d[h]=(d[h]||0)+g,d[h]===a.totalCount&&(a.commonWords.push(h),c[h]=!0,delete d[h]))}a=null;c=0;for(h in d)d[h]>c&&(a=h,c=d[h]);return a}
function Ih(a){function b(r){r.order=++q;for(var t=0;t<r.children.length;t++)b(r.children[t])}function c(r){return r.valueCount+r.nonValueCount}var d={parent:null,commonWords:[],level:1,order:0,totalCount:0,valueHash:{},valueCount:0,nonValueCount:0,children:[]},e={root:d,nodeHash:{},highestLevel:1,levelHash:{1:d}},f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f],h=g.value,k=g.count;g=g.words;"string"===typeof h?(d.valueHash[f]={value:h,count:k,words:g},d.valueCount+=k):d.nonValueCount+=k;d.totalCount+=
k;e.nodeHash[f]=d}a=d.level;if(d.nonValueCount){a++;var l={parent:d,commonWords:[],level:a,order:0,totalCount:d.nonValueCount,valueHash:{},valueCount:0,nonValueCount:d.nonValueCount,children:[]};d.nonValueCount=0;d.children.push(l);e.highestLevel=a;e.levelHash[a]=l;for(f in e.nodeHash)f in d.valueHash||(e.nodeHash[f]=l)}for(d=[d];100>a&&d.length;){h=0;k=c(d[h]);for(g=1;g<d.length;g++)l=c(d[g]),l>k&&(h=g,k=l);var n=d[h],p=Hh(n);if(p)for(f in a++,l={parent:n,commonWords:[p],level:a,order:0,totalCount:0,
valueHash:{},valueCount:0,nonValueCount:0,children:[]},n.children.push(l),d.push(l),n.valueHash)n.valueHash.hasOwnProperty(f)&&(g=n.valueHash[f],h=g.value,k=g.count,(g=g.words)&&p in g&&(l.valueHash[f]={value:h,count:k,words:g},l.valueCount+=k,l.totalCount+=k,delete n.valueHash[f],n.valueCount-=k,e.nodeHash[f]=l,e.highestLevel=a,e.levelHash[a]=l));else d.splice(h,1)}var q=0;b(e.root);return e};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/stats.js
var Jh=function(){function a(){this.uniqueCount=this.totalCount=0;this.valueHash={};this.otherCount=this.stringCount=this.integerCount=this.numberCount=0;this.stringLengthsCount=this.stringMeanLength=this.stringMaxLength=this.stringMinLength=this.numberMax=this.numberMin=null;this.stringLengthsHash={};this.totalWordCount=this.multiwordCount=0;this.wordCounts={};this.uniqueWordCount=0;this.wordTree=null}a.prototype.isNumeric=function(){return 0<this.numberCount&&null!==this.numberMin&&null!==this.numberMax&&
this.numberMax>this.numberMin};a.prototype.isInteger=function(){return 0<this.numberCount&&this.integerCount===this.numberCount};a.prototype.addValue=function(b){this.totalCount++;var c=Gh(b);c in this.valueHash||(this.valueHash[c]={value:b,count:0},this.uniqueCount++);this.valueHash[c].count++;switch(typeof b){case "number":this.incorporateNumberValue(b);break;case "string":this.incorporateStringValue(c,b);break;default:this.otherCount++}};a.prototype.incorporateNumberValue=function(b){this.numberCount++;
"number"===typeof b&&b>>0===b&&this.integerCount++;isNaN(b)||(this.numberMin=null===this.numberMin?b:Math.min(this.numberMin,b),this.numberMax=null===this.numberMax?b:Math.max(this.numberMax,b))};a.prototype.incorporateStringValue=function(b,c){this.stringCount++;var d=c.length;d in this.stringLengthsHash||(this.stringLengthsCount=(this.stringLengthsCount||0)+1);this.stringLengthsHash[d]=(this.stringLengthsHash[d]||0)+1;this.stringMinLength=null===this.stringMinLength?d:Math.min(this.stringMinLength,
d);this.stringMaxLength=null===this.stringMaxLength?d:Math.max(this.stringMaxLength,d);this.stringMeanLength=(this.stringMeanLength||0)*(this.stringCount-1)/this.stringCount+d/this.stringCount;if(!this.valueHash[b].words){c=c.toLowerCase().toLowerCase().match(Fh)||[];1<c.length&&(this.multiwordCount++,this.totalWordCount+=c.length);d=this.valueHash[b].words={};for(var e=0;e<c.length;e++){var f=c[e];d[f]=(d[f]||0)+1;f in this.wordCounts||(this.wordCounts[f]=0,this.uniqueWordCount++)}}b=this.valueHash[b].words;
for(f in b)this.wordCounts[f]=(this.wordCounts[f]||0)+1};return a}();function Kh(a){if(!a||!a.length)return{};for(var b={},c=0;c<a.length;c++){var d=a[c];if(null!=d)for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f],h=d[g];g in b||(b[g]=new Jh);b[g].addValue(h)}}for(var k in b)a=b[k],a.multiwordCount&&(a.wordTree=Ih(a.valueHash));return b};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/string-format.js
function Lh(a){return 65>a.length?a:a.substr(0,30)+"..."+a.substr(-30)};
</script>




<dom-module id="facets-dive-vis">
  <template>
    <style>
      :host {
        box-sizing: border-box;
        display: block;
        height: 100%;
        width: 100%;
      }
      ::content .labels {
        @apply --paper-font-common-base;
        @apply --paper-font-headline;
      }
      ::content .rotate {
        stroke-dasharray: 1.5, 0.5;
        animation: rotate 1s linear infinite;
      }
      @keyframes rotate {
        from {
          stroke-dashoffset: 0;
        }
        to {
          stroke-dashoffset: 2;
        }
      }
    </style>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-vis/facets-dive-vis.js
/*

 Copyright 2018 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Mh=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Nh={bottom:6,left:6,right:6,top:6},Oh={"\ufffcOTHER\ufffc":"other","\ufffcNO_WORDS\ufffc":"non-words","\ufffcALL_WORDS\ufffc":"other"};
function Ph(a){return null!==a&&a in Oh?{label:Oh[a],special:!0}:"number"!==typeof a&&"string"!==typeof a?{label:""+a,special:!0}:{label:Lh(""+a),special:!1}}
var Qh="#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),Rh="#4285F4 #0F9D58 #00ACC1 #9E9D24 #5C6BC0 #00796B #607D8B".split(" "),Sh="#DB4437 #F4B400 #AB47BC #F06292 #AB47BC #795548 #FF7043 #C2185B".split(" "),Th="#4285F4 #C53929 #F7CB4D #0B8043 #5E35B1 #80DEEA #FF7043 #C0CA33".split(" "),Uh={"alignment-baseline":"middle",fill:"#444444","font-size":18,"font-style":"normal","text-anchor":"middle",x:0,y:0},Vh=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}Mh(b,a);return b}(Zf),Wh=function(){function a(b){this.elem=b;this.endTimestamp=0;this.renderQueued=!1;this.labels=[];this.autoColorBy=!1;this.horizontalFacetInfo=this.verticalFacetInfo=null}a.prototype.ready=function(){this.layout=new lg;this.cellBackgroundSVG=d3.select(this.elem).append("svg").style("left",0).style("position","absolute").style("top",0);this.cellBackgroundSVGRoot=this.cellBackgroundSVG.append("g").attr("class","root");this.cellBackgroundLayer=this.cellBackgroundSVGRoot.append("g").attr("class",
"labels");this.scene=new Z.Scene;this.camera=new Z.OrthographicCamera(0,100,0,100,.1,1E3);try{this.renderer=new Z.WebGLRenderer({alpha:!0}),this.renderer.setPixelRatio(),d3.select(this.renderer.domElement).style("left",0).style("pointer-events","none").style("position","absolute").style("top",0),this.elem.appendChild(this.renderer.domElement)}catch(b){}this.zoom=d3.zoom().scaleExtent([1,500]).on("zoom",this.zoomed.bind(this));d3.select(this.elem).call(this.zoom);this.labelsAndAxesSVG=d3.select(this.elem).append("svg").style("left",
0).style("position","absolute").style("top",0);this.labelsAndAxesSVGRoot=this.labelsAndAxesSVG.append("g").attr("class","root");this.labelsLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","labels");this.axesLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","axes");this.comparedLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","comparedboxes");this.selectedLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","selectedboxes");this.labelsAndAxesSVG.on("click",this.clicked.bind(this));
this.renderer||(this.labelsAndAxesSVG.style("display","none"),this.cellBackgroundSVG.style("display","none"),d3.select(this.elem).append("p").attr("class","error").style("color","darkred").html('\n            \x3cstrong\x3eERROR\x3c/strong\x3e: Facets Dive requires WebGL, and it is not\n            enabled in your browser. See\n            \x3ca rel\x3d"noreferrer" href\x3d"http://webglreport.com/"\x3e\n            WebGL Report\x3c/a\x3e for details.\n          '))};a.prototype.zoomed=function(){var b=
d3.event.transform,c=b.x,d=b.y;b=b.k;var e=this.scale/b;this.camera.top*=e;this.camera.left*=e;this.camera.right*=e;this.camera.bottom*=e;this.camera.position.set(-c/b,d/b,this.camera.position.z);this.camera.updateProjectionMatrix();this.scale=b;this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()};a.prototype.clicked=function(){var b=this.elem.getBoundingClientRect(),c=d3.event;b=this.spriteMesh.findSprites(this.camera.position.x+(c.clientX-b.left)/this.scale,this.camera.position.y-
(c.clientY-b.top)/this.scale);var d={};if(c.ctrlKey)for(c=0;c<this.elem.selectedIndices.length;c++)d[this.elem.selectedIndices[c]]=!0;for(c=0;c<b.length;c++)d[b[c]]=!0;this.elem.set("selectedIndices",Array.from(Object.keys(d).map(function(e){return+e})));b=[];for(c=0;c<this.elem.selectedIndices.length;c++)b.push(this.elem.data[this.elem.selectedIndices[c]]);this.elem.set("selectedData",b)};a.prototype.selectedIndicesUpdated=function(){this.spriteMesh&&this.updateSelectedBoxes()};a.prototype.comparedIndicesUpdated=
function(){if(this.spriteMesh){for(var b=[],c=0;c<this.elem.comparedIndices.length;c++)b.push(this.elem.data[this.elem.comparedIndices[c]]);this.elem.set("comparedData",b);this.updateComparedBoxes()}};a.prototype.updateSelectedBoxes=function(){var b=this,c=this.elem.selectedIndices.map(function(e){return{x:b.spriteMesh.getX(e),y:b.spriteMesh.getY(e)}});c=this.selectedLayer.selectAll(".selected").data(c);var d=c.enter().append("g").classed("selected",!0).attr("transform",function(e){return"translate("+
(.5+(e.x||0))+","+(.5+(e.y||0))+") scale(3)"}).style("opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#483d06").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.3).attr("fill-opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#fad411").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",
.15).attr("fill-opacity",0);d=d.merge(c);d.transition().attr("transform",function(e){return"translate("+(.5+(e.x||0))+","+(.5+(e.y||0))+") scale(0.8)"}).style("opacity",1);d.selectAll("rect").classed("rotate",!0).attr("stroke-opacity",1);c.exit().transition().style("opacity",0).remove()};a.prototype.updateComparedBoxes=function(){var b=this,c=this.elem.comparedIndices.map(function(e){return{x:b.spriteMesh.getX(e),y:b.spriteMesh.getY(e)}});c=this.comparedLayer.selectAll(".compared").data(c);var d=
c.enter().append("g").classed("compared",!0).attr("transform",function(e){return"translate("+(.5+(e.x||0))+","+(.5+(e.y||0))+") scale(3)"}).style("opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#44ff44").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.3).attr("fill-opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#1d6b1d").attr("stroke-linecap",
"round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.15).attr("fill-opacity",0);d=d.merge(c);d.transition().attr("transform",function(e){return"translate("+(.5+(e.x||0))+","+(.5+(e.y||0))+") scale(0.8)"}).style("opacity",1);d.selectAll("rect").classed("rotate",!0).attr("stroke-opacity",1);c.exit().transition().style("opacity",0).remove()};a.prototype.fitToViewport=function(){var b=this,c=this.elem.getBoundingClientRect();if(c.width&&c.height){this.layout.viewport.width=
c.width;this.layout.viewport.height=c.height;this.layout.padding.bottom=this.elem.scenePadding;this.layout.padding.left=this.elem.scenePadding;this.layout.padding.right=this.elem.scenePadding;this.layout.padding.top=this.elem.scenePadding;this.layout.grid={bottom:0,left:0,right:this.grid.width,top:this.grid.height};if(this.labels.length){var d=0,e=0,f=0,g=0;this.labelsLayer.selectAll(".label").each(function(k){var l=d3.select(this).select(".current").node().getBoundingClientRect(),n=k.elementMargin||
{bottom:0,left:0,right:0,top:0},p=l.height+n.top+n.bottom;l=l.width+n.left+n.right;switch(k.side){case Xf.Bottom:d=Math.max(d,p);break;case Xf.Top:g=Math.max(g,p);break;case Xf.Left:e=Math.max(e,l);break;case Xf.Right:f=Math.max(f,l);break;default:throw Error("Unrecognized Side.");}});this.layout.padding.bottom+=d;this.layout.padding.left+=e;this.layout.padding.right+=f;this.layout.padding.top+=g}this.layout.reducePaddingToFitWidth(c.width);this.layout.reducePaddingToFitHeight(c.height);this.scale=
this.layout.computeScale();var h=this.layout.computeCamera();c=h.position;h=h.frustum;this.camera.left=h.left;this.camera.right=h.right;this.camera.top=h.top;this.camera.bottom=h.bottom;this.camera.position.set(c.x,c.y,100);this.camera.updateProjectionMatrix();d3.select(this.elem).call(this.zoom.transform,d3.zoomIdentity.scale(this.scale).translate(-this.camera.position.x,this.camera.position.y));this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()}else setTimeout(function(){return b.fitToViewport()},
100)};a.prototype.zoomIn=function(){this.zoom.scaleBy(d3.select(this.elem),1.1)};a.prototype.zoomOut=function(){this.zoom.scaleBy(d3.select(this.elem),1/1.1)};a.prototype.transformSVG=function(){var b=this,c=-this.camera.position.x*this.scale,d=this.camera.position.y*this.scale;this.cellBackgroundSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.selectAll(".unscale").attr("transform",
"scale("+1/this.scale+")");this.axesLayer.selectAll(".axis").select("path").attr("d",function(e){return e.path(b.scale)}).attr("stroke-width",function(e){return e.strokeWidth(b.scale)})};a.prototype.isVisible=function(b,c){return b.shouldBeVisible(c,this.scale,this.camera.position,this.camera)};a.prototype.updateObjectVisibility=function(){var b=this,c=this,d=this.labelsLayer.selectAll(".label"),e=d.filter(function(g){return(void 0===g.visible||!g.visible)&&c.isVisible(g,this)}).each(function(g){return g.visible=
!0}),f=d.filter(function(g){return(void 0===g.visible||g.visible)&&!c.isVisible(g,this)}).each(function(g){return g.visible=!1});e.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",1);f.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",0);d.filter(function(g){return!!g.scaleDown}).selectAll(".scale").attr("transform",function(g){return"scale("+(b.scale<g.minScale?b.scale/g.minScale:1)+")"});d=this.axesLayer.selectAll(".axis").each(function(g){g.visible=
c.isVisible(g,this)});d.filter(function(g){return!!g.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",1);d.filter(function(g){return!g.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",0)};a.prototype.addVerticalFacetLabels=function(b){var c=this;this.elem.verticalFacet in this.stats&&this.grid.getColumn(this.grid.horizontalKeys[this.grid.horizontalKeys.length-1]).forEach(function(d){var e=c.verticalFacetInfo.labelingFunction(d.verticalKey),
f=new Vh;f.text=e.label;f.x=d.x+d.width;f.y=d.contentY+d.innerHeight/2;f.side=Xf.Right;f.cell=d;f.attributes={"alignment-baseline":"middle",fill:"#666666","font-size":Uh["font-size"],"text-anchor":"start","font-style":e.special?"italic":"normal"};f.offsetPosition={x:8};f.minScale=Uh["font-size"]/(d.height+c.grid.cellMargin);f.scaleDown=!0;b.push(f)})};a.prototype.addHorizontalFacetLabels=function(b){var c=this;this.elem.horizontalFacet in this.stats&&this.grid.getRow(this.grid.verticalKeys[this.grid.verticalKeys.length-
1]).forEach(function(d){var e=c.horizontalFacetInfo.labelingFunction(d.horizontalKey),f=new Vh;f.text=e.label;f.x=d.contentX+d.innerWidth/2;f.y=d.y+d.height;f.side=Xf.Top;f.cell=d;f.rotate=-45;f.attributes={"alignment-baseline":"ideographic",fill:"#dd6622","font-size":Uh["font-size"],"text-anchor":"start","font-style":e.special?"italic":"normal"};f.offsetPosition={x:8,y:-8};f.minScale=Uh["font-size"]/(d.width+c.grid.cellMargin/2);f.scaleDown=!0;b.push(f)})};a.prototype.addVerticalPositioningLabels=
function(b){var c=this;if("scatter"===this.elem.positionMode&&this.elem.verticalPosition in this.stats){var d=this.stats[this.elem.verticalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(h){if(h.items.length){for(var k=h.siblings.left;!(!k||k.items.length||k.siblings.above&&k.siblings.above.items.length);)k=k.siblings.left;k=k?k.contentX+k.innerWidth:-Infinity;var l=h.x+8,n=h.contentY,p=h.contentY+h.innerHeight,
q=new Vh;q.id=h.compoundKey+"-left-start";q.text=e;q.x=h.x+8;q.y=h.y+(c.elem.horizontalPosition?8:0);q.side=Xf.Left;q.cell=h;q.rotate=-90;q.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"start"};q.offsetPosition={x:Nh.bottom,y:-Nh.right};q.boundingBox={bottom:n,left:k,right:l,top:n+h.innerHeight*(Math.max(g,.1)-.05)};q.elementMargin=Nh;b.push(q);q=new Vh;q.id=h.compoundKey+"-left-end";q.text=f;q.x=h.x+8;q.y=h.y+h.height;q.side=Xf.Left;q.cell=h;q.rotate=
-90;q.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"end"};q.offsetPosition={x:-Nh.top,y:-Nh.right};q.boundingBox={bottom:n+h.innerHeight*(Math.min(g,.9)+.05),left:k,right:l,top:p};q.elementMargin=Nh;b.push(q)}})}};a.prototype.addHorizontalPositioningLabels=function(b){var c=this;if("scatter"===this.elem.positionMode&&this.elem.horizontalPosition in this.stats){var d=this.stats[this.elem.horizontalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),
g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(h){if(h.items.length){for(var k=h.siblings.below;!(!k||k.items.length||k.siblings.right&&k.siblings.right.items.length);)k=k.siblings.below;k=k?k.contentY+k.innerHeight:-Infinity;var l=h.contentY,n=h.contentX,p=n+h.innerWidth,q=new Vh;q.id=h.compoundKey+"-bottom-start";q.text=e;q.x=h.x+(c.elem.verticalPosition?8:0);q.y=h.y+8;q.side=Xf.Bottom;q.cell=h;q.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"start"};
q.offsetPosition={x:Nh.left,y:Nh.top};q.boundingBox={bottom:k,left:n,right:n+h.innerWidth*(Math.max(g,.1)-.05),top:l};q.elementMargin=Nh;b.push(q);q=new Vh;q.id=h.compoundKey+"-bottom-end";q.text=f;q.x=h.x+h.width;q.y=h.y+8;q.side=Xf.Bottom;q.cell=h;q.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"end"};q.offsetPosition={x:-Nh.right,y:Nh.top};q.boundingBox={bottom:k,left:n+h.innerWidth*(Math.min(g,.9)+.05),right:p,top:l};q.elementMargin=Nh;b.push(q)}})}};a.prototype.determineLabels=
function(){var b=[];this.addVerticalFacetLabels(b);this.addHorizontalFacetLabels(b);this.addVerticalPositioningLabels(b);this.addHorizontalPositioningLabels(b);return b};a.prototype.updateCellBackgrounds=function(){var b=this.grid.getCells().filter(function(c){return c.items.length});b=this.cellBackgroundLayer.selectAll(".cell").data(b,function(c){return c.compoundKey});b.enter().append("rect").attr("class","cell").attr("x",function(c){return c.contentX||0}).attr("y",function(c){return c.contentY||
0}).attr("width",function(c){return c.innerWidth||0}).attr("height",function(c){return c.innerHeight||0}).attr("fill","#f8f8f9").attr("fill-opacity",0).merge(b).transition().duration(this.elem.tweenDuration).attr("x",function(c){return c.contentX||0}).attr("y",function(c){return c.contentY||0}).attr("width",function(c){return c.innerWidth||0}).attr("height",function(c){return c.innerHeight||0}).attr("fill-opacity",1);b.exit().transition().duration(this.elem.tweenDuration).remove().attr("fill-opacity",
0)};a.prototype.updateAxes=function(){var b=this,c=[];"stacked"!==this.elem.positionMode&&this.grid.eachCell(function(f){if(f.items.length){if(b.elem.verticalPosition){var g=new kg(Xf.Left,f);c.push(g)}b.elem.horizontalPosition&&(g=new kg(Xf.Bottom,f),c.push(g))}});var d=this.axesLayer.selectAll(".axis").data(c,function(f){return f.key()}),e=d.enter().append("g").attr("class","axis").attr("opacity",0);e.append("path").attr("d",function(f){return f.path(b.scale)}).attr("stroke",function(f){return f.side===
Xf.Left?"#2255aa":"#118844"}).attr("stroke-width",function(f){return f.strokeWidth(b.scale)}).attr("stroke-opacity",0).attr("fill","none");e.merge(d).transition().duration(this.elem.tweenDuration).attr("opacity",1);e.merge(d).select("path").transition().duration(this.elem.tweenDuration).attr("d",function(f){return f.path(b.scale)});d.exit().transition().duration(this.elem.tweenDuration).remove().attr("opacity",0)};a.prototype.updateLabels=function(){if(this.scale){this.labels=this.determineLabels();
var b=this.labelsLayer.selectAll(".label").data(this.labels,function(h){return h.id||h.side+"-"+h.text});b.each(function(h){var k=d3.select(this),l=k.select(".current");h.text!==l.text()&&(l.attr("fill-opacity",0),k.select(".old").attr("fill-opacity",1).text(l.text()))}).select(".current").text(function(h){return h.text});var c=function(h){return function(k){return void 0===k.attributes||void 0===k.attributes[h]?Uh[h]:k.attributes[h]}},d=b.enter().append("g").attr("class","label").attr("transform",
function(h){return"translate("+h.x+","+h.y+")"}),e=d.append("g").attr("class","flip").attr("transform","scale(1,-1)").append("g").attr("class","rotate").attr("transform",function(h){return"rotate("+("rotate"in h?h.rotate:0)+")"}).append("g").attr("class","unscale").attr("transform","scale("+1/this.scale+")").append("g").attr("class","position").append("g").attr("class","opacity scale"),f=e.append("text").attr("class","old").attr("fill-opacity",0);e=e.append("text").attr("class","current").attr("fill-opacity",
0).text(function(h){return h.text});for(var g in Uh)Uh.hasOwnProperty(g)&&(f.attr(g,c(g)),e.attr(g,c(g)));f=d.merge(b).transition().duration(this.elem.tweenDuration).attr("transform",function(h){return"translate("+h.x+","+h.y+")"});f.select(".rotate").attr("transform",function(h){return"rotate("+("rotate"in h?h.rotate:0)+")"});f.filter(function(h){return!!h.offsetPosition}).select(".position").attr("transform",function(h){return"translate("+(h.offsetPosition.x||0)+","+(h.offsetPosition.y||0)+")"});
d=f.select(".old").attr("fill-opacity",0);f=f.select(".current").attr("fill-opacity",1);for(g in Uh)Uh.hasOwnProperty(g)&&(d.attr(g,c(g)),f.attr(g,c(g)));b.exit().transition().duration(this.elem.tweenDuration).remove().select(".current").attr("fill-opacity",0)}};a.prototype.dataChange=function(){var b=this.elem.data;if(b&&b.length)if(this.scene){this.resizeHandler();this.stats=Kh(b);if(this.items)if(this.items.length!==b.length)this.initializeSpriteMesh(),this.updateImageFieldName();else for(var c=
0;c<b.length;c++)this.items[c].data=b[c];else this.initializeSpriteMesh(),this.pickColorByField(),this.pickTextDrawingField();this.updateGridFaceting();this.updateGridItemPositions();this.updateColors()}else requestAnimationFrame(this.dataChange.bind(this))};a.prototype.initializeSpriteMesh=function(){var b=this;this.spriteMesh&&(this.scene.remove(this.spriteMesh),this.spriteMesh.spriteAtlas.clearQueues(),delete this.spriteMesh);var c=this.elem.data,d=c.length,e=this.elem.spriteImageWidth,f=this.elem.spriteImageHeight,
g=e/f;this.spriteMesh=new Eh(d,e,f);this.scene.add(this.spriteMesh);this.spriteMesh.spriteAtlas.onDrawFinished=function(){return b.queueRenderScene()};this.items=[];e=Math.ceil(Math.sqrt(d));f=Math.ceil(d/e);for(var h=0;h<d;h++){var k=this.spriteMesh.createSprite();k.x=e/2;k.y=f/2;k.opacity=0;k.timestamp=Date.now();k.rebase(k.timestamp);this.items.push({sprite:k,data:c[h]})}this.grid=new ig(this.items);this.grid.cellMargin=1;this.grid.itemAspectRatio=g;this.grid.itemPositionSetter=function(l,n,p){var q=
Date.now();l.sprite.rebase(q);l.sprite.x=n;l.sprite.y=p;l.sprite.opacity=1;l.sprite.timestamp=q+b.elem.tweenDuration;b.renderUntil(l.sprite.timestamp)}};a.prototype.filteredDataIndicesChange=function(){var b=this.elem.filteredDataIndices;if(this.scene&&this.items){var c=[];if(b)for(var d=0;d<b.length;d++){var e=b[d];e<this.items.length&&(c[e]=!0)}e=[];var f=[],g=Date.now(),h=g+this.elem.tweenDuration;for(d=0;d<this.items.length;d++){var k=this.items[d];!b||c[d]?(e.push(k.data),f.push(k),k.sprite.opacity||
(k.sprite.rebase(g),k.sprite.timestamp=h,k.sprite.opacity=1)):0<k.sprite.opacity&&(k.sprite.rebase(g),k.sprite.timestamp=h,k.sprite.opacity=0)}this.renderUntil(h);this.stats=Kh(e);this.grid.items=f;this.updateGridFaceting();this.updateGridItemPositions()}else requestAnimationFrame(this.filteredDataIndicesChange.bind(this))};a.prototype.pickColorByField=function(){var b=null,c=Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d],f=Math.abs(e.uniqueCount-Qh.length);1<
e.uniqueCount&&f<c&&(b=d,c=f)}isFinite(c)&&b in this.stats&&(this.autoColorBy=!0,this.elem.set("colorBy",b))};a.prototype.pickTextDrawingField=function(){var b="",c=-Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d];e=e.stringCount+e.stringLengthsCount-e.totalCount;e>c&&(b=d,c=e)}isFinite(c)&&b in this.stats&&this.elem.set("imageFieldName",b)};a.prototype.queueAtlasUrlChange=function(){var b=this;this.atlasUrlChangeTimer&&clearTimeout(this.atlasUrlChangeTimer);this.atlasUrlChangeTimer=
setTimeout(function(){b.atlasUrlChangeTimer&&b.atlasUrlChange()},100)};a.prototype.atlasUrlChange=function(){var b=this;clearTimeout(this.atlasUrlChangeTimer);delete this.atlasUrlChangeTimer;if(this.spriteMesh){var c=this.elem.atlasUrl;c&&c.length&&c!==this.lastAtlasUrl&&(this.lastAtlasUrl=c,this.resetSpritesToDefaultTexture(),this.spriteMesh.spriteAtlas.setAtlasUrl(c,this.elem.crossOrigin,function(){for(var d=b.elem.data,e=Date.now(),f=e+b.elem.fadeDuration,g=0;d&&g<d.length;g++)b.spriteMesh.switchTextures(g,
e,f);b.renderUntil(f);b.ignoreChange=!0;b.elem.set("imageFieldName","");delete b.ignoreChange;b.autoColorBy&&(b.autoColorBy=!1,b.elem.set("colorBy",""))}))}else requestAnimationFrame(this.atlasUrlChange.bind(this))};a.prototype.spriteUrlChange=function(){var b=this,c=this.elem.spriteUrl;if(c)if(this.spriteMesh){var d=new Image;void 0!==this.elem.crossOrigin&&(d.crossOrigin=this.elem.crossOrigin);d.onload=function(){var e=b.spriteMesh.defaultTextureCanvas,f=e.getContext("2d");f.clearRect(0,0,e.width,
e.height);f.drawImage(d,0,0,e.width,e.height);b.spriteMesh.defaultTexture.needsUpdate=!0;b.queueRenderScene()};d.src=c}else requestAnimationFrame(this.spriteUrlChange.bind(this))};a.prototype.updateGridStacking=function(){"stacked"===this.elem.positionMode&&(this.grid.computeItemPosition=eg(this.elem.verticalFacet?"middle":"bottom",this.elem.horizontalFacet?"middle":"right"))};a.prototype.updateGridFaceting=function(){if(this.grid){this.updateGridStacking();var b=this.verticalFacetInfo=this.generateFacetingInfo(this.elem.verticalFacet,
this.elem.verticalBuckets,this.elem.verticalBagOfWords,!0);this.grid.verticalFacet=b.facetingFunction;this.grid.verticalKeyCompare=b.keyCompareFunction;b=this.horizontalFacetInfo=this.generateFacetingInfo(this.elem.horizontalFacet,this.elem.horizontalBuckets,this.elem.horizontalBagOfWords,!1);this.grid.horizontalFacet=b.facetingFunction;this.grid.horizontalKeyCompare=b.keyCompareFunction;this.elem.fitGridAspectRatioToViewport?(b=this.elem.getBoundingClientRect(),this.grid.targetGridAspectRatio=b&&
b.width&&b.height?b.width/b.height||1:1):this.grid.targetGridAspectRatio=1;this.grid.arrange();this.updateCellBackgrounds();this.updateAxes();this.updateLabels();this.updateSelectedBoxes();this.updateComparedBoxes();this.fitToViewport()}};a.prototype.updateGridItemPositions=function(){if(this.grid){this.updateGridStacking();var b=this.grid.cellPadding,c=gg.Tight,d=gg.Uniform,e=!1;if("stacked"===this.elem.positionMode)e=this.grid.verticalGridAlignment!==c||this.grid.horizontalGridAlignment!==c,this.grid.verticalGridAlignment=
c,this.grid.horizontalGridAlignment=c,this.grid.cellPadding.top=0,this.grid.cellPadding.left=0,this.grid.cellPadding.right=0,this.grid.cellPadding.bottom=0,this.grid.minCellAspectRatio=0,this.grid.maxCellAspectRatio=Infinity;else{this.elem.verticalPosition?(e=this.grid.verticalGridAlignment!==d,this.grid.verticalGridAlignment=d):(e=this.grid.verticalGridAlignment!==c,this.grid.verticalGridAlignment=c);this.elem.horizontalPosition?(e=e||this.grid.horizontalGridAlignment!==d,this.grid.horizontalGridAlignment=
d):(e=e||this.grid.horizontalGridAlignment!==c,this.grid.horizontalGridAlignment=c);var f=this.generatePositionFunction(this.elem.horizontalPosition)||cg,g=this.generatePositionFunction(this.elem.verticalPosition)||dg;this.grid.computeItemPosition=function(h,k,l,n){return{x:f(h,k,l,n),y:g(h,k,l,n)}};c=this.elem.verticalPosition?8:0;d=this.elem.horizontalPosition?8:0;e=e||0!==b.top||c!==b.left||0!==b.right||d!==b.bottom;this.grid.cellPadding.top=0;this.grid.cellPadding.right=0;this.grid.cellPadding.left=
c;this.grid.cellPadding.bottom=d;this.grid.minCellAspectRatio=1;this.grid.maxCellAspectRatio=2}e?(this.grid.arrange(),this.updateCellBackgrounds()):this.grid.positionItems();this.updateAxes();this.updateLabels();this.updateSelectedBoxes();this.updateComparedBoxes();this.fitToViewport()}};a.prototype.getPaletteSource=function(){switch(this.elem.paletteChoice){case "warm":return Sh;case "cool":return Rh;case "assist":return Th;default:return Qh}};a.prototype.updateScalarPalette=function(){var b=this.elem.colorBy,
c=this.stats[b],d=this.grid.items,e=d3.rgb("#A52714"),f=d3.scaleLinear();f.domain([c.numberMin,c.numberMax]).range(["white","#1C3AA9"]);for(var g=[],h=0;h<d.length;h++){var k=d[h];k=b in k.data?k.data[b]:NaN;k="number"!==typeof k||isNaN(k)?e:d3.rgb(f(k));g.push(k)}d=this.generateFacetingInfo(b,5,!1,!1).labelingFunction;e=d3.scaleLinear();e.domain([0,4]).range(["white","#1C3AA9"]);f=[];for(h=4;0<=h;h--)k=d(h),f.push({key:h,color:e(h),content:k});(c.otherCount||c.stringCount||c.totalCount<this.grid.items.length)&&
f.push({key:NaN,color:"#A52714",content:{label:"missing",special:!0}});this.elem.set("palette",f);this.grid.cellItemComparator=function(l,n){if(!(b in l.data||b in n.data))return 0;if(!(b in l.data))return-1;if(!(b in n.data))return 1;l=l.data[b];n=n.data[b];if(l===n)return 0;var p="number"!==typeof l||isNaN(l),q="number"!==typeof n||isNaN(n);return p&&q?0:p?-1:q?1:l-n};return g};a.prototype.updateCategoricalPalette=function(b){var c=this.elem.colorBy,d=this.stats[c],e=this.grid.items,f=Object.keys(d.valueHash);
this.elem.stableColors?f.sort():f.sort(function(t,v){return d.valueHash[v].count-d.valueHash[t].count});for(var g=Math.min(b.length,f.length),h=f.slice(0,g).reduce(function(t,v,u){t[v]=u;return t},{}),k=d3.rgb("#F0F0F0"),l=b.map(function(t){return d3.rgb(t)}),n=!1,p=[],q=0;q<e.length;q++){var r=Gh(e[q].data[c]);n=n||!(r in h);p.push(l[h[r]]||k)}b=b.slice(0,g).map(function(t,v){v=d.valueHash[f[v]].value;return{key:v,color:t,content:{label:v+"",special:"number"!==typeof v&&"string"!==typeof v||v in
Oh}}});n&&b.push({key:null,color:"#F0F0F0",content:{label:"other",special:!0}});this.elem.set("palette",b);this.grid.cellItemComparator=function(t,v){if(!(c in t.data||c in v.data))return 0;if(!(c in t.data))return 1;if(!(c in v.data))return-1;t=t.data[c];v=v.data[c];if(t===v)return 0;t=Gh(t);v=Gh(v);return t in h||v in h?t in h?v in h?h[t]-h[v]:-1:1:0};return p};a.prototype.updateColors=function(){if(this.grid){var b=this.elem.colorBy;if(b in this.stats){b=this.stats[b];var c=this.getPaletteSource();
b=b.uniqueCount>c.length&&b.isNumeric()?this.updateScalarPalette():this.updateCategoricalPalette(c);c=this.grid.items;for(var d=Date.now(),e=d+this.elem.tweenDuration,f=0;f<c.length;f++){var g=c[f],h=b[f];g.sprite.rebase(d);g.sprite.r=h.r;g.sprite.g=h.g;g.sprite.b=h.b;g.sprite.a=180;g.sprite.timestamp=e}this.renderUntil(e);this.updateGridItemPositionsAfterColorChange()}else this.clearColors()}};a.prototype.updateGridItemPositionsAfterColorChange=function(){"stacked"!==this.elem.positionMode&&this.elem.verticalPosition&&
this.elem.horizontalPosition||this.updateGridItemPositions()};a.prototype.clearColors=function(){for(var b=this.grid.items,c=Date.now(),d=c+this.elem.tweenDuration,e=0;e<b.length;e++){var f=b[e];f.sprite.rebase(c);f.sprite.r=0;f.sprite.g=0;f.sprite.b=0;f.sprite.a=0;f.sprite.timestamp=d}this.renderUntil(d);this.elem.set("palette",[]);this.grid.cellItemComparator&&(this.grid.cellItemComparator=null,this.updateGridItemPositionsAfterColorChange())};a.prototype.resetSpritesToDefaultTexture=function(){var b=
this.grid.items;this.spriteMesh.spriteAtlas.clearQueues();for(var c=Date.now(),d=c+this.elem.fadeDuration,e=0;e<b.length;e++){var f=b[e];0<f.sprite.textureIndex&&f.sprite.switchTextures(c,d)}this.renderUntil(d)};a.prototype.updateImageFieldName=function(){var b=this;if(!this.ignoreChange&&this.grid){this.resetSpritesToDefaultTexture();var c=this.elem.imageFieldName;if(c in this.stats)for(var d=this.grid.items,e=function(g){g=d[g];var h=g.sprite;h.setSpriteImageData({type:"text",data:Ph(g.data[c]).label},
function(){var k=Date.now();h.baseTextureTimestamp=k;h.baseTextureIndex=0;h.textureTimestamp=k+b.elem.tweenDuration;h.textureIndex=1;b.renderUntil(h.textureTimestamp)})},f=0;f<d.length;f++)e(f);else delete this.lastAtlasUrl,this.queueAtlasUrlChange()}};a.prototype.generatePositionFunction=function(b){var c=this.stats[b];if(!c||!c.isNumeric())return null;var d=c.numberMax-c.numberMin;return function(e){return(e.data[b]-c.numberMin)/d}};a.prototype.generateFacetingInfo=function(b,c,d,e){if(!(b in this.stats))return{facetingFunction:function(){return null},
keyCompareFunction:function(){return 0},labelingFunction:Ph};var f=this.stats[b];if(f.wordTree&&1<f.wordTree.highestLevel&&d)return this.generateBagOfWordsFacetingInfo(b,c,e);if(f.uniqueCount<=c)return{facetingFunction:function(h){return b in h.data?h.data[b]:null},keyCompareFunction:f.isNumeric()?bg:e?ag:$f,labelingFunction:Ph};if(f.isNumeric()&&f.numberMax!==f.numberMin)return this.generateNumericFacetingInfo(b,c);d=Object.keys(f.valueHash);d.sort(function(h,k){return f.valueHash[k].count-f.valueHash[h].count});
var g=d.slice(0,c).reduce(function(h,k){h[k]=!0;return h},{});return{facetingFunction:function(h){if(!(b in h.data))return null;h=h.data[b];return Gh(h)in g?h:"\ufffcOTHER\ufffc"},keyCompareFunction:e?ag:$f,labelingFunction:Ph}};a.prototype.generateBagOfWordsFacetingInfo=function(b,c,d){var e=this.stats[b].wordTree,f=e.levelHash;return{facetingFunction:function(g){if(!(b in g.data))return null;for(g=e.nodeHash[Gh(g.data[b])];g.parent&&g.level>c;)g=g.parent;return g.level},keyCompareFunction:function(g,
h){g=f[g];h=f[h];if(void 0===g&&void 0===h)return 0;if(void 0===g)return-1;if(void 0===h)return 1;if(g.nonValueCount&&h.nonValueCount)return 0;if(g.nonValueCount)return-1;if(h.nonValueCount)return 1;h=h.order-g.order;return d?h:-h},labelingFunction:function(g){g=f[+g];if(!g.parent&&!g.commonWords.length)return{label:"other",special:!0};if(g.nonValueCount)return{label:"non-words",special:!0};for(var h=" \u2022 "+g.commonWords.join(" "),k=0;k<g.children.length;k++)if(g.children[k].level>c){h+=" \u2026";
break}for(;g.parent;)g=g.parent,g.commonWords.length&&(h=" \u2022 "+g.commonWords.join(" ")+" "+h);return{label:h}}}};a.prototype.generateNumericFacetingInfo=function(b,c){var d=this,e=this.stats[b],f=e.numberMax-e.numberMin;return{facetingFunction:function(g){if(!(b in g.data))return null;g=g.data[b];return"number"!==typeof g?g:isNaN(g)?g:Math.min(Math.floor(c*(g-e.numberMin)/f),c-1)},keyCompareFunction:bg,labelingFunction:function(g){if("number"!==typeof g||isNaN(+g))return Ph(g);var h=e.numberMax-
e.numberMin,k=g/c*h+e.numberMin;g=(1+g)/c*h+e.numberMin;return e.isInteger()?{label:d.formatRange(Math.ceil(k),Math.floor(g))}:{label:d.formatRange(k,g)}}}};a.prototype.formatNumber=function(b){if(null===b)return"null";b=parseFloat(b.toPrecision(3));return 1E3<=Math.abs(b)?d3.format("s")(b):""+b};a.prototype.formatRange=function(b,c){return this.formatNumber(b)+" \u2014 "+this.formatNumber(c)};a.prototype.getKeys=function(){var b;if((b=this.elem.data)&&b.length){for(var c={},d=0;d<b.length;d++)if(b[d])for(var e=
Object.keys(b[d]),f=0;f<e.length;f++)c[e[f]]=!0;b=Object.keys(c)}else b=[];return b.sort()};a.prototype.renderUntil=function(b){this.endTimestamp=Math.max(this.endTimestamp,b);this.queueRenderScene()};a.prototype.resizeHandler=function(){var b=this,c=this.elem.getBoundingClientRect();c.width&&c.height?(this.labelsAndAxesSVG.attr("width",c.width).attr("height",c.height),this.cellBackgroundSVG.attr("width",c.width).attr("height",c.height),this.renderer&&this.renderer.setSize(c.width,c.height),this.camera.right=
c.width/this.scale,this.camera.bottom=-c.height/this.scale,this.camera.updateProjectionMatrix(),this.queueRenderScene()):requestAnimationFrame(function(){return b.resizeHandler()})};a.prototype.queueRenderScene=function(){var b=this;this.renderQueued||(this.renderQueued=!0,requestAnimationFrame(function(){b.renderQueued&&b.renderScene()}))};a.prototype.renderScene=function(){this.renderQueued=!1;var b=Date.now();this.endTimestamp>b&&this.queueRenderScene();if(this.spriteMesh&&(this.spriteMesh.time=
b,81>+Z.REVISION&&this.spriteMesh.onBeforeRender))this.spriteMesh.onBeforeRender();this.renderer&&this.renderer.render(this.scene,this.camera);this.spriteMesh&&this.spriteMesh.spriteAtlas&&this.spriteMesh.spriteAtlas.postRender()};return a}();
Polymer({is:"facets-dive-vis",behaviors:[Polymer.IronResizableBehavior],properties:{data:{type:Array,value:null,observer:"_dataChange"},filteredDataIndices:{type:Array,value:null,observer:"_filteredDataIndicesChange"},atlasUrl:{type:String,value:null,observer:"_queueAtlasUrlChange"},spriteUrl:{type:String,value:null,observer:"_spriteUrlChange"},crossOrigin:{type:String,value:null},keys:{type:Array,value:[],notify:!0,readOnly:!0},stats:{type:Object,value:{},notify:!0,readOnly:!0},scenePadding:{type:Number,
value:8},tweenDuration:{type:Number,value:600},fadeDuration:{type:Number,value:200},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},fitGridAspectRatioToViewport:{type:Boolean,value:!1},verticalFacet:{type:String,value:"",
observer:"_updateGridFaceting"},verticalBuckets:{type:Number,value:10,observer:"_updateGridFaceting"},verticalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},horizontalFacet:{type:String,value:"",observer:"_updateGridFaceting"},horizontalBuckets:{type:Number,value:10,observer:"_updateGridFaceting"},horizontalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},positionMode:{type:String,value:"",observer:"_updateGridItemPositions"},verticalPosition:{type:String,value:"",
observer:"_updateGridItemPositions"},horizontalPosition:{type:String,value:"",observer:"_updateGridItemPositions"},colorBy:{type:String,value:"",observer:"_updateColors",notify:!0},imageFieldName:{type:String,value:"",observer:"_updateImageFieldName",notify:!0},palette:{type:Array,value:[],notify:!0},paletteChoice:{type:String,value:"standard",observer:"_updateColors"},selectedData:{type:Array,value:[],notify:!0},selectedIndices:{type:Array,value:[],notify:!0,observer:"_selectedIndicesUpdated"},comparedData:{type:Array,
value:[],notify:!0},comparedIndices:{type:Array,value:[],notify:!0,observer:"_comparedIndicesUpdated"},stableColors:{type:Boolean,value:!1,observer:"_updateColors"}},listeners:{"iron-resize":"_onIronResize"},created:function(){this._backing=new Wh(this)},ready:function(){this._backing.ready()},_dataChange:function(){this._backing.dataChange();this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_filteredDataIndicesChange:function(){this._backing.filteredDataIndicesChange();
this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_queueAtlasUrlChange:function(){this._backing.queueAtlasUrlChange()},_spriteUrlChange:function(){this._backing.spriteUrlChange()},_updateGridFaceting:function(){this._backing.updateGridFaceting()},_updateGridItemPositions:function(){this._backing.updateGridItemPositions()},_updateColors:function(){this._backing.updateColors()},_updateImageFieldName:function(){this._backing.updateImageFieldName()},_onIronResize:function(){this._backing.resizeHandler()},
_selectedIndicesUpdated:function(){this._backing.selectedIndicesUpdated()},_comparedIndicesUpdated:function(){this._backing.comparedIndicesUpdated()},fitToViewport:function(){this._backing.fitToViewport()},zoomIn:function(){this._backing.zoomIn()},zoomOut:function(){this._backing.zoomOut()}});
</script>


<dom-module id="facets-dive-controls">
  <template>
    <style>
      :host {
        @apply --paper-font-common-base;
        display: flex;
        overflow: visible;
      }

      .main-controls {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 60px;
        display: flex;
        height: 100%;
        overflow: visible;
      }

      .overflow-holder {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 60px;
        right: 0;
        overflow: visible;
      }

      #overflowmenu {
        margin: 0 40px;
      }

      .overflow-div {
        display: flex;
        flex-direction: column;
      }

      .overflow-checkbox {
        margin: 8px 0;
        padding
      }

      .dropdown-holder {
        display: flex;
        width: 150px;
        margin: 0 10px;
      }

      .dropdown-trigger {
        margin-top: 10px;
      }

      .expand-button {
        color: #9b9b9b;
        --paper-icon-button-ink-color: #9b9b9b;
      }
      paper-menu paper-checkbox {
        display: block;
        font-weight: normal;
        font-size: 12.5px;
        text-align: center;
      }

      paper-item {
        padding: 0 14px;
        --paper-item-min-height: 36px;
      }
      paper-dropdown-menu paper-item {
        border-bottom: 1px solid #ccc;
      }

      #verticalFacet {
        --paper-input-container-input: {
          color: var(--grid-faceting-vertical-label-color);
        };
      }
      #horizontalFacet {
        --paper-input-container-input: {
          color: var(--grid-faceting-horizontal-label-color);
        };
      }
      #verticalPosition {
        --paper-input-container-input: {
          color: var(--item-positioning-vertical-label-color);
        };
      }
      #horizontalPosition {
        --paper-input-container-input: {
          color: var(--item-positioning-horizontal-label-color);
        };
      }
      .vertical-facet {
        color: var(--grid-faceting-vertical-label-color);
      }
      .horizontal-facet {
        color: var(--grid-faceting-horizontal-label-color);
      }
      .vertical-position {
        color: var(--item-positioning-vertical-label-color);
      }
      .horizontal-position {
        color: var(--item-positioning-horizontal-label-color);
      }
    </style>

    <div class="main-controls">
        <div class="dropdown-holder horizontal-facet">
            <paper-dropdown-menu id="horizontalFacet" label="Binning | X-Axis" class="facet-selector">
              <paper-listbox class="dropdown-content" selected="{{horizontalFacet}}" attr-for-selected="value" slot="dropdown-content">
                <paper-item value="">(none)</paper-item>
                <template is="dom-repeat" items="[[keys]]">
                  <paper-item value="[[item]]">[[_breakUpAndTruncate(item)]]</paper-item>
                </template>
              </paper-listbox>
            </paper-dropdown-menu>
          </div>

          <template is="dom-if" if="[[horizontalFacet]]">
          <paper-input type="number" min="1" max="[[_maxBuckets(horizontalFacet, horizontalBagOfWords)]]" value="{{horizontalBuckets}}" label="Count">
            </paper-input>
          </template>

      <div class="dropdown-holder vertical-facet">
        <paper-dropdown-menu id="verticalFacet" label="Binning | Y-Axis" class="facet-selector">
          <paper-listbox class="dropdown-content" selected="{{verticalFacet}}" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="">(none)</paper-item>
            <template is="dom-repeat" items="[[keys]]">
              <paper-item value="[[item]]">[[_breakUpAndTruncate(item)]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <template is="dom-if" if="[[verticalFacet]]">
        <paper-input type="number" min="1" max="[[_maxBuckets(verticalFacet,verticalBagOfWords)]]" value="{{verticalBuckets}}" label="Count">
        </paper-input>
      </template>

      <div class="dropdown-holder">
        <paper-dropdown-menu id="colorBy" label="Color By">
          <paper-listbox class="dropdown-content" selected="{{colorBy}}" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="">(none)</paper-item>
            <template is="dom-repeat" items="[[keys]]">
              <paper-item value="[[item]]">[[item]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder">
        <paper-dropdown-menu id="imageFieldName" label="Label By">
          <paper-listbox class="dropdown-content" selected="{{imageFieldName}}" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="">
              [[_getImageFieldNameDefaultLabel(atlasUrl)]]
            </paper-item>
            <template is="dom-repeat" items="[[keys]]">
              <paper-item value="[[item]]">[[item]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder horizontal-position">
        <paper-dropdown-menu id="horizontalPosition" label="Scatter | X-Axis" class="position-selector">
          <paper-listbox class="dropdown-content" selected="{{horizontalPosition}}" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="">(default)</paper-item>
            <template is="dom-repeat" items="[[keys]]" filter="_isKeyNumeric">
              <paper-item value="[[item]]">[[item]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder vertical-position">
        <paper-dropdown-menu id="verticalPosition" label="Scatter | Y-Axis" class="position-selector">
          <paper-listbox class="dropdown-content" selected="{{verticalPosition}}" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="">(default)</paper-item>
            <template is="dom-repeat" items="[[keys]]" filter="_isKeyNumeric">
              <paper-item value="[[item]]">[[item]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>
    </div>
    <div class="overflow-holder">
      <template is="dom-if" if="[[_shouldShowOverflowMenu(colorBy, verticalFacet, horizontalFacet)]]">
        <paper-icon-button class="dropdown-trigger" icon="more-vert" alt="more-vert" id="overflowbtn" on-click="_openOverflow">
        </paper-icon-button>
      </template>
      <paper-dialog id="overflowmenu" no-overlap horizontal-align="right" vertical-align="top">
        <div class="overflow-div">
          <template is="dom-if" if="{{_isKeyCategorical(colorBy)}}">
            <div class="dropdown-holder">
              <paper-dropdown-menu id="paletteChoice" label="Display | Color Palette">
                <paper-listbox class="dropdown-content" selected="{{paletteChoice}}" attr-for-selected="value" slot="dropdown-content">
                  <paper-item value="standard">standard</paper-item>
                  <paper-item value="warm">warm</paper-item>
                  <paper-item value="cool">cool</paper-item>
                  <paper-item value="assist">assist</paper-item>
                </paper-listbox>
              </paper-dropdown-menu>
            </div>
          </template>
          <template is="dom-if" if="[[_hasWordTree(verticalFacet)]]">
            <paper-checkbox class="overflow-checkbox" checked="{{verticalBagOfWords}}">
              X-Axis Bag of words
            </paper-checkbox>
          </template>

          <template is="dom-if" if="[[_hasWordTree(horizontalFacet)]]">
            <paper-checkbox class="overflow-checkbox" checked="{{horizontalBagOfWords}}">
              Y-Axis Bag of words
            </paper-checkbox>
          </template>
        </div>
      </paper-dialog>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-controls/facets-dive-controls.js
Polymer({is:"facets-dive-controls",properties:{atlasUrl:{type:String,value:""},keys:{type:Array,value:[]},stats:{type:Object,value:{}},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},positionMode:{type:String,computed:"_getPositionMode(verticalPosition, horizontalPosition)",
notify:!0},verticalPosition:{type:String,value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},gridFacetingVerticalLabelColor:{type:String,value:"#666666",observer:"_updateCSSVars"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622",observer:"_updateCSSVars"},itemPositioningVerticalLabelColor:{type:String,
value:"#2255aa",observer:"_updateCSSVars"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844",observer:"_updateCSSVars"}},_getImageFieldNameDefaultLabel:function(a){return a?"(image)":"(default)"},_isModeScatter:function(a){return"scatter"===a},_isKeyNumeric:function(a){return this.stats&&a in this.stats&&this.stats[a].isNumeric()},_isKeyCategorical:function(a){return this.stats&&a in this.stats&&!this.stats[a].isNumeric()},_updateCSSVars:function(){this.customStyle["--grid-faceting-vertical-label-color"]=
this.gridFacetingVerticalLabelColor;this.customStyle["--grid-faceting-horizontal-label-color"]=this.gridFacetingHorizontalLabelColor;this.customStyle["--item-positioning-vertical-label-color"]=this.itemPositioningVerticalLabelColor;this.customStyle["--item-positioning-horizontal-label-color"]=this.itemPositioningHorizontalLabelColor;this.updateStyles()},_breakUpAndTruncate:function(a){return Lh(""+a).replace(/([\W_])/g,"$1\u200b")},_maxBuckets:function(a,b){var c=this.stats[a];return c?b&&this._hasWordTree(a)?
Math.min(100,c.wordTree.highestLevel):Math.min(100,c.uniqueCount+1):100},_hasWordTree:function(a){a=this.stats[a];return!!a&&!!a.wordTree&&1<a.wordTree.highestLevel},_getPositionMode:function(a,b){return""==a&&""==b?"stacked":"scatter"},_openOverflow:function(){this.$.overflowmenu.positionElement=this.$.overflowbtn;this.$.overflowmenu.open()},_shouldShowOverflowMenu:function(a,b,c){return this._isKeyCategorical(a)||this._hasWordTree(b)||this._hasWordTree(c)}});
</script>









<dom-module id="iron-image">
  <template>
    <style>
      :host {
        display: inline-block;
        overflow: hidden;
        position: relative;
      }

      #sizedImgDiv {
        @apply(--layout-fit);

        display: none;
      }

      #img {
        display: block;
        width: var(--iron-image-width, auto);
        height: var(--iron-image-height, auto);
      }

      :host([sizing]) #sizedImgDiv {
        display: block;
      }

      :host([sizing]) #img {
        display: none;
      }

      #placeholder {
        @apply(--layout-fit);

        background-color: inherit;
        opacity: 1;

        @apply(--iron-image-placeholder);
      }

      #placeholder.faded-out {
        transition: opacity 0.5s linear;
        opacity: 0;
      }
    </style>

    <div id="sizedImgDiv" role="img" hidden$="[[_computeImgDivHidden(sizing)]]" aria-hidden$="[[_computeImgDivARIAHidden(alt)]]" aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div>
    <img id="img" alt$="[[alt]]" hidden$="[[_computeImgHidden(sizing)]]">
    <div id="placeholder" hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]" class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div>
  </template>

  <script>//~~WEBPATH~~/iron-image/iron-image.html.js
Polymer({is:"iron-image",properties:{src:{observer:"_srcChanged",type:String,value:""},alt:{type:String,value:null},preventLoad:{type:Boolean,value:!1,observer:"_preventLoadChanged"},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,
value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)"],ready:function(){var a=this.$.img;a.onload=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))}.bind(this);a.onerror=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._reset(),this._setLoading(!1),
this._setLoaded(!1),this._setError(!0))}.bind(this);this._resolvedSrc=""},_load:function(a){a?this.$.img.src=a:this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage=a?'url("'+a+'")':"";this._setLoading(!!a);this._setLoaded(!1);this._setError(!1)},_reset:function(){this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage="";this._setLoading(!1);this._setLoaded(!1);this._setError(!1)},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&
this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){if(null!==this.alt)return this.alt;if(""===this.src)return"";var a=(new URL(this._resolveSrc(this.src))).pathname.split("/");return a[a.length-1]},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=
isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_preventLoadChanged:function(){this.preventLoad||this.loaded||(this._reset(),this._load(this.src))},_srcChanged:function(a){var b=this._resolveSrc(a);b!==this._resolvedSrc&&(this._resolvedSrc=b,this._reset(),this.preventLoad||this._load(a))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},
_transformChanged:function(){var a=this.$.sizedImgDiv.style,b=this.$.placeholder.style;a.backgroundSize=b.backgroundSize=this.sizing;a.backgroundPosition=b.backgroundPosition=this.sizing?this.position:"";a.backgroundRepeat=b.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(a){var b=this.ownerDocument.baseURI;return(new URL(Polymer.ResolveUrl.resolveUrl(a,b),b)).href}});
</script>
</dom-module>





<dom-module id="paper-material-shared-styles">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }

      :host([elevation="1"]) {
        @apply --shadow-elevation-2dp;
      }

      :host([elevation="2"]) {
        @apply --shadow-elevation-4dp;
      }

      :host([elevation="3"]) {
        @apply --shadow-elevation-6dp;
      }

      :host([elevation="4"]) {
        @apply --shadow-elevation-8dp;
      }

      :host([elevation="5"]) {
        @apply --shadow-elevation-16dp;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-material">
  <template>
    <style include="paper-material-shared-styles"></style>
    <style>
      :host([animated]) {
        @apply --shadow-transition;
      }
      :host {
        @apply --paper-material;
      }
    </style>

    <slot></slot>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-material/paper-material.html.js
Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
</script>





<dom-module id="paper-card">
  <template>
    <style include="paper-material">
      :host {
        display: inline-block;
        position: relative;
        box-sizing: border-box;
        background-color: var(--paper-card-background-color, --primary-background-color);
        border-radius: 2px;

        @apply(--paper-font-common-base);
        @apply(--paper-card);
      }

      /* IE 10 support for HTML5 hidden attr */
      [hidden] {
        display: none !important;
      }

      .header {
        position: relative;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        overflow: hidden;

        @apply(--paper-card-header);
      }

      .header iron-image {
        display: block;
        width: 100%;
        --iron-image-width: 100%;
        pointer-events: none;

        @apply(--paper-card-header-image);
      }

      .header .title-text {
        padding: 16px;
        font-size: 24px;
        font-weight: 400;
        color: var(--paper-card-header-color, #000);

        @apply(--paper-card-header-text);
      }

      .header .title-text.over-image {
        position: absolute;
        bottom: 0px;

        @apply(--paper-card-header-image-text);
      }

      :host ::content .card-content {
        padding: 16px;
        position:relative;

        @apply(--paper-card-content);
      }

      :host ::content .card-actions {
        border-top: 1px solid #e8e8e8;
        padding: 5px 16px;
        position:relative;

        @apply(--paper-card-actions);
      }
    </style>

    <div class="header">
      <iron-image hidden$="[[!image]]" aria-hidden$="[[_isHidden(image)]]" src="[[image]]" alt="[[alt]]" placeholder="[[placeholderImage]]" preload="[[preloadImage]]" fade="[[fadeImage]]"></iron-image>
      <div hidden$="[[!heading]]" class$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div>
    </div>

    <content></content>
  </template>

  <script>//~~WEBPATH~~/paper-card/paper-card.html.js
Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(a){return a?"false":"true"},_headingChanged:function(a){var b=
this.getAttribute("heading"),c=this.getAttribute("aria-label");"string"===typeof c&&c!==b||this.setAttribute("aria-label",a)},_computeHeadingClass:function(a){return a?" over-image":""},_computeAnimated:function(a){return a}});
</script>
</dom-module>


<script>//~~WEBPATH~~/facets-dive/lib/info-renderers.js
function Xh(a,b){var c=document.createElement("dl"),d;for(d in a)if(a.hasOwnProperty(d)){var e=document.createElement("dt");e.textContent=d;c.appendChild(e);e=document.createElement("dd");e.textContent=a[d];c.appendChild(e)}b.appendChild(c)};
</script>


<dom-module id="facets-dive-info-card">
  <template>
    <style>
      :host {
        @apply --paper-font-common-base;
        box-sizing: border-box;
        max-height: 100%;
        max-width: 100%;
        overflow: auto;
        padding: 8px;
      }
      ::content dt {
        color: #9e7c65;
        font-size: 14px;
      }
      ::content dd {
        @apply --paper-font-common-code;
        color: #513726;
        margin: 0 0 16px 0;
      }
    </style>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-info-card/facets-dive-info-card.js
Polymer({is:"facets-dive-info-card",properties:{infoRenderer:{type:Object},selectedData:{type:Array,value:[],observer:"_updateSelected"}},_updateSelected:function(a){var b=Polymer.dom(this.root);b.innerHTML="";if(a)for(var c=this.infoRenderer||Xh,d=0;d<a.length;d++){var e=a[d],f=document.createElement("div");f.style.width="100%";b.appendChild(f);c(e,f)}}});
</script>












<dom-module id="paper-tooltip">
  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        outline: none;
        z-index: 1002;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
      }

      #tooltip {
        display: block;
        outline: none;
        @apply --paper-font-common-base;
        font-size: 10px;
        line-height: 1;
        background-color: var(--paper-tooltip-background, #616161);
        color: var(--paper-tooltip-text-color, white);
        padding: 8px;
        border-radius: 2px;
        @apply --paper-tooltip;
      }

      @keyframes keyFrameScaleUp {
        0% {
          transform: scale(0.0);
        }
        100% {
          transform: scale(1.0);
        }
      }

      @keyframes keyFrameScaleDown {
        0% {
          transform: scale(1.0);
        }
        100% {
          transform: scale(0.0);
        }
      }

      @keyframes keyFrameFadeInOpacity {
        0% {
          opacity: 0;
        }
        100% {
          opacity: var(--paper-tooltip-opacity, 0.9);
        }
      }

      @keyframes keyFrameFadeOutOpacity {
        0% {
          opacity: var(--paper-tooltip-opacity, 0.9);
        }
        100% {
          opacity: 0;
        }
      }

      @keyframes keyFrameSlideDownIn {
        0% {
          transform: translateY(-2000px);
          opacity: 0;
        }
        10% {
          opacity: 0.2;
        }
        100% {
          transform: translateY(0);
          opacity: var(--paper-tooltip-opacity, 0.9);
        }
      }

      @keyframes keyFrameSlideDownOut {
        0% {
          transform: translateY(0);
          opacity: var(--paper-tooltip-opacity, 0.9);
        }
        10% {
          opacity: 0.2;
        }
        100% {
          transform: translateY(-2000px);
          opacity: 0;
        }
      }

      .fade-in-animation {
        opacity: 0;
        animation-delay: var(--paper-tooltip-delay-in, 500ms);
        animation-name: keyFrameFadeInOpacity;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-in, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .fade-out-animation {
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 0ms);
        animation-name: keyFrameFadeOutOpacity;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .scale-up-animation {
        transform: scale(0);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-in, 500ms);
        animation-name: keyFrameScaleUp;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-in, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .scale-down-animation {
        transform: scale(1);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameScaleDown;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .slide-down-animation {
        transform: translateY(-2000px);
        opacity: 0;
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameSlideDownIn;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .slide-down-animation-out {
        transform: translateY(0);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameSlideDownOut;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        @apply --paper-tooltip-animation;
      }

      .cancel-animation {
        animation-delay: -30s !important;
      }

      /* Thanks IE 10. */

      .hidden {
        display: none !important;
      }
    </style>

    <div id="tooltip" class="hidden">
      <slot></slot>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tooltip/paper-tooltip.html.js
Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500,observer:"_delayChange"},animationEntry:{type:String,value:""},animationExit:{type:String,value:""},animationConfig:{type:Object,
value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{webkitAnimationEnd:"_onAnimationEnd"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},
playAnimation:function(a){"entry"===a?this.show():"exit"===a&&this.hide()},cancelAnimation:function(){this.$.tooltip.classList.add("cancel-animation")},show:function(){if(!this._showing){if(""===Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(""!==b[c].textContent.trim()){a=!1;break}if(a)return}this._showing=!0;this.$.tooltip.classList.remove("hidden");this.$.tooltip.classList.remove("cancel-animation");this.$.tooltip.classList.remove(this._getAnimationType("exit"));
this.updatePosition();this._animationPlaying=!0;this.$.tooltip.classList.add(this._getAnimationType("entry"))}},hide:function(){this._showing&&(this._animationPlaying?(this._showing=!1,this._cancelAnimation()):(this._onAnimationFinish(),this._showing=!1,this._animationPlaying=!0))},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),
d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left,h=c.top-b.top;switch(this.position){case "top":var k=g+e;var l=h-d.height-a;break;case "bottom":k=g+e;l=h+c.height+a;break;case "left":k=g-d.width-a;l=h+f;break;case "right":k=g+c.width+a,l=h+f}this.fitToVisibleBounds?(b.left+k+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,k)+"px",this.style.right="auto"),b.top+l+d.height>window.innerHeight?(this.style.bottom=
b.height+"px",this.style.top="auto"):(this.style.top=Math.max(-b.top,l)+"px",this.style.bottom="auto")):(this.style.left=k+"px",this.style.top=l+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this.$.tooltip,"animationend","_onAnimationEnd");this.listen(this,"mouseenter","hide")},
_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},_delayChange:function(a){500!==a&&this.updateStyles({"--paper-tooltip-delay-in":a+"ms"})},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_cancelAnimation:function(){this.$.tooltip.classList.remove(this._getAnimationType("entry"));this.$.tooltip.classList.remove(this._getAnimationType("exit"));this.$.tooltip.classList.remove("cancel-animation");
this.$.tooltip.classList.add("hidden")},_onAnimationFinish:function(){this._showing&&(this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add(this._getAnimationType("exit")))},_onAnimationEnd:function(){this._animationPlaying=!1;this._showing||(this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.add("hidden"))},_getAnimationType:function(a){if("entry"===a&&""!==this.animationEntry)return this.animationEntry;
if("exit"===a&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[a]&&"string"===typeof this.animationConfig[a][0].name){if(this.animationConfig[a][0].timing&&this.animationConfig[a][0].timing.delay&&0!==this.animationConfig[a][0].timing.delay){var b=this.animationConfig[a][0].timing.delay;"entry"===a?this.updateStyles({"--paper-tooltip-delay-in":b+"ms"}):"exit"===a&&this.updateStyles({"--paper-tooltip-delay-out":b+"ms"})}return this.animationConfig[a][0].name}},_removeListeners:function(){this._target&&
(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this.$.tooltip,"animationend","_onAnimationEnd");this.unlisten(this,"mouseenter","hide")}});
</script>
</dom-module>


<dom-module id="facets-dive-legend">
  <template>
    <style>
      :host {
        @apply --paper-font-common-base;
      }

      .legend {
        border: 1px solid #a9a9a9;
        min-width: 200px;
      }

      .topbar {
        display: flex;
        justify-content: space-between;
        padding: 8px;
        background: #E6E6FA;
      }

      .expand-button {
        padding: 0;
        width: 20px;
        height: 20px;
        margin-left: 10px;
      }

      .legend-body {
        border-top: 1px solid #a9a9a9;
        padding: 8px;
        background: white;
      }

      .legend .layout-row {
        margin: 0;
      }
      .legend .layout-row span {
        margin: 2px 0 0 8px;
      }

      /**
       * Legend table shim. Polymer's dom-repeat feature has a known issue in
       * which it doesn't work with <tr> elements inside of a <table>. So
       * instead, we use CSS with classed divs to achieve table behavior.
       */
      .legend-table {
        display: table;
        margin-left: 2px;
      }
      .legend-row {
        display: table-row;
      }
      .legend-cell {
        display: table-cell;
      }

      /**
       * Color legend.
       */
      .legend .color {
        font-size: 14px;
      }
      .legend .color iron-icon {
        --iron-icon-width: 16px;
        --iron-icon-height: 16px;
        margin: 0 2px;
      }
      .legend .color iron-icon[fill="#ffffff"] {
        background: #dddddd;
      }
      .legend .color span {
        margin: 0;
      }
      .legend .special {
        font-style: italic;
      }

      .legend h2 {
        @apply --paper-font-subhead;
        color: #4f423e;
        font-weight: bold;
        line-height: 1;
        margin: 0;
      }
      .legend .color-by-field {
        color: #968e8c;
        display: block;
        font-size: 12.5px;
        font-weight: normal;
        margin: 2px 0 4px 20px;
      }
    </style>
    <template is="dom-if" if="[[_anyColor(colorBy, palette)]]">
      <div class="legend">
        <div class="topbar">
          <div class="title">Legend</div>
          <paper-icon-button class="expand-button" on-click="_toggleOpened" icon="[[_getIcon(_opened)]]">
          </paper-icon-button>
        </div>
        <iron-collapse id="collapse" opened="{{_opened}}">
          <div class="legend-body">
            <h2>Colors</h2>
            <span class="color-by-field">
              by [[_breakUpAndTruncate(colorBy)]]
              <paper-tooltip position="top">[[colorBy]]</paper-tooltip>
            </span>

            <div class="legend-table">
              <template is="dom-repeat" items="[[palette]]">
                <div class="legend-row color">
                  <div class="legend-cell">
                    <iron-icon icon="av:fiber-manual-record" fill$="[[item.color]]" style$="fill:[[item.color]]"></iron-icon>
                  </div>
                  <div class="legend-cell">
                    <span class$="[[_specialClass(item.content.special)]]">
                      [[_breakUpAndTruncate(item.content.label)]]
                    </span>
                    <paper-tooltip position="top">[[item.content.label]]</paper-tooltip>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </iron-collapse>
      </div>
    </template>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-dive/components/facets-dive-legend/facets-dive-legend.js
Polymer({is:"facets-dive-legend",properties:{colorBy:{type:String,value:"",observer:"_open"},palette:{type:Array,value:[]},_opened:{type:Boolean,value:!1}},_breakUpAndTruncate:function(a){return Lh(""+a).replace(/([\W_])/g,"$1\u200b")},_anyColor:function(){return!!(this.colorBy&&this.palette&&this.palette.length)},_specialClass:function(a){return a?"special":""},_open:function(){this._opened=!0},_toggleOpened:function(){this._opened=!this._opened},_getIcon:function(a){return a?"expand-less":"expand-more"}});
</script>



<dom-module id="facets-dive">
  <template>

    <style>
      /**
       * paper-input-container uses an element containing only &nbsp; for
       * spacing purposes. Aggressive vulcanizers sometimes remove this content.
       * This CSS rule forces the containing element to have the correct height
       * in either case.
       */
      ::content paper-input-container > .floated-label-placeholder {
        min-height: 20px;
      }

      :host {
        background: #ffffff;
        box-sizing: border-box;
        display: flex;
        flex-grow: 1;
        height: 100%;
        overflow: hidden;
        position: relative;
        width: 100%;
      }
      .fill {
        display: flex;
        flex-grow: 1;
        position: relative;
      }
      .main {
        flex-direction: column;
      }
      facets-dive-controls {
        border-bottom: 1px solid #d3d3d3;
        flex-grow: 0;
        flex-shrink: 0;
        height: 60px;
      }
      .row {
        display: flex;
        flex-direction: row;
      }
      facets-dive-legend {
        position: absolute;
        bottom: 14px;
        right: 24px;
      }
      .zoom-controls {
        bottom: 14px;
        box-sizing: border-box;
        left: 0;
        position: absolute;
      }
      .zoom-controls paper-button {
        background-color: #e7e7e7;
        clear: left;
        color: #2b2b2b;
        display: block;
        float: left;
        margin: 4px 8px;
        min-width: 0;
        padding: 8px;
      }
      facets-dive-info-card {
        background: #fff8f4;
        border-left: 1px solid #c6c6c6;
        box-sizing: border-box;
        flex-grow: 0;
        flex-shrink: 0;
        width: 240px;
      }
    </style>

    <div class="fill main">
      <facets-dive-controls id="controls" atlas-url="[[atlasUrl]]" keys="[[_keys]]" stats="[[stats]]" vertical-facet="{{verticalFacet}}" vertical-buckets="{{verticalBuckets}}" vertical-bag-of-words="{{verticalBagOfWords}}" horizontal-facet="{{horizontalFacet}}" horizontal-buckets="{{horizontalBuckets}}" horizontal-bag-of-words="{{horizontalBagOfWords}}" position-mode="{{positionMode}}" vertical-position="{{verticalPosition}}" horizontal-position="{{horizontalPosition}}" color-by="{{colorBy}}" image-field-name="{{imageFieldName}}" palette="[[_palette]]" palette-choice="{{paletteChoice}}" grid-faceting-vertical-label-color="[[gridFacetingVerticalLabelColor]]" grid-faceting-horizontal-label-color="[[gridFacetingHorizontalLabelColor]]" item-positioning-vertical-label-color="[[itemPositioningVerticalLabelColor]]" item-positioning-horizontal-label-color="[[itemPositioningHorizontalLabelColor]]"></facets-dive-controls>

      <div class="fill row">
        <div class="fill">
          <facets-dive-vis id="vis" class="fill" data="[[data]]" filtered-data-indices="[[filteredDataIndices]]" atlas-url="[[atlasUrl]]" sprite-url="[[spriteUrl]]" cross-origin="[[crossOrigin]]" keys="{{_keys}}" stats="{{stats}}" sprite-image-width="[[spriteImageWidth]]" sprite-image-height="[[spriteImageHeight]]" vertical-facet="[[verticalFacet]]" vertical-buckets="[[verticalBuckets]]" vertical-bag-of-words="[[verticalBagOfWords]]" horizontal-facet="[[horizontalFacet]]" horizontal-buckets="[[horizontalBuckets]]" horizontal-bag-of-words="[[horizontalBagOfWords]]" position-mode="[[positionMode]]" vertical-position="[[verticalPosition]]" horizontal-position="[[horizontalPosition]]" color-by="{{colorBy}}" image-field-name="{{imageFieldName}}" palette="{{_palette}}" palette-choice="[[paletteChoice]]" grid-faceting-vertical-label-color="{{gridFacetingVerticalLabelColor}}" grid-faceting-horizontal-label-color="{{gridFacetingHorizontalLabelColor}}" item-positioning-vertical-label-color="{{itemPositioningVerticalLabelColor}}" item-positioning-horizontal-label-color="{{itemPositioningHorizontalLabelColor}}" fit-grid-aspect-ratio-to-viewport="[[fitGridAspectRatioToViewport]]" selected-data="{{selectedData}}" selected-indices="{{selectedIndices}}" compared-data="{{comparedData}}" compared-indices="{{comparedIndices}}" stable-colors="[[stableColors]]"></facets-dive-vis>

          <div class="zoom-controls">
            <paper-button raised id="zoomInButton">
              <iron-icon icon="icons:add"></iron-icon>
            </paper-button>
            <paper-button raised id="zoomOutButton">
              <iron-icon icon="icons:remove"></iron-icon>
            </paper-button>
            <paper-button raised id="fitButton">
              <iron-icon icon="icons:aspect-ratio"></iron-icon>
            </paper-button>
          </div>

          <facets-dive-legend id="legend" color-by="[[colorBy]]" palette="[[_palette]]">
          </facets-dive-legend>
        </div>

        <template is="dom-if" if="[[!hideInfoCard]]">
          <facets-dive-info-card id="infoCard" selected-data="[[selectedData]]" info-renderer="[[infoRenderer]]">
          </facets-dive-info-card>
        </template>
      </div>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive/facets-dive.js
Polymer({is:"facets-dive",properties:{data:{type:Array,value:null,notify:!0},filteredDataIndices:{type:Array,value:null},_keys:{type:Array,value:[]},stats:{type:Object,value:{},notify:!0},atlasUrl:{type:String,value:null,notify:!0},spriteUrl:{type:String,value:null,notify:!0},crossOrigin:{type:String,value:null,notify:!0},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,
value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},fitGridAspectRatioToViewport:{type:Boolean,value:!1},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},
positionMode:{type:String,value:"stacked",notify:!0},verticalPosition:{type:String,value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},_palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},selectedData:{type:Array,value:[],notify:!0},selectedIndices:{type:Array,value:[],notify:!0},comparedData:{type:Array,value:[],notify:!0},comparedIndices:{type:Array,value:[],
notify:!0},height:{type:Number,value:null,observer:"_updateHeight"},infoRenderer:{type:Object},hideInfoCard:{type:Boolean,value:!1},stableColors:{type:Boolean,value:!1}},ready:function(){var a=this.$;a.fitButton.onclick=function(){return a.vis.fitToViewport()};a.zoomInButton.onclick=function(){return a.vis.zoomIn()};a.zoomOutButton.onclick=function(){return a.vis.zoomOut()};this.hideInfoCard&&(a.vis.style.right="0");this._updateHeight()},_updateHeight:function(){null!==this.height&&(this.style.height=
"number"===typeof this.height?this.height+"px":this.height)}});
</script>









<script>//~~WEBPATH~~/facets-overview/common/feature_statistics_generator.js
function Yh(){this.vals=[];this.counts=[]}function Zh(a){var b=new zd;a.forEach(function(c){var d=$h(c.data);d.setName(c.name);Bd(b).push(d)});return b}
function $h(a){var b={};if(null==a)return new Id;a.forEach(function(c,d){var e;if(null!=c){for(var f=Object.keys(c),g={},h=0;h<f.length;h++){var k=f[h],l=c[k];g[k]=!0;k in b||(b[k]=new Yh,b[k].missing=d,b[k].counts=[]);"number"===typeof l||"string"===typeof l?(b[k].vals.push(l),b[k].counts.push(1)):l instanceof Array&&(b[k].counts.push(l.length),(e=b[k].vals).push.apply(e,l))}Object.keys(b).forEach(function(n){n in g||(b[n].missing+=1)})}});Object.keys(b).forEach(function(c){var d=0,e=0,f=!1;b[c].vals.forEach(function(g){"string"===
typeof g?d+=1:(e+=1,f=f||!(g===+g&&g===(g|0)))});b[c].type=e>d?f?1:0:2});return ai(b,a.length)}function ai(a,b){var c=new Id;sc(c,2,b);for(var d in a)if(a.hasOwnProperty(d)){var e=new Nd;c.getFeaturesList().push(e);var f=a[d];e.setName(d);e.setType(f.type);1===f.type||0===f.type?(f=bi(f.vals,f.counts,b,f.missing),Bc(e,3,Rd[0],f)):2===f.type&&(f=ci(f.vals,f.counts,b,f.missing),Bc(e,4,Rd[0],f))}return c}
function bi(a,b,c,d){var e=new ge;e.setCommonStats(di(b,c,d));var f=0,g=0,h=0;b=a.filter(function(p){return"number"===typeof p&&!isNaN(p)}).map(function(p){return+p}).sort(function(p,q){return p-q});0<b.length&&(uc(e,5,b[0]),uc(e,7,b[b.length-1]),c=Math.floor(b.length/2),e.setMedian(0!==b.length%2?b[c]:(b[c]+b[c-1])/2));b.forEach(function(p){0===p&&(h+=1);f+=p;g+=p*p});1<b.length&&e.setStdDev(Math.sqrt((g-f*f/b.length)/(b.length-1)));e.setMean(f/a.length);sc(e,4,h);a=b.filter(function(p){return Infinity!==
p&&-Infinity!==p});c=b.filter(function(p){return Infinity===p}).length;d=b.filter(function(p){return-Infinity===p}).length;var k=a[0],l=a[a.length-1];k=d3.range(k,l,(l-k)/10);k=d3.histogram().thresholds(k)(a);var n=e.addHistograms();n.setType(0);k.forEach(function(p){var q=n.addBuckets();q.setSampleCount(p.length);lf(q,p.x0);mf(q,p.x1)});k=n.getBucketsList();b.length&&-Infinity===b[0]&&(lf(k[0],-Infinity),k[0].setSampleCount(k[0].getSampleCount()+d));b.length&&Infinity===b[b.length-1]&&(mf(k[k.length-
1],Infinity),k[k.length-1].setSampleCount(k[k.length-1].getSampleCount()+c));n=e.addHistograms();ei(n,a);return e}function ei(a,b){var c=[0,10,20,30,40,50,60,70,80,90,100],d=c.length-1;c=c.map(function(h){if(0===b.length)h=NaN;else{h=h/100*(b.length-1);var k=Math.floor(h);h=k===h?b[h]:b[k]+(b[k+1]-b[k])*(h-k)}return h});a.setType(1);for(var e=b.length/d,f=0;f<d;f++){var g=a.addBuckets();g.setSampleCount(e);lf(g,c[f]);mf(g,c[f+1])}}
function ci(a,b,c,d){var e=new ie;e.setCommonStats(di(b,c,d));var f=0,g={};a.forEach(function(l){l=String(l);g[l]=(g[l]||0)+1;f+=l.length});0<a.length&&uc(e,4,f/a.length);a=[];for(var h in g)g.hasOwnProperty(h)&&a.push({str:h,count:g[h]});e.setUnique(a.length);a=a.sort(function(l,n){return n.count-l.count});var k=new De;e.setRankHistogram(k);a.length&&(h=e.addTopValues(),h.setValue(a[0].str),uc(h,3,a[0].count));a.forEach(function(l,n){var p=k.addBuckets();p.setSampleCount(l.count);sc(p,1,n);sc(p,
2,n);tc(p,4,l.str,"")});return e}function di(a,b,c){var d=new Me,e=Infinity,f=0,g=0;a.forEach(function(h){h<e&&(e=h);h>f&&(f=h);g+=h});d.setNumNonMissing(b-c);d.setNumMissing(c);sc(d,3,e);sc(d,4,f);0<a.length&&d.setAvgNumValues(g/a.length);b=new ze;Ac(d,6,b);ei(b,a);return d};
</script>
<script>//~~WEBPATH~~/facets-overview/common/utils.js
function fi(){}function gi(a,b,c,d,e,f,g,h){var k=this;this.histMap={};this.name=a;b&&(this.histMap[hi(!1,mi)]=b);c&&(this.histMap[hi(!0,mi)]=c);d&&(this.histMap[hi(!1,ni)]=d);e&&(this.histMap[hi(!0,ni)]=e);f&&(this.histMap[hi(!1,oi)]=f);g&&(this.histMap[hi(!1,pi)]=g);h&&Object.keys(h).forEach(function(l){return k.histMap[l]=h[l]})}
var qi=function(){function a(b,c,d,e){this.name=b;this.stringValue=c;this.lowNumValue=d;this.highNumValue=e}a.prototype.clear=function(){this.highNumValue=this.lowNumValue=this.stringValue=this.name=void 0};a.prototype.equals=function(b){return b?this.name===b.name&&this.stringValue===b.stringValue&&this.lowNumValue===b.lowNumValue&&this.highNumValue===b.highNumValue:!1};return a}();
function ri(a){var b=si(a);if(0===b)return 0;var c=a.reduce(function(d,e){e=+e.getSampleCount()||0;if(0===e)return d;e/=b;return d-e*Math.log(e)},0);return 0===c?0:c/Math.log(a.length)}function ti(a,b){return isFinite(a)&&-1===a.toString().indexOf("e")?+(Math.round(Number(a+"e+"+b))+"e-"+b):a}function ui(a,b,c){return(a=a.histMap[hi(b,c)])?a.getBucketsList():[]}function hi(a,b){b=null==b?mi:b;a&&(b="weighted"+b);return b}
function si(a){return a.map(function(b){return b.getSampleCount()}).reduce(function(b,c){return(+c||0)+b},0)}function vi(a){return a.map(function(b){return si(ui(b,!1))})}function wi(a){var b=[];a.forEach(function(c){c.forEach(function(d){d=xi(d.getLabel());-1===b.indexOf(d)&&b.push(d)})});return b}function xi(a){return null==a||""===a?"\u00a0":a}function yi(a){return null==a?0:"inf"===a?Infinity:"-inf"===a?-Infinity:+a}
function zi(a){for(var b=a.map(function(t){return ui(t,!1)}),c=null,d=0;d<b.length;d++)if(0<b[d].length){c=b[d][0];break}if(!c)return 0;var e=vi(a);for(d=0;d<e.length;d++)if(0===e[d])return Infinity;var f=0;if(c instanceof qf){var g=wi(b);for(d=1;d<a.length;d++){c=b[0];for(var h=b[d],k=0,l=0;l<g.length;l++){for(var n=g[l],p=0,q=0,r=0;r<c.length;r++)if(c[r].getLabel()===n){p=c[r].getSampleCount()?c[r].getSampleCount():0;break}for(r=0;r<h.length;r++)if(h[r].getLabel()===n){q=h[r].getSampleCount()?h[r].getSampleCount():
0;break}k=Ai(k,p,e[0],q,e[d])}f=Math.max(f,k)}}else for(d=1;d<a.length;d++){c=b[0];h=b[d];k=0;g=Math.max(c.length,h.length);for(l=0;l<g;l++)p=l<c.length&&c[l].getSampleCount()?c[l].getSampleCount():0,q=l<h.length&&h[l].getSampleCount()?h[l].getSampleCount():0,k=Ai(k,p,e[0],q,e[d]);f=Math.max(f,k)}return f}function Ai(a,b,c,d,e){var f=b/c-d/e;b=b/(c*c)+d/(e*e);return a+(b?f*f/b:0)}
function Bi(a){Bd(a).forEach(function(b){b.getFeaturesList().forEach(function(c){var d=[];if(Ud(c)){var e=Ud(c).getRankHistogram();e&&d.push(e);(c=Ud(c).getTopValuesList())&&c.forEach(function(f){var g=D(f,1,0);g&&!+D(f,3,0)&&uc(f,3,g)})}else Sd(c)&&(c=Sd(c).getHistogramsList())&&(d=d.concat(c));d.forEach(function(f){(f=f.getBucketsList())&&f.forEach(function(g){var h=D(g,3,0);h&&!g.getSampleCount()&&g.setSampleCount(h)})})})});return a}
function Ci(a){var b=!0;Bd(a).forEach(function(c){c.getFeaturesList().forEach(function(d){var e=[];if(Ud(d)){var f=Ud(d).getRankHistogram();f&&e.push(f);(d=Ud(d).getTopValuesList())&&d.forEach(function(g){D(g,1,0)&&!+D(g,3,0)&&(b=!1)})}else Sd(d)&&(d=Sd(d).getHistogramsList())&&(e=e.concat(d));e.forEach(function(g){(g=g.getBucketsList())&&g.forEach(function(h){D(h,3,0)&&!h.getSampleCount()&&(b=!1)})})})});return b}
function Di(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(a[b].histMap[hi(!0,mi)])return!0;return!1}function Ei(a){return a?a.getNumNonMissing()*a.getAvgNumValues():0}
function Fi(a){switch(a){case 0:return"int";case 1:return"fixed-length ints";case 2:return"variable-length ints";case 3:return"float";case 4:return"fixed-length floats";case 5:return"variable-length floats";case 6:return"string";case 7:return"fixed-length strings";case 8:return"variable-length strings";case 9:return"bytes";case 10:return"fixed-length bytes";case 11:return"variable-length bytes";case 12:return"struct";case 13:return"fixed-length struct";case 14:return"variable-length struct";default:return"unknown"}}
function Gi(){}function Hi(){}function Ii(){}function Ji(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].rawBuckets.length>b&&(b=a[d].rawBuckets.length,c=d);d=[];for(var e=0;e<b;e++){var f=new Ii;f.value=a[c].rawBuckets[e].getLabel();f.counts=[];for(var g=0;g<a.length;g++)a[g].rawBuckets.length<=e?f.counts.push(0):f.counts.push(a[g].rawBuckets[e].getSampleCount());d.push(f)}return d}
function Ki(a,b){for(var c=[],d=0;d<b.length;d++){var e=new Ii,f=b[d];e.value=f;e.counts=[];for(var g=0;g<a.length;g++){for(var h=a[g].rawBuckets,k=-1,l=0;l<h.length;l++)if(h[l].getLabel()===f){k=l;break}-1===k?e.counts.push(0):e.counts.push(h[k].getSampleCount())}c.push(e)}return c}var Li,Mi=Li||(Li={});Mi[Mi.HISTOGRAM=0]="HISTOGRAM";Mi[Mi.BAR_CHART=1]="BAR_CHART";Mi[Mi.CUMDIST_CHART=2]="CUMDIST_CHART";var mi="Standard",ni="Quantiles",oi="Value list length",pi="Feature list length";
function Ni(a,b,c){var d=!0,e=0;a.forEach(function(f){f.histMap[b]&&(f=f.histMap[b].getBucketsList(),e=Math.max(e,f.length),f.forEach(function(g){g.getLowValue||(d=!1)}))});return d?Li.HISTOGRAM:e>c?Li.CUMDIST_CHART:Li.BAR_CHART}var Oi=function(){function a(b,c,d){this.str=b;this.cssClass=c;this.fullStr=d;this.fullStr||(this.fullStr=b)}a.prototype.append=function(b,c){c&&(this.str+=c,this.fullStr+=c);this.str+=b.str;this.fullStr+=b.fullStr;this.cssClass+=b.cssClass};return a}();
function Pi(a){var b=Math.abs(a);return(.01>b&&0<b||1E4<b)&&isFinite(a)?d3.format(".3s")(a).replace(/G$/,"B"):a.toLocaleString()}function Qi(a,b){var c=Pi(ti(yi(a),1E6<Math.abs(a)?0:2));b=Ri(a,b,void 0);return new Oi(c,b,a.toLocaleString([],{maximumFractionDigits:9}))}function Si(a,b,c){a=yi(a);a=null!=a&&b?a/b:0;b=.999999<a&&1>a?"~100%":1E-6>a&&0<a?"~0%":ti(100*a,2)+"%";c=Ri(a,!1,c);return new Oi(b,c,100*a+"%")}function Ti(a,b,c){var d=Pi(a);b=Ri(a,b,c);return new Oi(d,b,a.toLocaleString())}
function Ui(a,b){a=xi(a);a=0===a.length||isNaN(+a)?a:'"'+a+'"';b=Ri(a,b,void 0);return new Oi(a,b)}function Ri(a,b,c){b=b?"data-weighted ":"";if(c&&c(a)||"number"===typeof a&&!isFinite(a))b+="data-error ";return b}function Vi(a){return a?Sd(a)?Ie(Sd(a)):Ud(a)?Ie(Ud(a)):Wd(a)?Ie(Wd(a)):xc(a,Yd,7)?Ie(xc(a,Yd,7)):null:null}
function Wi(a){var b=[];a?(b.push(Ti(a.getNumNonMissing(),!1,function(c){return 0>=c})),b.push(Si(a.getNumMissing(),yi(a.getNumNonMissing())+yi(a.getNumMissing()),function(c){return.02<c}))):(b.push(Ti(0,!1,function(c){return 0>=c})),b.push(Si(1,1,function(c){return.02<c})));return b}
function Xi(a,b,c){var d=[];if(a)(c=c?xc(a,Ke,9):null)?(d.push(Qi(c.getMean(),!0)),d.push(Qi(c.getStdDev(),!0))):(d.push(Qi(a.getMean())),d.push(Qi(a.getStdDev()))),d.push(Si(D(a,4,0),Ei(b),function(e){return.1<e})),b=Yi(a),d.push(Qi(b?NaN:+D(a,5,0))),c?d.push(Qi(c.getMedian(),!0)):d.push(Qi(a.getMedian())),d.push(Qi(b?NaN:+D(a,7,0)));else for(a=0;6>a;a++)d.push(Ui("-"));return d}function Yi(a){if(!a)return!1;a=a.getHistogramsList();for(var b=0;b<a.length;b++)if(0<D(a[b],1,0))return!0;return!1}
function Zi(a,b){var c=[];if(a){b=b?xc(a,Xe,6):null;c.push(Ti(D(a,2,0)));var d=b?b.getTopValuesList():a.getTopValuesList();d&&0<d.length?(c.push(Ui(d[0].getValue(),!!b)),c.push(Qi(+D(d[0],3,0),!!b))):(c.push(Ui("-")),c.push(Ui("-")));c.push(Qi(+D(a,4,0)))}else for(a=0;4>a;a++)c.push(Ui("-"));return c}function $i(a){var b=[];if(a)b.push(Ti(D(a,2,0))),b.push(Ui("-")),b.push(Ui("-")),b.push(Qi(+D(a,3,0)));else for(a=0;4>a;a++)b.push(Ui("-"));return b}
function aj(a){var b=[];if(a&&0<a.length){var c=new Oi("","data-custom ");a.forEach(function(d){if(!xc(d,ze,4)&&!d.getRankHistogram()){var e=d.getName();""!==c.str&&(e="\n"+e);c.append(Ui(e));D(d,3,"")?c.append(Ui(D(d,3,"")),": "):c.append(Qi(+D(d,2,0)),": ")}});b.push(c)}else a=new Oi("-","data-custom "),b.push(a);return b}
function bj(a){var b=a.map(function(){return 0});a.forEach(function(c,d){c.forEach(function(e){b[d]+=yi(e.getSampleCount())})});return a.map(function(c,d){return c.map(function(e){if(e instanceof hf){var f=new hf;f.setSampleCount(e.getSampleCount()/b[d]);lf(f,e.getLowValue());mf(f,nf(e))}else{f=new qf;f.setSampleCount(e.getSampleCount()/b[d]);var g=D(e,1,0);sc(f,1,g);g=D(e,2,0);sc(f,2,g);e=e.getLabel();tc(f,4,e,"")}return f})})};
</script>
<script>//~~WEBPATH~~/facets-overview/common/overview_data_model.js
var cj=function(){function a(b){this.data=b;this.colorScale=new Plottable.Scales.Color;this.colorScale.domain(Bd(b).map(function(c){return c.getName()}));this.colorScale.range("#4285F4 #F09300 #0F9D58 #9C27B0 #607D8B #0B8043 #757575".split(" "));if(!Ci(b))throw Error("input proto has not been cleaned");this.featuresBySpec=this.makeFeatureBySpecList()}a.prototype.makeFeatureBySpecList=function(){for(var b=this,c=[],d=0;16>d;d++)c[d]=[];this.getUniqueFeatures().forEach(function(e){var f=b.getFeatureSpecForFeature(e.getName());
c[f].push(e.getName())});return c};a.prototype.getNonEmptyFeatureSpecLists=function(){for(var b=[],c=0;16>c;c++)if(0!==this.featuresBySpec[c].length){var d=new Gi;d.features=this.featuresBySpec[c];d.spec=c;b.push(d)}return b};a.prototype.getFeatureSpecForFeature=function(b){for(var c=this.getDatasetNames(),d=15,e=0;e<c.length;e++){var f=this.getFeature(b,c[e]);if(null==f)f=15;else{f=f.getType();var g=this.getFeatureCommonStats(b,c[e]),h=15;if(null!=g&&0!==g.getNumNonMissing()){var k=h=!1;D(g,3,0)===
D(g,4,0)&&(1===D(g,3,0)?h=!0:k=!0);h=1===f?h?3:k?4:5:0===f?h?0:k?1:2:2===f?h?6:k?7:8:3===f?h?9:k?10:11:h?12:k?13:14}f=h}d=15===d?f:16<=d||15===f?d:3<=d&&5>=d&&3<=f&&5>=f||0<=d&&2>=d&&0<=f&&2>=f||6<=d&&8>=d&&6<=f&&8>=f||9<=d&&11>=d&&9<=f&&11>=f||12<=d&&14>=d&&12<=f&&14>=f?Math.max(d,f):16}16===d&&(d=15);return d};a.prototype.getDatasetFeatureStatistics=function(){return this.data};a.prototype.getColorScale=function(){return this.colorScale};a.prototype.getDatasetNames=function(){return this.data?Bd(this.data).map(function(b){return b.getName()}):
[]};a.prototype.getDataset=function(b){if(!this.data)return null;for(var c=0,d=Bd(this.data);c<d.length;c++){var e=d[c];if(e.getName()===b)return e}return null};a.prototype.getFeature=function(b,c){if(!b||!this.data)return null;var d=this.getDataset(c);if(!d)return null;c=0;for(d=d.getFeaturesList();c<d.length;c++){var e=d[c];if(e.getName()===b)return e}return null};a.prototype.getExtraHistogramNames=function(b){if(!this.data)return[];b=b.map(function(n){return n.getName()});for(var c={},d=0,e=Bd(this.data);d<
e.length;d++)for(var f=0,g=e[d].getFeaturesList();f<g.length;f++){var h=g[f];if(-1!==b.indexOf(h.getName())&&($d(h)&&$d(h).forEach(function(n){if(xc(n,ze,4)||n.getRankHistogram())c[n.getName()]=!0}),Sd(h)&&(h=Sd(h).getHistogramsList())))for(var k=0;k<h.length;k++){var l=h[k];l.getName()&&(c[l.getName()]=!0)}}return Object.keys(c)};a.prototype.getFeatureCommonStats=function(b,c){b=this.getFeature(b,c);return null==b?null:Vi(b)};a.prototype.getFeatureNames=function(b){return b&&this.data?(b=this.getDataset(b))?
b.getFeaturesList().map(function(c){return c.getName()}):[]:null};a.prototype.getFeatureIndex=function(b,c){if(!this.data)return null;var d=this.getDataset(b);if(!d)return null;var e=b=0;for(d=d.getFeaturesList();e<d.length;e++){if(d[e].getName()===c)return b;++b}return null};a.prototype.getUniqueFeatures=function(){if(!this.data)return[];for(var b={},c=0,d=Bd(this.data);c<d.length;c++)for(var e=0,f=d[c].getFeaturesList();e<f.length;e++){var g=f[e];b[g.getName()]=g}return Object.keys(b).map(function(h){return b[h]})};
a.prototype.getNumUniqueFeaturesByType=function(b){return this.getUniqueFeatures().filter(function(c){return null!=Sd(c)===b}).length};a.prototype.featureHasSingleValue=function(b){if(!b)return!1;if(Ud(b)){var c=D(Ud(b),2,0);return 1===yi(c)}return Wd(b)?(c=D(Wd(b),2,0),1===yi(c)):Sd(b)?(c=+D(Sd(b),5,0),b=+D(Sd(b),7,0),null==c&&null==b?!1:yi(c)===yi(b)):!1};a.prototype.featureAcrossAllDatasetsHasSingleValue=function(b){if(!b||!this.data)return!1;for(var c=0,d=Bd(this.data);c<d.length;c++)for(var e=
0,f=d[c].getFeaturesList();e<f.length;e++){var g=f[e];if(b===g.getName()&&!this.featureHasSingleValue(g))return!1}return!0};a.prototype.getFeatureSingleValue=function(b){if(null==b)return"\x3cnull\x3e";if(Ud(b))return b=Ud(b).getTopValuesList(),null==b||0===b.length?"\x3cnull\x3e":b[0].getValue();if(Wd(b))return 0===D(Wd(b),2,0)?"\x3cnull\x3e":"\x3cbinary data\x3e";if(Sd(b)){var c=+D(Sd(b),5,0);if(c)return yi(c).toString();if(b=+D(Sd(b),7,0))return yi(b).toString()}return"\x3cunknown type\x3e"};a.prototype.getDatasetHistogramsForFeature=
function(b){var c=[];if(this.data)for(var d=function(h){for(var k=h.getName(),l=null,n=null,p=null,q=null,r=null,t=null,v={},u=0,y=h.getFeaturesList();u<y.length;u++)if(h=y[u],h.getName()===b){if(u=e.getFeatureCommonStats(b,k))r=xc(u,ze,6),t=xc(u,ze,9);$d(h)&&$d(h).forEach(function(x){xc(x,ze,4)?v[x.getName()]=xc(x,ze,4):x.getRankHistogram()&&(v[x.getName()]=x.getRankHistogram())});if(Sd(h)){var w=Sd(h).getHistogramsList();if(w)for(u=0;u<w.length;u++)y=w[u],y.getName()?v[y.getName()]=y:0===y.getType()?
l=y:p=y;if(xc(Sd(h),Ke,9)&&(h=xc(Sd(h),Ke,9).getHistogramsList()))for(u=0;u<h.length;u++)y=h[u],0===y.getType()?n=y:q=y}else Ud(h)&&(l=Ud(h).getRankHistogram(),xc(Ud(h),Xe,6)&&(n=xc(Ud(h),Xe,6).getRankHistogram()));break}c.push(new gi(k,l,n,p,q,r,t,v))},e=this,f=0,g=Bd(this.data);f<g.length;f++)d(g[f]);return c};a.prototype.doesContainWeightedStats=function(){if(null==this.containsWeightedStats){a:{var b=this.data;for(var c=0;c<Bd(b).length;c++)for(var d=Bd(b)[c],e=0;e<d.getFeaturesList().length;e++){var f=
d.getFeaturesList()[e];if(Ud(f)){if(xc(Ud(f),Xe,6)){b=!0;break a}}else if(Sd(f)&&xc(Sd(f),Ke,9)){b=!0;break a}}b=!1}this.containsWeightedStats=b}return this.containsWeightedStats};a.prototype.doesContainCustomStats=function(){if(null==this.containsCustomStats){a:{var b=this.data;for(var c=0;c<Bd(b).length;c++)for(var d=Bd(b)[c],e=0;e<d.getFeaturesList().length;e++){var f=$d(d.getFeaturesList()[e]);if(null!=f&&0<f.length){b=!0;break a}}b=!1}this.containsCustomStats=b}return this.containsCustomStats};
a.prototype.doesContainFeatureListLengthData=function(){if(null==this.containsFeatureListLengthData){a:{var b=this.data;for(var c=0;c<Bd(b).length;c++)for(var d=Bd(b)[c],e=0;e<d.getFeaturesList().length;e++){var f=d.getFeaturesList()[e];if((f=Vi(f))&&xc(f,ze,9)){b=!0;break a}}b=!1}this.containsFeatureListLengthData=b}return this.containsFeatureListLengthData};a.prototype.getChartAlpha=function(){return 2<=this.getDatasetNames().length?.4:1};a.prototype.getChartColorString=function(b){b=this.getColorScale().scale(this.getDatasetNames()[b]);
var c=this.getChartAlpha();return b.replace("rgb","rgba").replace(")",", "+c+")")};return a}();
</script>







<script>//~~WEBPATH~~/iron-scroll-target-behavior/iron-scroll-target-behavior.html.js
Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&("document"===a?this.scrollTarget=this._doc:"string"===typeof a?this.scrollTarget=(b=this.domHost)&&b.$?b.$[a]:Polymer.dom(this.ownerDocument).querySelector("#"+
a):this._isValidScrollTarget()&&(this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:
0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?
this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){b=b===this._doc?window:b;a?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),b.addEventListener("scroll",this._boundScrollHandler)):
this._boundScrollHandler&&(b.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(a){this._shouldHaveListener=a;this._toggleScrollListener(a,this.scrollTarget)}};
</script>




<dom-module id="iron-list">
  <template>
    <style>
      :host {
        display: block;
      }

      @media only screen and (-webkit-max-device-pixel-ratio: 1) {
        :host {
          will-change: transform;
        }
      }

      #items {
        @apply --iron-list-items-container;
        position: relative;
      }

      :host(:not([grid])) #items > ::slotted(*) {
        width: 100%;
      }

      #items > ::slotted(*) {
        box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
      }
    </style>

    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>

    <div id="items">
      <slot></slot>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-list/iron-list.html.js
(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1],c=null!=Polymer.flush,d=c?Polymer.Async.animationFrame:0,e=c?Polymer.Async.idlePeriod:1,f=c?Polymer.Async.microTask:2;Polymer.OptionalMutableDataBehavior||(Polymer.OptionalMutableDataBehavior={});Polymer({is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,
observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior,Polymer.OptionalMutableDataBehavior],
_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,
_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},
get _maxVirtualStart(){var g=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,g-this._physicalCount)},set _virtualStart(g){g=this._clamp(g,0,this._maxVirtualStart);this.grid&&(g-=g%this._itemsPerRow);this._virtualStartVal=g},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(g){g%=this._physicalCount;0>g&&(g=this._physicalCount+g);this.grid&&(g-=g%this._itemsPerRow);this._physicalStartVal=g},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+
this._physicalCount-1)%this._physicalCount},set _physicalCount(g){this._physicalCountVal=g},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){var g=this._firstVisibleIndexVal;if(null==g){var h=this._physicalTop+this._scrollOffset;this._firstVisibleIndexVal=g=this._iterateItems(function(k,l){h+=this._getPhysicalSizeIncrement(k);
if(h>this._scrollPosition)return this.grid?l-l%this._itemsPerRow:l;if(this.grid&&this._virtualCount-1===l)return l-l%this._itemsPerRow})||0}return g},get lastVisibleIndex(){var g=this._lastVisibleIndexVal;if(null==g){if(this.grid)g=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var h=this._physicalTop+this._scrollOffset;this._iterateItems(function(k,l){h<this._scrollBottom&&(g=l);h+=this._getPhysicalSizeIncrement(k)})}this._lastVisibleIndexVal=g}return g},
get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,d);this.listen(this,"iron-resize",
"_resizeHandler");this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler");this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(g){this.style.webkitOverflowScrolling=g===this?"touch":"";this.style.overflowY=g===this?"auto":"";this._firstVisibleIndexVal=this._lastVisibleIndexVal=null;this._debounce("_render",this._render,d)},updateViewportBoundaries:function(){var g=window.getComputedStyle(this);this._scrollerPaddingTop=
this.scrollTarget===this?0:parseInt(g["padding-top"],10);this._isRTL="rtl"===g.direction;this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var g=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),h=g-this._scrollPosition,k=0<=h;this._scrollPosition=g;this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;Math.abs(h)>this._physicalSize&&0<this._physicalSize?(h-=this._scrollOffset,k=Math.round(h/
this._physicalAverage)*this._itemsPerRow,this._virtualStart+=k,this._physicalStart+=k,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()):0<this._physicalCount&&(g=this._getReusables(k),k?(this._physicalTop=g.physicalTop,this._virtualStart+=g.indexes.length,this._physicalStart+=g.indexes.length):(this._virtualStart-=g.indexes.length,this._physicalStart-=g.indexes.length),this._update(g.indexes,k?null:g.indexes),this._debounce("_increasePoolIfNeeded",
this._increasePoolIfNeeded.bind(this,0),f))},_getReusables:function(g){var h=[],k=this._hiddenContentSize*this._ratio,l=this._virtualStart,n=this._virtualEnd,p=this._physicalCount,q=this._physicalTop+this._scrollOffset;var r=this._physicalBottom+this._scrollOffset;var t=this._scrollTop,v=this._scrollBottom;if(g){var u=this._physicalStart;r=t-q}else u=this._physicalEnd,r-=v;for(;;){var y=this._getPhysicalSizeIncrement(u);r-=y;if(h.length>=p||r<=k)break;if(g){if(n+h.length+1>=this._virtualCount)break;
if(q+y>=t-this._scrollOffset)break;h.push(u);q+=y;u=(u+1)%p}else{if(0>=l-h.length)break;if(q+this._physicalSize-y<=v)break;h.push(u);q-=y;u=0===u?p-1:u-1}}return{indexes:h,physicalTop:q-this._scrollOffset}},_update:function(g,h){if(!(g&&0===g.length||0===this._physicalCount)){this._manageFocus();this._assignModels(g);this._updateMetrics(g);if(h)for(;h.length;)g=h.pop(),this._physicalTop-=this._getPhysicalSizeIncrement(g);this._positionItems();this._updateScrollerSize()}},_createPool:function(g){this._ensureTemplatized();
var h,k=Array(g);for(h=0;h<g;h++){var l=this.stamp(null);k[h]=l.root.querySelector("*");this._itemsParent.appendChild(l.root)}return k},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(g){g=this._clamp(this._physicalCount+g,3,this._virtualCount-this._virtualStart);g=this._convertIndexToCompleteRow(g);if(this.grid){var h=g%this._itemsPerRow;h&&g-h<=this._physicalCount&&(g+=this._itemsPerRow);
g-=h}g-=this._physicalCount;h=Math.round(.5*this._physicalCount);if(!(0>g)){if(0<g){h=window.performance.now();[].push.apply(this._physicalItems,this._createPool(g));for(var k=0;k<g;k++)this._physicalSizes.push(0);this._physicalCount+=g;this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=g);this._update();this._templateCost=(window.performance.now()-h)/g;h=Math.round(.5*
this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===h||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,h)),e):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,h),f))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var g=this._getReusables(!0);this._physicalTop=g.physicalTop;this._virtualStart+=
g.indexes.length;this._physicalStart+=g.indexes.length;this._update(g.indexes);this._update();this._increasePoolIfNeeded(0)}else 0<this._virtualCount&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){(this._userTemplate=this.queryEffectiveChildren("template"))||console.warn("iron-list requires a template to be provided in light-dom");var g={__key__:!0};g[this.as]=!0;g[this.indexAs]=!0;g[this.selectedAs]=!0;g.tabIndex=!0;this._instanceProps=
g;this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(g,h){"undefined"!==typeof h&&(this.notifyResize(),Polymer.flush?Polymer.flush():Polymer.dom.flush(),g&&this._updateGridMetrics())},_itemsChanged:function(g){if("items"===g.path)this._physicalTop=this._virtualStart=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items&&Polymer.Collection?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._lastVisibleIndexVal=this._firstVisibleIndexVal=
null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,d);else if("items.splices"===g.path){this._adjustVirtualIndex(g.value.indexSplices);this._virtualCount=this.items?this.items.length:0;var h=this._getActiveElement();this.contains(h)&&h.blur();g=g.value.indexSplices.some(function(k){return k.index+
k.addedCount>=this._virtualStart&&k.index<=this._virtualEnd},this);this._isClientFull()&&!g||this._debounce("_render",this._render,d)}else"items.length"!==g.path&&this._forwardItemPath(g.path,g.value)},_forwardItemPath:function(g,h){g=g.slice(6);var k=g.indexOf(".");-1===k&&(k=g.length);var l,n=this.modelForElement(this._offscreenFocusedItem);if(c){var p=parseInt(g.substring(0,k),10);if(l=this._isIndexRendered(p)){var q=this._getPhysicalIndex(p);var r=this.modelForElement(this._physicalItems[q])}else n&&
(r=n);if(!r||r[this.indexAs]!==p)return}else if(p=g.substring(0,k),n&&n.__key__===p)r=n;else if(q=this._physicalIndexForKey[p],r=this.modelForElement(this._physicalItems[q]),!r||r.__key__!==p)return;g=g.substring(k+1);g=this.as+(g?"."+g:"");c?r._setPendingPropertyOrPath(g,h,!1,!0):r.notifyPath(g,h,!0);r._flushProperties&&r._flushProperties(!0);l&&(this._updateMetrics([q]),this._positionItems(),this._updateScrollerSize())},_adjustVirtualIndex:function(g){g.forEach(function(h){h.removed.forEach(this._removeItem,
this);h.index<this._virtualStart&&(h=Math.max(h.addedCount-h.removed.length,h.index-this._virtualStart),this._virtualStart+=h,0<=this._focusedVirtualIndex&&(this._focusedVirtualIndex+=h))},this)},_removeItem:function(g){this.$.selector.deselect(g);this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===g&&this._removeFocusedItem()},_iterateItems:function(g,h){var k,l;if(2===arguments.length&&h)for(l=0;l<h.length;l++){var n=h[l];var p=this._computeVidx(n);if(null!=(k=g.call(this,n,p)))return k}else{n=
this._physicalStart;for(p=this._virtualStart;n<this._physicalCount;n++,p++)if(null!=(k=g.call(this,n,p)))return k;for(n=0;n<this._physicalStart;n++,p++)if(null!=(k=g.call(this,n,p)))return k}},_computeVidx:function(g){return g>=this._physicalStart?this._virtualStart+(g-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+g},_assignModels:function(g){this._iterateItems(function(h,k){var l=this._physicalItems[h],n=this.items&&this.items[k];if(null!=n){var p=this.modelForElement(l);
p.__key__=this._collection?this._collection.getKey(n):null;this._forwardProperty(p,this.as,n);this._forwardProperty(p,this.selectedAs,this.$.selector.isSelected(n));this._forwardProperty(p,this.indexAs,k);this._forwardProperty(p,"tabIndex",this._focusedVirtualIndex===k?0:-1);this._physicalIndexForKey[p.__key__]=h;p._flushProperties&&p._flushProperties(!0);l.removeAttribute("hidden")}else l.setAttribute("hidden","")},g)},_updateMetrics:function(g){Polymer.flush?Polymer.flush():Polymer.dom.flush();
var h=0,k=0,l=this._physicalAverageCount,n=this._physicalAverage;this._iterateItems(function(p){k+=this._physicalSizes[p];this._physicalSizes[p]=this._physicalItems[p].offsetHeight;h+=this._physicalSizes[p];this._physicalAverageCount+=this._physicalSizes[p]?1:0},g);this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(k=1===this._itemsPerRow?k:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+
h-k,this._itemsPerRow=1);this._physicalAverageCount!==l&&(this._physicalAverage=Math.round((n*l+h)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200;this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var g=this._physicalTop;
if(this.grid){var h=(this._viewportWidth-this._itemsPerRow*this._itemWidth)/2;this._iterateItems(function(k,l){var n=Math.floor(l%this._itemsPerRow*this._itemWidth+h);this._isRTL&&(n*=-1);this.translate3d(n+"px",g+"px",0,this._physicalItems[k]);this._shouldRenderNextRow(l)&&(g+=this._rowHeight)})}else this._iterateItems(function(k){this.translate3d(0,g+"px",0,this._physicalItems[k]);g+=this._physicalSizes[k]})},_getPhysicalSizeIncrement:function(g){return this.grid?this._computeVidx(g)%this._itemsPerRow!==
this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[g]},_shouldRenderNextRow:function(g){return g%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var g=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==g){this._physicalTop-=g;var h=this._scrollTop;!b&&0<h&&this._resetScrollPosition(h-g)}},_resetScrollPosition:function(g){this.scrollTarget&&0<=g&&(this._scrollPosition=this._scrollTop=g)},_updateScrollerSize:function(g){this._estScrollHeight=
this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;if((g=(g=(g=g||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight},scrollToItem:function(g){return this.scrollToIndex(this.items.indexOf(g))},
scrollToIndex:function(g){if(!("number"!==typeof g||0>g||g>this.items.length-1)&&(Polymer.flush?Polymer.flush():Polymer.dom.flush(),0!==this._physicalCount)){g=this._clamp(g,0,this._virtualCount-1);if(!this._isIndexRendered(g)||g>=this._maxVirtualStart)this._virtualStart=this.grid?g-2*this._itemsPerRow:g-1;this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var h=this._physicalStart,k=this._virtualStart,
l=0,n=this._hiddenContentSize;k<g&&l<=n;)l+=this._getPhysicalSizeIncrement(h),h=(h+1)%this._physicalCount,k++;this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+l);this._increasePoolIfNeeded(0);this._lastVisibleIndexVal=this._firstVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverageCount=this._physicalAverage=0},_resizeHandler:function(){this._debounce("_render",function(){this._lastVisibleIndexVal=this._firstVisibleIndexVal=
null;this.updateViewportBoundaries();this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},d)},selectItem:function(g){return this.selectIndex(this.items.indexOf(g))},selectIndex:function(g){if(!(0>g||g>=this._virtualCount)){!this.multiSelection&&this.selectedItem&&this.clearSelection();if(this._isIndexRendered(g)){var h=this.modelForElement(this._physicalItems[this._getPhysicalIndex(g)]);h&&(h[this.selectedAs]=!0);this.updateSizeForIndex(g)}this.$.selector.selectIndex?
this.$.selector.selectIndex(g):this.$.selector.select(this.items[g])}},deselectItem:function(g){return this.deselectIndex(this.items.indexOf(g))},deselectIndex:function(g){0>g||g>=this._virtualCount||(this._isIndexRendered(g)&&(this.modelForElement(this._physicalItems[this._getPhysicalIndex(g)])[this.selectedAs]=!1,this.updateSizeForIndex(g)),this.$.selector.deselectIndex?this.$.selector.deselectIndex(g):this.$.selector.deselect(this.items[g]))},toggleSelectionForItem:function(g){return this.toggleSelectionForIndex(this.items.indexOf(g))},
toggleSelectionForIndex:function(g){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(g):this.$.selector.isSelected(this.items[g]))?this.deselectIndex(g):this.selectIndex(g)},clearSelection:function(){this._iterateItems(function(g){this.modelForElement(this._physicalItems[g])[this.selectedAs]=!1});this.$.selector.clearSelection()},_selectionEnabledChanged:function(g){(g?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(g){var h=this.modelForElement(g.target);
if(h){var k=Polymer.dom(g).path[0];g=this._getActiveElement();var l=this._physicalItems[this._getPhysicalIndex(h[this.indexAs])];if("input"!==k.localName&&"button"!==k.localName&&"select"!==k.localName){k=h.tabIndex;h.tabIndex=-100;var n=g?g.tabIndex:-1;h.tabIndex=k;g&&l!==g&&l.contains(g)&&-100!==n||this.toggleSelectionForItem(h[this.as])}}},_multiSelectionChanged:function(g){this.clearSelection();this.$.selector.multi=g},updateSizeForItem:function(g){return this.updateSizeForIndex(this.items.indexOf(g))},
updateSizeForIndex:function(g){if(!this._isIndexRendered(g))return null;this._updateMetrics([this._getPhysicalIndex(g)]);this._positionItems();return null},_manageFocus:function(){var g=this._focusedVirtualIndex;0<=g&&g<this._virtualCount?this._isIndexRendered(g)?this._restoreFocusedItem():this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},
_convertIndexToCompleteRow:function(g){this._itemsPerRow=this._itemsPerRow||1;return this.grid?Math.ceil(g/this._itemsPerRow)*this._itemsPerRow:g},_isIndexRendered:function(g){return g>=this._virtualStart&&g<=this._virtualEnd},_isIndexVisible:function(g){return g>=this.firstVisibleIndex&&g<=this.lastVisibleIndex},_getPhysicalIndex:function(g){return c?(this._physicalStart+(g-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[g])]},focusItem:function(g){this._focusPhysicalItem(g)},
_focusPhysicalItem:function(g){if(!(0>g||g>=this._virtualCount)){this._restoreFocusedItem();this._isIndexRendered(g)||this.scrollToIndex(g);var h=this._physicalItems[this._getPhysicalIndex(g)],k=this.modelForElement(h),l;k.tabIndex=-100;-100===h.tabIndex&&(l=h);l||(l=Polymer.dom(h).querySelector('[tabindex\x3d"-100"]'));k.tabIndex=0;this._focusedVirtualIndex=g;l&&l.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem);this._focusedItem=
this._focusBackfillItem=this._offscreenFocusedItem=null;this._focusedPhysicalIndex=this._focusedVirtualIndex=-1},_createFocusBackfillItem:function(){var g=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||0>this._focusedVirtualIndex)){if(!this._focusBackfillItem){var h=this.stamp(null);this._focusBackfillItem=h.root.querySelector("*");this._itemsParent.appendChild(h.root)}this._offscreenFocusedItem=this._physicalItems[g];this.modelForElement(this._offscreenFocusedItem).tabIndex=0;this._physicalItems[g]=
this._focusBackfillItem;this._focusedPhysicalIndex=g;this.translate3d(0,"-10000px",0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(0>this._focusedVirtualIndex)){this._assignModels();var g=this._focusedPhysicalIndex,h=this._physicalItems[g];if(h){var k=this.modelForElement(h),l=this.modelForElement(this._offscreenFocusedItem);k[this.as]===l[this.as]?(this._focusBackfillItem=h,k.tabIndex=-1,this._physicalItems[g]=this._offscreenFocusedItem,this.translate3d(0,
"-10000px",0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null);this._offscreenFocusedItem=null}}},_didFocus:function(g){g=this.modelForElement(g.target);var h=this.modelForElement(this._focusedItem),k=null!==this._offscreenFocusedItem,l=this._focusedVirtualIndex;g&&(h===g?this._isIndexVisible(l)||this.scrollToIndex(l):(this._restoreFocusedItem(),h&&(h.tabIndex=-1),g.tabIndex=0,this._focusedVirtualIndex=l=g[this.indexAs],this._focusedPhysicalIndex=this._getPhysicalIndex(l),
this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],k&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(g){switch(g.keyCode){case 40:g.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+
(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this._selectionHandler(g)}},_clamp:function(g,h,k){return Math.min(k,Math.max(h,g))},_debounce:function(g,h,k){c?(this._debouncers=this._debouncers||{},this._debouncers[g]=Polymer.Debouncer.debounce(this._debouncers[g],k,h.bind(this)),Polymer.enqueueDebouncer(this._debouncers[g])):Polymer.dom.addDebouncer(this.debounce(g,h))},_forwardProperty:function(g,h,k){c?g._setPendingProperty(h,k):g[h]=k},_forwardHostPropV2:function(g,
h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(k){k&&this.modelForElement(k).forwardHostProp(g,h)},this)},_notifyInstancePropV2:function(g,h,k){Polymer.Path.matches(this.as,h)&&(g=g[this.indexAs],h==this.as&&(this.items[g]=k),this.notifyPath(Polymer.Path.translate(this.as,"items."+g,h),k))},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(g,h,k){0===h.indexOf(this.as+".")&&this.notifyPath("items."+
g.__key__+"."+h.slice(this.as.length+1),k)},_forwardParentPath:function(g,h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(k){k&&this.modelForElement(k).notifyPath(g,h,!0)},this)},_forwardParentProp:function(g,h){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(k){k&&(this.modelForElement(k)[g]=h)},this)},_getActiveElement:function(){var g=this._itemsParent.node.domHost;return Polymer.dom(g?
g.root:document).activeElement}})})();
</script>








<dom-module id="facets-overview-row-stats">
  <template>
    <style>
      * {
        text-align: right;
        white-space: nowrap;
        overflow-x: hidden;
        text-overflow: ellipsis;
      }
      .data-error {
        color: red;
        font-weight: bold;
      }
      .data-weighted {
        font-style: italic;
      }
      .table-row {
        display: flex;
        margin-bottom: 4px;
      }
      .table-cell {
        min-width: 70px;
        max-width: 70px;
        padding-right: 4px;
        overflow: hidden;
      }
      .data-custom {
        min-width: 150px;
        max-width: 150px;
        white-space: pre;;
      }
      #legend-box {
        width: 6px;
        height: 16px;
        margin-left: 4px;
      }
    </style>
    <div class="table-row">
      <div id="legend-box"></div>
      <template is="dom-repeat" items="[[_entries]]">
        <div class$="[[item.cssClass]] table-cell" title="[[item.fullStr]]">[[item.str]]</div>
      </template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-stats/facets-overview-row-stats.js
Polymer({is:"facets-overview-row-stats",properties:{stats:Object,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,datasetIndex:Number,compareMode:Boolean,_entries:{type:Array,computed:"_getEntries(stats, showWeighted, hasCustom)"}},observers:["_colorLegendBox(dataModel, datasetIndex, compareMode)"],_getEntries:function(a,b,c){if(a){var d=Vi(a),e=Wi(d);e=Sd(a)?e.concat(Xi(Sd(a),d,b)):Ud(a)?e.concat(Zi(Ud(a),b)):e.concat($i(Wd(a)));c&&(e=e.concat(aj($d(a))));a=e}else a=[];return a},_colorLegendBox:function(a,
b,c){var d=d3.select(this.$$("#legend-box"));2>a.getDatasetNames().length&&!c?d.style("visibility","hidden"):(d.style("visibility",null),d.style("background-color",a.getChartColorString(b)))}});
</script>




<dom-module id="facets-overview-row-legend">
  <template>
    <style>
      .table-row {
        display: flex;
        background: rgba(61,140,207,0.1);
        border-left: solid 0.5px rgba(0,0,0,0.1);
        border-bottom: solid 0.5px rgba(0,0,0,0.1);
      }
      .table-cell {
        padding: 20px 4px 8px 0;
        min-width: 69px;
        max-width: 69px;
        text-align: right;
        font-size: 14px;
        font-weight: 300;
        border-right: solid 0.5px rgba(0,0,0,0.1);
      }
      .data-weighted {
        font-style: italic;
      }
      .data-custom {
        min-width: 150px;
        max-width: 150px;
      }
      .legend-space {
        width: 6px;
        height: 8px;
        margin-left: 4px;
      }
    </style>
    <div class="table-row">
      <div class="legend-space"></div>
      <template is="dom-repeat" items="[[_entries]]">
        <div class$="[[item.cssClass]] table-cell">[[item.str]]</div>
      </template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-legend/facets-overview-row-legend.js
Polymer({is:"facets-overview-row-legend",properties:{numeric:Boolean,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,_entries:{type:Array,computed:"_getEntries(numeric, showWeighted, hasCustom)"}},_getEntries:function(a,b,c){var d=[];d.push(Ui("count"));d.push(Ui("missing"));a?(d.push(Ui("mean",b)),d.push(Ui("std dev",b)),d.push(Ui("zeros")),d.push(Ui("min")),d.push(Ui("median",b)),d.push(Ui("max"))):(d.push(Ui("unique")),d.push(Ui("top",b)),d.push(Ui("freq top",b)),d.push(Ui("avg str len")));
c&&(a=new Oi("custom","data-custom "),d.push(a));return d}});
</script>








<dom-module id="facets-overview-chart">
  
  <template>
    <style>
      .plottable.chart-small {
        height: 46px;
        width: 250px;
      }
      .plottable.xaxis-small{
        height: 30px;
        width: 250px;
      }
      .plottable.chart-big {
        height: 200px;
        width: 550px;
      }
      .plottable.xaxis-big {
        height: 50px;
        width: 550px;
      }
      #show_table_button {
        margin: 0 0 0 5px;
        padding: 0 3px;
        font-size: 7pt;
        background-color: #d3d3d3;
      }
      .dialog-row-entry {
        padding: 0 10px 0 0;
      }
      .table-header {
        border-bottom: 1px solid black;
      }
      .dialog-row, .dialog-header-row {
        display: flex;
      }
      .dialog-row.selected {
        border: 1px solid black
      }
      .dialog-row:hover {
        background-color: #D0D0D0;
        cursor: pointer;
      }
      .dialog-table {
        clear: left;
      }
      .label-cell {
        width: 90px;
        max-width: 90px;
        min-width: 90px;
        overflow-wrap: break-word;
      }
      .non-overflow-label-cell {
        width: 90px;
        max-width: 90px;
        min-width: 90px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .count-cell {
        width: 100px;
        max-width: 100px;
        min-width: 100px;
        overflow-wrap: break-word;
      }
      .weighted-cell {
        font-style: italic;
      }
      .data-list-small {
        height: 60px;
      }
      .data-list-big {
        height: 180px;
        width: 550px;
      }
      .hidechart {
        display: none;
      }
      .showchart {
        display: inline;
      }
      #tooltip {
        background-color: var(--paper-tooltip-background, #616161);
        opacity: 0;
        color: white;
        pointer-events:none;
        transition: opacity 0.3s;
        position: absolute;
        text-align:center;
        padding: 6px;
        border-radius: 2px;
        font-size: 12px;
        line-height: 1;
        margin-left: 50px;
        white-space: pre;
        top: 0px;
      }
      .toplevel {
        position: relative;
        text-align: left;
        padding-top: 4px;
      }
    </style>
    <div class="toplevel">
      <template is="dom-if" if="[[_isStringChart(_chartType, chartSelection)]]">
        <paper-button id="show_table_button" on-click="_toggleShowTable">[[_getShowTableButtonText(_showTable)]]</paper-button>
      </template>
      <div class$="[[_chartClass]]">
        <div id="chart" class$="[[_chartSvgClass]]"></div>
        <div id="xaxis" class$="[[_xAxisSvgClass]]"></div>
      </div>
      <template is="dom-if" if="[[_showTable]]">
        <div class="dialog-table">
          <div class="dialog-header-row">
            <div class="dialog-row-entry table-header label-cell">Value</div>
            <template is="dom-repeat" items="[[data]]" as="data">
              <div class="dialog-row-entry table-header">
                <div class="non-overflow-label-cell">[[data.name]]</div>
              </div>
            </template>
          </div>
          <iron-list items="[[_tableData]]" as="entry" class$="[[_tableDataClass]]">
            <template>
              <div class$="[[_getEntryRowClass(entry, selection)]]" on-tap="_rowClick" data-value="[[_getEntryRowValue(entry)]]">
                <div class="dialog-row-entry label-cell">[[entry.value]]</div>
                <template is="dom-repeat" items="[[entry.counts]]" as="count">
                  <div class$="[[_getCountCellClass(showWeighted)]]">[[count]]</div>
                </template>
              </div>
            </template>
          <iron-list>
        </iron-list></iron-list></div>
      </template>
      <div id="tooltip"></div>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-chart/facets-overview-chart.js
Polymer({is:"facets-overview-chart",properties:{data:{type:Object,observer:"_updateData"},dataModel:Object,feature:String,_maxBucketsForBarChart:{type:Number,value:10,readOnly:!0},_chartAlpha:{type:Number,value:1},logScale:Boolean,showWeighted:Boolean,showPercentage:Boolean,chartSelection:{type:Number,observer:"_updateChartSelection"},selection:{type:Object,observer:"_updateSelectionVisibility",notify:!0},expandChart:Boolean,_selectionElem:Object,_minBarHeightRatio:{type:Number,value:.01,readOnly:!0},
_onClick:Object,_onClickFunction:Object,_onPointer:Object,_onPointerEnterFunction:Object,_onPointerExitFunction:Object,_tableData:Array,_showTable:{type:Boolean,value:!1},_chartType:Object,_chartClass:{type:String,computed:"_getChartClass(_showTable)"},_chartSvgClass:{type:String,computed:"_getChartSvgClass(expandChart)"},_xAxisSvgClass:{type:String,computed:"_getXAxisSvgClass(expandChart)"},_tableDataClass:{type:String,computed:"_getTableDataClass(expandChart)"}},observers:["_render(data, logScale, showWeighted, chartSelection, _showTable, expandChart, showPercentage, dataModel)"],
_updateData:function(){this._showTable=!1},_updateChartSelection:function(){this._showTable=!1},_hasWeightedHistogram:function(a){return Di(a)},_hasQuantiles:function(a){a:{if(a)for(var b=0;b<a.length;b++)if(a[b].histMap[ni]){a=!0;break a}a=!1}return a},_isStringChart:function(a,b){return(a===Li.CUMDIST_CHART||a===Li.BAR_CHART)&&b!==oi&&b!==pi},_disableLogCheckbox:function(a,b){return a||b!==mi},_render:function(a,b,c,d,e,f,g,h){var k=this;this._onPointer&&(this._onPointer.offPointerMove(this._onPointerEnterFunction),
this._onPointer.offPointerMove(this._onPointerExitFunction));this._onClick&&this._onClick.offClick(this._onClickFunction);a&&(this._chartAlpha=h.getChartAlpha(),e=a.map(function(l){return k._getBuckets(l,c,d)}),this._chartType=Ni(a,d,this._maxBucketsForBarChart),a=a.map(function(l){return l.name}),d===oi||d===pi||d===ni?this._renderQuantileChart(e,a,b):this._chartType===Li.HISTOGRAM?this._renderHistogramChart(e,a,b,g):this._chartType===Li.CUMDIST_CHART?this._renderCdfChart(e,a,b):this._renderBarChart(e,
a,b,g))},_renderHistogramChart:function(a,b,c,d){var e=this,f=[],g=new Plottable.Plots.Rectangle,h=Infinity,k=-Infinity,l=0;d&&(a=bj(a));a.forEach(function(r,t){r.forEach(function(v){var u=yi(v.getLowValue()),y=yi(nf(v));v=yi(v.getSampleCount());u<h&&(h=u);y>k&&(k=y);v>l&&(l=v);isFinite(u)&&isFinite(y)&&f.push(y-u)});g.addDataset(new Plottable.Dataset(r,{name:b[t]}))});var n=0<f.length?f.reduce(function(r,t){return r+t})/f.length:0;0===n&&(n=1);d=[];isFinite(h)&&(d.push(h),isFinite(k)&&d.push(k));
a=new Plottable.Scales.Linear;0<d.length&&a.domain(d);d=this._getScale(c).domain([0]);var p=new Plottable.Axes.Numeric(a,"bottom"),q=new Plottable.Axes.Numeric(d,"left");q.formatter(this._chartAxisScaleFormatter());p.formatter(this._chartAxisScaleFormatter());g.x(function(r){var t=yi(r.getLowValue());if(-Infinity===t||t===nf(r))r=yi(nf(r)),isFinite(r)?t=r-n:(t=0,-Infinity===r&&(t-=n));return t},a).x2(function(r){var t=yi(nf(r));if(Infinity===t||t===r.getLowValue())r=yi(r.getLowValue()),isFinite(r)?
t=r+n:(t=0,Infinity===r&&(t+=n));return t}).y(function(){return 0},d).y2(function(r){return e._getCountWithFloor(r,l,c)});g.attr("fill",function(r,t,v){return v.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);this._renderChart(g,p,q,null,null,function(r){return g.entitiesAt(r)},function(r){return ti(yi(r.getLowValue()),2).toLocaleString()+"-"+ti(yi(nf(r)),2).toLocaleString()+": "+yi(r.getSampleCount()).toLocaleString()},function(r){return new qi(e.feature,void 0,
yi(r.getLowValue()),yi(nf(r)))},function(r){return r.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(r,t){return r.attr("x",t.position.x-t.selection._groups[0][0].width.baseVal.value/2).attr("y",t.position.y-t.selection._groups[0][0].height.baseVal.value/2).attr("width",t.selection._groups[0][0].width.baseVal.value).attr("height",t.selection._groups[0][0].height.baseVal.value)})},_renderQuantileChart:function(a,b,c){var d=this,e=new Plottable.Plots.Line,
f=new Plottable.Plots.Scatter,g=Infinity,h=-Infinity;a.forEach(function(n,p){var q=[],r=n.length;n.forEach(function(v,u){var y=yi(v.getLowValue()),w=yi(nf(v));y<g&&(g=y);w>h&&(h=w);y=new fi;y.bucket=v;y.datasetIndex=p;y.quantile=100*u/r;q.push(y)});if(0<n.length){var t=new hf;lf(t,nf(n[n.length-1]));mf(t,nf(n[n.length-1]));t.setSampleCount(n[n.length-1].getSampleCount());n=new fi;n.bucket=t;n.datasetIndex=p;n.quantile=100;q.push(n)}e.addDataset(new Plottable.Dataset(q,{name:b[p]}));f.addDataset(new Plottable.Dataset(q,
{name:b[p]}))});var k=isFinite(g)&&isFinite(h)?h===g?1:(h-g)/10:0,l=[];isFinite(g)&&(l.push(g-k),isFinite(h)&&l.push(h+k));c=this._getScale(c);0<l.length&&c.domain(l);l=this._getScale(!1).domain([-a.length+.5,1]);a=new Plottable.Axes.Numeric(c,"bottom");a.formatter(this._chartAxisScaleFormatter());e.x(function(n){return yi(n.bucket.getLowValue())},c).y(function(n){return-1*n.datasetIndex},l);f.x(function(n){return yi(n.bucket.getLowValue())},c).y(function(n){return-n.datasetIndex},l).size(function(n){return 50===
n.quantile?15:8}).symbol(function(){return Plottable.SymbolFactories.cross()});e.attr("stroke","gray").attr("opacity",this._chartAlpha);f.attr("fill",function(n,p,q){return q.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);l=new Plottable.Components.Group([e,f]);this._renderChart(l,a,null,null,null,function(n){return f.entitiesAt(n)},function(n){return n.quantile+"%: "+ti(yi(n.bucket.getLowValue()),2).toLocaleString()},function(n){return new qi(d.feature,void 0,yi(n.bucket.getLowValue()),
yi(nf(n.bucket)))},function(n){return n.append("circle").attr("r",3).attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(n,p){return n.attr("cx",p.position.x).attr("cy",p.position.y)})},_renderBarChart:function(a,b,c,d){var e=this,f=wi(a),g=new Plottable.Scales.Linear,h=new Plottable.Scales.Category,k=this._getScale(c);h.domain(f);h=new Plottable.Axes.Category(h,"bottom");var l=new Plottable.Axes.Numeric(k,"left");l.formatter(this._chartAxisScaleFormatter());d&&(a=bj(a));
var n=0;d=a.map(function(q,r){q.forEach(function(v){v=yi(v.getSampleCount());v>n&&(n=v)});var t=new Hi;t.name=b[r];t.rawBuckets=q;return t});this._tableData=Ki(d,f);var p=new Plottable.Plots.Bar;a.forEach(function(q,r){return p.addDataset(new Plottable.Dataset(q,{name:b[r]}))});p.x(function(q){return f.indexOf(xi(q.getLabel()))},g).y(function(q){return e._getCountWithFloor(q,n,c)},k);p.attr("fill",function(q,r,t){return t.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);
this._renderChart(p,h,l,null,null,function(q){return p.entitiesAt(q)},function(q){return xi(q.getLabel())+": "+yi(q.getSampleCount()).toLocaleString()},function(q){return new qi(e.feature,q.getLabel())},function(q){return q.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(q,r){return q.attr("x",r.position.x-r.selection._groups[0][0].width.baseVal.value/2).attr("y",r.position.y).attr("width",r.selection._groups[0][0].width.baseVal.value).attr("height",
r.selection._groups[0][0].height.baseVal.value)})},_renderCdfChart:function(a,b,c){var d=this,e=b.map(function(r){r=d.dataModel.getFeatureCommonStats(d.feature,r);return null!=r?r.getNumNonMissing()*r.getAvgNumValues():0}),f=wi(a),g={};f.forEach(function(r,t){g[r]=t});var h=(new Plottable.Scales.Linear).domain([0]);c=this._getScale(c).domain([0]);var k=new Plottable.Axes.Numeric(h,"bottom"),l=new Plottable.Axes.Numeric(c,"left"),n=new Plottable.Plots.Line;a=a.map(function(r,t){var v=[],u=[],y=[],
w=-1;r.forEach(function(x){x=new x.constructor(Hc(x.toArray()));y.push(x)});0<t&&y.sort(function(x,z){return g[xi(x.getLabel())]-g[xi(z.getLabel())]});y.forEach(function(x,z){for(var B=g[xi(x.getLabel())],A=w+1;A<B;A++){var C=new qf;tc(C,4,f[A],"");sc(C,1,A);sc(C,2,A);0===v.length?C.setSampleCount(0):C.setSampleCount(v[v.length-1].getSampleCount());v.push(C);C=new qf;tc(C,4,f[A],"");sc(C,1,A);sc(C,2,A);C.setSampleCount(0);u.push(C)}w=B;A=x.clone();u.push(A);0===z?x.setSampleCount(yi(x.getSampleCount())/
e[t]):(z=0<B?B-1:z-1,x.setSampleCount(yi(x.getSampleCount())/e[t]+yi(v[z].getSampleCount())));sc(x,1,B);sc(x,2,B);v.push(x)});r=new Hi;r.name=b[t];r.percBuckets=v;r.rawBuckets=u;return r});this._tableData=Ji(a);for(var p=0;p<a.length;p++){var q=a[p];n.addDataset(new Plottable.Dataset(q.percBuckets,{name:q.name}))}n.x(function(r){return yi(D(r,1,0))},h).y(function(r){return yi(r.getSampleCount())},c);n.attr("stroke",function(r,t,v){return v.metadata().name},this.dataModel.getColorScale()).attr("opacity",
this._chartAlpha);this._renderChart(n,k,l,null,null,function(r){return n.entitiesAt(r)},function(r){return xi(r.getLabel())+": "+ti(yi(r.getSampleCount()),4).toLocaleString()},function(r){return new qi(d.feature,r.getLabel())},function(r){return r.append("circle").attr("r",3).attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(r,t){return r.attr("cx",t.position.x).attr("cy",t.position.y)})},_renderChart:function(a,b,c,d,e,f,g,h,k,l){var n=this;if(!this._showTable){var p=
new Plottable.Components.Table([[e,c,a],[null,null,null]]),q=new Plottable.Components.Table([[null,null],[null,b]]);Plottable.RenderController.renderPolicy();var r=d3.select(this.$.chart),t=d3.select(this.$.xaxis),v=d3.select(this.$.tooltip);this.async(function(){r.selectAll(".component").remove();t.selectAll(".component").remove();p.renderTo(n.$.chart);n._selectionElem=k(a.foreground());n._updateSelectionVisibility(n.selection);r.on("mouseenter",function(){n._onPointer=new Plottable.Interactions.Pointer;
n._onPointerEnterFunction=function(u){u=f(u);0<u.length&&(u=u.map(function(y){return null==y.dataset.metadata().name||1===n.dataModel.getDatasetNames().length?g(y.datum):y.dataset.metadata().name+": "+g(y.datum)}).join("\n"),v.text(u),v.style("opacity","1"))};n._onPointer.onPointerMove(n._onPointerEnterFunction);n._onPointerExitFunction=function(){v.style("opacity","0")};n._onPointer.onPointerExit(n._onPointerExitFunction);n._onPointer.attachTo(a);n.chartSelection!==oi&&(n._onClick=new Plottable.Interactions.Click,
n._onClickFunction=function(u){u=f(u);0<u.length&&(l(n._selectionElem,u[0]),u=h(u[0].datum),n._setSelection(u))},n._onClick.onClick(n._onClickFunction),n._onClick.attachTo(a))}).on("mouseleave",function(){n._onPointer.detachFrom();n._onClick.detachFrom()});null!=c&&q.columnPadding(p.componentAt(1).width()+(p.componentAt(0)?p.componentAt(0).width():0));q.renderTo(n.$.xaxis)})}},_setSelection:function(a){a.equals(this.selection)&&a.clear();this.selection=a;this.fire("feature-select",{selection:a})},
_getBuckets:function(a,b,c){return ui(a,b,c)},_getScale:function(a){return a?new Plottable.Scales.ModifiedLog:new Plottable.Scales.Linear},_chartAxisScaleFormatter:function(){var a=Plottable.Formatters.shortScale();return function(b){return 1E3>Math.abs(b)?String(b):a(b)}},_getCountWithFloor:function(a,b,c){a=yi(a.getSampleCount());!c&&0<a&&a/b<this._minBarHeightRatio&&(a=b*this._minBarHeightRatio);return a},_updateSelectionVisibility:function(a){this._selectionElem&&this._selectionElem.style("display",
null==a||a.name!==this.feature?"none":"inline")},_toggleShowTable:function(){this._showTable=!this._showTable},_getChartClass:function(a){return a?"hidechart":"showchart"},_getShowTableButtonText:function(a){return a?"show chart":"show raw data"},_getChartSvgClass:function(a){return a?"chart-big":"chart-small"},_getXAxisSvgClass:function(a){return a?"xaxis-big":"xaxis-small"},_getTableDataClass:function(a){return a?"data-list-big":"data-list-small"},_rowClick:function(a){a=new qi(this.feature,a.currentTarget.dataValue);
this._setSelection(a)},_getEntryRowValue:function(a){return a.value},_getEntryRowClass:function(a,b){var c="dialog-row";null!=b&&b.name===this.feature&&b.stringValue===a.value&&(c+=" selected");return c},_getCountCellClass:function(a){return"dailog-row-entry count-cell"+(a?" weighted-cell":"")}});
</script>


<dom-module id="facets-overview-table">
  <template>
    <style>
      .feature-name {
        font-weight: 500;
        max-width: 480px;
        word-wrap: break-word;
        margin: 0 0 4px 4px;
      }
      .table-name {
        font-weight: 500;
        word-wrap:break-word;
        padding: 4px 0 4px 8px;
        background: rgba(61,140,207,0.3);
        border: solid 0.5px rgba(0,0,0,0.1);
      }
      .feature-iron-list {
        overflow-x: hidden !important;
        height: 800px;
      }
      .chart-column {
        width: 280px;
        min-width: 280px;
        text-align: center;
      }
      .chart-column.header-cell {
        background: rgba(61,140,207,0.1);
        border-top: solid 0.5px rgba(0,0,0,0.1);
        border-bottom: solid 0.5px rgba(0,0,0,0.1);
        border-right: solid 0.5px rgba(0,0,0,0.1);
        padding-left: 8px;
      }
      .numeric-row {
        min-height: 80px;
        display: table-row;
      }
      .categorical-row {
        min-height: 98px;
        display: table-row;
      }
      .table-cell {
        display: table-cell;
        vertical-align: top;
        font-size: 14px;
        line-height: 1.2em;
      }
      .chart-column.table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 0 0 20px
        margin-right: 10px;
      }
      .header-cell {
        position: relative;
        min-height: 60px;
      }
      paper-checkbox {
        --paper-checkbox-size: 12px;
        --paper-checkbox-label-spacing: 2px;
      }
      .control-holder {
        position: absolute;
        bottom: 0;
        width: 100%;
      }
      .checkbox-holder {
        display: flex;
        padding-bottom: 2px;
      }
      .chart-checkbox {
        padding-right: 8px;
        font-size: 12px;
      }
      #weightbox {
        font-style: italic;
      }
      paper-dropdown-menu {
        display: block;
        width: 150px;
        --paper-input-container-label --paper-input-container-input: {
          font-size: 14px;
        }
      }
      .hidden {
        display: none;
      }
    </style>
    <div class$="[[_getTableWrapperClass(features)]]">
      <div class="header-row">
        <div class="header-cell table-cell">
          <div class="table-name">[[_getTitle(numeric)]] Features ([[_getFeatureCountText(dataModel, numeric, features)]])
          </div>
          <facets-overview-row-legend numeric="[[numeric]]" show-weighted="[[_showWeighted]]" has-custom="[[_hasCustomStats(dataModel)]]" data-model="[[dataModel]]">
          </facets-overview-row-legend>
        </div>
        <div class="table-cell chart-column header-cell">
          <div class="control-holder">
            <paper-dropdown-menu label="Chart to show">
              <paper-listbox class="dropdown-content" selected="{{_chartSelection}}" attr-for-selected="value">
                <template is="dom-repeat" items="[[_chartSelectionTypes]]">
                  <paper-item value="[[item]]">[[item]]</paper-item>
                </template>
              </paper-listbox>
            </paper-dropdown-menu>
            <div class="checkbox-holder">
              <paper-checkbox class="chart-checkbox" id="logbox" checked="{{_logScale}}">log</paper-checkbox>
              <paper-checkbox class="chart-checkbox" id="expandbox" checked="{{_expandCharts}}">expand</paper-checkbox>
              <template is="dom-if" if="[[_hasWeightedHistogram(features)]]">
                <paper-checkbox class="chart-checkbox" id="weightbox" checked="{{_showWeighted}}">weighted</paper-checkbox>
              </template>
              <template is="dom-if" if="[[_hasMultipleDatasets(dataModel)]]">
                <paper-checkbox class="chart-checkbox" id="percentbox" checked="{{_showPercentage}}" disabled="[[_chartSelectionHasQuantiles(_chartSelection)]]">percentages</paper-checkbox>
              </template>
            </div>
          </div>
        </div>
      </div>
      <iron-list items="[[features]]" as="feature" class="feature-iron-list">
        <template>
          <div class$="[[_getTableRowClass(numeric)]]">
            <div class="table-cell">
              <div class="feature-name">[[_getFeatureName(feature)]]</div>
              <template is="dom-repeat" items="[[_getDatasets(dataModel)]]" as="dataset" index-as="datasetIndex">
                <div>
                  <facets-overview-row-stats stats="[[_getStats(dataModel, dataset, feature)]]" custom-stats="[[_getAllCustomStats(dataModel, feature)]]" show-weighted="[[_showWeighted]]" has-custom="[[_hasCustomStats(dataModel)]]" data-model="[[dataModel]]" dataset-index="[[datasetIndex]]" compare-mode="[[compareMode]]">
                  </facets-overview-row-stats>
                </div>
              </template>
            </div>
            <div class$="[[_getChartClass(_expandCharts)]]">
              <facets-overview-chart data="[[_getChartData(dataModel, feature)]]" data-model="[[dataModel]]" feature="[[_getFeatureName(feature)]]" selection="{{featureSliceSelection}}" log-scale="[[_logScale]]" show-weighted="[[_showWeighted]]" show-percentage="[[_showPercentage]]" chart-selection="[[_chartSelection]]" expand-chart="[[_expandCharts]]">
              </facets-overview-chart>
            </div>
          </div>
        </template>
      </iron-list>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-table/facets-overview-table.js
Polymer({is:"facets-overview-table",properties:{dataModel:{type:Object,observer:"_handleResize"},features:Array,featureSliceSelection:{type:Object,notify:!0},numeric:{type:Boolean,value:!1},compareMode:{type:Boolean,value:!1},_logScale:{type:Boolean,value:!1},_expandCharts:{type:Boolean,value:!1,observer:"_handleResize"},_showWeighted:{type:Boolean,value:!1},_showPercentage:{type:Boolean,value:!1},_chartSelection:{type:String,value:mi},_enableLogScale:{type:Boolean,value:!0},_chartSelectionTypes:{type:Array,
computed:"_computeChartSelectionTypes(numeric, dataModel, features)"},_maxHeight:{type:Number,value:800,readOnly:!0},_expandedRowHeight:{type:Number,value:330,readOnly:!0},_rowHeight:{type:Number,value:100,readOnly:!0}},_handleResize:function(){var a=this.$$("iron-list");a&&this._expandedRowHeight&&this._rowHeight&&this._maxHeight&&this.features&&(a.style.height=Math.min((this.features?this.features.length:0)*(this._expandCharts?this._expandedRowHeight:this._rowHeight),this._maxHeight)+"px",a.fire("iron-resize"))},
_computeChartSelectionTypes:function(a,b,c){var d=[mi];a&&d.push(ni);if(a=0!==c.length)a:{if(a=this._getChartData(b,c[0]))for(var e=0;e<a.length;e++)if(a[e].histMap[oi]){a=!0;break a}a=!1}a&&d.push(oi);b.doesContainFeatureListLengthData()&&d.push(pi);return d.concat(b.getExtraHistogramNames(c))},attached:function(){var a=this;setTimeout(function(){a._handleResize()},1E3)},_chartSelectionHasQuantiles:function(a){return a===ni||a===oi||a===pi},_getTitle:function(a){return a?"Numeric":"Categorical"},
_getFeatureName:function(a){return a.getName()},_hasCustomStats:function(a){return null==a?!1:a.doesContainCustomStats()},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},_getAllCustomStats:function(a,b){var c=[],d={};Bd(a.getDatasetFeatureStatistics()).forEach(function(e){var f=a.getFeatureIndex(e.getName(),b.getName());null!=f&&(e=$d(e.getFeaturesList()[f]))&&e.forEach(function(g){d[g.getName()]||(d[g.getName()]=!0,c.push(g))})});return c},_getDatasets:function(a){return a?
Bd(a.getDatasetFeatureStatistics()):null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getChartData:function(a,b){return a&&b?a.getDatasetHistogramsForFeature(b.getName()):[]},_getFeatureCountText:function(a,b,c){a=a?a.getNumUniqueFeaturesByType(b):0;c=c.length;return a===c?a.toLocaleString():c.toLocaleString()+"/"+a.toLocaleString()},_hasWeightedHistogram:function(a){return 0===a.length?!1:Di(this._getChartData(this.dataModel,a[0]))},_getChartClass:function(a){var b=
"chart-column ";a||(b+="table-cell ");return b},_getTableWrapperClass:function(a){return a&&0!==a.length?"":"hidden"},_getTableRowClass:function(a){return a?"numeric-row":"categorical-row"}});
</script>





<script>//~~WEBPATH~~/iron-validator-behavior/iron-validator-behavior.html.js
Polymer.IronValidatorBehavior={properties:{validatorType:{type:String,value:"validator"},validatorName:{type:String,value:function(){return this.is}}},ready:function(){new Polymer.IronMeta({type:this.validatorType,key:this.validatorName,value:this})},validate:function(){}};
</script>


<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview-filter-validator.html.js
Polymer({is:"facets-overview-filter-validator",behaviors:[Polymer.IronValidatorBehavior],validate:function(a){try{return new RegExp(a),!0}catch(b){return!1}}});
</script>


<dom-module id="facets-overview">
  <template>
    <style>
      :host {
        @apply(--paper-font-common-base)
        font-size: 10pt;
      }
      .controls {
        background: rgba(234,234,234,0.2);
        border-bottom: solid 0.5px rgba(0,0,0,0.2);
        display: flex;
        height: 60px;
        padding-left: 20px;

      }
      .feature-checkboxes {
        background: rgba(234,234,234,0.2);
        border-bottom: solid 0.5px rgba(0,0,0,0.2);
        display: flex;
        flex-wrap: wrap;
        padding:  8px 0 8px 20px;
      }
      .feature-checkbox {
        display: flex;
        padding: 0 0 0 16px;
      }
      paper-checkbox {
        font-size: 14px;
      }
      .input-control {
        --paper-input-container-label --paper-input-container-input: {
          font-size: 14px;
        };
      }
      .features-text {
        line-height: 1;
        padding: 1px 0 0 0;
        font-size: 14px;
      }
      .left-dropdown {
        padding: 0 10px 0 0;
      }
      .middle-checkbox {
        margin-top: 30px;
        padding: 0 10px;
      }
      .right-input {
        width: 300px;
        padding: 0 10px;
      }
      .feature-iron-list {
        max-height: 800px;
        overflow: auto;
      }
      .feature-column {
        width: 200px;
        max-width: 200px;
        overflow-wrap: break-word;
        text-align: left;
      }
      .legend-column {
        width: 120px;
      }
      .stats-column {
        width: 150px;
        max-width: 150px;
        overflow-wrap: break-word;
        text-align: right;
      }
      .chart-column {
        width: 580px;
        text-align: center;
      }
      .table-row {
        display: table-row;
      }
      .table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 5px 0
      }
      .chart-column.table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 0 0 20px
      }
      .header-row {
        clear: both;
      }
      .header-row > .table-cell {
        font-size: 14pt;
        padding: 0 5px 0;
        border-bottom: 1px solid black;
      }
      .stats-header-text {
        text-align: right;
      }
      .chart-header-text {
        text-align: center;
      }
      .table-holder {
        display: flex;
        flex-wrap: wrap;
        overflow-x: auto;
        margin-left: 30px;
      }
      .table-left {
        margin: 20px 20px 0 0;
      }
      .table-right {
        margin: 20px 0 0 0;
      }
      .hidden {
        display: none;
      }
      .legend-holder {
        display: flex;
        margin: 8px 0 0 38px;
      }
      .legend-box {
        width: 8px;
        height: 8px;
        margin-top: 6px;
      }
      .legend-row {
        display: flex;
      }
      .legend-name {
        margin: 3px 10px 0 5px;
        font-size: 12px;
      }
      /* Give min height to placeholder in paper-input to get around colab embedding
       * alignment issue.
       */
      ::content paper-input-container > .floated-label-placeholder {
        min-height: 20px;
      }
    </style>
    <template is="dom-if" if="[[_dataModel]]">
      <div class$="[[_getControlsWrapperClass(_dataModel)]]">
        <div class="controls">
          <paper-dropdown-menu class="left-dropdown input-control" label="Sort by">
            <paper-listbox class="dropdown-content" selected="{{_sortOrder}}">
              <template is="dom-repeat" items="[[_sortOptions]]" as="option">
                <paper-item>[[option.name]]</paper-item>
              </template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-checkbox noink class="middle-checkbox" checked="{{_reverseOrder}}">
            Reverse order
          </paper-checkbox>
          <paper-input class="right-input input-control" label="Feature search" value="{{searchString}}" auto-validate="true" validator="filter-validator">
            <facets-overview-filter-validator validator-name="filter-validator">
            </facets-overview-filter-validator>
          </paper-input>
        </div>
        <div class="feature-checkboxes">
          <div class="features-text">Features: </div>
          <template is="dom-repeat" items="[[_featureSpecArray]]" as="specAndList">
          <div>
            <paper-checkbox noink checked="true" class="feature-checkbox" id="[[_getSpecCheckboxId(specAndList)]]" on-change="_featureSpecCheck">
              [[_getSpecCheckboxText(specAndList)]]
            </paper-checkbox>
          </div>
        </template>
        </div>
      </div>
      <template is="dom-if" if="[[_hasMultipleDatasets(_dataModel)]]">
        <div class="legend-holder">
          <template is="dom-repeat" items="[[_getDatasets(_dataModel)]]" as="dataset" index-as="datasetIndex">
            <div class="legend-row">
              <div class="legend-box" style="[[_getLegendBoxStyle(_dataModel, datasetIndex)]]"></div>
              <div class="legend-name">[[_getDatasetName(_dataModel, datasetIndex)]]</div>
            </div>
          </template>
        </div>
      </template>
      <div class="table-holder">
        <facets-overview-table features="[[_getNumericFeatureListItems(_dataModel, searchString, _sortOrder, _reverseOrder, _featureSpecCheckboxes)]]" data-model="[[_dataModel]]" feature-slice-selection="{{featureSliceSelection}}" numeric="true" class="table-left" compare-mode="[[compareMode]]">
        </facets-overview-table>
        <facets-overview-table features="[[_getNonNumericFeatureListItems(_dataModel, searchString, _sortOrder, _reverseOrder, _featureSpecCheckboxes)]]" data-model="[[_dataModel]]" feature-slice-selection="{{featureSliceSelection}}" class="table-right" compare-mode="[[compareMode]]">
        </facets-overview-table>
      </div>
    </template>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview.js
Polymer({is:"facets-overview",properties:{searchString:{type:String,notify:!0},_sortOptions:Array,_reverseOrder:Boolean,_sortOrder:{type:Number,value:0},protoInput:{type:Object,observer:"_update"},featureSliceSelection:{type:Object,notify:!0},compareMode:{type:Boolean,value:!1},_dataModel:{type:Object,value:null},_featureSpecArray:{type:Array,computed:"_getFeatureSpecArray(_dataModel)"},_featureSpecCheckboxes:Array},_getFeatureSpecArray:function(a){if(!a)return[];for(var b=[],c=0;16>c;c++)b.push(!0);
this._featureSpecCheckboxes=b;return a.getNonEmptyFeatureSpecLists()},_getSpecCheckboxText:function(a){return Fi(a.spec)+"("+a.features.length+")"},_getSpecCheckboxId:function(a){return String(a.spec)},_featureSpecCheck:function(a){if(a){for(var b=[],c=+a.target.id,d=0;16>d;d++)c===d?b.push(a.target.checked):b.push(this._featureSpecCheckboxes[d]);this._featureSpecCheckboxes=b}},_convertInputToProto:function(a){if(!a||a.constructor===Object&&0===Object.keys(a).length)return null;if(a instanceof Uint8Array)return Hd(a);
if("string"===typeof a||a instanceof String){a=atob(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return Hd(b)}return a.constructor===Object&&"function"===typeof zd.fromObject?zd.fromObject(a):a},_update:function(){var a=this;this.featureSliceSelection=null;var b=this._convertInputToProto(this.protoInput);if(b){var c=new cj(Bi(b));this.set("_sortOptions",[{name:"Feature order",map:{}},{name:"Non-uniformity",map:{}},{name:"Alphabetical",map:{}},{name:"Amount missing/zero",
map:{}}]);var d=Bd(c.getDatasetFeatureStatistics()),e=1<d.length;e&&this.push("_sortOptions",{name:"Distribution distance",map:{}});c.getUniqueFeatures().forEach(function(f,g){a._sortOptions[0].map[f.getName()]=g;g=c.getDatasetHistogramsForFeature(f.getName());a._sortOptions[1].map[f.getName()]=g.reduce(function(h,k){k=k.histMap[mi]?ri(k.histMap[mi].getBucketsList()):1;return Math.min(h,k)},1);a._sortOptions[2].map[f.getName()]=f.getName();a._sortOptions[3].map[f.getName()]=d.reduce(function(h,k){var l=
a._getStats(c,k,f),n=k=0,p=Vi(l);l&&Sd(l)&&(l=Sd(l),k+=yi(D(l,4,0)));p&&(n=yi(p.getNumMissing()),k+=n,n=yi(p.getNumNonMissing())+n);return Math.min(h,-1*(0===n?1:k/n))},0);e&&(a._sortOptions[4].map[f.getName()]=-1*zi(g))},this);this._dataModel=c}else this._dataModel=null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getSortFunction:function(a,b){var c=this._sortOptions[a].map,d=b?-1:1;return function(e,f){e=c[e.getName()];f=c[f.getName()];return"undefined"==
typeof e||"undefined"==typeof f?0:d*(e<f?-1:1)}},_getFilter:function(a){if(a)try{var b=new RegExp(a,"i");return function(c){return b.test(c.getName())}}catch(c){return null}else return null},_getNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!0)},_getNonNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!1)},_getFeatureListItems:function(a,b,c,d,e,f){if(!a)return[];var g=this._getFilter(b);b=a.getUniqueFeatures();b=g?b.filter(function(h){return g(h)&&
e[a.getFeatureSpecForFeature(h.getName())]}):b.filter(function(h){return e[a.getFeatureSpecForFeature(h.getName())]});b=b.filter(function(h){return f?null!=Sd(h):null==Sd(h)});return b.slice().sort(this._getSortFunction(c,d))},_getControlsWrapperClass:function(a){return!a||1>=a.getUniqueFeatures().length?"hidden":""},_getDatasetName:function(a,b){return a.getDatasetNames()[b]},_getLegendBoxStyle:function(a,b){return"background-color:"+a.getChartColorString(b)},_getDatasets:function(a){return a?Bd(a.getDatasetFeatureStatistics()):
null},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},getStatsProto:function(a){return Zh(a)}});
</script>









<dom-module id="iron-autogrow-textarea">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        width: 400px;
        border: 1px solid;
        padding: 2px;
        -moz-appearance: textarea;
        -webkit-appearance: textarea;
        overflow: hidden;
      }

      .mirror-text {
        visibility: hidden;
        word-wrap: break-word;
        @apply --iron-autogrow-textarea;
      }

      .fit {
        @apply --layout-fit;
      }

      textarea {
        position: relative;
        outline: none;
        border: none;
        resize: none;
        background: inherit;
        color: inherit;
        /* see comments in template */
        width: 100%;
        height: 100%;
        font-size: inherit;
        font-family: inherit;
        line-height: inherit;
        text-align: inherit;
        @apply --iron-autogrow-textarea;
      }

      textarea::-webkit-input-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea:-moz-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea::-moz-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea:-ms-input-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }
    </style>

    
    
    <div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div>

    
    <div class="textarea-container fit">
      <textarea id="textarea" name$="[[name]]" aria-label$="[[label]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-autogrow-textarea/iron-autogrow-textarea.html.js
Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var a=this.$.textarea.validity.valid;
a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:
a.target.value},_constrain:function(a){a=a||[""];for(a=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&a.length<this.rows;)a.push("");return a.join("\x3cbr/\x3e")+"\x26#160;"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"\x26amp;").replace(/"/gm,"\x26quot;").replace(/'/gm,"\x26#39;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=
this._constrain(this.tokens)}});
</script>













<dom-module id="vz-example-viewer">
  <template>
    <style id="linter-paper-button-style">
      /**
       * This style preserves the styling previous to
       * https://github.com/PolymerElements/paper-button/pull/115
       * This change can break the layout of paper-button content.
       * Remove this style to apply the change, more details at b/70528356.
       */
      paper-button {
        display: inline-block;
        text-align: center;
        font-family: inherit;
      }
    </style>
    <style>
      :host {
        display: flex;
        position: relative;
      }

      .seq-feat {
        margin-left: 16px;
      }

      .value-list {
        width:100%;
      }

      .slider-holder {
        display: flex;
      }

      .slider-label {
        margin-right: 10px;
        margin-top: 16px;
      }

      #saliencyLegend {
        width: 300px;
        height: 50px;
        margin-left: 8px;
        margin-right: 8px;
      }

      .saliency-controls-holder {
        display: block;
        padding: 8px;
        width: fit-content;
      }

      .hide-saliency-controls {
        display: none;
      }

      .saliency-legend-label {
        font-size: 12px;
        color: #3C4043;
      }

      .outer {
        width: 100%;
        overflow: auto;
      }

      .image {
        /* <img> elements are used to load to a canvas so they aren't displayed. */
        display: none;
      }

      .flex-controls {
        display: flex;
        flex-wrap: wrap;
        overflow: auto;
      }

      .value-pills-holder {
        flex-grow: 1;
        flex-basis: 100%;
      }

      iron-autogrow-textarea {
        border: 1px solid #FFFFFF;
        border-radius: 4px;
        font-size: 14px;
        -moz-appearance: none;
        -webkit-appearance: none;
        --iron-autogrow-textarea: {
          color: #3C4043;
        }
      }

      iron-autogrow-textarea.value-same {
        --iron-autogrow-textarea: {
          color: #5F6368;
        }
      }

      iron-autogrow-textarea.value-different {
        --iron-autogrow-textarea: {
          color: #34A853;
          font-weight: 500;
        }
      }

      .value-pill {
        text-align: left;
        margin: 4px;
        padding: 4px 8px;
        color: #3C4043;
      }

      .value-pill:hover {
        background: #f8f9fa;
      }

      .value-pill[focused] {
        border: 1px solid #ffeb3b;
        background: #f8f9fa;
      }

      .value-compare {
        text-align: left;
        padding: 4px 8px;
      }

      .value-pill-stacked {
        width: 100%;
        margin: 4px 4px 4px 0;
        padding: 2px;
      }

      .value-pill-grid {
        width: 120px;
        margin: 4px 8px 4px 0;
      }

      .feature-name {
        display: flex;
        padding-left: 4px;
        margin: 4px 20px 4px 8px;
        justify-content: space-between;
        color:#80868b;
      }

      .feature-name-text {
        width: 300px;
        max-width: 300px;
        min-width: 150px;
        font-size: 14px;
        margin-top: 4px;
        color: #3C4043;
        line-height: 1.6em;
        text-overflow: ellipsis;
        white-space: pre-wrap;
        word-wrap: break-word;
        padding-right: 8px;
      }

      .feature-name-header-text {
        width: 300px;
        max-width: 300px;
        min-width: 150px;
        color: #202124;
        font-size: 12px;
        line-height: 1.8em;
        text-overflow: ellipsis;
        white-space: pre-wrap;
        word-wrap: break-word;
      }

      .feature-name.feature-name-header {
        padding: 4px 4px 0px 4px;
        background: #f8f9fa;
        margin: 0px;
        border-bottom: 1px solid #e8eaed;
      }

      .slider {
        --paper-slider-input: {
          width: 100px
        }
      }

      .hide-controls {
        display: none;
      }

      .indent {
        margin-left: 16px;
      }

      .scale-label {
        margin-top: 10px;
        margin-right: 10px;
      }

      .windowing-label {
        width: 110px;
      }

      .control-toggle-button {
        float: left;
        max-height: 20px;
        max-width: 20px;
        padding: 0;
      }

      .expand-button-holder {
        margin-bottom: 10px;
      }

      .delete-value-button {
        position: absolute;
        background: #ffe603;
        color: #5F6368;
        border-radius: 12px;
        max-width: 24px;
        max-height: 24px;
        padding: 0;
        margin-top: 2px;
        opacity: 1;
        visibility: visible;
        transition: opacity 200ms;
      }

      .delete-value-button.delete-value-button-hidden {
        opacity: 0;
        visibility: hidden;
        transition: opacity 200ms, visibility 200ms;
      }

      .delete-feature-button {
        max-height: 20px;
        max-width: 20px;
        padding: 0;
        margin-left: 4px;
        margin-top: 0px;
      }

      .add-value-button {
        margin-top: 2px;
        max-height: 20px;
        max-width: 20px;
        min-height: 20px;
        min-width: 20px;
        padding: 0;
        color: #80868b;
      }

      .add-feature-button {
        margin-left: 0;
        margin-bottom: 10px;
      }

      .upload-image-button {
        margin: 0 0 0 5px;
        padding: 0;
        width: 16px;
        height: 16px;
        color: white;
      }

      .imagecard {
        margin: 4px;
      }

      .image-scale-button {
        margin-bottom: 5px;
      }

      .saliency-legend-label {
        margin-bottom: 5px;
      }

      .feature-dialog {
        display: flex;
        flex-direction: column;
      }

      .feature-dialog-button {
        text-transform: none;
        text-align: left;
      }

      .image-bottom-bar {
        width: 100%;
        background: #3C4043;
      }

      .image-upload-input {
        display: none;
      }

      .space-for-more-button {
        width: 20px;
      }

      .value-header-text {
        min-width: 130px;
        width: 130px;
        color: #202124;
        font-size: 12px;
        line-height: 1.8em;
      }

      paper-dialog {
        border-radius: 10px;
      }

      .control-button {
        background-color: white;
        border: 1px solid #DADCE0;
        color: var(--tb-orange-dark);
        font-size: 14px;
        font-weight: 500;
        padding: 8px 12px;
        text-transform: none;
        margin: 5px;
      }

      .control-button[disabled] {
        color: #DADCE0;
      }

      .value-text {
        border-bottom: 2px solid #ffeb3b;
      }

      .compare-value-text {
        border-bottom: 2px solid #34A853;
      }
    </style>
    <div class="outer">
      <template is="dom-if" if="[[showSearchBox]]">
        <paper-input value="{{featureSearchValue}}" label="Search" class="filter-input" no-label-float>
          <iron-icon icon="icons:search" prefix></iron-icon>
        </paper-input>
      </template>
      <div class="feature-name feature-name-header">
        <div class="feature-name-header-text">Feature</div>
        <div class="value-pills-holder flex-controls value-header-text">
          <div class="value-text">Value(s)</div>
        </div>
        <template is="dom-if" if="[[compareMode]]">
          <div class="value-pills-holder flex-controls value-header-text">
            <div class="compare-value-text">[[compareTitle]]</div>
          </div>
        </template>
        <div class="space-for-more-button"></div>
      </div>
      <template is="dom-repeat" items="[[filteredFeaturesList]]" as="feat">
        <template is="dom-if" if="[[isImage(feat.name)]]">
          <div class="feature-name">
            <div class="feature-name-text">[[feat.name]]</div>
            <div class="value-pills-holder">
              <paper-card id="[[getImageCardId(feat.name)]]" class="imagecard">
                <img class="image" src$="[[getImageSrc(feat.name)]]" id="[[getImageId(feat.name)]]">
                <canvas id="[[getCanvasId(feat.name)]]" data-feature="[[feat.name]]"></canvas>
                <template is="dom-if" if="[[shouldShowImageControls(hasImage, allowImageControls)]]">
                  <div>Image windowing (contrast)</div>
                  <div class="slider-holder indent">
                    <div class="slider-label windowing-label">Window center:</div>
                    <paper-slider class="slider" editable="true" max="255" immediate-value="{{windowCenter}}" value="[[windowCenter]]">
                    </paper-slider>
                  </div>
                  <div class="slider-holder indent">
                    <div class="slider-label windowing-label">Window width:</div>
                    <paper-slider class="slider" editable="true" max="512" min="1" immediate-value="{{windowWidth}}" value="[[windowWidth]]">
                    </paper-slider>
                  </div>
                  <div class="flex-controls">
                    <div class="scale-label">Image scale percentage:</div>
                    <paper-input no-label-float type="number" min="10" max="500" value="{{imageScalePercentage}}">
                    </paper-input>
                    <paper-button class="image-scale-button" on-click="updateImages">
                      set
                    </paper-button>
                  </div>
                </template>
                <div class="image-bottom-bar">
                  <paper-icon-button class$="[[getUploadImageClass(readonly)]]" icon="file-upload" on-click="uploadImageClicked" data-feature="[[feat.name]]" title="Upload image">
                  </paper-icon-button>
                  <paper-input class="image-upload-input" type="file" on-change="handleImageUpload" data-feature="[[feat.name]]" data-index="[[index]]">
                  </paper-input>
                </div>
              </paper-card>
            </div>
            <template is="dom-if" if="[[compareMode]]">
              <div class="value-pills-holder">
                <paper-card id="[[getCompareImageCardId(feat.name)]]" class="imagecard">
                  <img class="image" src$="[[getCompareImageSrc(feat.name)]]" id="[[getCompareImageId(feat.name)]]">
                  <canvas id="[[getCompareCanvasId(feat.name)]]" data-feature="[[feat.name]]"></canvas>
                  <div class="image-bottom-bar">
                  </div>
                </paper-card>
              </div>
            </template>
            <paper-icon-button icon="more-horiz" class$="[[getAddValueButtonClass(readonly)]]" on-click="featureMoreClicked" data-feature="[[feat.name]]"></paper-icon-button>
            <paper-dialog id="[[getFeatureDialogId(feat.name)]]" horizontal-align="right" vertical-align="bottom">
              <div class="feature-dialog">
                <paper-button data-feature="[[feat.name]]" on-click="deleteFeature" class="feature-dialog-button">
                  Delete feature
                </paper-button>
              </div>
            </paper-dialog>
          </div>
        </template>
        <template is="dom-if" if="[[!isImage(feat.name)]]">
          <div class="feature-name">
            <div class="feature-name-text">[[feat.name]]</div>
            <div class="flex-controls value-pills-holder">
              <template is="dom-if" if="[[isExpanded(feat.name, expandAllFeatures)]]">
                <template is="dom-repeat" items="[[getFeatureValues(feat.name)]]" as="value">
                  <iron-autogrow-textarea class$="[[getInputPillClass(feat.name, displayMode)]]" readonly$="[[readonly]]" on-input="onValueChanged" on-focus="onInputFocus" on-blur="onInputBlur" data-feature="[[feat.name]]" data-index="[[index]]" value="[[value]]">
                  </iron-autogrow-textarea>
                </template>
              </template>
              <template is="dom-if" if="[[!isExpanded(feat.name, expandAllFeatures)]]">
                <iron-autogrow-textarea class$="[[getInputPillClass(feat.name, displayMode)]]" readonly$="[[readonly]]" on-input="onValueChanged" on-focus="onInputFocus" on-blur="onInputBlur" data-feature="[[feat.name]]" data-index="[[zeroIndex]]" value="[[getFirstFeatureValue(feat.name)]]">
                </iron-autogrow-textarea>
                <template is="dom-if" if="[[featureHasMultipleValues(feat.name)]]">
                  <paper-button data-feature="[[feat.name]]" on-click="expandFeature" class$="[[getInputPillClass(feat.name, displayMode)]]">
                    ...
                  </paper-button>
                </template>
              </template>
            </div>
            <template is="dom-if" if="[[compareMode]]">
              <div class="flex-controls value-pills-holder">
                <template is="dom-if" if="[[isExpanded(feat.name, expandAllFeatures)]]">
                  <template is="dom-repeat" items="[[getCompareFeatureValues(feat.name)]]" as="value">
                    <iron-autogrow-textarea class$="[[getCompareInputClass(feat.name, displayMode, index)]]" readonly value="[[value]]">
                    </iron-autogrow-textarea>
                  </template>
                </template>
                <template is="dom-if" if="[[!isExpanded(feat.name, expandAllFeatures)]]">
                  <iron-autogrow-textarea class$="[[getCompareInputClass(feat.name, displayMode, zeroIndex)]]" readonly value="[[getFirstCompareFeatureValue(feat.name)]]">
                  </iron-autogrow-textarea>
                  <template is="dom-if" if="[[compareFeatureHasMultipleValues(feat.name)]]">
                    <paper-button data-feature="[[feat.name]]" on-click="expandFeature" class$="[[getCompareInputClass(feat.name, displayMode)]]">
                      ...
                    </paper-button>
                  </template>
                </template>
              </div>
            </template>

            <paper-icon-button icon="more-horiz" class$="[[getAddValueButtonClass(readonly)]]" on-click="featureMoreClicked" data-feature="[[feat.name]]"></paper-icon-button>
            <paper-dialog id="[[getFeatureDialogId(feat.name)]]" horizontal-align="right" vertical-align="bottom">
              <div class="feature-dialog">
                <paper-button data-feature="[[feat.name]]" on-click="deleteFeature" class="feature-dialog-button">
                  Delete feature
                </paper-button>
                <paper-button data-feature="[[feat.name]]" on-click="addValue" class="feature-dialog-button">
                  Add feature value
                </paper-button>
              </div>
            </paper-dialog>
          </div>
        </template>
      </template>
      <template is="dom-if" if="[[isSeqExample(maxSeqNumber)]]">
        <div class="slider-holder">
          <div class="slider-label">Sequence Number:</div>
          <paper-slider class="slider" editable="true" max="[[maxSeqNumber]]" value="{{seqNumber}}">
          </paper-slider>
        </div>
        <template is="dom-repeat" items="[[filteredSeqFeaturesList]]" as="seqfeat">
          <div class="seqfeat">
            <template is="dom-if" if="[[isImage(seqfeat.name)]]">
              <div class="feature-name">
                <div class="feature-name-text">[[seqfeat.name]]</div>
                <div class="value-pills-holder">
                  <paper-card id="[[getImageCardId(seqfeat.name)]]" class="imagecard">
                    <img class="image" src$="[[getSeqImageSrc(seqfeat.name, seqNumber)]]" id="[[getImageId(seqfeat.name)]]">
                    <canvas id="[[getCanvasId(seqfeat.name)]]" data-feature="[[seqfeat.name]]" data-seq-num="[[seqNumber]]"></canvas>
                    <template is="dom-if" if="[[shouldShowImageControls(hasImage, allowImageControls)]]">
                      <div class="image-controls">
                        <div>Image windowing (contrast)</div>
                        <div class="slider-holder indent">
                          <div class="slider-label windowing-label">Window center:</div>
                          <paper-slider class="slider" editable="true" max="255" immediate-value="{{windowCenter}}" value="[[windowCenter]]">
                          </paper-slider>
                        </div>
                        <div class="slider-holder indent">
                          <div class="slider-label windowing-label">Window width:</div>
                          <paper-slider class="slider" editable="true" max="512" min="1" immediate-value="{{windowWidth}}" value="[[windowWidth]]">
                          </paper-slider>
                        </div>
                        <div class="flex-controls">
                          <div class="scale-label">Image scale percentage:</div>
                          <paper-input no-label-float type="number" min="10" max="500" value="{{imageScalePercentage}}">
                          </paper-input>
                          <paper-button class="image-scale-button" on-click="updateImages">
                            set
                          </paper-button>
                        </div>
                      </div>
                    </template>
                    <div class="image-bottom-bar">
                      <paper-icon-button class$="[[getUploadImageClass(readonly)]]" icon="file-upload" on-click="uploadImageClicked" data-feature="[[seqfeat.name]]" title="Upload image">
                      </paper-icon-button>
                      <paper-input class="image-upload-input" type="file" on-change="handleImageUpload" data-feature="[[seqfeat.name]]" data-index="[[index]]" data-seq-num="[[seqNumber]]">
                      </paper-input>
                    </div>
                  </paper-card>
                </div>
                <template is="dom-if" if="[[compareMode]]">
                  <div class="value-pills-holder">
                    <paper-card id="[[getCompareImageCardId(seqfeat.name)]]" class="imagecard">
                      <img class="image" src$="[[getCompareSeqImageSrc(seqfeat.name, seqNumber)]]" id="[[getCompareImageId(seqfeat.name)]]">
                      <canvas id="[[getCompareCanvasId(seqfeat.name)]]" data-feature="[[seqfeat.name]]" data-seq-num="[[seqNumber]]"></canvas>
                      <div class="image-bottom-bar">
                      </div>
                    </paper-card>
                  </div>
                </template>
                <paper-icon-button icon="more-horiz" class$="[[getAddValueButtonClass(readonly)]]"></paper-icon-button>
                <paper-dialog>
                  <paper-button data-feature="[[seqfeat.name]]" on-click="deleteFeature">
                    Delete feature
                  </paper-button>
                </paper-dialog>
              </div>
            </template>
            <template is="dom-if" if="[[!isImage(seqfeat.name)]]">
              <div class="feature-name">
                <div class="feature-name-text">[[seqfeat.name]]</div>
                <div class="flex-controls value-pills-holder">
                  <template is="dom-if" if="[[isExpanded(seqfeat.name, expandAllFeatures)]]">
                    <template is="dom-repeat" items="[[getSeqFeatureValues(seqfeat.name, seqNumber)]]" as="seqvalue">
                      <iron-autogrow-textarea class$="[[getInputPillClass(seqfeat.name, displayMode)]]" readonly$="[[readonly]]" on-input="onValueChanged" on-focus="onInputFocus" on-blur="onInputBlur" data-feature="[[seqfeat.name]]" data-index="[[index]]" data-seq-num="[[seqNumber]]" value="[[seqvalue]]">
                      </iron-autogrow-textarea>
                    </template>
                  </template>
                  <template is="dom-if" if="[[!isExpanded(seqfeat.name, expandAllFeatures)]]">
                    <iron-autogrow-textarea class$="[[getInputPillClass(seqfeat.name, displayMode)]]" readonly$="[[readonly]]" on-input="onValueChanged" on-focus="onInputFocus" on-blur="onInputBlur" data-feature="[[seqfeat.name]]" data-index="[[zeroIndex]]" data-seq-num="[[seqNumber]]" value="[[getFirstSeqFeatureValue(seqfeat.name, seqNumber)]]">
                    </iron-autogrow-textarea>
                    <template is="dom-if" if="[[seqFeatureHasMultipleValues(seqfeat.name, seqNumber)]]">
                      <paper-button data-feature="[[seqfeat.name]]" on-click="expandFeature" class$="[[getInputPillClass(seqfeat.name, displayMode)]]">
                        ...
                      </paper-button>
                    </template>
                  </template>
                </div>
                <template is="dom-if" if="[[compareMode]]">
                  <div class="flex-controls value-pills-holder">
                    <template is="dom-if" if="[[isExpanded(seqfeat.name, expandAllFeatures)]]">
                      <template is="dom-repeat" items="[[getCompareSeqFeatureValues(seqfeat.name, seqNumber)]]" as="seqvalue">
                        <iron-autogrow-textarea class$="[[getSeqCompareInputClass(seqfeat.name, displayMode, seqNumber, index)]]" readonly value="[[seqvalue]]">
                        </iron-autogrow-textarea>
                      </template>
                    </template>
                    <template is="dom-if" if="[[!isExpanded(seqfeat.name, expandAllFeatures)]]">
                      <iron-autogrow-textarea class$="[[getSeqCompareInputClass(seqfeat.name, displayMode, seqNumber, zeroIndex)]]" readonly value="[[getFirstCompareSeqFeatureValue(seqfeat.name, seqNumber)]]">
                      </iron-autogrow-textarea>
                      <template is="dom-if" if="[[compareSeqFeatureHasMultipleValues(seqfeat.name, seqNumber)]]">
                        <paper-button data-feature="[[seqfeat.name]]" on-click="expandFeature" class$="[[getSeqCompareInputClass(seqfeat.name, displayMode, seqNumber)]]">
                          ...
                        </paper-button>
                      </template>
                    </template>
                  </div>
                </template>
                <paper-icon-button icon="more-horiz" class$="[[getAddValueButtonClass(readonly)]]"></paper-icon-button>
                <paper-dialog>
                  <paper-button data-feature="[[seqfeat.name]]" on-click="deleteFeature">
                    Delete feature
                  </paper-button>
                  <paper-button data-feature="[[seqfeat.name]]" data-seq-num="[[seqNumber]]" on-click="addValue" class="feature-dialog-button">
                    Add feature value
                  </paper-button>
                </paper-dialog>
              </div>
            </template>
          </div>
        </template>
      </template>
      <paper-icon-button on-click="openAddFeatureDialog" icon="add" title="Add feature" class$="[[getAddValueButtonClass(readonly)]]">
      </paper-icon-button>
      <div class$="[[getSaliencyControlsHolderClass(saliency)]]">
        <div class="saliency-legend-label">Attribution legend</div>
        <div class="flex-controls">
          <svg id="saliencyLegend"></svg>
        </div>
      </div>
    </div>
    <paper-icon-button id="deletevalue" icon="delete" class$="[[getDeleteValueButtonClass(readonly, showDeleteValueButton)]]" data-feature="[[focusedFeatureName]]" data-index="[[focusedFeatureValueIndex]]" data-seq-num="[[focusedSeqNumber]]" on-click="deleteValue" title="Delete value">
    </paper-icon-button>
    <paper-dialog id="addFeatureDialog">
      <h2>Add Feature</h2>
      <paper-input label="Feature name" value="{{newFeatureName}}"></paper-input>
      <paper-radio-group selected="{{newFeatureType}}">
        <paper-radio-button name="int">Int</paper-radio-button>
        <paper-radio-button name="float">Float</paper-radio-button>
        <paper-radio-button name="bytes">Bytes</paper-radio-button>
      </paper-radio-group>
      <paper-button dialog-dismiss class="control-button" on-click="addFeature" disabled="[[!shouldEnableAddFeature(newFeatureName)]]">
        Create
      </paper-button>
    </paper-dialog>
  </template>
  <script>//~~WEBPATH~~/vz-example-viewer/vz-example-viewer.js
var dj;
(function(){var a=d3.interpolateRgb,b=/^image\/([^\/]+\/)*encoded$/,c=[1,20];Polymer({is:"vz-example-viewer",properties:{example:{type:Object},serializedExample:{type:String,observer:"updateExample"},serializedSeqExample:{type:String,observer:"updateSeqExample"},json:{type:Object,observer:"createExamplesFromJson"},saliency:{type:Object,value:{}},saliencyJsonString:{type:String,observer:"haveSaliencyJson"},readonly:{type:Boolean,value:!1},seqNumber:{type:Number,value:0,observer:"newSeqNum"},isSequence:Boolean,
changeCallbackTimer:Number,ignoreChange:Boolean,minSal:{type:Number,value:0},maxSal:{type:Number,value:0},showSaliency:{type:Boolean,value:!0},imageInfo:{type:Object,value:{}},windowWidth:{type:Number,value:256},windowCenter:{type:Number,value:128},saliencyCutoff:{type:Number,value:0},hasImage:{type:Boolean,value:!0},allowImageControls:{type:Boolean,value:!1},imageScalePercentage:{type:Number,value:100},features:{type:Object,computed:"getFeatures(example)"},featuresList:{type:Object,computed:"getFeaturesList(features, compareFeatures)"},
seqFeatures:{type:Object,computed:"getSeqFeatures(example)"},seqFeaturesList:{type:Object,computed:"getFeaturesList(seqFeatures, compareSeqFeatures)"},maxSeqNumber:{type:Number,computed:"getMaxSeqNumber(seqFeaturesList)"},colors:{type:Object,computed:"getColors(saliency)",observer:"createLegend"},displayMode:{type:String,value:"grid"},featureSearchValue:{type:String,value:"",notify:!0},filteredFeaturesList:{type:Object},filteredSeqFeaturesList:{type:Object},focusedFeatureName:String,focusedFeatureValueIndex:Number,
focusedSeqNumber:Number,showDeleteValueButton:{type:Boolean,value:!1},expandedFeatures:{type:Object,value:{}},expandAllFeatures:{type:Boolean,value:!1},zeroIndex:{type:Number,value:0},compareJson:{type:Object,observer:"createCompareExamplesFromJson"},compareExample:{type:Object},compareFeatures:{type:Object,computed:"getFeatures(compareExample)",observer:"updateCompareMode"},compareSeqFeatures:{type:Object,computed:"getSeqFeatures(compareExample)",observer:"updateCompareMode"},compareMode:Boolean,
compareImageInfo:{type:Object,value:{}},compareTitle:String},observers:["haveSaliency(filteredFeaturesList, saliency, colors, showSaliency, saliencyCutoff)","seqSaliency(seqNumber, seqFeaturesList, saliency, colors, showSaliency, saliencyCutoff)","setFilteredFeaturesList(featuresList, featureSearchValue, saliency)","setFilteredSeqFeaturesList(seqFeaturesList, featureSearchValue, saliency)"],isExpanded:function(d){return this.expandAllFeatures||this.sanitizeFeature(d)in this.expandedFeatures},updateExample:function(){this.deserializeExample(this.serializedExample,
wd)},updateSeqExample:function(){this.deserializeExample(this.serializedSeqExample,yd)},stringToUint8Array:function(d){return(new window.TextEncoder).encode(d)},deserializeExample:function(d,e){this.ignoreChange||(d=this.decodedStringToCharCodes(atob(d)),this.example=e(d))},getFeatures:function(d){this.imageInfo={};this.hasImage=!1;if(null==d)return new Map([]);if(d instanceof vd){this.isSequence=!1;if(null==jc(d,1)){var e=new hd;Ac(d,1,e)}return jd(d.getFeatures())}this.isSequence=!0;null==jc(d,
1)&&(e=new hd,Ac(d,1,e));return jd(d.getContext())},getFeaturesList:function(d,e){var f=[],g={},h=d.keys();if(h)for(var k=h.next();!k.done;)f.push({name:k.value,feature:d.get(k.value)}),g[k.value]=!0,k=h.next();if(h=e.keys())for(k=h.next();!k.done;)k.value in g||(f.push({name:k.value,feature:e.get(k.value)}),g[k.value]=!0),k=h.next();return f},getSeqFeatures:function(d){null==d||d instanceof vd?d=new Map([]):(d=xc(this.example,rd,2),d=qc(d,void 0,md));return d},setFilteredFeaturesList:function(d,
e,f){this.filteredFeaturesList=[];this.filteredFeaturesList=this.getFilteredFeaturesList(d,e,f)},setFilteredSeqFeaturesList:function(d,e,f){this.filteredSeqFeaturesList=[];this.filteredSeqFeaturesList=this.getFilteredFeaturesList(d,e,f)},getFilteredFeaturesList:function(d,e,f){var g=this,h=d,k=f&&0<Object.keys(f).length,l=k?Object.assign.apply(Object,[{}].concat(Object.keys(f).map(function(p){var q;return q={},q[p]="number"==typeof f[p]?f[p]:f[p].reduce(function(r,t){return r+t},0),q}))):{};if(""!=
e){var n=new RegExp(e,"i");h=d.filter(function(p){return n.test(p.name)})}return h.sort(function(p,q){if(g.isImage(p.name)&&!g.isImage(q.name))return-1;if(g.isImage(q.name)&&!g.isImage(p.name))return 1;if(k){if(p.name in f&&!(q.name in f))return-1;if(q.name in f&&!(p.name in f))return 1;var r=l[q.name]-l[p.name];if(0!=r)return r}return p.name.localeCompare(q.name)})},getMaxSeqNumber:function(){for(var d=-1,e=0,f=this.seqFeaturesList;e<f.length;e++){var g=f[e].feature;g&&yc(g,Xc,1).length-1>d&&(d=
yc(g,Xc,1).length-1)}return d},haveSaliencyJson:function(){this.saliency=JSON.parse(this.saliencyJsonString)},getColors:function(){var d=this.getMinMaxSaliency(this.saliency);this.minSal=d[0];this.maxSal=d[1];return d3.scaleLinear().domain([this.minSal,0,this.maxSal]).interpolate(a).clamp(!0).range(["#FF847C","#fff","#007B83"])},selectAll:function(d){return d3.selectAll(Polymer.dom(this.root).querySelectorAll(d))},haveSaliency:function(){var d=this;requestAnimationFrame(function(){return d._haveSaliencyImpl()})},
_haveSaliencyImpl:function(){var d=this;this.selectAll(".value-pill").style("background","#fff");if(this.filteredFeaturesList&&this.saliency&&0!==Object.keys(this.saliency).length&&this.colors)for(var e=function(k){var l=f.saliency[k.name];if(!l)return"continue";var n=Array.isArray(l)?function(q,r){return d.getColorForSaliency(l[r])}:function(){return d.getColorForSaliency(l)};f.selectAll("."+f.sanitizeFeature(k.name)+".value-pill").style("background",f.showSaliency?n:function(){return"#fff"});if(Array.isArray(l)){k=
f.selectAll("paper-button."+f.sanitizeFeature(k.name)+".value-pill");var p=0;for(n=1;n<l.length;n++)Math.abs(l[n])>Math.abs(p)&&(p=l[n]);k.style("background",f.showSaliency?function(){return d.getColorForSaliency(p)}:function(){return"#fff"})}},f=this,g=0,h=this.filteredFeaturesList;g<h.length;g++)e(h[g])},newSeqNum:function(){this.seqSaliency()},seqSaliency:function(){var d=this;if(this.seqFeaturesList&&this.saliency&&0!==Object.keys(this.saliency).length&&this.colors)if(this.selectAll(".value input").size()<
this.seqFeaturesList.length)requestAnimationFrame(function(){return d.seqSaliency()});else for(var e=function(k){var l=f.saliency[k.name];if(!l)return"continue";var n=l[f.seqNumber];l=Array.isArray(n)?function(p,q){return d.getColorForSaliency(n[q])}:function(){return d.getColorForSaliency(n)};f.selectAll("."+f.sanitizeFeature(k.name)+" input").style("color",f.showSaliency?l:function(){return"black"})},f=this,g=0,h=this.seqFeaturesList;g<h.length;g++)e(h[g])},getMinMaxSaliency:function(d){function e(k){if(Array.isArray(k))for(var l=
0;l<k.length;l++)e(k[l]);else k<f&&(f=k),k>g&&(g=k)}var f=Infinity,g=-Infinity,h;for(h in d)d.hasOwnProperty(h)&&e(d[h]);f=.95*Math.min(0,f);g=.95*Math.max(0,g);0>f&&g>Math.abs(f)?f=-1*g:0<g&&Math.abs(f)>g&&(g=-1*f);return[f,g]},getFeatureValues:function(d,e,f,g){var h=this;return(d=g?this.compareFeatures.get(d):this.features.get(d))?dd(d)?e?dd(d).getValueList().slice():oc(dd(d).getValueList()).map(function(k){return h.decodeBytesListString(k,f)}):ed(d)?ed(d).getValueList().slice():xc(d,Nc,2)?xc(d,
Nc,2).getValueList().slice():[]:[]},getCompareFeatureValues:function(d,e,f){return this.getFeatureValues(d,e,f,!0)},getFirstFeatureValue:function(d){return this.getFeatureValues(d)[0]},getFirstCompareFeatureValue:function(d){return this.getCompareFeatureValues(d)[0]},featureHasMultipleValues:function(d){return 1<this.getFeatureValues(d).length},compareFeatureHasMultipleValues:function(d){return 1<this.getCompareFeatureValues(d).length},getSeqFeatureValues:function(d,e,f,g,h){var k=this;d=h?this.compareSeqFeatures.get(d):
this.seqFeatures.get(d);if(!d)return[];d=yc(d,Xc,1);return!d||d.length<=e?[]:(e=d[e])?dd(e)?f?dd(e).getValueList():oc(dd(e).getValueList()).map(function(l){return k.decodeBytesListString(l,g)}):ed(e)?ed(e).getValueList():xc(e,Nc,2)?xc(e,Nc,2).getValueList():[]:[]},getCompareSeqFeatureValues:function(d,e,f,g){return this.getSeqFeatureValues(d,e,f,g,!0)},getFirstSeqFeatureValue:function(d,e){return this.getSeqFeatureValues(d,e)[0]},getFirstSeqCompareFeatureValue:function(d,e){return this.getCompareSeqFeatureValues(d,
e)[0]},seqFeatureHasMultipleValues:function(d,e){return 1<this.getSeqFeatureValues(d,e).length},compareSeqFeatureHasMultipleValues:function(d,e){return 1<this.getCompareSeqFeatureValues(d,e).length},decodeBytesListString:function(d,e){return 32768E3<d.length?"String too large to display":e?this.decodeBytesListToString(d):(new window.TextDecoder).decode(d)},isBytesFeature:function(d){var e=this.features.get(d);return e&&null!=jc(e,1)?!0:(d=this.seqFeatures.get(d))&&null!=jc(yc(d,Xc,1)[0],1)?!0:!1},
getJsonFeature:function(d){if(!this.json)return null;if(this.json.features&&this.json.features.feature){var e=this.json.features.feature[d];if(e)return e}return this.json.context&&this.json.context.feature&&(e=this.json.context.feature[d])?e:this.json.featureLists&&this.json.featureLists.featureList?this.json.featureLists.featureList[d]:null},getJsonValueList:function(d,e){d=this.getJsonFeature(d);if(!d)return null;isNaN(e)||(d=d.feature[e]);return(e=d.bytesList||d.int64List||d.floatList)?e.value:
null},getDataFromEvent:function(d){for(d=d.target;null==d.dataFeature;){if(!d.parentElement)throw Error("Could not find ancestor control element");d=d.parentElement}return{feature:d.dataFeature,valueIndex:d.dataIndex,seqNum:d.dataSeqNum}},getFeatureFromData:function(d){if(isNaN(d.seqNum))return this.features.get(d.feature);var e=this.seqFeatures.get(d.feature);if(e)return(e=yc(e,Xc,1))?e[d.seqNum]:void 0},getValueListFromData:function(d){return isNaN(d.seqNum)?this.getFeatureValues(d.feature,!0):
this.getSeqFeatureValues(d.feature,d.seqNum,!0)},setFeatureValues:function(d,e){var f=dd(d),g=ed(d);d=xc(d,Nc,2);f?f.setValueList(e):g?g.setValueList(e):d&&d.setValueList(e)},onValueChanged:function(d){var e=d.target;d=this.getDataFromEvent(d);var f=this.getFeatureFromData(d),g=this.getValueListFromData(d);if(f){if(this.isBytesFeature(d.feature)){var h=this.stringToUint8Array(e.value);g[d.valueIndex]=h;(h=this.getJsonValueList(d.feature,d.seqNum))&&(h[d.valueIndex]=btoa(e.value))}else g[d.valueIndex]=
+e.value,(h=this.getJsonValueList(d.feature,d.seqNum))&&(h[d.valueIndex]=+e.value);this.setFeatureValues(f,g);this.exampleChanged()}},onInputFocus:function(d){var e=d.target;d=this.getDataFromEvent(d);this.focusedFeatureName=d.feature;this.focusedFeatureValueIndex=d.valueIndex;this.focusedSeqNumber=d.seqNum;this.$.deletevalue.style.top=e.getBoundingClientRect().top-this.getBoundingClientRect().top-25+"px";this.$.deletevalue.style.right=this.getBoundingClientRect().right-e.getBoundingClientRect().right+
30+"px";this.showDeleteValueButton=!0},onInputBlur:function(){this.showDeleteValueButton=!1},deleteFeature:function(d){d=this.getDataFromEvent(d);this.features.del&&this.features.del(d.feature);this.seqFeatures.del&&this.seqFeatures.del(d.feature);this.deleteJsonFeature(d.feature);this.exampleChanged();this.refreshExampleViewer()},deleteJsonFeature:function(d){this.json&&(this.json.features&&this.json.features.feature&&delete this.json.features.feature[d],this.json.context&&this.json.context.feature&&
delete this.json.context.feature[d],this.json.featureLists&&this.json.featureLists.featureList&&delete this.json.featureLists.featureList[d])},deleteValue:function(d){d=this.getDataFromEvent(d);var e=this.getFeatureFromData(d),f=this.getValueListFromData(d);if(e){if(this.isBytesFeature(d.feature)){var g=this.getJsonValueList(d.feature,d.seqNum);g&&g.splice(d.valueIndex,1)}f.splice(d.valueIndex,1);this.setFeatureValues(e,f);this.exampleChanged();this.refreshExampleViewer()}},openAddFeatureDialog:function(){this.$.addFeatureDialog.open()},
addFeature:function(){if(this.json){var d=new Xc;if("int"===this.newFeatureType){var e=[];var f=new Sc;f.setValueList(e);Bc(d,3,Yc[0],f);e={int64List:{value:e}}}else"float"===this.newFeatureType?(e=[],f=new Nc,f.setValueList(e),Bc(d,2,Yc[0],f),e={floatList:{value:e}}):(e=[],f=new Ic,f.setValueList(e),Bc(d,1,Yc[0],f),e={bytesList:{value:e}});this.features.set(this.newFeatureName,d);this.addJsonFeature(this.newFeatureName,e);this.newFeatureName="";this.exampleChanged();this.refreshExampleViewer()}},
addJsonFeature:function(d,e){this.json&&this.json.features&&this.json.features.feature?this.json.features.feature[d]=e:this.json&&this.json.context&&this.json.context.feature&&(this.json.context.feature[d]=e)},addValue:function(d){d=this.getDataFromEvent(d);var e=this.getFeatureFromData(d),f=this.getValueListFromData(d);e&&(this.isBytesFeature(d.feature)?f.push(""):f.push(0),this.setFeatureValues(e,f),this.exampleChanged(),this.refreshExampleViewer())},refreshExampleViewer:function(){var d=this,e=
this.example;this.ignoreChange=!0;this.example=new vd;this.ignoreChange=!1;setTimeout(function(){d.example=e;d.haveSaliency()},0)},exampleChanged:function(){this.fire("example-change",{example:this.example});clearTimeout(this.changeCallbackTimer);this.changeCallbackTimer=setTimeout(this.changeCallback.bind(this),1E3)},changeCallback:function(){this.ignoreChange=!0;this.isSequence&&this.serializedSeqExample?this.serializedSeqExample=btoa(this.decodeBytesListString(this.example.serializeBinary(),!0)):
this.serializedExample&&(this.serializedExample=btoa(this.decodeBytesListString(this.example.serializeBinary(),!0)));this.ignoreChange=!1},getInputPillClass:function(d,e){return this.sanitizeFeature(d)+" value-pill"+("grid"==e?" value-pill-grid":" value-pill-stacked")},getCompareInputClass:function(d,e,f){e="value-compare"+("grid"==e?" value-pill-grid":" value-pill-stacked");if(null!=f){var g=this.getFeatureValues(d,!0);d=this.getCompareFeatureValues(d,!0);e=f>=g.length||f>=d.length||g[f]!=d[f]?e+
" value-different":e+" value-same"}return e},getSeqCompareInputClass:function(d,e,f,g){e="value-compare"+("grid"==e?" value-pill-grid":" value-pill-stacked");if(null!=g){var h=this.getSeqFeatureValues(d,f,!0);d=this.getCompareSeqFeatureValues(d,f,!0);e=g>=h.length||g>=d.length||h[g]!=d[g]?e+" value-different":e+" value-same"}return e},sanitizeFeature:function(d){d=d.trim();d.match(/^[A-Za-z].*$/)||(d="_"+d);return d.replace(/[\/\.#]/g,"_")},isSeqExample:function(d){return 0<=d},shouldShowSaliencyLegend:function(d){return d&&
0<Object.keys(d).length},getSaliencyControlsHolderClass:function(d){return this.shouldShowSaliencyLegend(d)?"saliency-controls-holder":"hide-saliency-controls"},createLegend:function(){d3.select(this.$.saliencyLegend).selectAll("*").remove();var d=d3.select(this.$.saliencyLegend).append("g"),e=d.append("defs").append("linearGradient").attr("id","vzexampleviewergradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("spreadMethod","pad"),f=[];0>this.minSal&&f.push("#FF847C");
f.push("#fff");0<this.maxSal&&f.push("#007B83");var g=function(h,k,l){for(var n=[],p=(k-h)/(l-1),q=0;q<l-1;)n.push(h+q*p),q++;n.push(k);return n}(0,100,f.length).map(function(h){return Math.round(h)+"%"});d3.zip(g,f).forEach(function(h){e.append("stop").attr("offset",h[0]).attr("stop-color",h[1]).attr("stop-opacity",1)});d.append("rect").attr("x1",0).attr("y1",0).attr("width",260).attr("height",20).style("fill","url(#vzexampleviewergradient)");f=d3.scaleLinear().domain([this.minSal,this.maxSal]).range([0,
260]);f=d3.axisBottom(f).ticks();d.append("g").attr("class","legend axis").attr("transform","translate(0,20)").call(f)},isImage:function(d){return b.test(d)},getImageSrc:function(d){this.setupOnloadCallback(d);return this.getImageSrcForData(d,this.getFeatureValues(d,!1,!0)[0])},getCompareImageSrc:function(d){this.setupOnloadCallback(d,!0);return this.getImageSrcForData(d,this.getCompareFeatureValues(d,!1,!0)[0],!0)},getSeqImageSrc:function(d,e){this.setupOnloadCallback(d);return this.getImageSrcForData(d,
this.getSeqFeatureValues(d,e,!1,!0)[0])},getCompareSeqImageSrc:function(d,e){this.setupOnloadCallback(d,!0);return this.getImageSrcForData(d,this.getCompareSeqFeatureValues(d,e,!1,!0)[0],!0)},setupOnloadCallback:function(d,e){var f=this;requestAnimationFrame(function(){var g=f.$$("#"+f.getImageId(d,e));g.onload=f.getOnLoadForImage(d,g,e)})},getImageSrcForData:function(d,e,f){d=b.exec(d);if(null==d)return null;d=d[1]||"";f=f?this.getCompareFeatureValues("image"+d+"/format",!1):this.getFeatureValues("image"+
d+"/format",!1);d="jpeg";0<f.length&&(d=f[0].toLowerCase());return"data:image/"+d+";base64,"+btoa(decodeURIComponent(encodeURIComponent(e)))},getIterLength:function(d){var e=0;if(d)for(var f=d.next();!f.done;)e++,f=d.next();return e},updateCompareMode:function(){var d=!1;if(this.compareFeatures&&0<this.getIterLength(this.compareFeatures.keys())||this.compareSeqFeatures&&0<this.getIterLength(this.compareSeqFeatures.keys()))d=!0;this.compareMode=d},createExamplesFromJson:function(d){this.example=this.createExamplesFromJsonHelper(d);
this.compareJson={}},createCompareExamplesFromJson:function(d){d&&(this.compareExample=this.createExamplesFromJsonHelper(d))},createExamplesFromJsonHelper:function(d){if(!d)return null;"string"===typeof this.json&&(d=JSON.parse(this.json));if(d.features){var e=new vd;d=this.parseFeatures(d.features);Ac(e,1,d);return e}if(d.context||d.featureLists){e=new xd;if(d.context){var f=this.parseFeatures(d.context);Ac(e,1,f)}d.featureLists&&(d=this.parseFeatureLists(d.featureLists),Ac(e,2,d));return e}return new vd},
parseFeatures:function(d){var e=new hd,f;for(f in d.feature)if(d.feature.hasOwnProperty(f)){var g=d.feature[f];jd(e).set(f,this.parseFeature(g,this.isImage(f)))}return e},parseFeatureLists:function(d){var e=new rd,f;for(f in d.featureList)if(d.featureList.hasOwnProperty(f)){var g=d.featureList[f],h=new md,k=[],l;for(l in g.feature)g.feature.hasOwnProperty(l)&&k.push(this.parseFeature(g.feature[l],this.isImage(f)));Cc(h,1,k);qc(e,void 0,md).set(f,h)}return e},parseFeature:function(d){var e=new Xc;
if(d.floatList){var f=new Nc;f.setValueList(d.floatList.value);Bc(e,2,Yc[0],f)}else d.bytesList?(f=new Ic,d.bytesList.value&&f.setValueList(d.bytesList.value),Bc(e,1,Yc[0],f)):d.int64List&&(f=new Sc,f.setValueList(d.int64List.value),Bc(e,3,Yc[0],f));return e},getImageId:function(d,e){return e?this.getCompareImageId(d):this.sanitizeFeature(d)+"_image"},getCanvasId:function(d,e){return e?this.getCompareCanvasId(d):this.sanitizeFeature(d)+"_canvas"},getImageCardId:function(d,e){return e?this.getCompareImageCardId(d):
this.sanitizeFeature(d)+"_card"},getCompareImageId:function(d){return this.sanitizeFeature(d)+"_image_compare"},getCompareCanvasId:function(d){return this.sanitizeFeature(d)+"_canvas_compare"},getCompareImageCardId:function(d){return this.sanitizeFeature(d)+"_card_compare"},getFeatureDialogId:function(d){return this.sanitizeFeature(d)+"_dialog"},featureMoreClicked:function(d){d=d.srcElement.parentElement;var e=this.$$("#"+this.sanitizeFeature(d.dataFeature)+"_dialog");e.positionTarget=d;e.open()},
expandFeature:function(d){this.set("expandedFeatures."+this.sanitizeFeature(d.srcElement.dataFeature),!0);this.refreshExampleViewer()},decodedStringToCharCodes:function(d){for(var e=new Uint8Array(d.length),f=0;f<d.length;++f)e[f]=d.charCodeAt(f);return e},handleImageUpload:function(d){this.handleFileSelect(d,this)},uploadImageClicked:function(d){d=this.getDataFromEvent(d);for(var e=Polymer.dom(this.root).querySelectorAll("paper-input"),f=null,g=0;g<e.length;g++)if(e[g].dataFeature==d.feature){f=
e[g];break}f&&f.querySelector("input").click()},handleFileSelect:function(d,e){d.stopPropagation();d.preventDefault();var f=new FileReader,g=d.dataTransfer?d.dataTransfer.files:d.target.files;0!==g.length&&(f.addEventListener("load",function(){var h=f.result.substring(+f.result.indexOf("base64,")+7),k=e.decodedStringToCharCodes(atob(h)),l=e.getDataFromEvent(d),n=e.getFeatureFromData(l),p=e.getValueListFromData(l);if(n){p[0]=k;dd(n).setValueList(p);(k=e.getJsonValueList(l.feature,l.seqNum))&&(k[0]=
h);var q=new Image;e.addImageElement(l.feature,q);q.addEventListener("load",function(){e.getOnLoadForImage(l.feature,q);var r=b.exec(l.feature)[1]||"",t="image"+r+"/width";r="image"+r+"/height";var v=e.getFeatureValues(t,!1),u=e.getFeatureValues(r,!1);0<v.length&&(v[0]=+q.width,ed(e.features.get(t)).setValueList(v));0<u.length&&(u[0]=+q.height,ed(e.features.get(r)).setValueList(u));e.exampleChanged()});q.src=f.result}},!1),f.readAsDataURL(g[0]))},addDragDropBehaviorToCanvas:function(d){function e(h){h.stopPropagation();
h.preventDefault();h.dataTransfer.dropEffect="copy"}function f(h){g.handleFileSelect(h,g)}var g=this;!this.readonly&&d&&(d.addEventListener("dragover",e,!1),d.addEventListener("drop",f,!1))},getOnLoadForImage:function(d,e,f){function g(k,l,n){var p=h.$$("#"+h.getCanvasId(k,n));n||h.addDragDropBehaviorToCanvas(p);if(l&&p){var q=p.getContext("2d"),r=h.imageScalePercentage/100;if(!h.allowImageControls){var t=h.$$("#"+h.getImageCardId(k,n)).parentElement.getBoundingClientRect().width/2;16<t&&(t-=16);
t<l.width&&(r=t/l.width)}p.width=l.width*r;p.height=l.height*r;var v=function(y){q.save();q.clearRect(0,0,p.width,p.height);q.translate(y.x,y.y);q.scale(y.k,y.k);h.renderImageOnCanvas(q,p.width,p.height,k,n);q.restore()},u=d3.zoom().scaleExtent(c).on("zoom",function(){h.addImageTransform(k,d3.event.transform,n);v(d3.event.transform)});d3.select(p).call(u).on("dblclick.zoom",function(){return d3.select(p).call(u.transform,d3.zoomIdentity)});q.save();q.scale(r,r);q.drawImage(l,0,0);q.restore();h.setImageDatum(q,
p.width,p.height,k,n);h.renderImageOnCanvas(q,p.width,p.height,k,n);n?h.compareImageInfo[k].transform&&v(h.compareImageInfo[k].transform):h.imageInfo[k].transform&&v(h.imageInfo[k].transform)}else requestAnimationFrame(function(){return g(k,l,n)})}var h=this;this.addImageElement(d,e,f);this.addImageOnLoad(d,g,f);return g.apply(this,[d,e,f])},addImageOnLoad:function(d,e,f){this.hasImage=!0;f?(this.compareImageInfo[d]||(this.compareImageInfo[d]={}),this.compareImageInfo[d].onload=e):(this.imageInfo[d]||
(this.imageInfo[d]={}),this.imageInfo[d].onload=e)},addImageData:function(d,e,f){f?(this.compareImageInfo[d]||(this.compareImageInfo[d]={}),this.compareImageInfo[d].imageData=e):(this.imageInfo[d]||(this.imageInfo[d]={}),this.imageInfo[d].imageData=e)},addImageElement:function(d,e,f){f?(this.compareImageInfo[d]||(this.compareImageInfo[d]={}),this.compareImageInfo[d].imageElement=e):(this.imageInfo[d]||(this.imageInfo[d]={}),this.imageInfo[d].imageElement=e)},addImageGrayscaleData:function(d,e){this.imageInfo[d]||
(this.imageInfo[d]={});this.imageInfo[d].imageGrayscaleData=e},addImageTransform:function(d,e,f){f?(this.compareImageInfo[d]||(this.compareImageInfo[d]={}),this.compareImageInfo[d].transform=e):(this.imageInfo[d]||(this.imageInfo[d]={}),this.imageInfo[d].transform=e)},setImageDatum:function(d,e,f,g,h){if(e&&f&&(d=d.getImageData(0,0,e,f),d=Uint8ClampedArray.from(d.data),this.addImageData(g,d,h),this.saliency&&this.showSaliency&&this.saliency[g]&&!h)){h=Uint8ClampedArray.from(d);for(e=0;e<d.length;e+=
4)f=(d[e]+d[e+1]+d[e+2])/3,h[e]=f,h[e+1]=f,h[e+2]=f;this.addImageGrayscaleData(g,h)}},contrastImage:function(d,e,f){e=d3.scaleLinear().domain([f-.5-e/2,f-.5+(e-1)/2]).clamp(!0).range([0,255]);for(f=0;f<d.length;f++)3!==f%4&&(d[f]=e(d[f]))},showSaliencyForValue:function(d){return Math.abs(d)>=Math.abs(0<=d?this.maxSal:this.minSal)*this.saliencyCutoff/100},getColorForSaliency:function(d){return this.showSaliencyForValue(d)?this.colors(d):"#fff"},addSaliencyToImage:function(d,e){Array.isArray(e)&&0<
e.length&&Array.isArray(e[0])&&(e=e[this.seqNumber]);for(var f=1/Math.pow(this.imageScalePercentage/100,2),g=0;g<d.length;g+=4){var h=Math.floor(g/4*f);var k=Array.isArray(e)?e.length>h?e[h]:0:e;h=.5*(this.showSaliencyForValue(k)?0<=k?0===this.maxSal?0:k/this.maxSal:k/this.minSal:0);k=d3.rgb(0<k?"#007B83":"#FF847C");var l=k.g,n=k.b;d[g]=d[g]*(1-h)+k.r*h;d[g+1]=d[g+1]*(1-h)+l*h;d[g+2]=d[g+2]*(1-h)+n*h}},renderImageOnCanvas:function(d,e,f,g,h){if(e&&f){var k=d.getImageData(0,0,e,f);h?k.data.set(this.compareImageInfo[g].imageData):
k.data.set(this.saliency&&this.showSaliency&&this.saliency[g]?this.imageInfo[g].imageGrayscaleData:this.imageInfo[g].imageData);256===this.windowWidth&&128===this.windowCenter||this.contrastImage(k.data,this.windowWidth,this.windowCenter);!h&&this.saliency&&this.showSaliency&&this.saliency[g]&&this.addSaliencyToImage(k.data,this.saliency[g]);g=document.createElement("canvas");g.width=e;g.height=f;g.getContext("2d").putImageData(k,0,0);d.clearRect(0,0,e,f);d.drawImage(g,0,0)}},showSalCheckboxChange:function(){this.showSaliency=
this.$.salCheckbox.checked},updateImages:function(){for(var d in this.imageInfo)if(this.imageInfo.hasOwnProperty(d))this.imageInfo[d].onload(d,this.imageInfo[d].imageElement)},shouldShowImageControls:function(d,e){return d&&e},shouldEnableAddFeature:function(d){return 0<d.length},getDeleteValueButtonClass:function(d,e){return d||!e?"delete-value-button delete-value-button-hidden":"delete-value-button"},getDeleteFeatureButtonClass:function(d){return d?"hide-controls":"delete-feature-button"},getAddValueButtonClass:function(d){return d?
"hide-controls":"add-value-button"},getAddFeatureButtonClass:function(d){return d?"hide-controls":"add-feature-button"},getUploadImageClass:function(d){return d?"hide-controls":"upload-image-button"},decodeBytesListToString:function(d){var e="",f;for(f=0;f<d.length/16384;f++)e+=String.fromCharCode.apply(null,d.slice(16384*f,16384*(f+1)));return e+=String.fromCharCode.apply(null,d.slice(16384*f))}})})(dj||(dj={}));
</script>
</dom-module>


<dom-module id="tf-interactive-inference-dashboard">
  <template>
    <style id="linter-paper-button-style">
      /**
       * This style preserves the styling previous to
       * https://github.com/PolymerElements/paper-button/pull/115
       * This change can break the layout of paper-button content.
       * Remove this style to apply the change, more details at b/70528356.
       */
      paper-button {
        display: inline-block;
        text-align: center;
        font-family: inherit;
      }
    </style>
    <style>
      :host {
        font-family: 'Roboto', 'Noto', sans-serif;
        --paper-tab-ink: var(--tb-orange-dark);
        --wit-color-gray300: #DADCE0;
      }

      #classification {
        width: 40%;
      }

      .example-holder {
        width: 100%;
      }

      .inference-section-holder {
        display: flex;
        margin-top: 6px;
        margin-right: 6px;
      }

      .inference-section {
        width: 100%;
        border: 1px solid var(--wit-color-gray300);
      }

      .inference-viewer {
        max-height: 35%;
        flex-grow: 1;
      }

      .compare-inference-viewer {
        border-left: 1px solid var(--wit-color-gray300);
      }

      .tf-option-selector-0 .content-wrapper.tf-option-selector  > * {
        width: 40%;
      }

      #spinner {
        position: absolute;
        top: 95px;
        left: 10px;
        width: 14px;
        height: 14px;
        --paper-spinner-color: var(--tb-orange-strong);
      }

      .noexamples {
        position: absolute;
        top: 75px;
        left: 30px;
      }

      .center {
        position: relative;
      }

      .info-text {
        font-size: 14px;
        color: #3C4043;
        letter-spacing: 0.25px;
        line-height: 20px;
        margin: 12px auto;
      }

      .pd-info-text {
        font-size: 18px;
        color: #3C4043;
        line-height: 24px;
        padding-top: 12px;
        padding-right: 4px;
        padding-left: 12px;
      }

      .pd-no-features-text {
        font-size: 18px;
        color: #3C4043;
        padding: 12px 48px;
      }

      .accept-button-holder {
        display: flex;
        flex-direction: row-reverse;
      }

      .settings-button {
        margin-top: 4px;
      }

      .button {
        font-size: 13px;
        margin: 10px 0 0 0;
        background-color: var(--tb-orange-strong);
        color: white;
      }

      .button[disabled] {
        background-color: #ccc;
      }

      .input-and-tooltip {
        display: flex;
      }

      .label-vocab-path-input {
        flex-grow: 1;
      }

      .threshold-dropdown {
        display: block;
        width: 150px;
        min-width: 150px;
        padding-right: 16px;
        --paper-input-container-input: {
          font-size: 14px;
          color: #3C4043;
        }
      }

      .slider-label {
        margin-top: 8px;
      }

      .facet-label {
        --paper-input-container-underline: {
          display: none;
        };
        --paper-input-container-input: {
          font-weight: 500;
        };
      }

      .slider {
        width: 280px;
        --paper-slider-input: {
          width: 80px;
        }
      }

      .slider-model-one {
        --paper-slider-knob-color: #12B5CE;
        --paper-slider-active-color: #12B5CE;
      }

      .slider-model-two {
        --paper-slider-knob-color: #fa7817;
        --paper-slider-active-color: #fa7817;
      }

      .pr-line-chart {
        margin: 0;
        height: 200px;
        width: 280px;
        display: inline-block;
      }

      paper-dialog.inference-settings {
        padding: 20px;
        width: 40%;
        max-width: 40%;
        overflow-y: auto;
        border-radius: 10px;
      }

      .dashboard-layout {
        display: flex;
        height: 100%;
        background-color: white;
      }

      .center {
        width: 60%;
      }

      .side-holder {
        position: relative;
        width: 40%;
        display: flex;
      }

      .side-content {
        padding-left: 5px;
        width: calc(100% - 10px);
        display: flex;
        flex-direction: column;
      }

      .side-tabs {
        display: flex;
        height: calc(100% - 50px);
      }

      .datapoint-tab {
        display: flex;
        width: 100%;
        overflow: auto;
      }

      .config-tab {
        width: 100%;
        display: flex;
      }

      .config-side-content {
        padding-left: 5px;
        width: 30%;
        overflow-y: auto;
        border-right: 1px solid var(--wit-color-gray300);
      }

      .config-main-content {
        width: 70%;
        display: flex;
        flex-direction: column;
        background: #F8F9FA;
      }

      .stats-tab {
        width: 100%;
        display: flex;
        overflow: auto;
      }

      .pd-tab {
        width: 100%;
        padding: 5px 10px;
      }

      .pd-plots-header {
        height: 52px;
        min-height: 52px;
        max-height: 52px;
        border-bottom: solid 2px var(--wit-color-gray300);
        display: flex;
        justify-content: space-between;
      }

      .pdplots-holder {
        flex-grow: 1;
        overflow-y: overlay;
        background: #F8F9FA;
      }

      .pd-range-hyphen {
        padding-right: 6px;
        padding-top: 8px;
      }

      .pd-range-control {
        border-bottom: solid 1px #FCC934;
        border-top: none;
        border-left: none;
        border-right: none;
        height: 36px;
        width: 104px;
        margin-right: 6px;
      }

      #overview {
        max-height: 100%;
        height: 100%;
      }

      .inference-header.heading {
        background: #E4F7FB;
      }

      .right-side {
        position: absolute;
        right: 0;
        top: 0;
      }

      .right-side-performance-tab {
        margin: 4px;
      }

      tf-confusion-matrix {
        display: block;
      }

      .conf-matrix-holder {
        margin-top: 20px;
        margin-bottom: 18px;
        margin-right: 24px;
      }

      .conf-matrix {
        margin-bottom: 18px;
      }

      .datapoint-controls-holder.datapoint-control-buttons-holder {
        padding-left: 2px;
      }


      .datapoint-controls-holder.datapoint-control-search-holder {
        padding-left: 10px;
      }

      .datapoint-controls-holder {
        border-bottom: 1px solid var(--wit-color-gray300);
        display: flex;
        flex-grow: 0;
        flex-shrink: 0;
        justify-content: space-between;
        margin-left: 1px;
      }

      .datapoint-left-controls-holder {
        display: flex;
        flex-wrap: wrap;
      }

      .datapoint-right-controls-holder {
        display: flex;
        flex-direction: row-reverse;
      }

      .tf-category-pane {
        flex-grow: 1;
      }

      .tf-category-pane-content {
        flex-wrap: wrap;
        flex-grow: 1;
        padding: 12px;
        border: 1px solid var(--wit-color-gray300);
        border-top: none;
        border-bottom-left-radius: 2px;
        border-bottom-right-radius: 2px;
        background: white;
      }

      :host vz-line-chart {
        margin: 12px 12px 12px 24px;
        height: 180px;
        width: 300px;
        display: inline-block;
      }

      :host vz-bar-chart {
        margin: 12px 12px 12px 24px;
        height: 240px;
        width: 450px;
        display: inline-block;
      }

      .pd-input-container {
        display: block;
        flex-grow: 0;
        padding: 12px 48px 24px 24px;
        background: #FeF7E0;
        border: solid 1px #FDE293;
      }

      .style-input {
        width: 50px;
        text-align: right;
        background: white;
      }

      .feature-container-holder {
        position:absolute;
        top: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background: white;
        display: none;
        flex-direction: column;
      }

      .datapoint-control-filter-input {
        border-radius: 2px;
        max-width: 60%;
        --paper-input-container: { padding: 4px 6px 2px 4px; };
        --paper-input-container-input: {
          font-size: 14px;
          color: #3C4043;
        }
        --paper-input-container-label: {
          font-size: 14px;
          color: #80868B;
        }
      }

      .datapoint-control-filter-input iron-icon {
        color: #9ba0a6;
      }

      .feature-search-input {
        padding-top: 3px;
        flex-grow: 1;
        max-width: 150px;
      }

      .control-button {
        background-color: white;
        border: 1px solid var(--wit-color-gray300);
        color: var(--tb-orange-dark);
        font-size: 14px;
        font-weight: 400;
        padding: 8px 12px;
        text-transform: none;
        margin: 5px;
      }

      .control-button[disabled] {
        color: #5F6368;
        background-color: #f4f4f4;
      }

      .main-button {
        background-color: var(--tb-orange-dark);
        border: 1px solid var(--tb-orange-dark);
        color: white;
        font-size: 14px;
        font-weight: 400;
        padding: 8px 12px;
        text-transform: none;
        margin: 5px;
      }

      .main-button[disabled] {
        background-color: lightgray;
        border: 1px solid lightgray;
        color: gray;
      }

      .optimize-threshold-button {
        margin: 5px 0;
        width: 150px;
        min-width: 150px;
        margin-right: 16px;
      }

      .close-partial-deps-button {
        margin: 10px;
      }

      paper-tabs {
        flex-grow: 1;
        width: 100%;
        height: 100%;
        --paper-tabs-selection-bar-color: var(--tb-orange-dark);
      }

      paper-tab {
        font-size: 14px;
        font-weight: 400;
        padding: 0 24px;
        letter-spacing: 0.1px;
      }

      paper-tab:not(.iron-selected) {
        color: #3C4043;
      }

      paper-tab.iron-selected {
        color: #202124;
        font-weight: 500;
      }

      .curves-holder {
        display: flex;
        flex-wrap: wrap;
        margin-top: 20px;
        position: relative;
      }

      .curve-holder {
        width: 300px;
        height: 235px;
        margin-bottom: 20px;
        margin-right: 20px;
        position: relative;
      }

      .roc-x-label {
        position: absolute;
        bottom: 0;
        left: 120px;
        font-size: 12px;
        color: #5f6368;
        padding: 0px;
      }

      .roc-y-label {
        position: absolute;
        left: -36px;
        bottom: 110px;
        transform: rotate(270deg);
        font-size: 12px;
        color: #5f6368;
        padding: 0px;
      }

      .pr-x-label {
        position: absolute;
        bottom: 0;
        left: 140px;
        font-size: 12px;
        color: #5f6368;
        padding: 0px;
      }

      .pr-y-label {
        position: absolute;
        left: -14px;
        bottom: 110px;
        transform: rotate(270deg);
        font-size: 12px;
        color: #5f6368;
        padding: 0px;
      }

      .flex {
        display: flex;
      }

      .space-between {
        justify-content: space-between;
      }

       .flex-wrap {
        display: flex;
        flex-wrap: wrap;
      }

      .optimize-text {
        margin: 5px 0;
        color: grey;
        font-size: 14px;
      }

      .threshold-cost-input {
        width: 150px;
        min-width: 150px;
        margin-right: 16px;
        --paper-input-container-input: {
          font-size: 14px;
          color: #3C4043;
        }
        --paper-input-container-label: {
          font-size: 14px;
          color: #80868B;
        }
      }

      .bold {
        font-weight: 500;
      }

      .indent {
        margin-left: 10px;
      }

      .feature-breakdown {
        margin-left: 12px;
      }

      .optimize-selection-button {
        margin-left: 0;
        margin-bottom: 5px;
      }

      .reg-table-category {
        text-align: left;
      }

      .reg-table-value {
        text-align: right;
      }

      .subfeature-table {
        margin-left: 10px;
      }

      .counterfactual-button-intro {
        padding: 7px 0 0 10px;
      }

      .main-vertical {
        width: 100%;
      }

      .main-bottom-bar {
        height: 52px;
        min-height: 52px;
        flex-grow: 0;
        display: flex;
        /* box-shadow: 0 2px 5px grey;
        margin-bottom: 3px; */
        border-bottom: solid 1px #DADCE0;
        justify-content: space-between;
      }

      .main-content {
        height: 100%;
      }

      .dist-switch {
        display: flex;
        margin-top: 0;
      }

      .distance-vis-dropdown {
        margin-top: 0;
      }

      #distancedialog {
        width: 30%;
      }

      #distancedialog .buttons {
        color: #f57c00;
      }

      paper-radio-button {
        --paper-radio-button-label: {
          font-size: 14px;
          color: #3C4043;
        }
        --paper-radio-button-unchecked-color: #3C4043;
        --paper-radio-button-unchecked-ink-color: #3C4043;
        --paper-radio-button-checked-color: #3C4043;
        --paper-radio-button-checked-ink-color: #3C4043;
      }

      paper-icon-button {
        color: #5F6368;
      }

      paper-icon-button[disabled] {
        color: #9AA0A6;
      }

      .resizer {
        display: table;
        height: 100%;
        width: 8px;
        border-left: 1px solid var(--wit-color-gray300);
        border-right: 1px solid var(--wit-color-gray300);
        cursor: pointer;
      }

      .example-status {
        font-size: 12px;
        color: #5F6368;
        white-space: nowrap;
        overflow: hidden;
        padding-top: 16px;
      }

      .example-id-label {
        padding: 9px 5px 9px 0;
      }

      .example-id-input {
        width: 70px;
        padding-top: 3px;
      }

      .heading-and-card {
        border: 1px solid lightgray;
        margin-right: 5px;
        margin-top: 5px;
        padding-top: 1px;
      }

      .editor-heading-and-card {
        flex: 1;
        overflow-y: overlay;
      }

      .heading {
        color: #5F6368;
        position: relative;
        padding: 10px 8px;
        background-color: #FEF7E0;
        border-bottom: 1px solid var(--wit-color-gray300);
        border-top: none;
        border-left: none;
        border-right: none;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        width: 100%;
        text-align: left;
      }

      .card {
        padding: 0 10px 5px;
      }

      .no-padding-card {
        padding: 0;
      }

      .tooltip {
        --paper-tooltip: {
          font-size: 16px;
        }
        --paper-tooltip-delay-out: 2000ms;
      }

      .comment-icon {
        width: 30px;
        height: 30px;
        min-width: 30px;
        min-height: 30px;
        margin-top: 10px;
        color: var(--tb-orange-dark);
      }

      .arrow-icon {
        width: 50px;
        height: 50px;
        min-width: 50px;
        min-height: 50px;
        color: var(--tb-orange-dark);
      }

      .pd-arrow-icon {
        width: 40px;
        height: 40px;
        min-width: 40px;
        min-height: 40px;
        margin-top: 5px;
        color: grey;
      }

      .pd-toggle {
        margin: 0 8px 0 20px;
      }

      .pd-entry-container {
        display: flex;
        flex-direction: row-reverse;
        justify-content: space-between;
        flex-grow: 1;
      }

      .info-icon {
        width: 20px;
        height: 20px;
        min-width: 20px;
        min-height: 20px;
        margin-top: 10px;
        color: grey;
      }

      .info-icon.cf-info-icon {
        margin-top: 12px;
      }

      .info-icon.thresh-info-icon {
        margin-top: -3px;
        vertical-align: middle;
      }

      .info-icon.pd-info-icon {
        margin-top: 15px;
      }

      .info-icon.threshold-info-icon {
        margin-top: 0;
        margin-bottom: 10px;
        margin-left: 5px;
      }

      .info-icon.performance-info-icon {
        margin-top: 18px;
        margin-bottom: 10px;
        margin-left: 5px;
      }

      .no-padding {
        padding: 0;
      }

      .resize-icon {
        display: table-cell;
        vertical-align: middle;
        color: grey;
        width: 10px;
        height: 10px;
        min-width: 10px;
        min-height: 10px;
      }

      .help-text {
        color: #5F6368;
        font-size: 10px;
        max-width: 200px;
      }

      .help-title {
        color: #007B7C;
        font-size: 11px;
        font-weight: 500;
        text-transform: uppercase;
      }

      .help-title-margin {
        margin-top: 14px;
      }

      .help-title-margin-button {
        margin-top: 4px;
      }

      .help-title-margin-title {
        margin-top: 7px;
      }

      .dialog-link {
        color: #5F6368;
        font-size: 10px;
        font-style: italic;
        text-decoration: underline;
        cursor: pointer;
      }

      .roc-text {
        color: #3C4043;
        font-size: 16px;
        margin-left: 44px;
      }

      .conf-text {
        margin-bottom: 12px;
        color: #3C4043;
        font-size: 16px;
      }

      .dialog-text {
        font-style: normal;
        text-align: left;
      }

      .dialog-title {
        font-size: 14px;
        font-weight: 500;
      }

      .title-width {
        width: 250px;
        padding-right: 16px;
      }

      .datapoint-info-holder {
        margin: 24px auto;
        max-width: 380px;
        padding: 24px;
      }

      .onboarding-header {
        color: #202124;
        font-size: 22px;
        margin-bottom: 28px;
      }

      .onboarding-text {
        color: #3C4043;
        font-size: 14px;
        margin-bottom: 20px;
      }

      .control-info-header {
        color: #3C4043;
        font-size: 14px;
        font-weight: 500;
        margin-top: 10px;
        margin-bottom: 15px;
      }

      .control-info-text {
        color: #3C4043;
        font-size: 14px;
        margin-bottom: 15px;
        max-width: 460px;
      }

      .button-prefix-label {
        margin: 12px 0 0 12px;
        color: grey;
        font-size: 14px;
      }

      .border-right {
        border-right: 1px solid var(--wit-color-gray300);
      }

      paper-dialog {
        color: #3C4043;
        border-radius: 10px;
        max-width: 600px;
      }

      .main-button.run-button {
        padding: 5px;
        flex-grow: 1;
      }

      .doc-image {
        width: 128px;
        height: 96px;
        border: 1px solid var(--wit-color-gray300);
      }

      .control-divider {
        margin: 5px 0 5px 5px;
        width: 5px;
        border-left: 1px solid var(--wit-color-gray300);
      }

      .optimization-radio {
        display: block;
        padding: 7px;
      }

      .optimization-radio-group {
        display: flex;
        flex-grow: 1;
        flex-direction: column;
      }

      .infer-info {
        margin-left: 30px;
      }

      .perf-table-clickable {
        cursor: pointer;
      }

      .perf-table-title-row {
        background: white;
        width: 100%;
        display: flex;
        border-bottom: 1px solid var(--wit-color-gray300);
        min-height: 52px;
        justify-content: space-between;
      }
      .perf-table-title {
        color: #3C4043;
        font-size: 18px;
        margin-left: 14px;
        margin-top: 16px;
      }
      .perf-table-sort-menu {
        margin-top: -10px;
      }
      .perf-table-header {
        background: white;
        width: 100%;
        font-weight: 500;
        color: #80868B;
        font-size: 14px;
        line-height:16px;
        letter-spacing: 0.25;
        display: flex;
        border-bottom: 1px solid var(--wit-color-gray300);
        min-height: min-content;
        padding-top: 12px;
        padding-bottom: 4px;
      }

      .perf-table-entries-holder {
        overflow-y: overlay;
        flex-grow: 1;
      }

      .perf-table-entry {
        background: white;
        color: #3C4043;
        font-size: 14px;
        border-bottom: solid 1px var(--wit-color-gray300);
      }

      .perf-table-entry-expanded {
        display: flex;
        flex-wrap: wrap;
        margin: 0 12px;
        border-left: 1px solid var(--wit-color-gray300);
        border-bottom: 1px solid var(--wit-color-gray300);
        border-right: 1px solid var(--wit-color-gray300);
        background: white;
      }

      .perf-table-row {
        width: 100%;
        display: flex;
        background: white;
        position:relative;
      }

      .perf-table-row-expanded {
        width: 100%;
        display: flex;
        border-bottom: 1px solid var(--wit-color-gray300);
        border-top: 1px solid var(--wit-color-gray300);
        border-radius: 2px;
        box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);
        background: white;
        position: relative;
      }

      .perf-table-text-entry {
        height: 40px;
        padding-top: 16px;
      }
      .perf-table-num-entry {
        height: 40px;
        padding-top: 16px;
        text-align: right;
      }
      .perf-table-arrow {
        min-width: 40px;
        width: 40px;
        margin-top: 8px;
      }
      .perf-table-val {
        width: 30%;
      }
      .perf-table-count {
        width: 10%;
        margin-right: 20px;
        text-align: right;
      }
      .perf-table-model {
        min-width: 100px;
        width: 100px;
      }
      .perf-table-model-single {
        display: none;
      }
      .perf-table-threshold {
        width: 280px;
        min-width: 280px;
        text-align: center;
      }
      .perf-table-error {
        width: 15%;
        text-align: right;
      }
      .perf-table-sq-error {
        width: 15%;
        text-align: right;
        margin-right: 20px;
      }
      .perf-table-fp {
        width: 15%;
        text-align: right;
      }
      .perf-table-fn {
        width: 15%;
        text-align: right;
      }
      .perf-table-acc {
        width: 15%;
        text-align: right;
        margin-right: 20px;
      }
      .perf-table-f1 {
        width: 10%;
        text-align: right;
        margin-right: 20px;
      }
      .perf-button {
        margin-top: 10px;
      }

      .perf-sort-box {
        display: flex;
        flex-direction: row-reverse;
      }
      .counterfactual-toggle {
        margin: 4px 4px 4px 6px;
        --paper-toggle-button-checked-bar-color: #81C995;
      }
      .datapoint-button {
        color: #202124;
        background: #FDE293;
      }
      .infer-button {
        color: white;
        background: #128EAF;
      }
      .flex-grow {
        flex-grow: 1;
      }
      .flex-row-reverse {
        flex-direction: row-reverse;
      }
      .threshold-info-holder {
        margin-top: -2px;
      }
      .tabs {
        padding-left: 32px;
        text-transform: none;
      }
      .rotated-icon {
        transform: rotate(270deg);
      }
      .datapoint-control-button {
        width: 28px;
        height: 28px;
        padding: 4px;
        margin-top: 4px;
      }
      .pd-holder {
        position: relative;
        width: 300px;
      }
      .pd-y-label {
        color: #5f6368;
        font-size: 12px;
        left: -20px;
        padding: 0px;
        position: absolute;
        top: 80px;
        transform: rotate(270deg);
      }
      .pd-x-label {
        bottom: 0;
        color: #5f6368;
        font-size: 12px;
        overflow: hidden;
        padding: 0 0 0 40px;
        position: absolute;
        text-align: center;
        text-overflow: ellipsis;
        width: 100%;
        white-space: nowrap;
      }
      paper-toggle-button {
        font-size: 14px;
        --paper-toggle-button-checked-button-color: white;
        --paper-toggle-button-label-color: #3C4043;
      }
    </style>
    <tf-plugin-dialog id="initialDialog"></tf-plugin-dialog>
    <paper-dialog id="inferencesettings" class="inference-settings" opened="[[!local]]">
      <tf-inference-panel inference-address="{{inferenceAddress}}" model-name="{{modelName}}" examples-path="{{examplesPath}}" model-type="{{modelType}}" model-version="{{modelVersion}}" model-signature="{{modelSignature}}" max-examples="{{maxExamples}}" label-vocab-path="{{labelVocabPath}}" multi-class="{{multiClass}}" sampling-odds="{{samplingOdds}}" sequence-examples="{{sequenceExamples}}" max-classes-to-display="{{maxInferenceEntriesPerRun}}" use-predict-api="{{usePredictApi}}" predict-output-tensor="{{predictOutputTensor}}" predict-input-tensor="{{predictInputTensor}}">
      </tf-inference-panel>
      <div class="accept-button-holder">
        <paper-button on-tap="getExamplesAndCloseSettings_" class="main-button" disabled$="[[shouldDisableGetExamplesButton_(examplesPath, maxExamples)]]">
          Accept
        </paper-button>
        <paper-button dialog-dismiss class="control-button">Cancel</paper-button>
      </div>
    </paper-dialog>
    <paper-dialog id="deletedialog">
      <p>Are you sure you want to delete the selected datapoint?
      <div class="buttons">
        <paper-button dialog-dismiss class="control-button">Cancel</paper-button>
        <paper-button dialog-confirm autofocus on-tap="deleteDatapoint_" class="main-button">Delete</paper-button>
      </div>
    </paper-dialog>
    <paper-dialog id="distancedialog">
      <h2>Show similarity to selected datapoint</h2>
      <paper-input value="{{facetDistFeatureName}}" label="Metric name" class="datapoint-control-filter-input">
      </paper-input>
      <div class="radiolabel">Distance type</div>
      <paper-radio-group class="dist-switch" selected="{{facetDistSwitch}}">
        <paper-radio-button class="dist-radio" name="L1">L1</paper-radio-button>
        <paper-radio-button class="dist-radio" name="L2">L2</paper-radio-button>
      </paper-radio-group>
      <paper-dropdown-menu label="Apply to datapoints visualization" class="threshold-dropdown distance-vis-dropdown">
        <paper-listbox class="dropdown-content" selected="{{facetDistSetting}}" attr-for-selected="name">
          <paper-item name="colorBy">Color By</paper-item>
          <paper-item name="horizontalFacet">X-Axis Binning</paper-item>
          <paper-item name="verticalFacet">Y-Axis Binning</paper-item>
          <paper-item name="horizontalPosition">X-Axis Scatter</paper-item>
          <paper-item name="verticalPosition">Y-Axis Scatter</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>
      <div class="buttons">
        <paper-button dialog-dismiss class="control-button">Cancel</paper-button>
        <paper-button dialog-confirm autofocus on-tap="addDistanceMetric" class="main-button">Apply</paper-button>
      </div>
    </paper-dialog>
    <div class="dashboard-layout">
      <div class="main-vertical">
        <div class="main-content">
              <div class="main-bottom-bar">
                <div class="datapoint-left-controls-holder">
                  <paper-tabs class="tabs" noink selected="{{sideTabSelected}}">
                    <paper-tab>Datapoint editor</paper-tab>
                    <paper-tab>[[getPerformanceTabTitle(modelType, multiClass)]]</paper-tab>
                    <paper-tab>Features</paper-tab>
                  </paper-tabs>
                </div>
                <div class="datapoint-right-controls-holder">
                  <a target="_blank" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference/README.md">
                    <paper-icon-button icon="help-outline" class="settings-button" title="What-If Tool documentation"></paper-icon-button>
                  </a>
                  <paper-icon-button icon="settings" on-tap="settingsClicked_" class="settings-button" title="What-If Tool settings" disabled$="[[local]]"></paper-icon-button>
                  <div class="example-status">[[exampleStatusStr]]</div>
                </div>
              </div>
              <iron-pages class="side-tabs" selected="{{sideTabSelected}}">
              <div class="datapoint-tab">
                <div class="side-holder" id="side">
                  <div class="side-content">
                    <div class="heading-and-card">
                      <button class="heading" on-tap="toggleContextTools">Visualize
                        <div class="right-side right-side-performance-tab">
                          <iron-icon icon="[[getExpandCollapseIcon(openedContextTools)]]" class="expand-collapse-button"></iron-icon>
                        </div>
                      </button>
                      <iron-collapse class="no-padding-card" id="collapsecontexttools" opened="{{openedContextTools}}">
                        <paper-radio-group selected="{{visMode}}">
                          <paper-radio-button name="dive">Datapoints</paper-radio-button>
                          <paper-radio-button name="pd">Partial dependence plots</paper-radio-button>
                        </paper-radio-group>
                        <template is="dom-if" if="[[!isRegression_(modelType)]]">
                          <div class="flex">
                            <div title="Select a datapoint to use this feature">
                              <paper-toggle-button class="counterfactual-toggle" checked="{{showNearestCounterfactual}}" disabled$="[[!hasSelected(selectedExampleAndInference)]]">
                                Show nearest counterfactual datapoint
                              </paper-toggle-button>
                            </div>
                            <paper-radio-group selected="{{nearestCounterfactualDist}}">
                              <paper-radio-button name="L1">L1</paper-radio-button>
                              <paper-radio-button name="L2">L2</paper-radio-button>
                            </paper-radio-group>
                            <paper-icon-button icon="info-outline" class="info-icon cf-info-icon no-padding" on-tap="openDialog">
                            </paper-icon-button>
                            <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                              <div class="dialog-title">Nearest counterfactual (neighbor of different classification)</div>
                              <div>Compares the selected datapoint with its nearest neighbor from a different classification using L1 or L2 distance.</div>
                            </paper-dialog>
                          </div>
                        </template>
                        <div title="Select a datapoint to use this feature">
                          <div class="flex">
                            <paper-button class="control-button datapoint-button" disabled$="[[!hasSelected(selectedExampleAndInference)]]" on-tap="showDistanceClicked_" alt="Show similarity to selected datapoint" title="Show similarity to selected datapoint">
                                Show similarity to selected datapoint
                            </paper-button>
                            <paper-icon-button icon="info-outline" class="info-icon cf-info-icon no-padding" on-tap="openDialog">
                            </paper-icon-button>
                            <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                              <div class="dialog-title">Show similarity to selected datapoint</div>
                              <div>
                                Calculates the distance between the selected datapoint and all other datapoints and shows this
                                in the datapoints visualization.
                              </div>
                            </paper-dialog>
                          </div>
                        </div>
                      </iron-collapse>
                    </div>
                    <div class="heading-and-card editor-heading-and-card">
                      <button class="heading">[[getDatapointEditorTitle(selectedExampleNum, comparedIndices)]]
                      </button>
                      <div class="no-padding-card">
                        <div class="datapoint-controls-holder datapoint-control-buttons-holder">
                          <div class="datapoint-left-controls-holder">
                            <paper-icon-button class="datapoint-control-button" icon="chevron-left" disabled$="[[!hasSelected(selectedExampleAndInference)]]" on-tap="selectPrevDatapoint_" alt="select previous datapoint" title="Select previous datapoint">
                            </paper-icon-button>
                            <paper-icon-button class="datapoint-control-button" icon="chevron-right" disabled$="[[!hasSelected(selectedExampleAndInference)]]" on-tap="selectNextDatapoint_" alt="select next datapoint" title="Select next datapoint">
                            </paper-icon-button>
                            <div title="Edit a datapoint to use this feature">
                              <paper-icon-button class="datapoint-control-button" icon="history" on-tap="resetDatapoint_" alt="undo changes" title="Undo changes" disabled$="[[shouldDisableReset_(selectedExampleAndInference.changed)]]">
                              </paper-icon-button>
                            </div>
                            <div title="Select a datapoint to use this feature">
                              <paper-icon-button class="datapoint-control-button" icon="content-copy" disabled$="[[!hasSelected(selectedExampleAndInference)]]" on-tap="copyDatapoint_" alt="duplicate datapoint" title="Duplicate datapoint">
                              </paper-icon-button>
                            </div>
                            <div title="Select a datapoint to use this feature">
                              <paper-icon-button class="datapoint-control-button" icon="delete" disabled$="[[!hasSelected(selectedExampleAndInference)]]" on-tap="deleteDatapointDialog_" alt="delete datapoint" title="Delete datapoint">
                              </paper-icon-button>
                            </div>
                            <div class="control-divider"></div>
                            <paper-input value="{{featureSearchValue}}" label="Search features" class="datapoint-control-filter-input feature-search-input" disabled$="[[!hasSelected(selectedExampleAndInference)]]" no-label-float>
                              <iron-icon icon="icons:search" prefix></iron-icon>
                            </paper-input>
                          </div>
                          <div class="datapoint-right-controls-holder">
                          </div>
                        </div>
                        <template is="dom-if" if="[[hasSelected(selectedExampleAndInference)]]">
                          <div class="example-and-inference-holder">
                            <vz-example-viewer class="example-holder" json="{{selectedExampleAndInference.example}}" compare-json="{{counterfactualExampleAndInference.example}}" on-example-change="exampleChange_" id="viewer" display-mode="[[exampleDisplayMode]]" feature-search-value="{{featureSearchValue}}" compare-title="[[compareTitle]]" saliency="[[attribution]]" show-saliency readonly="[[!areExamplesEditable_(modelName, inferenceAddress)]]">
                            </vz-example-viewer>
                          </div>
                        </template>
                        <template is="dom-if" if="[[!hasSelected(selectedExampleAndInference)]]">
                          <div class="datapoint-info-holder">
                            <div class="datapoint-info-content">
                              <div class="flex space-between">
                                <div class="onboarding-header">Select a datapoint to begin exploring model behavior for your selection.</div>
                              </div>
                              <div class="onboarding-text">
                                <span class="bold">Edit and Infer:</span>
                                Edit your datapoint here and run inference in the Infer table to see differences in model behavior.
                              </div>
                              <div class="onboarding-text">
                                <span class="bold">Visualize:</span>
                                Switch between visualizing datapoints and exploring partial dependence plots to gain insights into your
                                model's behavior. Explore counterfactuals or see how similar (or different) the rest of your dataset is from
                                your selection.
                              </div>
                            </div>
                          </div>
                        </template>
                      </div>
                    </div>
                    <div class="inference-section-holder">
                      <div class="inference-section">
                        <button class="inference-header heading" on-tap="toggleInferenceResults">
                          <div class="flex">
                            <div>[[getInferTitle(selectedExampleNum, comparedIndices)]]</div>
                            <div class="right-side right-side-performance-tab">
                              <iron-icon icon="[[getExpandCollapseIcon(openedInferenceResults)]]" class="expand-collapse-button"></iron-icon>
                            </div>
                          </div>
                        </button>
                        <iron-collapse class="no-padding-card" id="collapseinference" opened="{{openedInferenceResults}}">
                          <div title="Edit a datapoint to use this feature">
                            <paper-button on-tap="inferClicked_" class="control-button infer-button flex-grow" disabled$="[[shouldDisableInferButton_(examplesAndInferences, modelName, inferenceAddress, updatedExample)]]">
                              Run inference
                            </paper-button>
                          </div>
                          <div class="flex">
                            <template is="dom-if" if="[[hasSelected(selectedExampleAndInference)]]">
                              <tf-inference-viewer class="inference-viewer" inferences="[[selectedExampleAndInference.inferences]]" id$="[[getInferenceHolderId_()]]" model-type="[[modelType]]" model-names="[[parsedModelNames]]" max-entries-per-run="[[maxInferenceEntriesPerRun]]">
                              </tf-inference-viewer>
                            </template>
                            <template is="dom-if" if="[[counterfactualExampleAndInference]]">
                              <tf-inference-viewer class="inference-viewer compare-inference-viewer" inferences="[[counterfactualExampleAndInference.inferences]]" model-type="[[modelType]]" model-names="[[parsedModelNames]]" max-entries-per-run="[[maxInferenceEntriesPerRun]]">
                              </tf-inference-viewer>
                            </template>
                          </div>
                        </iron-collapse>
                      </div>
                    </div>
                    </div>
                    <div class="resizer" id="resizer">
                      <iron-icon icon="av:pause" class="resize-icon"></iron-icon>
                    </div>
                  </div>
                  <div class="center" id="center">
                    <facets-dive id="dive" data="[[visdata]]" selected-indices="[[selected]]" compared-indices="[[comparedIndices]]" on-selected-indices-changed="selectedIndicesChanged_" on-stats-changed="statsChanged_" hide-info-card="true" sprite-image-width="32" sprite-image-height="32" fit-grid-aspect-ratio-to-viewport="true" stable-colors="true">
                    </facets-dive>
                    <div id="noexamples" class="noexamples info-text">
                      Datapoints and their inference results will be displayed here.
                    </div>
                    <paper-spinner-lite id="spinner" hidden active></paper-spinner-lite>
                    <div class="feature-container-holder" id="partialplotholder">
                      <div class="pd-plots-header">
                        <div class="flex">
                          <div class="pd-info-text">Partial Dependence Plots</div>
                          <paper-icon-button icon="info-outline" class="info-icon pd-info-icon no-padding" on-tap="openDialog">
                          </paper-icon-button>
                          <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                            <div class="dialog-title">Partial Dependence Plots</div>
                            <div>Partial dependence plots visualize the change in inference results for every feature,
                              as the value for that feature is changed to different valid values.
                            </div>
                            <div>For numeric features, you can set the minimum and maximum values to plot.</div>
                            <div>For string features, the most popular feature values are shown as alternatives to
                              the feature value for the selected datapoint.
                            </div>
                            <div>For features with multiple feature values per datapoint, a single plot is shown for for
                              each feature value in the selected datapoint. You can override which feature values have
                              plots created for them by specifying the indices to shown partial dependence plots for,
                              if the datapoint contains multiple feature values for a feature.
                            </div>
                            <div>When the global toggle is turned on, the plots show the average effect of repeatedly
                              changing a single feature across all datapoints. When it is turned off, the plots show the
                              effect of a repeatedly changing a single feature on the selected datapoint.
                            </div>
                          </paper-dialog>
                        </div>
                        <paper-toggle-button class="pd-toggle" checked="{{globalPdPlots}}" on-change="hideAllPdElements_" disabled$="[[!hasSelected(selectedExampleAndInference)]]">
                          Global partial dependence plots
                        </paper-toggle-button>
                      </div>
                      <template is="dom-if" if="[[!areTherePdPlotFeatures_(partialDepPlotEligibleFeatures)]]">
                        <div class="pd-no-features-text">The loaded dataset has no features to show partial dependence plots for.</div>
                      </template>
                      <div class="pdplots-holder">
                        <template is="dom-repeat" items="[[partialDepPlotEligibleFeatures]]">
                          <div class="feature-container" data-feature-name$="[[item.name]]">
                            <div class="perf-table-entry perf-table-row">
                              <div class="perf-table-arrow">
                                <paper-icon-button class="pd-row-arrow rotated-icon" icon="arrow-drop-down" on-tap="categoryPaneClicked"></paper-icon-button>
                              </div>
                              <div class="perf-table-val perf-table-clickable tf-category-pane perf-table-text-entry" on-tap="categoryPaneClicked">[[item.name]]
                              </div>
                            </div>
                            <div class="pd-entry-container perf-table-entry-expanded" hidden>
                              <div class="pd-input-container" hidden$="[[shouldHidePdInputContainer(item.samples, item.name, selected)]]">
                                  <div class="range-input-container" hidden$="[[item.samples]]">
                                    <div class="info-text" title="The range of values to test (default values are automatically inferred).">
                                      Set range of values to test
                                    </div>
                                    <div class="flex">
                                      <input type="number" class="style-input x-min pd-range-control" value="[[item.observedMin]]" title="The minimum value to test (default value is automatically inferred)." on-input="pdInputChanged">
                                      <div class="pd-range-hyphen">-</div>
                                      <input type="number" class="style-input x-max pd-range-control" value="[[item.observedMax]]" title="The maximum value to test (default value is automatically inferred)." on-input="pdInputChanged">
                                    </div>
                                  </div>
                                  <div class="feature-index-container" hidden$="[[shouldHideFeatureIndicesSelector(item.name, selected)]]" title="An optional printer-page-style pattern like '0,2,4-6' to select the indices of the feature values to generate plots for. Useful for features with many repeated fields.">
                                    <div class="info-text">
                                      Set feature indices <i>(optional)</i>
                                    </div>
                                    <input type="text" class="style-input feature-index-pattern pd-range-control" on-input="pdInputChanged">
                                  </div>
                              </div>
                              <div class="tf-category-pane-content"></div>
                            </div>
                          </div>
                        </template>
                      </div>
                      </div>
                    </div>
              </div>
                <div class="config-tab">
                  <div class="config-side-content">
                    <div class="heading-and-card">
                      <button class="inference-header heading" on-tap="toggleTrueLabelSetup">Configure
                        <div class="right-side right-side-performance-tab">
                          <iron-icon icon="[[getExpandCollapseIcon(openedTrueLabel)]]" class="expand-collapse-button"></iron-icon>
                        </div>
                      </button>
                      <iron-collapse class="card" id="collapsetruelabel" opened="{{openedTrueLabel}}">
                        <template is="dom-if" if="[[shouldShowLabelDropdown_(stats)]]">
                          <div class="flex">
                            <paper-dropdown-menu label="Ground Truth Feature" class="threshold-dropdown">
                              <paper-listbox class="dropdown-content" selected="{{selectedLabelFeature}}" attr-for-selected="name">
                                <template is="dom-repeat" items="[[getFeatureList_(stats)]]">
                                  <paper-item name="[[item]]">[[getFeatureName_(item)]]</paper-item>
                                </template>
                              </paper-listbox>
                            </paper-dropdown-menu>
                            <div>
                              <div class="help-title help-title-margin">What is ground truth?</div>
                              <div class="help-text">
                                <div>The feature that your model is trying to predict.
                                  <span class="dialog-link" on-tap="openDialog">More.
                                    <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                                      <div class="dialog-title">Ground Truth Feature</div>
                                      <div>If the datapoints contain a feature that represents the ground truth for what the model is attempting
                                        to predict, then selecting that feature here allows the tool to investigate the performance of
                                        the model by comparing the model's results to the ground truth feature.
                                      </div>
                                    </paper-dialog>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <template is="dom-if" if="[[shouldShowCostRatio_(selectedLabelFeature, modelType, multiClass)]]">
                            <div class="flex">
                              <paper-input value="{{incorrectPredCostRatio}}" label="Cost Ratio (FP/FN)" type="number" class="threshold-cost-input">
                              </paper-input>
                              <div>
                                <div class="help-title help-title-margin">What is cost ratio?</div>
                                <div class="help-text">
                                  <div>The cost of false positives relative to false negatives. Required for optimization.
                                    <span class="dialog-link" on-tap="openDialog">More.
                                      <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                                        <div class="dialog-title">What is cost ratio?</div>
                                        <div>This tells the tool how to optimize the classification thresholds when you use the optimization strategy controls.</div>
                                        <div>1.00 = false positives are equally as costly as false negatives.</div>
                                        <div>4.00 = false positives are 4 times more costly than false negatives</div>
                                        <div>0.25 = false negatives are 4 times more costly than false positives.</div>
                                      </paper-dialog>
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </template>
                          <template is="dom-if" if="[[shouldShowFeatureDropdown_(stats)]]">
                            <div class="flex">
                              <paper-dropdown-menu label="Slice by" class="threshold-dropdown">
                                <paper-listbox class="dropdown-content" selected="{{selectedBreakdownFeature}}" attr-for-selected="name">
                                  <template is="dom-repeat" items="[[getFeatureList_(stats)]]">
                                    <paper-item name="[[item]]">[[getFeatureName_(item)]]</paper-item>
                                  </template>
                                </paper-listbox>
                              </paper-dropdown-menu>
                              <div>
                                <div class="help-title help-title-margin">What does slicing do?</div>
                                <div class="help-text">
                                  <div>Shows performance for each value of the selected feature.</div>
                                </div>
                              </div>
                            </div>
                            <div class="flex">
                              <template is="dom-if" if="[[shouldShowSecondFeatureDropdown_(selectedBreakdownFeature)]]">
                                <paper-dropdown-menu label="Slice by (secondary)" class="threshold-dropdown">
                                  <paper-listbox class="dropdown-content" selected="{{selectedSecondBreakdownFeature}}" attr-for-selected="name">
                                    <template is="dom-repeat" items="[[getFeatureList_(stats)]]">
                                      <paper-item name="[[item]]">[[getFeatureName_(item)]]</paper-item>
                                    </template>
                                  </paper-listbox>
                                </paper-dropdown-menu>
                              </template>
                            </div>
                          </template>
                        </template>
                      </iron-collapse>
                    </div>
                    <template is="dom-if" if="[[isBinaryClassification_(modelType, multiClass)]]">
                      <div class="heading-and-card">
                        <button class="inference-header heading" on-tap="toggleExplorerSetup">Fairness
                          <div class="right-side right-side-performance-tab">
                            <iron-icon icon="[[getExpandCollapseIcon(openedExplorer)]]" class="expand-collapse-button"></iron-icon>
                          </div>
                        </button>
                        <iron-collapse class="card" id="collapseexplorer" opened="{{openedExplorer}}">
                          <template is="dom-if" if="[[shouldShowFeatureDropdown_(stats)]]">
                            <div class="control-info-header help-title-margin-button">Apply an optimization strategy</div>
                            <div class="control-info-text">Select a strategy to set classification thresholds based on the set cost ratio and data slices.
                              Manually altering thresholds or changing cost ratio will default back to custom thresholds.
                            </div>
                            <paper-radio-group class="optimization-radio-group" selected="{{optimizationSelected}}">
                              <paper-radio-button name="custom" class="optimization-radio" id="customthresh">Custom thresholds
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Custom thresholds</div>
                                  <div>
                                    Set your own thresholds using the threshold sliders.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                              <paper-radio-button name="unaware" class="optimization-radio">Single threshold
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Single threshold</div>
                                  <div>
                                    Optimize a single threshold for all datapoints based on the specified cost ratio.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                              <paper-radio-button name="demoparity" class="optimization-radio" disabled$="[[!shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">Demographic parity
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Demographic parity</div>
                                  <div>
                                    Optimize a threshold per slice based on the specified cost ratio, ensuring the different slices achieve
                                    demographic party.
                                  </div>
                                  <div>
                                    Demographic parity means that similar percentages of datapoints from each slice are predicted as positive classifications.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                              <paper-radio-button name="equalopp" class="optimization-radio" disabled$="[[!shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">Equal opportunity
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Equal opportunity</div>
                                  <div>
                                    Optimize a threshold per slice based on the specified cost ratio, ensuring the different slices achieve
                                    equal opportunity.
                                  </div>
                                  <div>
                                    Equal opportunity means that among those predicted as positive classifications, there is a similar percentage of
                                    correct predictions in each slice.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                              <paper-radio-button name="equalacc" class="optimization-radio" disabled$="[[!shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">Equal accuracy
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Equal accuracy</div>
                                  <div>
                                    Optimize a threshold per slice based on the specified cost ratio, ensuring the different slices achieve
                                    equal accuracy.
                                  </div>
                                  <div>
                                    Equal accuracy means that there is a similar percentage of correct predictions in each slice.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                              <paper-radio-button name="group" class="optimization-radio" disabled$="[[!shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">Group thresholds
                                <paper-icon-button icon="info-outline" class="info-icon thresh-info-icon no-padding" on-tap="openDialog">
                                </paper-icon-button>
                                <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="bottom">
                                  <div class="dialog-title">Group thresholds</div>
                                  <div>
                                    Optimize a separate threshold for each slice based on the specified cost ratio.
                                  </div>
                                </paper-dialog>
                              </paper-radio-button>
                            </paper-radio-group>
                          </template>
                        </iron-collapse>
                      </div>
                    </template>
                </div>
                <div class="config-main-content">
                  <template is="dom-if" if="[[isBinaryClassification_(modelType, multiClass)]]" restamp>
                    <div class="perf-table-title-row">
                      <div class="flex">
                        <div class="perf-table-title">[[getPerfTableTitle(selectedBreakdownFeature, selectedSecondBreakdownFeature, optimizationSelected, featureValueThresholds)]]</div>
                        <paper-icon-button icon="info-outline" class="info-icon performance-info-icon no-padding" on-tap="openDialog">
                        </paper-icon-button>
                        <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                          <div class="dialog-title">Classification Performance Table</div>
                          <div>Set the ground truth feature to explore model performance including ROC curves and confusion matrices.</div>
                          <div>Slice the dataset by features and explore model performance by slice.</div>
                          <div>Use the fairness optimization strategies and see the impact on the thresholds and performance of the individual slices.</div>
                        </paper-dialog>
                      </div>
                      <div class="perf-sort-box">
                        <div>
                          <paper-icon-button icon="unfold-more" class="perf-button" on-tap="expandAllPerformance" alt="expand all slices" title="Expand all slices">
                          </paper-icon-button>
                          <paper-icon-button icon="unfold-less" class="perf-button" on-tap="collapseAllPerformance" alt="collapse all slices" title="Collapse all slices">
                          </paper-icon-button>
                        </div>
                        <paper-dropdown-menu label="Sort by" class="threshold-dropdown perf-table-sort-menu">
                          <paper-listbox class="dropdown-content" selected="{{selectedFeatureSort}}" attr-for-selected="name">
                            <template is="dom-repeat" items="[[getFeatureSortBy(modelType, multiClass)]]">
                              <paper-item name="[[item]]">[[item]]</paper-item>
                            </template>
                          </paper-listbox>
                        </paper-dropdown-menu>
                      </div>
                    </div>
                    <div class="perf-table-header">
                      <div class="perf-table-arrow">
                        <iron-icon class="expand-collapse-button"></iron-icon>
                      </div>
                      <div class="perf-table-val">Feature Value</div>
                      <div class="perf-table-count">Count</div>
                      <div class$="[[getPerfTableModelClass(numModels)]]">Model</div>
                      <div class="perf-table-threshold flex">
                        <div>Threshold</div>
                        <div class="threshold-info-holder">
                          <paper-icon-button icon="info-outline" class="info-icon threshold-info-icon no-padding" on-tap="openDialog">
                          </paper-icon-button>
                          <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                            <div class="dialog-title">Exploring Classification Performance</div>
                            <div>Use this slider to adjust the classification threshold for this slice. Inference values at or
                              above this threshold are considered a positive classification, while inference values below this
                              threshold are considered a negative classification.
                            </div>
                          </paper-dialog>
                        </div>
                      </div>
                      <div class="perf-table-fp">False Positives (%)</div>
                      <div class="perf-table-fn">False Negatives (%)</div>
                      <div class="perf-table-acc">Accuracy (%)</div>
                      <div class="perf-table-f1">F1</div>
                    </div>
                    <div class="perf-table-entries-holder">
                      <template is="dom-repeat" items="[[featureValueThresholds]]" as="featureValueThreshold">
                        <div class="perf-table-entry">
                            <div class$="[[getPerfTableRowClass(featureValueThreshold.opened)]]" data-index$="[[index]]">
                              <div class="perf-table-arrow">
                                <paper-icon-button class$="[[getExpandCollapsePerfIconClass(featureValueThreshold.opened)]]" icon="arrow-drop-down" on-tap="togglePerfRow"></paper-icon-button>
                              </div>
                              <div class="perf-table-val perf-table-clickable perf-table-text-entry" on-tap="togglePerfRow">[[getPrintableValue_(featureValueThreshold)]]</div>
                              <div class="perf-table-count perf-table-clickable perf-table-num-entry" on-tap="togglePerfRow">[[getFeatureValueCount(inferenceStats_, featureValueThreshold.threshold, featureValueThreshold)]]</div>
                              <div class$="[[getPerfTableModelClass(numModels)]]" on-tap="togglePerfRow">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <div class="perf-table-text-entry perf-table-clickable">[[getModelName_(index)]]</div>
                                </template>
                              </div>
                              <div class="perf-table-threshold">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                    <paper-slider class$="[[getSliderClass(index)]]" editable="true" min="0" max="1" step="0.01" immediate-value="{{item.threshold}}" value="[[item.threshold]]" on-value-changed="refreshInferencesNoRegen_" on-down="resetOptimizationSelected_">
                                    </paper-slider>
                                </template>
                              </div>
                              <div class="perf-table-fp perf-table-clickable" on-tap="togglePerfRow">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <div class="perf-table-num-entry">[[getFPModelIndex(inferenceStats_, featureValueThreshold.threshold, index, featureValueThreshold)]]</div>
                                </template>
                              </div>
                              <div class="perf-table-fn perf-table-clickable" on-tap="togglePerfRow">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <div class="perf-table-num-entry">[[getFNModelIndex(inferenceStats_, featureValueThreshold.threshold, index, featureValueThreshold)]]</div>
                                </template>
                              </div>
                              <div class="perf-table-acc perf-table-clickable" on-tap="togglePerfRow">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <div class="perf-table-num-entry">[[getAccuracyModelIndex(inferenceStats_, featureValueThreshold.threshold, index, featureValueThreshold)]]</div>
                                </template>
                              </div>
                              <div class="perf-table-f1 perf-table-clickable" on-tap="togglePerfRow">
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <div class="perf-table-num-entry">[[getF1ModelIndex(inferenceStats_, featureValueThreshold.threshold, index, featureValueThreshold)]]</div>
                                </template>
                              </div>
                            </div>
                        </div>
                        <iron-collapse opened="{{featureValueThreshold.opened}}">
                          <div class="perf-table-entry-expanded flex-row-reverse">
                            <template is="dom-if" if="[[shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">
                              <div class="conf-matrix-holder">
                                <div class="conf-text">Confusion matrix</div>
                                <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                  <tf-confusion-matrix counts="[[getConfusionCountsModelIndex(inferenceStats_, featureValueThreshold.threshold, index, featureValueThreshold)]]" label="[[getConfusionMatrixLabel(index, numModels)]]" background="[[getConfusionMatrixColor(index)]]" all-items="[[allConfMatrixLabels]]" class="conf-matrix">
                                  </tf-confusion-matrix>
                                </template>
                              </div>
                              <div class="curves-holder">
                                <div class="curve-holder">
                                  <div class="roc-text">ROC curve
                                    <paper-icon-button icon="info-outline" class="info-icon threshold-info-icon no-padding" on-tap="openDialog">
                                    </paper-icon-button>
                                    <paper-dialog class="dialog-text" horizontal-align="right" vertical-align="bottom">
                                      <div class="dialog-title">ROC curve</div>
                                      <div>A receiver operating characteristic (ROC) curve plots the true positive rate (TPR) against the
                                        false positive rate (FPR) at various classification thresholds.
                                      </div>
                                    </paper-dialog>
                                  </div>
                                  <div class="roc-x-label">False positive rate</div>
                                  <div class="roc-y-label">True positive rate</div>
                                  <vz-line-chart id="[[getRocChartId(index)]]" class="pr-line-chart" x-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]" y-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]">
                                  </vz-line-chart>
                                </div>
                                <div class="curve-holder">
                                  <div class="roc-text">PR curve
                                    <paper-icon-button icon="info-outline" class="info-icon threshold-info-icon no-padding" on-tap="openDialog">
                                    </paper-icon-button>
                                    <paper-dialog class="dialog-text" horizontal-align="right" vertical-align="bottom">
                                      <div class="dialog-title">PR curve</div>
                                      <div>A precision-recall (PR) curve plots precision against
                                        recall at various classification thresholds.
                                      </div>
                                    </paper-dialog>
                                  </div>
                                  <div class="pr-x-label">Recall</div>
                                  <div class="pr-y-label">Precision</div>
                                  <vz-line-chart id="[[getPrChartId(index)]]" class="pr-line-chart" x-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]" y-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]">
                                  </vz-line-chart>
                                </div>
                              </div>
                            </template>
                          </div>
                        </iron-collapse>
                      </template>
                      <template is="dom-if" if="[[shouldShowOverallThresholder_(selectedBreakdownFeature)]]">
                        <div class="perf-table-entry">
                          <div class="perf-table-row-expanded">
                            <div class="perf-table-arrow">
                              <paper-icon-button icon="arrow-drop-down" on-tap="togglePerfRow" disabled></paper-icon-button>
                            </div>
                            <div class="perf-table-val perf-table-text-entry">All datapoints</div>
                            <div class="perf-table-count perf-table-num-entry">[[getFeatureValueCount(inferenceStats_, overallThresholds)]]</div>
                            <div class$="[[getPerfTableModelClass(numModels)]]">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-text-entry">[[getModelName_(index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-threshold">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                  <paper-slider class$="[[getSliderClass(index)]]" editable="true" min="0" max="1" step="0.01" immediate-value="{{item.threshold}}" value="[[item.threshold]]" on-value-changed="refreshInferencesNoRegen_" on-down="resetOptimizationSelected_">
                                  </paper-slider>
                              </template>
                            </div>
                            <div class="perf-table-fp">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-num-entry">[[getFPModelIndex(inferenceStats_, overallThresholds, index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-fn">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-num-entry">[[getFNModelIndex(inferenceStats_, overallThresholds, index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-acc">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-num-entry">[[getAccuracyModelIndex(inferenceStats_, overallThresholds, index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-f1">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-num-entry">[[getF1ModelIndex(inferenceStats_, overallThresholds, index)]]</div>
                              </template>
                            </div>
                          </div>
                        </div>
                        <div class="perf-table-entry-expanded flex-row-reverse">
                          <template is="dom-if" if="[[shouldShowOverallPrChart_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">
                            <div class="conf-matrix-holder">
                              <div class="conf-text">Confusion matrix</div>
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <tf-confusion-matrix counts="[[getConfusionCountsModelIndex(inferenceStats_, overallThresholds, index)]]" label="[[getConfusionMatrixLabel(index, numModels)]]" background="[[getConfusionMatrixColor(index)]]" all-items="[[allConfMatrixLabels]]" class="conf-matrix">
                                </tf-confusion-matrix>
                              </template>
                            </div>
                            <div class="curves-holder">
                              <div class="curve-holder">
                                <div class="roc-text">ROC curve
                                  <paper-icon-button icon="info-outline" class="info-icon threshold-info-icon no-padding" on-tap="openDialog">
                                  </paper-icon-button>
                                  <paper-dialog class="dialog-text" horizontal-align="right" vertical-align="bottom">
                                    <div class="dialog-title">ROC curve</div>
                                    <div>A receiver operating characteristic (ROC) curve plots the true positive rate (TPR) against the
                                      false positive rate (FPR) at various classification thresholds.
                                    </div>
                                  </paper-dialog>
                                </div>
                                <div class="roc-x-label">False positive rate</div>
                                <div class="roc-y-label">True positive rate</div>
                                <vz-line-chart id="rocchart" class="pr-line-chart" x-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]" y-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]">
                                </vz-line-chart>
                              </div>
                              <div class="curve-holder">
                                <div class="roc-text">PR curve
                                  <paper-icon-button icon="info-outline" class="info-icon threshold-info-icon no-padding" on-tap="openDialog">
                                  </paper-icon-button>
                                  <paper-dialog class="dialog-text" horizontal-align="right" vertical-align="bottom">
                                    <div class="dialog-title">PR curve</div>
                                    <div>A precision-recall (PR) curve plots precision against
                                      recall at various classification thresholds.
                                    </div>
                                  </paper-dialog>
                                </div>
                                <div class="pr-x-label">Recall</div>
                                <div class="pr-y-label">Precision</div>
                                <vz-line-chart id="prchart" class="pr-line-chart" x-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]" y-axis-formatter="[[getSimpleAxisFormatter(axisPrecision)]]">
                                </vz-line-chart>
                              </div>
                            </div>
                          </template>
                        </div>
                      </template>
                    </div>
                  </template>
                  <template is="dom-if" if="[[isMultiClass_(modelType, multiClass)]]" restamp>
                    <div class="perf-table-title-row">
                      <div class="flex">
                        <div class="perf-table-title">[[getNoThresholdPerfTableTitle(selectedBreakdownFeature, selectedSecondBreakdownFeature, featureValueThresholds)]]</div>
                        <paper-icon-button icon="info-outline" class="info-icon performance-info-icon no-padding" on-tap="openDialog">
                        </paper-icon-button>
                        <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                          <div class="dialog-title">Classification Performance Table</div>
                          <div>Set the ground truth feature to explore model performance including confusion matrices.</div>
                          <div>Slice the dataset and explore model performance by slice.</div>
                        </paper-dialog>
                      </div>
                      <div class="perf-sort-box">
                        <div>
                          <paper-icon-button icon="unfold-more" class="perf-button" on-tap="expandAllPerformance" alt="expand all slices" title="Expand all slices">
                          </paper-icon-button>
                          <paper-icon-button icon="unfold-less" class="perf-button" on-tap="collapseAllPerformance" alt="collapse all slices" title="Collapse all slices">
                          </paper-icon-button>
                        </div>
                        <paper-dropdown-menu label="Sort by" class="threshold-dropdown perf-table-sort-menu">
                          <paper-listbox class="dropdown-content" selected="{{selectedFeatureSort}}" attr-for-selected="name">
                            <template is="dom-repeat" items="[[getFeatureSortBy(modelType, multiClass)]]">
                              <paper-item name="[[item]]">[[item]]</paper-item>
                            </template>
                          </paper-listbox>
                        </paper-dropdown-menu>
                      </div>
                    </div>
                    <div class="perf-table-header">
                      <div class="perf-table-arrow"></div>
                      <div class="perf-table-val">Feature Value</div>
                      <div class="perf-table-count">Count</div>
                      <div class$="[[getPerfTableModelClass(numModels)]]">Model</div>
                      <div class="perf-table-acc">Accuracy</div>
                    </div>
                    <div class="perf-table-entries-holder">
                      <template is="dom-repeat" items="[[featureValueThresholds]]" as="featureValueThreshold">
                        <div class="perf-table-entry">
                          <div class$="[[getPerfTableRowClass(featureValueThreshold.opened)]]" data-index$="[[index]]">
                            <div class="perf-table-arrow">
                              <paper-icon-button class$="[[getExpandCollapsePerfIconClass(featureValueThreshold.opened)]]" icon="arrow-drop-down" on-tap="togglePerfRow"></paper-icon-button>
                            </div>
                            <div class="perf-table-val perf-table-clickable perf-table-text-entry" on-tap="togglePerfRow">[[getPrintableValue_(featureValueThreshold)]]</div>
                            <div class="perf-table-count perf-table-num-entry perf-table-clickable perf-table-text-entry" on-tap="togglePerfRow">
                              [[getMultiClassFeatureValueCount(inferenceStats_, featureValueThreshold)]]</div>
                            <div class$="[[getPerfTableModelClass(numModels)]]" on-tap="togglePerfRow">
                              <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                <div class="perf-table-text-entry perf-table-clickable">[[getModelName_(index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-acc perf-table-clickable" on-tap="togglePerfRow">
                              <template is="dom-repeat" items="{{featureValueThreshold.threshold}}">
                                <div class="perf-table-text-entry perf-table-num-entry">
                                    [[getMultiClassAccuracyModelIndex(inferenceStats_, index, featureValueThreshold)]]
                                </div>
                              </template>
                            </div>
                          </div>
                        </div>
                        <iron-collapse opened="{{featureValueThreshold.opened}}">
                          <div class="perf-table-entry-expanded flex-row-reverse">
                            <div>
                              <template is="dom-if" if="[[shouldShowFeaturePrCharts_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">
                                <div class="conf-matrix-holder">
                                  <div class="conf-text">Confusion matrix</div>
                                  <template is="dom-repeat" items="[[inferenceStats_]]" as="inferenceStat">
                                    <tf-confusion-matrix counts="[[getMultiClassConfMatrix(inferenceStats_, index, featureValueThreshold)]]" label="[[getConfusionMatrixLabel(index, numModels)]]" background="[[getConfusionMatrixColor(index)]]" all-items="[[allConfMatrixLabels]]" class="conf-matrix">
                                    </tf-confusion-matrix>
                                    </template>
                                </div>
                              </template>
                            </div>
                          </div>
                        </iron-collapse>
                      </template>
                      <template is="dom-if" if="[[shouldShowOverallThresholder_(selectedBreakdownFeature)]]">
                        <div class="perf-table-entry">
                          <div class="perf-table-row-expanded">
                            <div class="perf-table-arrow">
                              <paper-icon-button icon="arrow-drop-down" on-tap="togglePerfRow" disabled></paper-icon-button>
                            </div>
                            <div class="perf-table-val perf-table-text-entry">All datapoints</div>
                            <div class="perf-table-count perf-table-num-entry">
                                [[getMultiClassFeatureValueCount(inferenceStats_)]]
                            </div>
                            <div class$="[[getPerfTableModelClass(numModels)]]">
                              <template is="dom-repeat" items="{{overallThresholds}}">
                                <div class="perf-table-text-entry">[[getModelName_(index)]]</div>
                              </template>
                            </div>
                            <div class="perf-table-acc">
                              <template is="dom-repeat" items="[[inferenceStats_]]" as="inferenceStat">
                                <div class="perf-table-text-entry perf-table-num-entry">
                                    [[getMultiClassAccuracyModelIndex(inferenceStats_, index)]]
                                </div>
                              </template>
                            </div>
                          </div>
                        </div>
                        <div class="perf-table-entry-expanded flex-row-reverse">
                          <template is="dom-if" if="[[shouldShowOverallPrChart_(selectedLabelFeature, selectedBreakdownFeature, inferences)]]">
                            <div class="conf-matrix-holder">
                              <div class="conf-text">Confusion matrix</div>
                              <template is="dom-repeat" items="[[inferenceStats_]]" as="inferenceStat">
                                <tf-confusion-matrix counts="[[getMultiClassConfMatrix(inferenceStats_, index)]]" label="[[getConfusionMatrixLabel(index, numModels)]]" background="[[getConfusionMatrixColor(index)]]" all-items="[[allConfMatrixLabels]]" class="conf-matrix">
                                </tf-confusion-matrix>
                              </template>
                            </div>
                          </template>
                        </div>
                      </template>
                    </div>
                  </template>
                  <template is="dom-if" if="[[isRegression_(modelType)]]" restamp>
                    <div class="perf-table-title-row">
                      <div class="flex">
                        <div class="perf-table-title">[[getNoThresholdPerfTableTitle(selectedBreakdownFeature, selectedSecondBreakdownFeature, featureValueThresholds)]]</div>
                        <paper-icon-button icon="info-outline" class="info-icon performance-info-icon no-padding" on-tap="openDialog">
                        </paper-icon-button>
                        <paper-dialog class="dialog-text" horizontal-align="auto" vertical-align="auto">
                          <div class="dialog-title">Regression Performance Table</div>
                          <div>Set the ground truth feature to explore model performance.</div>
                          <div>Slice the dataset and explore model performance by slice.</div>
                        </paper-dialog>
                      </div>
                        <paper-dropdown-menu label="Sort by" class="threshold-dropdown perf-table-sort-menu">
                        <paper-listbox class="dropdown-content" selected="{{selectedFeatureSort}}" attr-for-selected="name">
                          <template is="dom-repeat" items="[[getFeatureSortBy(modelType, multiClass)]]">
                            <paper-item name="[[item]]">[[item]]</paper-item>
                          </template>
                        </paper-listbox>
                      </paper-dropdown-menu>
                    </div>
                    <div class="perf-table-header">
                      <div class="perf-table-arrow"></div>
                      <div class="perf-table-val">Feature Value</div>
                      <div class="perf-table-count">Count</div>
                      <div class="perf-table-error">Mean error</div>
                      <div class="perf-table-error">Mean absolute error</div>
                      <div class="perf-table-sq-error">Mean squared error</div>
                    </div>
                    <div class="perf-table-entries-holder">
                      <template is="dom-repeat" items="[[regressionEntries_]]">
                        <div class="perf-table-entry">
                          <div class="perf-table-row">
                            <div class="perf-table-arrow"></div>
                            <div class="perf-table-val perf-table-text-entry">[[item.name]]</div>
                            <div class="perf-table-count perf-table-num-entry perf-table-text-entry">
                              [[item.count]]
                            </div>
                            <div class="perf-table-error perf-table-num-entry perf-table-text-entry">
                              [[formatError(item.meanError)]]
                            </div>
                            <div class="perf-table-error perf-table-num-entry perf-table-text-entry">
                              [[formatError(item.meanAbsError)]]
                            </div>
                            <div class="perf-table-sq-error perf-table-num-entry perf-table-text-entry">
                              [[formatError(item.meanSquaredError)]]
                            </div>
                          </div>
                        </div>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
                <div class="stats-tab">
                  <facets-overview id="overview" search-string="{{featureSearchValue}}"></facets-overview>
                </div>
              </iron-pages>
            </div>
      </div>
    </div>
    <style include="dashboard-style"></style>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-interactive-inference-dashboard.html.js
Polymer({is:"tf-interactive-inference-dashboard",properties:{_requestManager:{type:Object,value:function(){return new Of.RequestManager}},_canceller:{type:Object,value:function(){return new Of.Canceller}},examplesPath:{type:String},modelName:{type:String,observer:"modelNameChanged_"},parsedModelNames:{type:String},inferenceAddress:{type:String},modelType:{type:String},modelSignature:{type:String},modelVersion:{type:String},maxExamples:{type:Number},labelVocabPath:{type:String},maxInferenceEntriesPerRun:Number,
inferences:{type:Object,observer:"newInferences_",value:function(){return{}}},attributions:{type:Object,observer:"newAttributions_"},examplesAndInferences:{type:Array,value:function(){return[]},observer:"computeSelectedExampleAndInference"},selectedExampleAndInference:{type:Object},counterfactualExampleAndInference:{type:Object},visdata:{type:Array,value:function(){return[]}},selected:{type:Array,value:function(){return[]},observer:"computeSelectedExampleAndInference"},comparedIndices:{type:Array,
value:function(){return[]}},labelVocab:{type:Array,value:function(){return[]}},updatedExample:{type:Boolean,value:!1},imageFeatureName:{type:String,value:"image/encoded",readonly:!0},stats:Object,selectedBreakdownFeature:{type:String,value:"",observer:"breakdownFeatureSelected_"},selectedSecondBreakdownFeature:{type:String,value:"",observer:"breakdownFeatureSelected_"},selectedLabelFeature:{type:String,value:"",observer:"labelFeatureSelected_"},inferenceStats_:{type:Array,value:function(){return[]}},
featureValueThresholds:{type:Array,value:function(){return[]}},featureValueThresholdsMap:Object,defaultInferenceLabel:{type:Number,value:0,observer:"refreshInferences_"},overallThresholds:{type:Array,value:function(){return[]}},sideTabSelected:{type:Number,value:0,observer:"sideTabSelectedChanged_"},local:{type:Boolean,value:!1,observer:"localChanged_"},localAtlasUrl:String,partialDepPlotEligibleFeatures:{type:Array,value:function(){return[]},observer:"partialDepPlotEligibleFeaturesSet"},partialDepPlotPendingFeatures:{type:Array,
value:function(){return[]}},exampleDisplayMode:{type:String,value:"stacked"},featureSearchValue:String,incorrectPredCostRatio:{type:Number,value:1,observer:"costRatioChanged_"},multiClass:{type:Boolean},sequenceExamples:{type:Boolean},samplingOdds:{type:Number},usePredictApi:{type:Boolean},predictOutputTensor:{type:String},predictInputTensor:{type:String},axisPrecision:{type:Number,value:2},distanceStats_:{type:Object},facetDistSwitch:{type:String,value:"L1"},facetDistFeatureName:{type:String},facetDistFeatureNames:{type:Array,
value:function(){return[]}},facetDistSetting:{type:String,value:"colorBy"},exampleStatusStr:{type:String,value:"No datapoints loaded yet"},selectedExampleNum:{type:Number,value:"",observer:"selectedExampleInputChanged_"},selectedExampleMax:Number,openedContextTools:{type:Boolean,value:!0},openedPerformance:{type:Boolean,value:!0},openedTrueLabel:{type:Boolean,value:!0},openedExplorer:{type:Boolean,value:!0},openedInferenceResults:{type:Boolean,value:!0},regressionEntries_:{type:Array},nearestCounterfactualDist:{type:String,
value:"L1",observer:"nearestCounterfactualDistChanged_"},visMode:{type:String,value:"dive",observer:"visModeChanged_"},optimizationSelected:{type:String,value:"custom",observer:"optimizationSelectedChanged_"},compareTitle:String,attribution:{type:Object,value:function(){return{}}},globalPdPlots:{type:Boolean,value:!0},numModels:{type:Number,readOnly:!0},showNearestCounterfactual:{type:Boolean,value:!1,observer:"showNearestCounterfactualChanged_"},selectedFeatureSort:{type:String,value:"Count",observer:"selectedFeatureSortChanged_"},
pdPlotColors:{type:Array,value:function(){return[d3.color("rgb(31, 119, 180)"),d3.color("rgb(255, 127, 14)"),d3.color("rgb(44, 160, 44)"),d3.color("rgb(214, 39, 40)"),d3.color("rgb(148, 103, 189)"),d3.color("rgb(140, 86, 75)"),d3.color("rgb(227, 119, 194)"),d3.color("rgb(127, 127, 127)"),d3.color("rgb(188, 189, 34)"),d3.color("rgb(23, 190, 207)")]}},pdPlotTransparentColors:{type:Array,value:function(){return[d3.color("rgba(31, 119, 180, 0.3)"),d3.color("rgba(255, 127, 14, 0.3)"),d3.color("rgba(44, 160, 44, 0.3)"),
d3.color("rgba(214, 39, 40, 0.3)"),d3.color("rgba(148, 103, 189, 0.3)"),d3.color("rgba(140, 86, 75, 0.3)"),d3.color("rgba(227, 119, 194, 0.3)"),d3.color("rgba(127, 127, 127, 0.3)"),d3.color("rgba(188, 189, 34, 0.3)"),d3.color("rgba(23, 190, 207, 0.3)")]}},rocCurveColors:{type:Array,value:function(){return[d3.color("rgb(18, 181, 206)"),d3.color("rgb(250, 120, 23)")]}},rocCurveLineColors:{type:Array,value:function(){return[d3.color("rgba(18, 181, 206, 0.6)"),d3.color("rgba(250, 120, 23, 0.6)")]}},confMatrixColors:{type:Array,
value:function(){return[d3.color("rgb(18, 181, 206)"),d3.color("rgb(250, 120, 23)")]}},allConfMatrixLabels:{type:Array,value:function(){return[]}}},observers:["setFacetDistFeatureName(facetDistSwitch, selected)"],reload:function(){},openDialog:function(a){a.stopPropagation();a.target.parentElement.parentElement.querySelector("paper-dialog").open()},ready:function(){var a=this,b=d3.select(this.$.side),c=d3.select(this.$.center),d=d3.select(this.$.resizer),e=this,f=d3.drag().on("drag",function(){var g=
d3.mouse(a.parentNode.parentNode)[0]/a.parentNode.parentNode.offsetWidth*100;g=Math.max(g,20);c.style("width",100-g+"%");b.style("width",g+"%");e.$.dive.$.vis._updateGridFaceting();e.$.dive.$.vis._onIronResize()});d.call(f)},attached:function(){var a=this;this._requestManager.request(Of.getRouter().pluginsListing()).then(function(b){"whatif"in b?a.$.initialDialog.closeDialog():(a.$.inferencesettings.close(),a.$.initialDialog.openNoTensorFlowDialog())})},settingsClicked_:function(){this.$.inferencesettings.toggle()},
localChanged_:function(){this.local&&this.closeSettings_()},modelNameChanged_:function(){this.parsedModelNames=this.modelName.split(",").map(function(d){return d.trim()});for(var a=0;a<this.parsedModelNames.length;a++)for(var b=this.parsedModelNames[a],c=a+1;c<this.parsedModelNames.length;c++)this.parsedModelNames[c]==b&&(this.parsedModelNames[a]=b+" "+(a+1),this.parsedModelNames[c]=b+" "+(c+1))},closeSettings_:function(){this.$.inferencesettings.close()},showDistanceClicked_:function(){this.$.distancedialog.toggle()},
addDistanceMetric:function(){this.facetDistFeatureNames.push(this.facetDistFeatureName);for(var a=this.selected[0],b="L2"==this.facetDistSwitch,c=0;c<this.visdata.length;c++){var d=this.getDist(this.visdata[a],this.visdata[c],b);this.visdata[c][this.facetDistFeatureName]=d}this.refreshDive_();"colorBy"==this.facetDistSetting?this.$.dive.colorBy=this.facetDistFeatureName:"verticalFacet"==this.facetDistSetting?this.$.dive.verticalFacet=this.facetDistFeatureName:"horizontalFacet"==this.facetDistSetting?
this.$.dive.horizontalFacet=this.facetDistFeatureName:"verticalPosition"==this.facetDistSetting?this.$.dive.verticalPosition=this.facetDistFeatureName:"horizontalPosition"==this.facetDistSetting&&(this.$.dive.horizontalPosition=this.facetDistFeatureName)},setFacetDistFeatureName:function(a,b){this.facetDistFeatureName=" "+a+" distance to datapoint "+b[0]},showNearestCounterfactualChanged_:function(a){a?this.findClosestCounterfactual_():(this.comparedIndices=[],this.counterfactualExampleAndInference=
null,a=this.selectedExampleAndInference,this.selectedExampleAndInference=null,this.selectedExampleAndInference=a)},nearestCounterfactualDistChanged_:function(){this.showNearestCounterfactual&&this.findClosestCounterfactual_()},findClosestCounterfactual_:function(){for(var a=this.selected[0],b=this.strWithModelName_(" Inference value",0),c=Number.POSITIVE_INFINITY,d=-1,e=0;e<this.visdata.length;e++)if(this.visdata[a][b]!=this.visdata[e][b]){var f=this.getDist(this.visdata[a],this.visdata[e],"L2"==
this.nearestCounterfactualDist);f<c&&(c=f,d=e)}-1!=d&&(this.comparedIndices=[d],this.counterfactualExampleAndInference=this.examplesAndInferences[d],this.compareTitle="Counterfactual value(s)")},getDist:function(a,b,c){for(var d=0,e=[].concat(ka(new Set([].concat(ka(Object.keys(a)),ka(Object.keys(b)))))),f=0;f<e.length;f++){var g=e[f];if(!this.isComputedKeyStr_(g)&&g!=this.selectedLabelFeature&&this.stats[g].uniqueCount!=this.examplesAndInferences.length){var h=a[g],k=b[g];Array.isArray(h)||(h=[h]);
Array.isArray(k)||(k=[k]);for(var l=Math.max(h.length,k.length),n=0,p=0;p<l;p++)n=null!=this.distanceStats_[g].stdDev?n+this.getNumericDist(h[p],k[p],this.distanceStats_[g]):n+this.getCategoricalDist(h[p],k[p],this.distanceStats_[g]);g=n/l;c&&(g*=g);d+=g}}return d},getNumericDist:function(a,b,c){return null==a||null==b?1:c.stdDev?Math.abs((a-b)/c.stdDev):0},getCategoricalDist:function(a,b,c){return null==a||null==b?1:a==b?0:c.probSameValue},visModeChanged_:function(a){"dive"==a?this.hidePartialDependencePlots_():
this.showPartialDependencePlots_()},hidePartialDependencePlots_:function(){this.$.partialplotholder.style.display="none"},showPartialDependencePlots_:function(){var a=this;this.$.partialplotholder.style.display="flex";requestAnimationFrame(function(){return a.populatePdTabs()})},areTherePdPlotFeatures_:function(a){return a&&0<a.length},selectedIndicesChanged_:function(a){this.selected=a.detail.value;this.setAttributions();this.selectedDataUpdated_();this.showNearestCounterfactual&&0!=this.selected.length?
this.findClosestCounterfactual_():this.comparedIndices=[]},selectNextDatapoint_:function(){this.$.dive.selectedIndices=[(this.selected[0]+1)%this.visdata.length]},selectPrevDatapoint_:function(){this.$.dive.selectedIndices=[((this.selected[0]-1)%this.visdata.length+this.visdata.length)%this.visdata.length]},selectedExampleInputChanged_:function(a){null!=a&&""!=a&&(a=+a,isNaN(a)||0>a||a>=this.visdata.length||(this.$.dive.selectedIndices=[a]))},setExampleCollapsed_:function(){this.exampleDisplayMode=
"grid";this.$$("#viewer").expandedFeatures={};this.$$("#viewer").expandAllFeatures=!1;this.$$("#viewer").refreshExampleViewer()},setExampleShow_:function(){this.exampleDisplayMode="grid";this.$$("#viewer").expandAllFeatures=!0},setExampleExpanded_:function(){this.exampleDisplayMode="stacked";this.$$("#viewer").expandAllFeatures=!0},statsChanged_:function(a){this.stats=a.detail.value},isBinaryClassification_:function(a,b){return"classification"==a&&!b},isMultiClass_:function(a,b){return"classification"==
a&&b},isRegression_:function(a){return"regression"==a},shouldShowFeatureDropdown_:function(a){return a&&0<Object.keys(a).length},shouldShowSecondFeatureDropdown_:function(a){return""!=a},shouldShowLabelDropdown_:function(a){return a&&0<Object.keys(a).length},shouldShowOverallPrChart_:function(a,b,c){return""!=a&&""==b&&null!=c},shouldShowFeaturePrCharts_:function(a,b,c){return""!=a&&""!=b&&null!=c},shouldShowCostRatio_:function(a,b,c){return""!=a&&this.isBinaryClassification_(b,c)},arePartialDependencePlotsEnabled_:function(a,
b,c){return this.hasSelected(a)&&this.areExamplesEditable_(b,c)},hasSelected:function(a){return null!=a},getFeatureList_:function(a){var b=this;a=Object.keys(a).filter(function(c){return!b.isComputedKeyStr_(c)}).sort();a.push("");return a},strStartsWith_:function(a,b){return 0==a.lastIndexOf(b,0)},getModelName_:function(a){return this.parsedModelNames[a]},strWithModelName_:function(a,b){return 1<this.numModels?a+" "+this.getModelName_(b):a},updateNumberOfModels:function(){this._setNumModels(this.modelName.split(",").length);
this.selectedSecondBreakdownFeature=this.selectedBreakdownFeature=this.selectedLabelFeature="";for(var a=[],b=0;b<this.numModels;b++)a.push({threshold:.5});this.set("overallThresholds",a);this.shouldDisableInferButton_(this.examplesAndInferences,this.modelName,this.inferenceAddress,this.updatedExample)||this.inferClicked_()},isComputedKeyStr_:function(a){return this.strStartsWith_(a," Inference value")||this.strStartsWith_(a," Inference label")||this.strStartsWith_(a," Inference correct")||this.strStartsWith_(a,
" Inference error")||this.strStartsWith_(a," Inference score")||this.strStartsWith_(a," Inference absolute error")||this.strStartsWith_(a," Inference squared error")||" Datapoint ID"==a||-1!=this.facetDistFeatureNames.indexOf(a)},breakdownFeatureSelected_:function(){this.resetOptimizationSelected_();var a=this.selectedBreakdownFeature;""==a&&(this.selectedSecondBreakdownFeature="");var b=this.selectedSecondBreakdownFeature,c=[],d={};if(0!==a.length){var e=this.stats[a].valueHash;this.stats[a].totalCount!=
this.examplesAndInferences.length&&(e=Object.assign({},e,{undefined:""}));var f={undefined:""};0!=b.length&&(f=this.stats[b].valueHash,this.stats[b].totalCount!=this.examplesAndInferences.length&&(f=Object.assign({},f,{undefined:""})));for(var g in e)if(e.hasOwnProperty(g))for(var h in f)if(f.hasOwnProperty(h)){for(var k="undefined"==g?void 0:this.stats[a].valueHash[g].value,l="undefined"==h?void 0:this.stats[b].valueHash[h].value,n=[],p=0;p<this.overallThresholds.length;p++)n.push({threshold:this.overallThresholds[p].threshold});
n={value:k,value2:l,threshold:n,opened:!1};c.push(n);d[this.createCombinedValueString_(k,l)]=n}}this.set("featureValueThresholds",c);this.set("featureValueThresholdsMap",d);this.refreshInferences_(!1)},labelFeatureSelected_:function(){var a=this;requestAnimationFrame(function(){a.updateInferenceStats_(!0);a.refreshDive_()})},sideTabSelectedChanged_:function(a){var b=this;if(1==a)requestAnimationFrame(function(){b.updateInferenceStats_(!0)});else if(2==a){a=this.$.overview.querySelectorAll("facets-overview-table");
for(var c=0;c<a.length;c++)a[c]._handleResize()}},updateInferenceStats_:function(a){if(this.inferenceStats_&&this.visdata&&""!=this.selectedLabelFeature&&0!=this.examplesAndInferences.length&&null!=this.examplesAndInferences[0].inferences&&this.examplesAndInferences[0].inferences[0].length==this.numModels&&(this.inferenceStats_.length==this.numModels||a)){if(a){for(var b=[],c=[],d=0;d<this.numModels;d++){var e={};if(this.isBinaryClassification_(this.modelType,this.multiClass)){e.thresholds=[];for(var f=
0;101>f;f++)e.thresholds.push({TP:0,FP:0,FN:0,TN:0});e.faceted={};for(f=0;f<this.examplesAndInferences.length;f++){var g=this.visdata[f],h=null;if(""!=this.selectedBreakdownFeature){var k=this.createCombinedValueString_(g[this.selectedBreakdownFeature],g[this.selectedSecondBreakdownFeature]);h=e.faceted[k];if(!h){e.faceted[k]=[];for(h=0;101>h;h++)e.faceted[k].push({TP:0,FP:0,FN:0,TN:0});h=e.faceted[k]}}k=this.getClassificationBestNonZero(f,d);for(var l=0;100>=l&&!(l>100*k.score);l++)+g[this.selectedLabelFeature]==
+k.label?(e.thresholds[l].TP+=1,h&&(h[l].TP+=1)):(e.thresholds[l].FP+=1,h&&(h[l].FP+=1));for(;100>=l;l++)null==g[this.selectedLabelFeature]||0==+g[this.selectedLabelFeature]?(e.thresholds[l].TN+=1,h&&(h[l].TN+=1)):(e.thresholds[l].FN+=1,h&&(h[l].FN+=1))}this.allConfMatrixLabels=[];this.calcThresholdStats(e.thresholds);for(var n in e.faceted)e.faceted.hasOwnProperty(n)&&this.calcThresholdStats(e.faceted[n])}else if(this.isMultiClass_(this.modelType,this.multiClass)){e.results={};e.faceted={};f=new Set;
for(g=0;g<this.examplesAndInferences.length;g++){h=this.visdata[g];k=null;""!=this.selectedBreakdownFeature&&(l=this.createCombinedValueString_(h[this.selectedBreakdownFeature],h[this.selectedSecondBreakdownFeature]),k=e.faceted[l],k||(e.faceted[l]={},k=e.faceted[l]));var p=e.results[h[this.selectedLabelFeature]];p||(e.results[h[this.selectedLabelFeature]]={},p=e.results[h[this.selectedLabelFeature]]);l=this.strWithModelName_(" Inference value",d);var q=p[h[l]];f.add(String(h[l]));f.add(String(h[this.selectedLabelFeature]));
p[h[l]]=null==q?1:p[h[l]]+1;k&&(p=k[h[this.selectedLabelFeature]],p||(k[h[this.selectedLabelFeature]]={},p=k[h[this.selectedLabelFeature]]),p[h[l]]=null==p[h[l]]?1:p[h[l]]+1)}this.allConfMatrixLabels=Array.from(f.values())}else{e.results={errors:[]};e.faceted={};for(f=0;f<this.examplesAndInferences.length;f++)h=this.visdata[f],g=null,""!=this.selectedBreakdownFeature&&(k=this.createCombinedValueString_(h[this.selectedBreakdownFeature],h[this.selectedSecondBreakdownFeature]),g=e.faceted[k],g||(e.faceted[k]=
{errors:[]},g=e.faceted[k])),h=h[this.strWithModelName_(" Inference value",d)]-h[this.selectedLabelFeature],e.results.errors.push(h),g&&g.errors.push(h);c.push(this.fillInRegressionStats(e.results,this.formatChartKey("All datapoints",d,this.numModels)));for(var r in e.faceted)c.push(this.fillInRegressionStats(e.faceted[r],this.formatChartKey(r,d,this.numModels)))}b.push(e)}c=this.sortRegressionEntries(c);this.regressionEntries_=[];this.regressionEntries_=c;this.inferenceStats_=b}b=this.featureValueThresholds;
this.featureValueThresholds=[];this.featureValueThresholds=this.sortFeatureValues(b);if(this.isBinaryClassification_(this.modelType,this.multiClass)){for(b=0;b<this.featureValueThresholds.length;b++){c=[];d=[];e=this.featureValueThresholds[b].threshold;for(n=0;n<e.length;n++)c.push(this.inferenceStats_[n].faceted[this.createCombinedValueString_(this.featureValueThresholds[b].value,this.featureValueThresholds[b].value2)]),d.push(e[n].threshold);this.plotChart(this.$$("#"+this.getRocChartId(b)),c,d,
a,!0);this.plotChart(this.$$("#"+this.getPrChartId(b)),c,d,a,!1)}b=[];c=[];for(d=0;d<this.inferenceStats_.length;d++)b.push(this.inferenceStats_[d].thresholds),c.push(this.overallThresholds[d].threshold);this.plotChart(this.$$("#rocchart"),b,c,a,!0);this.plotChart(this.$$("#prchart"),b,c,a,!1)}this.updateCorrectness_()}},sortFeatureValues:function(a){var b=this,c=this.inferenceStats_[0];a=a.filter(function(d){return b.isRegression_(b.modelType)?0<b.getRegressionCount(c,d):b.isBinaryClassification_(b.modelType,
b.multiClass)?0<b.getBinaryClassificationCount(c,d):0<b.getMulticlassClassificationCount(c,d)});return a.sort(function(d,e){if("Count"==b.selectedFeatureSort)return b.isRegression_(b.modelType)?b.getRegressionCount(c,e)-b.getRegressionCount(c,d):b.isBinaryClassification_(b.modelType,b.multiClass)?b.getBinaryClassificationCount(c,e)-b.getBinaryClassificationCount(c,d):b.getMulticlassClassificationCount(c,e)-b.getMulticlassClassificationCount(c,d);if("Alphabetical"==b.selectedFeatureSort)return b.getPrintableValue_(d).localeCompare(b.getPrintableValue_(e));
if("Accuracy"==b.selectedFeatureSort)return b.isBinaryClassification_(b.modelType,b.multiClass)?+b.getAccuracyModelIndex(b.inferenceStats_,e.threshold,0,e)-+b.getAccuracyModelIndex(b.inferenceStats_,d.threshold,0,d):+b.getMultiClassAccuracyModelIndex(b.inferenceStats_,0,e)-+b.getMultiClassAccuracyModelIndex(b.inferenceStats_,0,d);if("False positives"==b.selectedFeatureSort)return+b.getFPModelIndex(b.inferenceStats_,e.threshold,0,e)-+b.getFPModelIndex(b.inferenceStats_,d.threshold,0,d);if("False negatives"==
b.selectedFeatureSort)return b.getFNModelIndex(+b.inferenceStats_,e.threshold,0,e)-+b.getFNModelIndex(b.inferenceStats_,d.threshold,0,d)})},sortRegressionEntries:function(a){var b=this;return a.sort(function(c,d){if("Count"==b.selectedFeatureSort)return d.count-c.count;if("Alphabetical"==b.selectedFeatureSort)return c.name.localeCompare(d.name);if("Mean error"==b.selectedFeatureSort)return d.meanError-c.meanError;if("Mean absolute error"==b.selectedFeatureSort)return d.meanAbsError-c.meanAbsError;
if("Mean squared error"==b.selectedFeatureSort)return d.meanSquaredError-c.meanSquaredError})},fillInRegressionStats:function(a,b){function c(f){return f.reduce(function(g,h){return g+h},0)/f.length}var d=a.errors.map(function(f){return Math.abs(f)}),e=a.errors.map(function(f){return f*f});return{name:b,meanError:c(a.errors),meanAbsError:c(d),meanSquaredError:c(e),count:a.errors.length}},plotChart:function(a,b,c,d,e){if(b&&b[0]&&a){for(var f=[],g=[],h=e?"FPR":"TPR",k=e?"TPR":"PPV",l=e?"FPR":"Recall",
n=e?"TPR":"Precision",p={$jscomp$loop$prop$modelInd$43:0};p.$jscomp$loop$prop$modelInd$43<b.length;p={$jscomp$loop$prop$modelInd$43:p.$jscomp$loop$prop$modelInd$43,$jscomp$loop$prop$currentThresholdData$44:p.$jscomp$loop$prop$currentThresholdData$44},p.$jscomp$loop$prop$modelInd$43++){p.$jscomp$loop$prop$currentThresholdData$44=null;var q=b[p.$jscomp$loop$prop$modelInd$43].map(function(v){return function(u,y){.5>y-100*c[v.$jscomp$loop$prop$modelInd$43]&&(v.$jscomp$loop$prop$currentThresholdData$44=
{step:u[h],scalar:u[k],threshold:y/100});return{step:u[h],scalar:u[k],threshold:y/100}}}(p)).reverse();a.setSeriesData(this.strWithModelName_("Threshold set",p.$jscomp$loop$prop$modelInd$43),[p.$jscomp$loop$prop$currentThresholdData$44]);d&&(a.setSeriesData(this.strWithModelName_("ROC",p.$jscomp$loop$prop$modelInd$43),q),f.push(this.strWithModelName_("ROC",p.$jscomp$loop$prop$modelInd$43)),f.push(this.strWithModelName_("Threshold set",p.$jscomp$loop$prop$modelInd$43)),g.push(this.rocCurveLineColors[p.$jscomp$loop$prop$modelInd$43]),
g.push(this.rocCurveColors[p.$jscomp$loop$prop$modelInd$43]))}if(d){var r=d3.format(".2f");a.xAxisFormatter=d3.format(".2f");var t=d3.format(",.1");d=[{title:"Threshold",evaluate:function(v){return r(v.datum.threshold)}},{title:n,evaluate:function(v){return e?t(v.datum.scalar):r(v.datum.scalar)}},{title:l,evaluate:function(v){return e?t(v.datum.step):r(v.datum.step)}}];1<b.length&&d.push({title:"Model",evaluate:function(v){v=v.dataset.metadata().name.split(" ");return v[v.length-1]}});a.tooltipColumns=
d;a.colorScale=(new Plottable.Scales.Color).range(g);a.colorScale.domain(f);a.setVisibleSeries(f)}}},calcThresholdStats:function(a){for(var b=0;b<a.length;b++)a[b].TPR=0<a[b].TP+a[b].FN?a[b].TP/(a[b].TP+a[b].FN):0,a[b].FPR=0<a[b].FP+a[b].TN?a[b].FP/(a[b].FP+a[b].TN):0,a[b].PPV=0<a[b].TP+a[b].FP?a[b].TP/(a[b].TP+a[b].FP):0},optimizationSelectedChanged_:function(a){"custom"!=a&&("unaware"==a?this.optimizeThresholdClicked_():"group"==a?this.optimizeFacetedThresholdsClicked_():"demoparity"==a?this.demoParityClicked_():
"equalacc"==a?this.equalAccClicked_():"equalopp"==a&&this.equalOppoClicked_())},costRatioChanged_:function(){this.resetOptimizationSelected_()},resetOptimizationSelected_:function(){var a=this.$$("#customthresh");null!=a&&a.click()},optimizeThresholdClicked_:function(){for(var a=0;a<this.inferenceStats_.length;a++){var b=this.findOptimalThreshold_(this.inferenceStats_[a].thresholds);this.set("overallThresholds."+a+".threshold",b);if(this.featureValueThresholds)for(var c=0;c<this.featureValueThresholds.length;c++)this.set("featureValueThresholds."+
c+".threshold."+a+".threshold",b)}},optimizeFacetedThresholdsClicked_:function(){for(var a=0;a<this.inferenceStats_.length;a++)for(var b=Object.keys(this.inferenceStats_[a].faceted),c=0;c<b.length;c++)this.set("featureValueThresholds."+c+".threshold."+a+".threshold",this.findOptimalThreshold_(this.inferenceStats_[a].faceted[b[c]]))},findOptimalThreshold_:function(a){for(var b=Number.POSITIVE_INFINITY,c=0,d=0;d<a.length;d++){var e=this.getCost(a[d]);e<=b&&(b=e,c=d)}return c/100},equalOppoClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return a.TP/
(a.TP+a.FN)})},equalAccClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return(a.TP+a.TN)/(a.TP+a.FP+a.TN+a.FN)})},demoParityClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return(a.TP+a.FP)/(a.TP+a.FP+a.TN+a.FN)})},getBestThresholdsByFairnessMeasure_:function(a){for(var b=0;b<this.inferenceStats_.length;b++){for(var c=Number.POSITIVE_INFINITY,d=null,e=this.inferenceStats_[b],f=Object.keys(e.faceted),g=e.faceted[f[0]],h=0;h<g.length;h++){for(var k=
a(g[h]),l=[h],n=this.getCost(g[h]),p=1;p<f.length;p++){var q=e.faceted[f[p]],r=this.thresholdClosestToMeasure(q,k,a);l.push(r);n+=this.getCost(q[r])}n<=c&&(c=n,d=l)}for(c=0;c<f.length;c++)this.set("featureValueThresholdsMap."+f[c]+".threshold."+b+".threshold",d[c]/100);for(d=0;d<this.featureValueThresholds.length;d++)this.set("featureValueThresholds."+d+".threshold."+b+".threshold",this.featureValueThresholds[d].threshold[b].threshold)}},getCost:function(a){return a.FP*this.incorrectPredCostRatio+
a.FN},thresholdClosestToMeasure:function(a,b,c){for(var d=Number.POSITIVE_INFINITY,e=0,f=0;f<a.length;f++){var g=c(a[f]);g=Math.abs(g-b);g<=d&&(e=f,d=g)}return e},getClassificationBestNonZero:function(a,b){for(var c=0,d=this.examplesAndInferences[a].inferences.length-1,e=0;e<this.examplesAndInferences[a].inferences[d][b].length;e++)if(0!==+this.examplesAndInferences[a].inferences[d][b][e].label){c=e;break}return this.examplesAndInferences[a].inferences[d][b][c]},getConfusionCountsModelIndex:function(a,
b,c,d){return this.overallThresholds.length!=this.numModels||this.inferenceStats_.length!=this.numModels?{}:this.getConfusionCounts(this.inferenceStats_[c],b[c].threshold,d)},getTotalEntriesInConfCounts:function(a){if(null==a)return 0;for(var b=0,c=Object.keys(a),d=0;d<c.length;d++)for(var e=a[c[d]],f=Object.keys(e),g=0;g<f.length;g++)b+=e[f[g]];return b},getFPModelIndex:function(a,b,c,d){a=this.getConfusionCountsModelIndex(a,b,c,d);if(0==Object.keys(a).length)return null;b=a.No.Yes;return d3.format(",.1f")(b/
this.getTotalEntriesInConfCounts(a)*100)},getFNModelIndex:function(a,b,c,d){a=this.getConfusionCountsModelIndex(a,b,c,d);if(0==Object.keys(a).length)return 0;b=a.Yes.No;return d3.format(",.1f")(b/this.getTotalEntriesInConfCounts(a)*100)},getAccuracyModelIndex:function(a,b,c,d){a=this.getConfusionCountsModelIndex(a,b,c,d);if(0==Object.keys(a).length)return 0;b=a.Yes.Yes+a.No.No;return d3.format(",.1f")(b/this.getTotalEntriesInConfCounts(a)*100)},getF1ModelIndex:function(a,b,c,d){var e=d3.format(",.2f");
c=this.getConfusionCountsModelIndex(a,b,c,d);if(0==Object.keys(c).length)return 0;a=c.Yes.Yes;b=c.No.Yes;c=c.Yes.No;if(0==a)return 0!=b||0!=c?e(0):e(1);b=a/(a+b);a/=a+c;return e(2*b*a/(b+a))},getFeatureValueCount:function(a,b,c){return this.getTotalEntriesInConfCounts(this.getConfusionCountsModelIndex(a,b,0,c))},getConfusionMatrixLabel:function(a,b){return 2>b?"":this.getModelName_(a)},getConfusionMatrixColor:function(a){return this.confMatrixColors[a]},getConfusionCounts:function(a,b,c){var d=null,
e=null;null!=c&&(d=c.value,e=c.value2);return{No:{No:this.getConfMatrixValue(a,b,"TN",d,e),Yes:this.getConfMatrixValue(a,b,"FP",d,e)},Yes:{No:this.getConfMatrixValue(a,b,"FN",d,e),Yes:this.getConfMatrixValue(a,b,"TP",d,e)}}},getConfMatrixValue:function(a,b,c,d,e){b=Math.floor(100*b);if(!a.thresholds)return 0;if(null===d)return a.thresholds[b][c];d=this.createCombinedValueString_(d,e);return null==a.faceted[d]?0:a.faceted[d][b][c]},getMultiClassConfMatrix:function(a,b,c){return 0==a.length?{}:null==
c?a[b].results:a[b].faceted[this.getPrintableValue_(c)]},getMultiClassFeatureValueCount:function(a,b){return this.getTotalEntriesInConfCounts(this.getMultiClassConfMatrix(a,0,b))},getMultiClassAccuracyModelIndex:function(a,b,c){a=this.getMultiClassConfMatrix(a,b,c);if(null==a)return null;b=0;c=Object.keys(a);for(var d=0;d<c.length;d++)for(var e=a[c[d]],f=Object.keys(e),g=0;g<f.length;g++)c[d]==f[g]&&(b+=e[f[g]]);return d3.format(",.1f")(b/this.getTotalEntriesInConfCounts(a)*100)},getInferenceStat:function(a,
b,c,d){a=b?a.faceted[this.getPrintableValue_(b)]:a.results;if(!a)return null;c=c(a);return d?d(c):c},getRegressionMean:function(a,b){return this.getInferenceStat(a,b,function(c){return c.mean},d3.format(".3f"))},getRegressionAbsMean:function(a,b){return this.getInferenceStat(a,b,function(c){return c.absMean},d3.format(".3f"))},getRegressionSquaredMean:function(a,b){return this.getInferenceStat(a,b,function(c){return c.squaredMean},d3.format(".3f"))},getRegressionCount:function(a,b){a=this.getInferenceStat(a,
b,function(c){return c.errors.length},null);return null==a?0:a},getBinaryClassificationCount:function(a,b){return this.getInferenceStat(a,b,function(c){return Object.values(c[0]).reduce(function(d,e){return d+e})},null)},getMulticlassClassificationCount:function(a,b){return this.getInferenceStat(a,b,function(c){return Object.values(c).reduce(function(d,e){for(var f=0,g=Object.keys(e),h=0;h<g.length;h++)f+=e[g[h]];return d+f},0)},null)},getRocChartId:function(a){return"rocchart"+a},getPrChartId:function(a){return"prchart"+
a},getPrintableValue_:function(a){var b=a.value||0===a.value?String(a.value):"\x3cfeature value missing\x3e";if(""==this.selectedSecondBreakdownFeature)return b;b+="/";return b=a.value2||0===a.value2?b+a.value2:b+"\x3cfeature value missing\x3e"},getFeatureName_:function(a){return 0===a.length?"\x3cnone\x3e":a},getClassName_:function(a){return 0===a.length?"\x3cnone\x3e":a},shouldShowOverallThresholder_:function(a){return 0===a.length},computeSelectedExampleAndInference:function(){this.counterfactualExampleAndInference=
null;this.selected&&this.examplesAndInferences?(this.selectedExampleAndInference=0<this.selected.length?this.examplesAndInferences[this.selected[0]]:null,null==this.selectedExampleAndInference?this.globalPdPlots=!0:(this.globalPdPlots=!1,"dive"!=this.visMode&&this.showPartialDependencePlots_())):this.selectedExampleAndInference=null},setAttributions:function(){var a={},b=this.visdata[this.selected[0]],c=/attributions__(.*)/,d=/attributions__(.*)_keys/,e;for(e in b){var f=c.exec(e);if(f){f=new RegExp("^(features__)?"+
f[1]+"$");for(var g in b)if(f.test(g)){a[g]=b[e];break}}if(f=d.exec(e)){f=new RegExp("^(features__)?"+f[1]+"$");for(var h in b)if(f.test(h)){f=b[e];for(var k=b[e.replace("_keys","_values")],l=Array.apply(null,Array(Array.isArray(b[h])?b[h].length:1)).map(Number.prototype.valueOf,0),n=0;n<f.length;n++){var p=b[h].indexOf(f[n]);-1!=p&&(l[p]=k[n])}a[h]=l;break}}}this.attribution=a},shouldDisableGetExamplesButton_:function(a){return 0==a.length},shouldDisableInferButton_:function(a,b,c,d){return 0==a.length||
0==b.length||0==c.length||!d},areExamplesEditable_:function(a,b){return 0!=a.length&&0!=b.length},newInferences_:function(){var a=this;this.$.spinner.hidden=!0;this.updateInferences_(!0);requestAnimationFrame(function(){return a.updateInferenceStats_(!0)})},refreshInferencesNoRegen_:function(){var a=this;this.refreshInferences_(!0);requestAnimationFrame(function(){return a.updateInferenceStats_(!0)})},refreshInferences_:function(a){var b=this;this.updateInferences_(!1);requestAnimationFrame(function(){return b.updateInferenceStats_(!a)})},
updateInferences_:function(a){if(this.examplesAndInferences&&this.inferences.indices&&0!=this.inferences.indices.length&&this.inferences.results.length==this.numModels){for(var b={},c=!!this.inferences.results[0].classificationResult,d=0;d<this.inferences.indices.length;d++)if(c){b[this.inferences.indices[d]]=[];for(var e=0;e<this.inferences.results.length;e++){for(var f=this.inferences.results[e].classificationResult,g=0;g<f.classifications[d].classes.length;g++)""==f.classifications[d].classes[g].label&&
(f.classifications[d].classes[g].label=g.toString());b[this.inferences.indices[d]][e]=f.classifications[d].classes.sort(function(l,n){return n.score-l.score})}}else for(b[this.inferences.indices[d]]=[],e=0;e<this.inferences.results.length;e++)b[this.inferences.indices[d]][e]=[{label:"",score:this.inferences.results[e].regressionResult.regressions[d].value}];this.set("examplesAndInferences",this.examplesAndInferences.map(function(l,n){var p=l.inferences?l.inferences:[];b[n]&&a&&(p=p.concat([b[n]]));
return{example:l.example,inferences:p,changed:l.changed,orig:l.orig}}));var h=this,k=!1;this.visdata.forEach(function(l,n){if(c)h.setItemInferenceValue(l,n,h.selectedBreakdownFeature,h.selectedSecondBreakdownFeature);else for(var p=0;p<h.numModels;p++)l[h.strWithModelName_(" Inference value",p)]=h.examplesAndInferences[n].inferences[h.examplesAndInferences[n].inferences.length-1][p][0].score;if(c&&0<h.labelVocab.length){for(p=0;p<h.examplesAndInferences[n].inferences.length;p++)for(var q=0;q<h.examplesAndInferences[n].inferences[p].length;q++)for(var r=
0;r<h.examplesAndInferences[n].inferences[p][q].length;r++)h.examplesAndInferences[n].inferences[p][q][r].vocabLabel=h.labelVocab[h.examplesAndInferences[n].inferences[p][q][r].label];for(n=0;n<h.numModels;n++)l[h.strWithModelName_(" Inference label",n)]=h.labelVocab[l[h.strWithModelName_(" Inference value",n)]];k=!0}});this.updateCorrectness_();this.refreshDive_();this.inferences.indices.length==this.examplesAndInferences.length&&(this.$.dive.colorBy=k?this.strWithModelName_(" Inference label",0):
this.strWithModelName_(" Inference value",0),this.isRegression_(this.modelType)?this.$.dive.horizontalPosition=this.strWithModelName_(" Inference value",0):this.isBinaryClassification_(this.modelType,this.multiClass)&&(1==this.numModels?this.$.dive.verticalPosition=this.strWithModelName_(" Inference score",0):(this.$.dive.horizontalPosition=this.strWithModelName_(" Inference score",0),this.$.dive.verticalPosition=this.strWithModelName_(" Inference score",1))));this.updatedExample=!1}},newAttributions_:function(a){if(0!=
Object.keys(a).length){for(var b=0;b<a.indices.length;b++){for(var c=a.indices[b],d=Object.assign({},this.visdata[c]),e=a.attributions[0][b],f=Object.keys(e),g=0;g<f.length;g++)Array.isArray(e[f[g]])&&2==e[f[g]].length&&Array.isArray(e[f[g]][0])?(d["attributions__"+f[g]+"_keys"]=e[f[g]][0],d["attributions__"+f[g]+"_values"]=e[f[g]][1]):d["attributions__"+f[g]]=e[f[g]];this.set("visdata."+c,d)}this.setAttributions();this.refreshDive_()}},setItemInferenceValue:function(a,b,c,d){var e=this.examplesAndInferences[b].inferences.length-
1;if(this.multiClass)for(c=0;c<this.numModels;c++)a[this.strWithModelName_(" Inference value",c)]=this.examplesAndInferences[b].inferences[e][c][0].label;else for(e=this.overallThresholds,0!==c.length&&(e=this.featureValueThresholdsMap[this.createCombinedValueString_(a[c],a[d])].threshold),c=0;c<this.numModels;c++)d=this.getClassificationBestNonZero(b,c),a[this.strWithModelName_(" Inference score",c)]=d.score,a[this.strWithModelName_(" Inference value",c)]=d.score>=e[c].threshold?d.label:this.defaultInferenceLabel.toString()},
createCombinedValueString_:function(a,b){a=null==a?"":a;return null==b||""==b?a:a+("/"+b)},updateCorrectness_:function(){if(this.selectedLabelFeature&&this.examplesAndInferences)for(var a=0;a<this.examplesAndInferences.length;a++)for(var b=this.visdata[a],c=0;c<this.numModels;c++)"classification"==this.modelType?b[this.strWithModelName_(" Inference correct",c)]=b[this.selectedLabelFeature]==b[this.strWithModelName_(" Inference value",c)]?"correct":"incorrect":(b[this.strWithModelName_(" Inference error",
c)]=b[this.strWithModelName_(" Inference value",c)]-b[this.selectedLabelFeature],b[this.strWithModelName_(" Inference absolute error",c)]=Math.abs(b[this.strWithModelName_(" Inference error",c)]),b[this.strWithModelName_(" Inference squared error",c)]=b[this.strWithModelName_(" Inference error",c)]*b[this.strWithModelName_(" Inference error",c)])},inferClicked_:function(){var a=this,b={inference_address:this.inferenceAddress,model_name:this.modelName,model_type:this.modelType,model_version:this.modelVersion,
model_signature:this.modelSignature,label_vocab_path:this.labelVocabPath,use_predict:this.usePredictApi,predict_output_tensor:this.predictOutputTensor,predict_input_tensor:this.predictInputTensor};this.$.spinner.hidden=!1;if(!this.local){var c=this.makeUrl_("/data/plugin/whatif/infer",b);this.makeAsyncRequest_(c,function(d){a.$.spinner.hidden=!0;a.labelVocab=JSON.parse(d.value.vocab);a.inferences=JSON.parse(d.value.inferences)},null)}this.fire("infer-examples",b)},exampleChange_:function(a){var b=
0==this.selected.length?0:this.selected[0];this.set("selectedExampleAndInference.changed",!0);this.updateExample_(JSON.stringify(a.target.json),b);this.$$("#"+this.getInferenceHolderId_()).inference=null;this.visdata[b]=this.exampleToDataPoint_(a.target.json,b);this.showNearestCounterfactual=!1;this.refreshDive_();this.updatedExample=!0;this.selectedDataUpdated_()},refreshDiveImpl_:function(){var a=this.visdata;this.visdata=[];this.visdata=a;this.selectedExampleMax=this.visdata.length-1;this.$.overview.protoInput=
this.$.overview.getStatsProto([{name:"",data:a}]);this.calculateDistanceStats_(this.$.overview.protoInput.toObject());a=this.$.dive.selectedData;this.$.dive.selectedData=[];this.$.dive.selectedData=a;this.updateSprite()},refreshDive_:function(){var a=this;this.debounce("refreshDiveDebounce",function(){return a.refreshDiveImpl_()},500)},calculateDistanceStats_:function(a){this.distanceStats_={};for(var b=0;b<a.datasetsList[0].featuresList.length;b++){var c=a.datasetsList[0].featuresList[b],d=c.name;
this.distanceStats_[d]={};if(c.numStats)this.distanceStats_[d].stdDev=c.numStats.stdDev;else{for(var e=0,f=c.stringStats.rankHistogram.bucketsList,g=0;g<f.length;g++){var h=f[g].sampleCount/c.stringStats.commonStats.numNonMissing;e+=h*h}this.distanceStats_[d].probSameValue=e}}},updateExample_:function(a,b){this.fire("update-example",{example:a,index:b});if(!this.local){var c=this.makeUrl_("/data/plugin/whatif/update_example",null);this.makeAsyncRequest_(c,null,{example:a,index:b})}},getInferenceHolderId_:function(){return"inference_"},
makeUrl_:function(a,b){b&&(a+="?"+Object.keys(b).map(function(c){return c+"\x3d"+encodeURIComponent(b[c])}).join("\x26"));return a},showToast_:function(a){var b=document.createElement("paper-toast");b.duration=1E4;document.body.appendChild(b);b.text=a;b.show();console.error(a)},makeAsyncRequest_:function(a,b,c,d){var e=this;d=void 0===d?function(){}:d;var f=this._canceller.cancellable(function(g){g.cancelled||(g.value&&g.value.error?(e.showToast_(g.value.error),e.$.spinner.hidden=!0,null!=d&&d()):
b&&b(g))});this._requestManager.request(a,c).then(f).catch(function(g){e.exampleStatusStr="Request failed";e.showToast_("Request failed: "+g);e.$.spinner.hidden=!0;null!=d&&d()})},dataPointValueFromFeature_:function(a,b){var c=null;a.int64List?c=a.int64List.value:a.floatList?c=a.floatList.value:a.bytesList&&a.bytesList.value&&(c=a.bytesList.value.map(function(d){if(1E5<d.length)return"ERROR: string not decoded due to length";try{return atob(d)}catch(e){return console.error("Error decoding string: "+
e),"ERROR: error decoding string"}}));return b&&c&&1==c.length?(a=c[0],isNaN(a)?a:Number(a)):c},exampleToDataPoint_:function(a,b){var c={},d=a.features||a.context,e=d&&"feature"in d?Object.keys(d.feature):[];for(k in e){var f=e[+k];if(f!=this.imageFeatureName){var g=this.dataPointValueFromFeature_(d.feature[f],!0);null!=g&&(c[f]=g)}}d="featureLists"in a?Object.keys(a.featureLists.featureList):[];for(var h in d){e=d[+h];var k=a.featureLists.featureList[e].feature;f=[];for(g=0;g<k.length;g++){var l=
this.dataPointValueFromFeature_(k[g],!1);l&&(f=f.concat(l))}c[e]=f}c[" Datapoint ID"]=b;return c},getExamplesAndCloseSettings_:function(){this.settingsClicked_();this.updateNumberOfModels();this.getExamples_()},showModelNumbers_:function(){return 1>=this.numModels},updateExampleContents:function(a,b){this.exampleStatusStr=a.length+" datapoints loaded";this.$.noexamples.style.display="none";this.$.spinner.hidden=!0;this.examplesAndInferences=a.map(function(d){return{example:JSON.parse(d),changed:!1,
orig:JSON.parse(d)}});this.updatedExample=!0;var c=this;this.visdata=this.examplesAndInferences.map(function(d,e){return c.exampleToDataPoint_(d.example,e)});this.$.dive.atlasUrl="";this.$.dive.imageFieldName="";this.hasSprite=b;this.refreshDive_();this.shouldDisableInferButton_(this.examplesAndInferences,this.modelName,this.inferenceAddress,this.updatedExample)||this.inferClicked_();this.setInferenceFromExampleData()},setInferenceFromExampleData:function(){if(0<this.visdata.length)if(null!=this.visdata[0].predictions__probabilities){var a=
{},b=Array.apply(null,{length:this.visdata.length}).map(Number.call,Number);a.indices=b;a.results=[{classificationResult:{classifications:[]}}];for(var c=0;c<b.length;c++)a.results[0].classificationResult.classifications[c]={classes:[{label:"0",score:this.visdata[c].predictions__probabilities[0]},{label:"1",score:this.visdata[c].predictions__probabilities[1]}]};this.inferences=a}else if(null!=this.visdata[0].predictions){a={};b=Array.apply(null,{length:this.visdata.length}).map(Number.call,Number);
a.indices=b;a.results=[{regressionResult:{regressions:[]}}];for(c=0;c<b.length;c++)a.results[0].regressionResult.regressions[c]={value:this.visdata[c].predictions};this.inferences=a}},getExamples_:function(){var a=this,b=this.makeUrl_("/data/plugin/whatif/examples_from_path",{examples_path:this.examplesPath,max_examples:this.maxExamples,sampling_odds:this.samplingOdds,sequence_examples:this.sequenceExamples});this.exampleStatusStr="Loading datapoints...";this.makeAsyncRequest_(b,function(c){a.updateExampleContents(c.value.examples,
c.value.sprite)},null);this.$.spinner.hidden=!1},updateSprite:function(){this.hasSprite&&(this.$.dive.atlasUrl=null,this.$.dive.atlasUrl=this.local?this.localAtlasUrl:this.makeUrl_("/data/plugin/whatif/sprite",{}))},selectedDataUpdated_:function(){this.selectedExampleNum=0<this.selected.length?this.selected[0]:"";this.visdata&&0<this.visdata.length&&(this.partialDepPlotPendingFeatures=[])},copyDatapoint_:function(){var a=this,b=JSON.stringify(this.selectedExampleAndInference.example);b={example:JSON.parse(b),
changed:!1,orig:JSON.parse(b)};this.examplesAndInferences.push(b);this.selectedExampleAndInference=b;this.visdata.push(this.exampleToDataPoint_(b.example,this.visdata.length));b=this.selected[0];this.showNearestCounterfactual=!1;this.selected[0]=this.visdata.length-1;this.selectedDataUpdated_();this.updatedExample=!0;this.fire("duplicate-example",{index:b});this.local?this.refreshDive_():(b=this.makeUrl_("/data/plugin/whatif/duplicate_example",{index:b}),this.makeAsyncRequest_(b,function(){a.refreshDive_()},
null))},deleteDatapointDialog_:function(){this.$.deletedialog.open()},deleteDatapoint_:function(){var a=this,b=this.selected[0];this.examplesAndInferences.splice(b,1);this.visdata.splice(b,1);for(var c=b;c<this.visdata.length;c++)this.visdata[c][" Datapoint ID"]=c;this.comparedIndices=[];this.selected=[];this.selectedDataUpdated_();this.fire("delete-example",{index:b});this.$.dive.selectedIndices=[];this.local?this.refreshDive_():(b=this.makeUrl_("/data/plugin/whatif/delete_example",{index:b}),this.makeAsyncRequest_(b,
function(){a.refreshDive_()},null))},shouldDisableReset_:function(a){return!a},resetDatapoint_:function(){var a=this;this.set("selectedExampleAndInference.example",{});requestAnimationFrame(function(){a.selectedExampleAndInference.changed=!1;var b=JSON.stringify(a.selectedExampleAndInference.orig);a.set("selectedExampleAndInference.example",JSON.parse(b));a.visdata[a.selected[0]]=a.exampleToDataPoint_(a.selectedExampleAndInference.example,a.selected[0]);a.updatedExample=!0;a.updateExample_(b,a.selected[0]);
a.refreshDive_()})},addChart:function(a,b,c){var d;"numeric"==a?d=this.makeLineChart(b,c):"categorical"==a?d=this.makeBarChart(b,c):console.error("Unknown chartType: "+a);a=this.featureContainerByName(b).querySelector(".tf-category-pane-content");Polymer.dom(a).appendChild(d);b=this.partialDepPlotPendingFeatures.indexOf(b);-1<b&&this.partialDepPlotPendingFeatures.splice(b,1)},getSimpleAxisFormatter:function(a){return Plottable.Formatters.general(a)},makeBarChart:function(a,b){var c=this,d="",e=b[0];
!this.globalPdPlots&&(a=this.createPdEntryForCurrentValue(a,e,0))&&(d=a.step);var f={},g={};_.forEach(b,function(l,n){_.forEach(l,function(p,q){g[c.formatChartKey(q,n,b.length)]=_.map(p,function(r){return{x:r.step==d?r.step+" - original value":r.step,y:r.scalar}}).sort(function(r,t){return t.y-r.y});c.isBinaryClassification_(c.modelType,c.multiClass)&&(f[c.formatChartKey(q,n,b.length)]=_.map(p,function(r){return{x:r.step==d?r.step+" - original value":r.step,scalar:r.scalar,y:c.overallThresholds[n].threshold}}).sort(function(r,
t){return t.scalar-r.scalar}))})});var h=Uf.multiscaleFormatter(Uf.Y_TOOLTIP_FORMATTER_PRECISION);e=[{title:"Inference value",evaluate:function(l){l=c.splitChartKey(l.key,b.length).label;if(!isNaN(l)&&0<l.length&&c.labelVocab){var n=+l;n<c.labelVocab.length&&0<=n&&(l+=" ("+c.labelVocab[n]+")")}return l}},{title:"Feature value",evaluate:function(l){return l.value.x}},{title:"Score",evaluate:function(l){return h(l.value.y)}}];2<=b.length&&e.push({title:"Model",evaluate:function(l){return c.splitChartKey(l.key,
b.length).model}});a=document.createElement("div");a.classList.add("pd-holder");var k=document.createElement("vz-bar-chart");k.colorScale=(new Plottable.Scales.Color).range(this.pdPlotColors);k.linesColorScale=(new Plottable.Scales.Color).range(this.pdPlotTransparentColors);k.data=g;k.lines=f;k.tooltipColumns=e;a.appendChild(k);e=document.createElement("div");e.classList.add("pd-y-label");e.innerText=this.isRegression_(this.modelType)?"Inference value":"Inference score";a.appendChild(e);return a},
splitChartKey:function(a,b){var c=a,d="";2<=b&&(b=a.indexOf("(model"),c=a.substring(0,b),d=a.substring(b+7,a.lastIndexOf(")")));return{label:c,model:d}},formatChartKey:function(a,b,c){return 1==c?a:a+" (model "+this.getModelName_(b)+")"},makeLineChart:function(a,b){function c(t){return Number.isNaN(t)?"NaN":k(t)}var d=this,e=document.createElement("div");e.classList.add("pd-holder");var f=document.createElement("vz-line-chart"),g=[],h=[],k=Uf.multiscaleFormatter(Uf.Y_TOOLTIP_FORMATTER_PRECISION);
"classification"==this.modelType&&(f.defaultYRange=[0,1]);var l=[{title:"Inference value",evaluate:function(t){t=d.splitChartKey(t.dataset.metadata().name,b.length).label;if(!isNaN(t)&&0<t.length&&d.labelVocab){var v=+t;v<d.labelVocab.length&&0<=v&&(t+=" ("+d.labelVocab[v]+")")}return t}},{title:"Feature value",evaluate:function(t){return c(t.datum.step)}},{title:"Score",evaluate:function(t){return c(t.datum.scalar)}}];2<=b.length&&l.push({title:"Model",evaluate:function(t){return d.splitChartKey(t.dataset.metadata().name,
b.length).model}});f.tooltipColumns=l;var n=[],p=0;for(l={$jscomp$loop$prop$modelInd$48:0};l.$jscomp$loop$prop$modelInd$48<b.length;l={$jscomp$loop$prop$modelInd$48:l.$jscomp$loop$prop$modelInd$48,$jscomp$loop$prop$modelData$47:l.$jscomp$loop$prop$modelData$47},l.$jscomp$loop$prop$modelInd$48++){l.$jscomp$loop$prop$modelData$47=b[l.$jscomp$loop$prop$modelInd$48];var q=_.keys(l.$jscomp$loop$prop$modelData$47);p=l.$jscomp$loop$prop$modelInd$48*q.length;q.forEach(function(t){return function(v){g.push(d.pdPlotColors[p++]);
var u=d.formatChartKey(v,t.$jscomp$loop$prop$modelInd$48,b.length);f.setSeriesData(u,t.$jscomp$loop$prop$modelData$47[v]);n.push(u)}}(l));p=l.$jscomp$loop$prop$modelInd$48*q.length;if(!this.globalPdPlots&&(q=this.createPdEntryForCurrentValue(a,l.$jscomp$loop$prop$modelData$47,l.$jscomp$loop$prop$modelInd$48))){var r=this.formatChartKey(_.keys(l.$jscomp$loop$prop$modelData$47)[0]+" - original value ",l.$jscomp$loop$prop$modelInd$48,b.length);f.setSeriesData(r,[q]);n.push(r);g.push(this.pdPlotColors[p].brighter())}this.isBinaryClassification_(this.modelType,
this.multiClass)&&(q=this.formatChartKey("classification threshold",l.$jscomp$loop$prop$modelInd$48,b.length),r=b[0][_.keys(b[0])].map(function(t){return function(v){return{step:v.step,scalar:d.overallThresholds[t.$jscomp$loop$prop$modelInd$48].threshold}}}(l)),g.push(this.pdPlotTransparentColors[p]),f.setSeriesData(q,r),h.push(q),n.push(q))}f.colorScale=(new Plottable.Scales.Color).range(g);f.xAxisFormatter=this.getSimpleAxisFormatter(this.axisPrecision);f.yAxisFormatter=this.getSimpleAxisFormatter(this.axisPrecision);
f.seriesWithoutTooltips=h;f.colorScale.domain(n);f.setVisibleSeries(n);e.appendChild(f);h=document.createElement("div");h.classList.add("pd-y-label");h.innerText=this.isRegression_(this.modelType)?"Inference value":"Inference score";e.appendChild(h);h=document.createElement("div");h.classList.add("pd-x-label");h.innerText=a;e.appendChild(h);return e},createPdEntryForCurrentValue:function(a,b,c){var d=_.keys(b)[0],e=d.indexOf("index");b=+d;var f=0;-1<e&&(b=+d.substring(0,d.indexOf(" ")),f=+d.substring(e+
6,d.indexOf(")")));a=this.visdata[this.selected[0]][a];Array.isArray(a)&&(a=a[f]);c=this.selectedExampleAndInference.inferences[this.selectedExampleAndInference.inferences.length-1][c];f=-1;for(d=0;d<c.length;d++)if(c[d].label==b.toString()||""==c[d].label){f=c[d].score;break}return-1==f?null:{step:a,scalar:f}},showToast:function(a){var b=document.createElement("paper-toast");document.body.appendChild(b);b.text=a;b.show();console.error(a)},deletePdPlotSpinner:function(a){(a=this.featureContainerByName(a).querySelector("paper-spinner-lite"))&&
a.parentElement&&a.parentElement.removeChild(a)},makeChartForFeature:function(a,b,c){var d=this;this.deletePdPlotSpinner(b);c.forEach(function(e){return d.addChart(a,b,e)})},getInferenceVisualization:function(a,b){var c=this,d=this.getUniqueByEvent(b,".x-min").value,e=this.getUniqueByEvent(b,".x-max").value;b=this.getUniqueByEvent(b,".feature-index-pattern").value;d={feature_name:a,inference_address:this.inferenceAddress,model_name:this.modelName,model_type:this.modelType,model_version:this.modelVersion,
model_signature:this.modelSignature,x_min:d,x_max:e,feature_index_pattern:b,example_index:this.globalPdPlots?-1:this.selected[0],use_predict:this.usePredictApi,predict_output_tensor:this.predictOutputTensor,predict_input_tensor:this.predictInputTensor};this.local?this.fire("infer-mutants",d):(d=Of.addParams("/data/plugin/whatif/infer_mutants",d),this.makeAsyncRequest_(d,function(f){return c.makeChartForFeature(f.value.chartType,a,f.value.data)}.bind(this),null,function(){return c.handleChartErrorForFeature(a)}.bind(this)));
d=this.featureContainerByName(a).querySelector(".tf-category-pane-content");e=document.createElement("paper-spinner-lite");e.setAttribute("active",!0);Polymer.dom(d).appendChild(e)},handleChartErrorForFeature:function(a){var b=this.partialDepPlotPendingFeatures.indexOf(a);-1<b&&this.partialDepPlotPendingFeatures.splice(b,1);this.deletePdPlotSpinner(a)},shouldHideFeatureIndicesSelector:function(a,b){return!b||0==b.length||!this.visdata||this.visdata.length<=b[0]?!0:!Array.isArray(this.visdata[b[0]][a])},
shouldHidePdInputContainer:function(a,b,c){return this.shouldHideFeatureIndicesSelector(b,c)&&a?!0:!1},featureContainerByName:function(a){return this.$$('[data-feature-name\x3d"'+a+'"]')},featureContainerByEvent:function(a){for(a=a.target;!a.classList.contains("feature-container");)a=a.parentNode;return a},getUniqueByEvent:function(a,b){return this.featureContainerByEvent(a).querySelector(b)},partialDepPlotEligibleFeaturesSet:function(a){var b=this;a&&0!=a.length&&setTimeout(function(){b.$$(".pd-entry-container").hidden&&
b.$$(".tf-category-pane").click()},100)},categoryPaneClicked:function(a){var b=this.featureContainerByEvent(a);b.querySelector(".pd-entry-container").hasAttribute("hidden")?(this.drawPdCharts_(a),this.showPdElement_(b)):this.hidePdElement_(b)},drawPdCharts_:function(a){var b=a.model.get("item").name;-1<this.partialDepPlotPendingFeatures.indexOf(b)||(this.partialDepPlotPendingFeatures.push(b),this.getInferenceVisualization(b,a))},clearPdElementCharts_:function(a){a.querySelectorAll(".pd-holder").forEach(function(b){b&&
b.parentElement&&b.parentElement.removeChild(b)})},hidePdElement_:function(a){var b=a.querySelector(".pd-entry-container");this.clearPdElementCharts_(b);b.setAttribute("hidden",!0);b=a.querySelector(".pd-row-arrow");b.classList.remove("normal-icon");b.classList.add("rotated-icon");a=a.querySelector(".perf-table-entry");a.classList.add("perf-table-row");a.classList.remove("perf-table-row-expanded")},showPdElement_:function(a){a.querySelector(".pd-entry-container").removeAttribute("hidden");var b=a.querySelector(".pd-row-arrow");
b.classList.add("normal-icon");b.classList.remove("rotated-icon");a=a.querySelector(".perf-table-entry");a.classList.remove("perf-table-row");a.classList.add("perf-table-row-expanded")},hideAllPdElements_:function(){for(var a=Polymer.dom(this.root).querySelectorAll(".feature-container"),b=0;b<a.length;b++)this.hidePdElement_(a[b])},pdInputChanged:function(a){var b=this;this.debounce("pdInputChangedDebounce",function(){return b.pdInputChangedImpl(a)},500)},pdInputChangedImpl:function(a){var b=this.getUniqueByEvent(a,
".tf-category-pane-content");this.clearPdElementCharts_(b);this.drawPdCharts_(a)},populatePdTabs:function(){var a=this;this.hideAllPdElements_();if(this.local)this.fire("get-eligible-features");else{var b=Of.addParams("/data/plugin/whatif/eligible_features",{});this.makeAsyncRequest_(b,function(c){a.set("partialDepPlotEligibleFeatures",c.value)},null)}},toggleTrueLabelSetup:function(){this.$.collapsetruelabel.toggle()},toggleExplorerSetup:function(){this.$$("#collapseexplorer").toggle()},toggleContextTools:function(){this.$.collapsecontexttools.toggle()},
togglePerformance:function(){this.$.collapseperformance.toggle()},toggleInferenceResults:function(){this.$$("#collapseinference").toggle()},getExpandCollapseIcon:function(a){return a?"expand-less":"expand-more"},getExpandCollapsePerfIconClass:function(a){return a?"normal-icon":"rotated-icon"},getPerfTableRowClass:function(a){return a?"perf-table-row-expanded":"perf-table-row"},getPerfTableModelClass:function(a){return 2>a?"perf-table-model-single":"perf-table-model"},getDatapointEditorTitle:function(a,
b){return this.getSectionTitle("Edit",a,b)},getInferTitle:function(a,b){return this.getSectionTitle("Infer",a,b)},getSectionTitle:function(a,b,c){null!=b&&""!==b&&(a=null!=c&&0<c.length?a+(" - Datapoints "+b+" and "+c[0]):a+(" - Datapoint "+b));return a},togglePerfRow:function(a){var b=this;for(a=a.target;null!=a&&!a.dataset.index;)a=a.parentNode;null!=a&&(a=a.dataset.index,this.set("featureValueThresholds."+a+".opened",!this.featureValueThresholds[a].opened),this.featureValueThresholds[a].opened&&
requestAnimationFrame(function(){return b.updateInferenceStats_(!0)}))},getPerformanceTabTitle:function(a,b){return this.isBinaryClassification_(a,b)?"Performance \x26 Fairness":"Performance"},getPerfTableTitle:function(a,b,c,d){var e=this.getPrintableOptimizationName(c);if(null==a||0==a.length)return"custom"==c?"Explore overall performance":e;null!=b&&0!=b.length&&(a+="/"+b);return e+" for "+d.length+" values of "+a},getNoThresholdPerfTableTitle:function(a,b,c){if(null==a||0==a.length)return"Explore overall performance";
null!=b&&0!=b.length&&(a+="/"+b);return a+" ("+c.length+" values)"},getPrintableOptimizationName:function(a){return"custom"==a?"Custom thresholds":"unaware"==a?"Optimal single threshold":"demoparity"==a?"Demographic parity thresholds":"equalopp"==a?"Equal opportunity thresholds":"equalacc"==a?"Equal accuracy thresholds":"Optimal group thresholds"},getFeatureSortBy:function(a,b){var c=["Count","Alphabetical"];return c=this.isBinaryClassification_(a,b)?c.concat(["Accuracy","False positives","False negatives"]):
this.isMultiClass_(a,b)?c.concat(["Accuracy"]):c.concat(["Mean error","Mean absolute error","Mean squared error"])},selectedFeatureSortChanged_:function(){var a=this.featureValueThresholds;this.featureValueThresholds=[];this.featureValueThresholds=this.sortFeatureValues(a);null!=this.regressionEntries_&&(a=this.regressionEntries_,this.regressionEntries_=[],this.regressionEntries_=this.sortRegressionEntries(a))},getSliderClass:function(a){return"slider "+(0==a?"slider-model-one":"slider-model-two")},
formatError:function(a){return d3.format(".3f")(a)},expandAllPerformance:function(){var a=this;if(null!=this.featureValueThresholds){for(var b=0;b<this.featureValueThresholds.length;b++)this.set("featureValueThresholds."+b+".opened",!0);requestAnimationFrame(function(){return a.updateInferenceStats_(!0)})}},collapseAllPerformance:function(){if(null!=this.featureValueThresholds)for(var a=0;a<this.featureValueThresholds.length;a++)this.set("featureValueThresholds."+a+".opened",!1)}});Sf.registerDashboard();</script>
</dom-module>

